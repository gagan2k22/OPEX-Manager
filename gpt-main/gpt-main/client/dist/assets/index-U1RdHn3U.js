import{j as r,B as ie,P as nt,T as pe,a as xe,R as wC,H as Mw,F as Ew,S as Jb,I as $l,M as Dw,L as Tw,b as Iw,d as _e,e as Fw,u as SC,f as Aw,A as zw,g as Ow,h as ji,i as Cn,k as kw,l as Hw,m as ex,n as Ve,o as tx,p as fh,q as Pw,s as hh,D as Ah,t as Rw,v as Nw,w as gh,x as jC,y as nx,z as zh,C as Br,E as Bn,G as Gw,J as _r,K as Vr,N as cn,O as wt,Q as mh,U as lx,V as io,W as MC,X as Lw,_ as w,Y as Ee,Z as zn,$ as Ut,a0 as Ke,a1 as EC,a2 as Xr,a3 as Ot,a4 as Oh,c as lt,a5 as DC,a6 as Bw,a7 as kh,a8 as co,a9 as wu,aa as Po,ab as _w,ac as Vw,ad as Nt,ae as Tt,af as TC,ag as $r,ah as Qa,ai as hr,aj as Uw,ak as $w,al as Ww,am as ox,an as qw,ao as kt,ap as gr,aq as Yw,ar as bi,as as Zs,at as Kw,au as Hh,av as Xw,aw as rx,ax as Qw,ay as Gt,az as xi,aA as fr,aB as IC,aC as $a,aD as Wa,aE as Ph,aF as Zw,aG as Jw,aH as ee,aI as Dn,aJ as Tn,aK as eS,aL as In,aM as tS,aN as Wf,aO as qf,aP as ph,aQ as Rn,aR as Nn,aS as Gn,aT as it,aU as ue,aV as Ln,aW as gi,aX as Rh,aY as FC,aZ as Fn,a_ as nS,a$ as ax,b0 as xr,b1 as AC,b2 as Xn,b3 as Mi,b4 as Su,b5 as Nh,b6 as Jn,b7 as lS,b8 as oS,b9 as bh,ba as rS,bb as aS,bc as xh,bd as zC,be as oo,bf as Zc,bg as sS,bh as iS,bi as OC,bj as kC}from"./ui-BfKhzYHE.js";import{d as HC,e as cS,g as PC,r as h,u as Ei,f as uS,a as Gh,O as dS,c as fS,h as RC,B as hS,i as gS,j as Hn,N as mS}from"./vendor-1L_52EHP.js";import{a as Wr,u as un,w as Za}from"./utils-oHQWwQ1d.js";import{R as ii,B as Ch,C as tu,X as nu,Y as lu,T as ci,L as ou,a as mi,P as pS,b as bS,c as xS,d as CS,e as yS,r as vS,f as wS,l as NC,g as SS,h as jS}from"./charts-SUULLUfQ.js";(function(){const l=document.createElement("link").relList;if(l&&l.supports&&l.supports("modulepreload"))return;for(const c of document.querySelectorAll('link[rel="modulepreload"]'))i(c);new MutationObserver(c=>{for(const d of c)if(d.type==="childList")for(const g of d.addedNodes)g.tagName==="LINK"&&g.rel==="modulepreload"&&i(g)}).observe(document,{childList:!0,subtree:!0});function s(c){const d={};return c.integrity&&(d.integrity=c.integrity),c.referrerPolicy&&(d.referrerPolicy=c.referrerPolicy),c.crossOrigin==="use-credentials"?d.credentials="include":c.crossOrigin==="anonymous"?d.credentials="omit":d.credentials="same-origin",d}function i(c){if(c.ep)return;c.ep=!0;const d=s(c);fetch(c.href,d)}})();var Yf={exports:{}},Js={},Kf={exports:{}},Xf={};var sx;function MS(){return sx||(sx=1,(function(t){function l(S,M){var L=S.length;S.push(M);e:for(;0<L;){var q=L-1>>>1,Y=S[q];if(0<c(Y,M))S[q]=M,S[L]=Y,L=q;else break e}}function s(S){return S.length===0?null:S[0]}function i(S){if(S.length===0)return null;var M=S[0],L=S.pop();if(L!==M){S[0]=L;e:for(var q=0,Y=S.length,W=Y>>>1;q<W;){var Q=2*(q+1)-1,le=S[Q],re=Q+1,me=S[re];if(0>c(le,L))re<Y&&0>c(me,le)?(S[q]=me,S[re]=L,q=re):(S[q]=le,S[Q]=L,q=Q);else if(re<Y&&0>c(me,L))S[q]=me,S[re]=L,q=re;else break e}}return M}function c(S,M){var L=S.sortIndex-M.sortIndex;return L!==0?L:S.id-M.id}if(t.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var d=performance;t.unstable_now=function(){return d.now()}}else{var g=Date,p=g.now();t.unstable_now=function(){return g.now()-p}}var m=[],x=[],b=1,C=null,v=3,D=!1,j=!1,F=!1,I=!1,k=typeof setTimeout=="function"?setTimeout:null,T=typeof clearTimeout=="function"?clearTimeout:null,z=typeof setImmediate<"u"?setImmediate:null;function V(S){for(var M=s(x);M!==null;){if(M.callback===null)i(x);else if(M.startTime<=S)i(x),M.sortIndex=M.expirationTime,l(m,M);else break;M=s(x)}}function R(S){if(F=!1,V(S),!j)if(s(m)!==null)j=!0,$||($=!0,N());else{var M=s(x);M!==null&&G(R,M.startTime-S)}}var $=!1,_=-1,U=5,A=-1;function E(){return I?!0:!(t.unstable_now()-A<U)}function B(){if(I=!1,$){var S=t.unstable_now();A=S;var M=!0;try{e:{j=!1,F&&(F=!1,T(_),_=-1),D=!0;var L=v;try{t:{for(V(S),C=s(m);C!==null&&!(C.expirationTime>S&&E());){var q=C.callback;if(typeof q=="function"){C.callback=null,v=C.priorityLevel;var Y=q(C.expirationTime<=S);if(S=t.unstable_now(),typeof Y=="function"){C.callback=Y,V(S),M=!0;break t}C===s(m)&&i(m),V(S)}else i(m);C=s(m)}if(C!==null)M=!0;else{var W=s(x);W!==null&&G(R,W.startTime-S),M=!1}}break e}finally{C=null,v=L,D=!1}M=void 0}}finally{M?N():$=!1}}}var N;if(typeof z=="function")N=function(){z(B)};else if(typeof MessageChannel<"u"){var O=new MessageChannel,K=O.port2;O.port1.onmessage=B,N=function(){K.postMessage(null)}}else N=function(){k(B,0)};function G(S,M){_=k(function(){S(t.unstable_now())},M)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(S){S.callback=null},t.unstable_forceFrameRate=function(S){0>S||125<S?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):U=0<S?Math.floor(1e3/S):5},t.unstable_getCurrentPriorityLevel=function(){return v},t.unstable_next=function(S){switch(v){case 1:case 2:case 3:var M=3;break;default:M=v}var L=v;v=M;try{return S()}finally{v=L}},t.unstable_requestPaint=function(){I=!0},t.unstable_runWithPriority=function(S,M){switch(S){case 1:case 2:case 3:case 4:case 5:break;default:S=3}var L=v;v=S;try{return M()}finally{v=L}},t.unstable_scheduleCallback=function(S,M,L){var q=t.unstable_now();switch(typeof L=="object"&&L!==null?(L=L.delay,L=typeof L=="number"&&0<L?q+L:q):L=q,S){case 1:var Y=-1;break;case 2:Y=250;break;case 5:Y=1073741823;break;case 4:Y=1e4;break;default:Y=5e3}return Y=L+Y,S={id:b++,callback:M,priorityLevel:S,startTime:L,expirationTime:Y,sortIndex:-1},L>q?(S.sortIndex=L,l(x,S),s(m)===null&&S===s(x)&&(F?(T(_),_=-1):F=!0,G(R,L-q))):(S.sortIndex=Y,l(m,S),j||D||(j=!0,$||($=!0,N()))),S},t.unstable_shouldYield=E,t.unstable_wrapCallback=function(S){var M=v;return function(){var L=v;v=M;try{return S.apply(this,arguments)}finally{v=L}}}})(Xf)),Xf}var ix;function ES(){return ix||(ix=1,Kf.exports=MS()),Kf.exports}var cx;function DS(){if(cx)return Js;cx=1;var t=ES(),l=HC(),s=cS();function i(e){var n="https://react.dev/errors/"+e;if(1<arguments.length){n+="?args[]="+encodeURIComponent(arguments[1]);for(var o=2;o<arguments.length;o++)n+="&args[]="+encodeURIComponent(arguments[o])}return"Minified React error #"+e+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function c(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function d(e){var n=e,o=e;if(e.alternate)for(;n.return;)n=n.return;else{e=n;do n=e,(n.flags&4098)!==0&&(o=n.return),e=n.return;while(e)}return n.tag===3?o:null}function g(e){if(e.tag===13){var n=e.memoizedState;if(n===null&&(e=e.alternate,e!==null&&(n=e.memoizedState)),n!==null)return n.dehydrated}return null}function p(e){if(e.tag===31){var n=e.memoizedState;if(n===null&&(e=e.alternate,e!==null&&(n=e.memoizedState)),n!==null)return n.dehydrated}return null}function m(e){if(d(e)!==e)throw Error(i(188))}function x(e){var n=e.alternate;if(!n){if(n=d(e),n===null)throw Error(i(188));return n!==e?null:e}for(var o=e,a=n;;){var u=o.return;if(u===null)break;var f=u.alternate;if(f===null){if(a=u.return,a!==null){o=a;continue}break}if(u.child===f.child){for(f=u.child;f;){if(f===o)return m(u),e;if(f===a)return m(u),n;f=f.sibling}throw Error(i(188))}if(o.return!==a.return)o=u,a=f;else{for(var y=!1,H=u.child;H;){if(H===o){y=!0,o=u,a=f;break}if(H===a){y=!0,a=u,o=f;break}H=H.sibling}if(!y){for(H=f.child;H;){if(H===o){y=!0,o=f,a=u;break}if(H===a){y=!0,a=f,o=u;break}H=H.sibling}if(!y)throw Error(i(189))}}if(o.alternate!==a)throw Error(i(190))}if(o.tag!==3)throw Error(i(188));return o.stateNode.current===o?e:n}function b(e){var n=e.tag;if(n===5||n===26||n===27||n===6)return e;for(e=e.child;e!==null;){if(n=b(e),n!==null)return n;e=e.sibling}return null}var C=Object.assign,v=Symbol.for("react.element"),D=Symbol.for("react.transitional.element"),j=Symbol.for("react.portal"),F=Symbol.for("react.fragment"),I=Symbol.for("react.strict_mode"),k=Symbol.for("react.profiler"),T=Symbol.for("react.consumer"),z=Symbol.for("react.context"),V=Symbol.for("react.forward_ref"),R=Symbol.for("react.suspense"),$=Symbol.for("react.suspense_list"),_=Symbol.for("react.memo"),U=Symbol.for("react.lazy"),A=Symbol.for("react.activity"),E=Symbol.for("react.memo_cache_sentinel"),B=Symbol.iterator;function N(e){return e===null||typeof e!="object"?null:(e=B&&e[B]||e["@@iterator"],typeof e=="function"?e:null)}var O=Symbol.for("react.client.reference");function K(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===O?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case F:return"Fragment";case k:return"Profiler";case I:return"StrictMode";case R:return"Suspense";case $:return"SuspenseList";case A:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case j:return"Portal";case z:return e.displayName||"Context";case T:return(e._context.displayName||"Context")+".Consumer";case V:var n=e.render;return e=e.displayName,e||(e=n.displayName||n.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case _:return n=e.displayName||null,n!==null?n:K(e.type)||"Memo";case U:n=e._payload,e=e._init;try{return K(e(n))}catch{}}return null}var G=Array.isArray,S=l.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,M=s.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,L={pending:!1,data:null,method:null,action:null},q=[],Y=-1;function W(e){return{current:e}}function Q(e){0>Y||(e.current=q[Y],q[Y]=null,Y--)}function le(e,n){Y++,q[Y]=e.current,e.current=n}var re=W(null),me=W(null),ce=W(null),ve=W(null);function Te(e,n){switch(le(ce,n),le(me,e),le(re,null),n.nodeType){case 9:case 11:e=(e=n.documentElement)&&(e=e.namespaceURI)?wb(e):0;break;default:if(e=n.tagName,n=n.namespaceURI)n=wb(n),e=Sb(n,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}Q(re),le(re,e)}function Se(){Q(re),Q(me),Q(ce)}function Ae(e){e.memoizedState!==null&&le(ve,e);var n=re.current,o=Sb(n,e.type);n!==o&&(le(me,e),le(re,o))}function Ne(e){me.current===e&&(Q(re),Q(me)),ve.current===e&&(Q(ve),Ys._currentValue=L)}var be,Me;function ze(e){if(be===void 0)try{throw Error()}catch(o){var n=o.stack.trim().match(/\n( *(at )?)/);be=n&&n[1]||"",Me=-1<o.stack.indexOf(`
    at`)?" (<anonymous>)":-1<o.stack.indexOf("@")?"@unknown:0:0":""}return`
`+be+e+Me}var Ce=!1;function $e(e,n){if(!e||Ce)return"";Ce=!0;var o=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var a={DetermineComponentFrameRoot:function(){try{if(n){var ge=function(){throw Error()};if(Object.defineProperty(ge.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(ge,[])}catch(se){var ae=se}Reflect.construct(e,[],ge)}else{try{ge.call()}catch(se){ae=se}e.call(ge.prototype)}}else{try{throw Error()}catch(se){ae=se}(ge=e())&&typeof ge.catch=="function"&&ge.catch(function(){})}}catch(se){if(se&&ae&&typeof se.stack=="string")return[se.stack,ae.stack]}return[null,null]}};a.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var u=Object.getOwnPropertyDescriptor(a.DetermineComponentFrameRoot,"name");u&&u.configurable&&Object.defineProperty(a.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var f=a.DetermineComponentFrameRoot(),y=f[0],H=f[1];if(y&&H){var X=y.split(`
`),oe=H.split(`
`);for(u=a=0;a<X.length&&!X[a].includes("DetermineComponentFrameRoot");)a++;for(;u<oe.length&&!oe[u].includes("DetermineComponentFrameRoot");)u++;if(a===X.length||u===oe.length)for(a=X.length-1,u=oe.length-1;1<=a&&0<=u&&X[a]!==oe[u];)u--;for(;1<=a&&0<=u;a--,u--)if(X[a]!==oe[u]){if(a!==1||u!==1)do if(a--,u--,0>u||X[a]!==oe[u]){var de=`
`+X[a].replace(" at new "," at ");return e.displayName&&de.includes("<anonymous>")&&(de=de.replace("<anonymous>",e.displayName)),de}while(1<=a&&0<=u);break}}}finally{Ce=!1,Error.prepareStackTrace=o}return(o=e?e.displayName||e.name:"")?ze(o):""}function Be(e,n){switch(e.tag){case 26:case 27:case 5:return ze(e.type);case 16:return ze("Lazy");case 13:return e.child!==n&&n!==null?ze("Suspense Fallback"):ze("Suspense");case 19:return ze("SuspenseList");case 0:case 15:return $e(e.type,!1);case 11:return $e(e.type.render,!1);case 1:return $e(e.type,!0);case 31:return ze("Activity");default:return""}}function Ge(e){try{var n="",o=null;do n+=Be(e,o),o=e,e=e.return;while(e);return n}catch(a){return`
Error generating stack: `+a.message+`
`+a.stack}}var It=Object.prototype.hasOwnProperty,St=t.unstable_scheduleCallback,jt=t.unstable_cancelCallback,ut=t.unstable_shouldYield,Mt=t.unstable_requestPaint,tt=t.unstable_now,gt=t.unstable_getCurrentPriorityLevel,mt=t.unstable_ImmediatePriority,Ht=t.unstable_UserBlockingPriority,Fe=t.unstable_NormalPriority,Ze=t.unstable_LowPriority,Le=t.unstable_IdlePriority,We=t.log,pt=t.unstable_setDisableYieldValue,bt=null,vt=null;function yn(e){if(typeof We=="function"&&pt(e),vt&&typeof vt.setStrictMode=="function")try{vt.setStrictMode(bt,e)}catch{}}var nn=Math.clz32?Math.clz32:ho,Ol=Math.log,_n=Math.LN2;function ho(e){return e>>>=0,e===0?32:31-(Ol(e)/_n|0)|0}var Xl=256,Ql=262144,kl=4194304;function On(e){var n=e&42;if(n!==0)return n;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return e&261888;case 262144:case 524288:case 1048576:case 2097152:return e&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function go(e,n,o){var a=e.pendingLanes;if(a===0)return 0;var u=0,f=e.suspendedLanes,y=e.pingedLanes;e=e.warmLanes;var H=a&134217727;return H!==0?(a=H&~f,a!==0?u=On(a):(y&=H,y!==0?u=On(y):o||(o=H&~e,o!==0&&(u=On(o))))):(H=a&~f,H!==0?u=On(H):y!==0?u=On(y):o||(o=a&~e,o!==0&&(u=On(o)))),u===0?0:n!==0&&n!==u&&(n&f)===0&&(f=u&-u,o=n&-n,f>=o||f===32&&(o&4194048)!==0)?n:u}function Hl(e,n){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&n)===0}function mo(e,n){switch(e){case 1:case 2:case 4:case 8:case 64:return n+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function vr(){var e=kl;return kl<<=1,(kl&62914560)===0&&(kl=4194304),e}function is(e){for(var n=[],o=0;31>o;o++)n.push(e);return n}function wr(e,n){e.pendingLanes|=n,n!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function Pu(e,n,o,a,u,f){var y=e.pendingLanes;e.pendingLanes=o,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=o,e.entangledLanes&=o,e.errorRecoveryDisabledLanes&=o,e.shellSuspendCounter=0;var H=e.entanglements,X=e.expirationTimes,oe=e.hiddenUpdates;for(o=y&~o;0<o;){var de=31-nn(o),ge=1<<de;H[de]=0,X[de]=-1;var ae=oe[de];if(ae!==null)for(oe[de]=null,de=0;de<ae.length;de++){var se=ae[de];se!==null&&(se.lane&=-536870913)}o&=~ge}a!==0&&Pi(e,a,0),f!==0&&u===0&&e.tag!==0&&(e.suspendedLanes|=f&~(y&~n))}function Pi(e,n,o){e.pendingLanes|=n,e.suspendedLanes&=~n;var a=31-nn(n);e.entangledLanes|=n,e.entanglements[a]=e.entanglements[a]|1073741824|o&261930}function Ri(e,n){var o=e.entangledLanes|=n;for(e=e.entanglements;o;){var a=31-nn(o),u=1<<a;u&n|e[a]&n&&(e[a]|=n),o&=~u}}function Sr(e,n){var o=n&-n;return o=(o&42)!==0?1:nl(o),(o&(e.suspendedLanes|n))!==0?0:o}function nl(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function Go(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function cs(){var e=M.p;return e!==0?e:(e=window.event,e===void 0?32:Wb(e.type))}function Ni(e,n){var o=M.p;try{return M.p=e,n()}finally{M.p=o}}var Zl=Math.random().toString(36).slice(2),dn="__reactFiber$"+Zl,En="__reactProps$"+Zl,Vn="__reactContainer$"+Zl,hl="__reactEvents$"+Zl,Ru="__reactListeners$"+Zl,Zt="__reactHandles$"+Zl,Gi="__reactResources$"+Zl,Z="__reactMarker$"+Zl;function Oe(e){delete e[dn],delete e[En],delete e[hl],delete e[Ru],delete e[Zt]}function Lt(e){var n=e[dn];if(n)return n;for(var o=e.parentNode;o;){if(n=o[Vn]||o[dn]){if(o=n.alternate,n.child!==null||o!==null&&o.child!==null)for(e=Fb(e);e!==null;){if(o=e[dn])return o;e=Fb(e)}return n}e=o,o=e.parentNode}return null}function Wt(e){if(e=e[dn]||e[Vn]){var n=e.tag;if(n===5||n===6||n===13||n===31||n===26||n===27||n===3)return e}return null}function Pl(e){var n=e.tag;if(n===5||n===26||n===27||n===6)return e.stateNode;throw Error(i(33))}function Rl(e){var n=e[Gi];return n||(n=e[Gi]={hoistableStyles:new Map,hoistableScripts:new Map}),n}function Yt(e){e[Z]=!0}var us=new Set,Jr={};function qe(e,n){ea(e,n),ea(e+"Capture",n)}function ea(e,n){for(Jr[e]=n,e=0;e<n.length;e++)us.add(n[e])}var py=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),fg={},hg={};function by(e){return It.call(hg,e)?!0:It.call(fg,e)?!1:py.test(e)?hg[e]=!0:(fg[e]=!0,!1)}function Li(e,n,o){if(by(n))if(o===null)e.removeAttribute(n);else{switch(typeof o){case"undefined":case"function":case"symbol":e.removeAttribute(n);return;case"boolean":var a=n.toLowerCase().slice(0,5);if(a!=="data-"&&a!=="aria-"){e.removeAttribute(n);return}}e.setAttribute(n,""+o)}}function Bi(e,n,o){if(o===null)e.removeAttribute(n);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(n);return}e.setAttribute(n,""+o)}}function po(e,n,o,a){if(a===null)e.removeAttribute(o);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(o);return}e.setAttributeNS(n,o,""+a)}}function gl(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function gg(e){var n=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function xy(e,n,o){var a=Object.getOwnPropertyDescriptor(e.constructor.prototype,n);if(!e.hasOwnProperty(n)&&typeof a<"u"&&typeof a.get=="function"&&typeof a.set=="function"){var u=a.get,f=a.set;return Object.defineProperty(e,n,{configurable:!0,get:function(){return u.call(this)},set:function(y){o=""+y,f.call(this,y)}}),Object.defineProperty(e,n,{enumerable:a.enumerable}),{getValue:function(){return o},setValue:function(y){o=""+y},stopTracking:function(){e._valueTracker=null,delete e[n]}}}}function Nu(e){if(!e._valueTracker){var n=gg(e)?"checked":"value";e._valueTracker=xy(e,n,""+e[n])}}function mg(e){if(!e)return!1;var n=e._valueTracker;if(!n)return!0;var o=n.getValue(),a="";return e&&(a=gg(e)?e.checked?"true":"false":e.value),e=a,e!==o?(n.setValue(e),!0):!1}function _i(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var Cy=/[\n"\\]/g;function ml(e){return e.replace(Cy,function(n){return"\\"+n.charCodeAt(0).toString(16)+" "})}function Gu(e,n,o,a,u,f,y,H){e.name="",y!=null&&typeof y!="function"&&typeof y!="symbol"&&typeof y!="boolean"?e.type=y:e.removeAttribute("type"),n!=null?y==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+gl(n)):e.value!==""+gl(n)&&(e.value=""+gl(n)):y!=="submit"&&y!=="reset"||e.removeAttribute("value"),n!=null?Lu(e,y,gl(n)):o!=null?Lu(e,y,gl(o)):a!=null&&e.removeAttribute("value"),u==null&&f!=null&&(e.defaultChecked=!!f),u!=null&&(e.checked=u&&typeof u!="function"&&typeof u!="symbol"),H!=null&&typeof H!="function"&&typeof H!="symbol"&&typeof H!="boolean"?e.name=""+gl(H):e.removeAttribute("name")}function pg(e,n,o,a,u,f,y,H){if(f!=null&&typeof f!="function"&&typeof f!="symbol"&&typeof f!="boolean"&&(e.type=f),n!=null||o!=null){if(!(f!=="submit"&&f!=="reset"||n!=null)){Nu(e);return}o=o!=null?""+gl(o):"",n=n!=null?""+gl(n):o,H||n===e.value||(e.value=n),e.defaultValue=n}a=a??u,a=typeof a!="function"&&typeof a!="symbol"&&!!a,e.checked=H?e.checked:!!a,e.defaultChecked=!!a,y!=null&&typeof y!="function"&&typeof y!="symbol"&&typeof y!="boolean"&&(e.name=y),Nu(e)}function Lu(e,n,o){n==="number"&&_i(e.ownerDocument)===e||e.defaultValue===""+o||(e.defaultValue=""+o)}function ta(e,n,o,a){if(e=e.options,n){n={};for(var u=0;u<o.length;u++)n["$"+o[u]]=!0;for(o=0;o<e.length;o++)u=n.hasOwnProperty("$"+e[o].value),e[o].selected!==u&&(e[o].selected=u),u&&a&&(e[o].defaultSelected=!0)}else{for(o=""+gl(o),n=null,u=0;u<e.length;u++){if(e[u].value===o){e[u].selected=!0,a&&(e[u].defaultSelected=!0);return}n!==null||e[u].disabled||(n=e[u])}n!==null&&(n.selected=!0)}}function bg(e,n,o){if(n!=null&&(n=""+gl(n),n!==e.value&&(e.value=n),o==null)){e.defaultValue!==n&&(e.defaultValue=n);return}e.defaultValue=o!=null?""+gl(o):""}function xg(e,n,o,a){if(n==null){if(a!=null){if(o!=null)throw Error(i(92));if(G(a)){if(1<a.length)throw Error(i(93));a=a[0]}o=a}o==null&&(o=""),n=o}o=gl(n),e.defaultValue=o,a=e.textContent,a===o&&a!==""&&a!==null&&(e.value=a),Nu(e)}function na(e,n){if(n){var o=e.firstChild;if(o&&o===e.lastChild&&o.nodeType===3){o.nodeValue=n;return}}e.textContent=n}var yy=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Cg(e,n,o){var a=n.indexOf("--")===0;o==null||typeof o=="boolean"||o===""?a?e.setProperty(n,""):n==="float"?e.cssFloat="":e[n]="":a?e.setProperty(n,o):typeof o!="number"||o===0||yy.has(n)?n==="float"?e.cssFloat=o:e[n]=(""+o).trim():e[n]=o+"px"}function yg(e,n,o){if(n!=null&&typeof n!="object")throw Error(i(62));if(e=e.style,o!=null){for(var a in o)!o.hasOwnProperty(a)||n!=null&&n.hasOwnProperty(a)||(a.indexOf("--")===0?e.setProperty(a,""):a==="float"?e.cssFloat="":e[a]="");for(var u in n)a=n[u],n.hasOwnProperty(u)&&o[u]!==a&&Cg(e,u,a)}else for(var f in n)n.hasOwnProperty(f)&&Cg(e,f,n[f])}function Bu(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var vy=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),wy=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Vi(e){return wy.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function bo(){}var _u=null;function Vu(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var la=null,oa=null;function vg(e){var n=Wt(e);if(n&&(e=n.stateNode)){var o=e[En]||null;e:switch(e=n.stateNode,n.type){case"input":if(Gu(e,o.value,o.defaultValue,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name),n=o.name,o.type==="radio"&&n!=null){for(o=e;o.parentNode;)o=o.parentNode;for(o=o.querySelectorAll('input[name="'+ml(""+n)+'"][type="radio"]'),n=0;n<o.length;n++){var a=o[n];if(a!==e&&a.form===e.form){var u=a[En]||null;if(!u)throw Error(i(90));Gu(a,u.value,u.defaultValue,u.defaultValue,u.checked,u.defaultChecked,u.type,u.name)}}for(n=0;n<o.length;n++)a=o[n],a.form===e.form&&mg(a)}break e;case"textarea":bg(e,o.value,o.defaultValue);break e;case"select":n=o.value,n!=null&&ta(e,!!o.multiple,n,!1)}}}var Uu=!1;function wg(e,n,o){if(Uu)return e(n,o);Uu=!0;try{var a=e(n);return a}finally{if(Uu=!1,(la!==null||oa!==null)&&(Fc(),la&&(n=la,e=oa,oa=la=null,vg(n),e)))for(n=0;n<e.length;n++)vg(e[n])}}function ds(e,n){var o=e.stateNode;if(o===null)return null;var a=o[En]||null;if(a===null)return null;o=a[n];e:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(a=!a.disabled)||(e=e.type,a=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!a;break e;default:e=!1}if(e)return null;if(o&&typeof o!="function")throw Error(i(231,n,typeof o));return o}var xo=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),$u=!1;if(xo)try{var fs={};Object.defineProperty(fs,"passive",{get:function(){$u=!0}}),window.addEventListener("test",fs,fs),window.removeEventListener("test",fs,fs)}catch{$u=!1}var Lo=null,Wu=null,Ui=null;function Sg(){if(Ui)return Ui;var e,n=Wu,o=n.length,a,u="value"in Lo?Lo.value:Lo.textContent,f=u.length;for(e=0;e<o&&n[e]===u[e];e++);var y=o-e;for(a=1;a<=y&&n[o-a]===u[f-a];a++);return Ui=u.slice(e,1<a?1-a:void 0)}function $i(e){var n=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&n===13&&(e=13)):e=n,e===10&&(e=13),32<=e||e===13?e:0}function Wi(){return!0}function jg(){return!1}function Un(e){function n(o,a,u,f,y){this._reactName=o,this._targetInst=u,this.type=a,this.nativeEvent=f,this.target=y,this.currentTarget=null;for(var H in e)e.hasOwnProperty(H)&&(o=e[H],this[H]=o?o(f):f[H]);return this.isDefaultPrevented=(f.defaultPrevented!=null?f.defaultPrevented:f.returnValue===!1)?Wi:jg,this.isPropagationStopped=jg,this}return C(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var o=this.nativeEvent;o&&(o.preventDefault?o.preventDefault():typeof o.returnValue!="unknown"&&(o.returnValue=!1),this.isDefaultPrevented=Wi)},stopPropagation:function(){var o=this.nativeEvent;o&&(o.stopPropagation?o.stopPropagation():typeof o.cancelBubble!="unknown"&&(o.cancelBubble=!0),this.isPropagationStopped=Wi)},persist:function(){},isPersistent:Wi}),n}var jr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},qi=Un(jr),hs=C({},jr,{view:0,detail:0}),Sy=Un(hs),qu,Yu,gs,Yi=C({},hs,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Xu,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==gs&&(gs&&e.type==="mousemove"?(qu=e.screenX-gs.screenX,Yu=e.screenY-gs.screenY):Yu=qu=0,gs=e),qu)},movementY:function(e){return"movementY"in e?e.movementY:Yu}}),Mg=Un(Yi),jy=C({},Yi,{dataTransfer:0}),My=Un(jy),Ey=C({},hs,{relatedTarget:0}),Ku=Un(Ey),Dy=C({},jr,{animationName:0,elapsedTime:0,pseudoElement:0}),Ty=Un(Dy),Iy=C({},jr,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Fy=Un(Iy),Ay=C({},jr,{data:0}),Eg=Un(Ay),zy={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Oy={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},ky={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Hy(e){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(e):(e=ky[e])?!!n[e]:!1}function Xu(){return Hy}var Py=C({},hs,{key:function(e){if(e.key){var n=zy[e.key]||e.key;if(n!=="Unidentified")return n}return e.type==="keypress"?(e=$i(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Oy[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Xu,charCode:function(e){return e.type==="keypress"?$i(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?$i(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Ry=Un(Py),Ny=C({},Yi,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Dg=Un(Ny),Gy=C({},hs,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Xu}),Ly=Un(Gy),By=C({},jr,{propertyName:0,elapsedTime:0,pseudoElement:0}),_y=Un(By),Vy=C({},Yi,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Uy=Un(Vy),$y=C({},jr,{newState:0,oldState:0}),Wy=Un($y),qy=[9,13,27,32],Qu=xo&&"CompositionEvent"in window,ms=null;xo&&"documentMode"in document&&(ms=document.documentMode);var Yy=xo&&"TextEvent"in window&&!ms,Tg=xo&&(!Qu||ms&&8<ms&&11>=ms),Ig=" ",Fg=!1;function Ag(e,n){switch(e){case"keyup":return qy.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function zg(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var ra=!1;function Ky(e,n){switch(e){case"compositionend":return zg(n);case"keypress":return n.which!==32?null:(Fg=!0,Ig);case"textInput":return e=n.data,e===Ig&&Fg?null:e;default:return null}}function Xy(e,n){if(ra)return e==="compositionend"||!Qu&&Ag(e,n)?(e=Sg(),Ui=Wu=Lo=null,ra=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return Tg&&n.locale!=="ko"?null:n.data;default:return null}}var Qy={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Og(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n==="input"?!!Qy[e.type]:n==="textarea"}function kg(e,n,o,a){la?oa?oa.push(a):oa=[a]:la=a,n=Rc(n,"onChange"),0<n.length&&(o=new qi("onChange","change",null,o,a),e.push({event:o,listeners:n}))}var ps=null,bs=null;function Zy(e){pb(e,0)}function Ki(e){var n=Pl(e);if(mg(n))return e}function Hg(e,n){if(e==="change")return n}var Pg=!1;if(xo){var Zu;if(xo){var Ju="oninput"in document;if(!Ju){var Rg=document.createElement("div");Rg.setAttribute("oninput","return;"),Ju=typeof Rg.oninput=="function"}Zu=Ju}else Zu=!1;Pg=Zu&&(!document.documentMode||9<document.documentMode)}function Ng(){ps&&(ps.detachEvent("onpropertychange",Gg),bs=ps=null)}function Gg(e){if(e.propertyName==="value"&&Ki(bs)){var n=[];kg(n,bs,e,Vu(e)),wg(Zy,n)}}function Jy(e,n,o){e==="focusin"?(Ng(),ps=n,bs=o,ps.attachEvent("onpropertychange",Gg)):e==="focusout"&&Ng()}function ev(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Ki(bs)}function tv(e,n){if(e==="click")return Ki(n)}function nv(e,n){if(e==="input"||e==="change")return Ki(n)}function lv(e,n){return e===n&&(e!==0||1/e===1/n)||e!==e&&n!==n}var ll=typeof Object.is=="function"?Object.is:lv;function xs(e,n){if(ll(e,n))return!0;if(typeof e!="object"||e===null||typeof n!="object"||n===null)return!1;var o=Object.keys(e),a=Object.keys(n);if(o.length!==a.length)return!1;for(a=0;a<o.length;a++){var u=o[a];if(!It.call(n,u)||!ll(e[u],n[u]))return!1}return!0}function Lg(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Bg(e,n){var o=Lg(e);e=0;for(var a;o;){if(o.nodeType===3){if(a=e+o.textContent.length,e<=n&&a>=n)return{node:o,offset:n-e};e=a}e:{for(;o;){if(o.nextSibling){o=o.nextSibling;break e}o=o.parentNode}o=void 0}o=Lg(o)}}function _g(e,n){return e&&n?e===n?!0:e&&e.nodeType===3?!1:n&&n.nodeType===3?_g(e,n.parentNode):"contains"in e?e.contains(n):e.compareDocumentPosition?!!(e.compareDocumentPosition(n)&16):!1:!1}function Vg(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var n=_i(e.document);n instanceof e.HTMLIFrameElement;){try{var o=typeof n.contentWindow.location.href=="string"}catch{o=!1}if(o)e=n.contentWindow;else break;n=_i(e.document)}return n}function ed(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n&&(n==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||n==="textarea"||e.contentEditable==="true")}var ov=xo&&"documentMode"in document&&11>=document.documentMode,aa=null,td=null,Cs=null,nd=!1;function Ug(e,n,o){var a=o.window===o?o.document:o.nodeType===9?o:o.ownerDocument;nd||aa==null||aa!==_i(a)||(a=aa,"selectionStart"in a&&ed(a)?a={start:a.selectionStart,end:a.selectionEnd}:(a=(a.ownerDocument&&a.ownerDocument.defaultView||window).getSelection(),a={anchorNode:a.anchorNode,anchorOffset:a.anchorOffset,focusNode:a.focusNode,focusOffset:a.focusOffset}),Cs&&xs(Cs,a)||(Cs=a,a=Rc(td,"onSelect"),0<a.length&&(n=new qi("onSelect","select",null,n,o),e.push({event:n,listeners:a}),n.target=aa)))}function Mr(e,n){var o={};return o[e.toLowerCase()]=n.toLowerCase(),o["Webkit"+e]="webkit"+n,o["Moz"+e]="moz"+n,o}var sa={animationend:Mr("Animation","AnimationEnd"),animationiteration:Mr("Animation","AnimationIteration"),animationstart:Mr("Animation","AnimationStart"),transitionrun:Mr("Transition","TransitionRun"),transitionstart:Mr("Transition","TransitionStart"),transitioncancel:Mr("Transition","TransitionCancel"),transitionend:Mr("Transition","TransitionEnd")},ld={},$g={};xo&&($g=document.createElement("div").style,"AnimationEvent"in window||(delete sa.animationend.animation,delete sa.animationiteration.animation,delete sa.animationstart.animation),"TransitionEvent"in window||delete sa.transitionend.transition);function Er(e){if(ld[e])return ld[e];if(!sa[e])return e;var n=sa[e],o;for(o in n)if(n.hasOwnProperty(o)&&o in $g)return ld[e]=n[o];return e}var Wg=Er("animationend"),qg=Er("animationiteration"),Yg=Er("animationstart"),rv=Er("transitionrun"),av=Er("transitionstart"),sv=Er("transitioncancel"),Kg=Er("transitionend"),Xg=new Map,od="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");od.push("scrollEnd");function Nl(e,n){Xg.set(e,n),qe(n,[e])}var Xi=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var n=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(n))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},pl=[],ia=0,rd=0;function Qi(){for(var e=ia,n=rd=ia=0;n<e;){var o=pl[n];pl[n++]=null;var a=pl[n];pl[n++]=null;var u=pl[n];pl[n++]=null;var f=pl[n];if(pl[n++]=null,a!==null&&u!==null){var y=a.pending;y===null?u.next=u:(u.next=y.next,y.next=u),a.pending=u}f!==0&&Qg(o,u,f)}}function Zi(e,n,o,a){pl[ia++]=e,pl[ia++]=n,pl[ia++]=o,pl[ia++]=a,rd|=a,e.lanes|=a,e=e.alternate,e!==null&&(e.lanes|=a)}function ad(e,n,o,a){return Zi(e,n,o,a),Ji(e)}function Dr(e,n){return Zi(e,null,null,n),Ji(e)}function Qg(e,n,o){e.lanes|=o;var a=e.alternate;a!==null&&(a.lanes|=o);for(var u=!1,f=e.return;f!==null;)f.childLanes|=o,a=f.alternate,a!==null&&(a.childLanes|=o),f.tag===22&&(e=f.stateNode,e===null||e._visibility&1||(u=!0)),e=f,f=f.return;return e.tag===3?(f=e.stateNode,u&&n!==null&&(u=31-nn(o),e=f.hiddenUpdates,a=e[u],a===null?e[u]=[n]:a.push(n),n.lane=o|536870912),f):null}function Ji(e){if(50<Bs)throw Bs=0,pf=null,Error(i(185));for(var n=e.return;n!==null;)e=n,n=e.return;return e.tag===3?e.stateNode:null}var ca={};function iv(e,n,o,a){this.tag=e,this.key=o,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=a,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function ol(e,n,o,a){return new iv(e,n,o,a)}function sd(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Co(e,n){var o=e.alternate;return o===null?(o=ol(e.tag,n,e.key,e.mode),o.elementType=e.elementType,o.type=e.type,o.stateNode=e.stateNode,o.alternate=e,e.alternate=o):(o.pendingProps=n,o.type=e.type,o.flags=0,o.subtreeFlags=0,o.deletions=null),o.flags=e.flags&65011712,o.childLanes=e.childLanes,o.lanes=e.lanes,o.child=e.child,o.memoizedProps=e.memoizedProps,o.memoizedState=e.memoizedState,o.updateQueue=e.updateQueue,n=e.dependencies,o.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},o.sibling=e.sibling,o.index=e.index,o.ref=e.ref,o.refCleanup=e.refCleanup,o}function Zg(e,n){e.flags&=65011714;var o=e.alternate;return o===null?(e.childLanes=0,e.lanes=n,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=o.childLanes,e.lanes=o.lanes,e.child=o.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=o.memoizedProps,e.memoizedState=o.memoizedState,e.updateQueue=o.updateQueue,e.type=o.type,n=o.dependencies,e.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),e}function ec(e,n,o,a,u,f){var y=0;if(a=e,typeof e=="function")sd(e)&&(y=1);else if(typeof e=="string")y=hw(e,o,re.current)?26:e==="html"||e==="head"||e==="body"?27:5;else e:switch(e){case A:return e=ol(31,o,n,u),e.elementType=A,e.lanes=f,e;case F:return Tr(o.children,u,f,n);case I:y=8,u|=24;break;case k:return e=ol(12,o,n,u|2),e.elementType=k,e.lanes=f,e;case R:return e=ol(13,o,n,u),e.elementType=R,e.lanes=f,e;case $:return e=ol(19,o,n,u),e.elementType=$,e.lanes=f,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case z:y=10;break e;case T:y=9;break e;case V:y=11;break e;case _:y=14;break e;case U:y=16,a=null;break e}y=29,o=Error(i(130,e===null?"null":typeof e,"")),a=null}return n=ol(y,o,n,u),n.elementType=e,n.type=a,n.lanes=f,n}function Tr(e,n,o,a){return e=ol(7,e,a,n),e.lanes=o,e}function id(e,n,o){return e=ol(6,e,null,n),e.lanes=o,e}function Jg(e){var n=ol(18,null,null,0);return n.stateNode=e,n}function cd(e,n,o){return n=ol(4,e.children!==null?e.children:[],e.key,n),n.lanes=o,n.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},n}var em=new WeakMap;function bl(e,n){if(typeof e=="object"&&e!==null){var o=em.get(e);return o!==void 0?o:(n={value:e,source:n,stack:Ge(n)},em.set(e,n),n)}return{value:e,source:n,stack:Ge(n)}}var ua=[],da=0,tc=null,ys=0,xl=[],Cl=0,Bo=null,Jl=1,eo="";function yo(e,n){ua[da++]=ys,ua[da++]=tc,tc=e,ys=n}function tm(e,n,o){xl[Cl++]=Jl,xl[Cl++]=eo,xl[Cl++]=Bo,Bo=e;var a=Jl;e=eo;var u=32-nn(a)-1;a&=~(1<<u),o+=1;var f=32-nn(n)+u;if(30<f){var y=u-u%5;f=(a&(1<<y)-1).toString(32),a>>=y,u-=y,Jl=1<<32-nn(n)+u|o<<u|a,eo=f+e}else Jl=1<<f|o<<u|a,eo=e}function ud(e){e.return!==null&&(yo(e,1),tm(e,1,0))}function dd(e){for(;e===tc;)tc=ua[--da],ua[da]=null,ys=ua[--da],ua[da]=null;for(;e===Bo;)Bo=xl[--Cl],xl[Cl]=null,eo=xl[--Cl],xl[Cl]=null,Jl=xl[--Cl],xl[Cl]=null}function nm(e,n){xl[Cl++]=Jl,xl[Cl++]=eo,xl[Cl++]=Bo,Jl=n.id,eo=n.overflow,Bo=e}var vn=null,Bt=null,ct=!1,_o=null,yl=!1,fd=Error(i(519));function Vo(e){var n=Error(i(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw vs(bl(n,e)),fd}function lm(e){var n=e.stateNode,o=e.type,a=e.memoizedProps;switch(n[dn]=e,n[En]=a,o){case"dialog":rt("cancel",n),rt("close",n);break;case"iframe":case"object":case"embed":rt("load",n);break;case"video":case"audio":for(o=0;o<Vs.length;o++)rt(Vs[o],n);break;case"source":rt("error",n);break;case"img":case"image":case"link":rt("error",n),rt("load",n);break;case"details":rt("toggle",n);break;case"input":rt("invalid",n),pg(n,a.value,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name,!0);break;case"select":rt("invalid",n);break;case"textarea":rt("invalid",n),xg(n,a.value,a.defaultValue,a.children)}o=a.children,typeof o!="string"&&typeof o!="number"&&typeof o!="bigint"||n.textContent===""+o||a.suppressHydrationWarning===!0||yb(n.textContent,o)?(a.popover!=null&&(rt("beforetoggle",n),rt("toggle",n)),a.onScroll!=null&&rt("scroll",n),a.onScrollEnd!=null&&rt("scrollend",n),a.onClick!=null&&(n.onclick=bo),n=!0):n=!1,n||Vo(e,!0)}function om(e){for(vn=e.return;vn;)switch(vn.tag){case 5:case 31:case 13:yl=!1;return;case 27:case 3:yl=!0;return;default:vn=vn.return}}function fa(e){if(e!==vn)return!1;if(!ct)return om(e),ct=!0,!1;var n=e.tag,o;if((o=n!==3&&n!==27)&&((o=n===5)&&(o=e.type,o=!(o!=="form"&&o!=="button")||Af(e.type,e.memoizedProps)),o=!o),o&&Bt&&Vo(e),om(e),n===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(i(317));Bt=Ib(e)}else if(n===31){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(i(317));Bt=Ib(e)}else n===27?(n=Bt,lr(e.type)?(e=Pf,Pf=null,Bt=e):Bt=n):Bt=vn?wl(e.stateNode.nextSibling):null;return!0}function Ir(){Bt=vn=null,ct=!1}function hd(){var e=_o;return e!==null&&(Yn===null?Yn=e:Yn.push.apply(Yn,e),_o=null),e}function vs(e){_o===null?_o=[e]:_o.push(e)}var gd=W(null),Fr=null,vo=null;function Uo(e,n,o){le(gd,n._currentValue),n._currentValue=o}function wo(e){e._currentValue=gd.current,Q(gd)}function md(e,n,o){for(;e!==null;){var a=e.alternate;if((e.childLanes&n)!==n?(e.childLanes|=n,a!==null&&(a.childLanes|=n)):a!==null&&(a.childLanes&n)!==n&&(a.childLanes|=n),e===o)break;e=e.return}}function pd(e,n,o,a){var u=e.child;for(u!==null&&(u.return=e);u!==null;){var f=u.dependencies;if(f!==null){var y=u.child;f=f.firstContext;e:for(;f!==null;){var H=f;f=u;for(var X=0;X<n.length;X++)if(H.context===n[X]){f.lanes|=o,H=f.alternate,H!==null&&(H.lanes|=o),md(f.return,o,e),a||(y=null);break e}f=H.next}}else if(u.tag===18){if(y=u.return,y===null)throw Error(i(341));y.lanes|=o,f=y.alternate,f!==null&&(f.lanes|=o),md(y,o,e),y=null}else y=u.child;if(y!==null)y.return=u;else for(y=u;y!==null;){if(y===e){y=null;break}if(u=y.sibling,u!==null){u.return=y.return,y=u;break}y=y.return}u=y}}function ha(e,n,o,a){e=null;for(var u=n,f=!1;u!==null;){if(!f){if((u.flags&524288)!==0)f=!0;else if((u.flags&262144)!==0)break}if(u.tag===10){var y=u.alternate;if(y===null)throw Error(i(387));if(y=y.memoizedProps,y!==null){var H=u.type;ll(u.pendingProps.value,y.value)||(e!==null?e.push(H):e=[H])}}else if(u===ve.current){if(y=u.alternate,y===null)throw Error(i(387));y.memoizedState.memoizedState!==u.memoizedState.memoizedState&&(e!==null?e.push(Ys):e=[Ys])}u=u.return}e!==null&&pd(n,e,o,a),n.flags|=262144}function nc(e){for(e=e.firstContext;e!==null;){if(!ll(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function Ar(e){Fr=e,vo=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function wn(e){return rm(Fr,e)}function lc(e,n){return Fr===null&&Ar(e),rm(e,n)}function rm(e,n){var o=n._currentValue;if(n={context:n,memoizedValue:o,next:null},vo===null){if(e===null)throw Error(i(308));vo=n,e.dependencies={lanes:0,firstContext:n},e.flags|=524288}else vo=vo.next=n;return o}var cv=typeof AbortController<"u"?AbortController:function(){var e=[],n=this.signal={aborted:!1,addEventListener:function(o,a){e.push(a)}};this.abort=function(){n.aborted=!0,e.forEach(function(o){return o()})}},uv=t.unstable_scheduleCallback,dv=t.unstable_NormalPriority,ln={$$typeof:z,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function bd(){return{controller:new cv,data:new Map,refCount:0}}function ws(e){e.refCount--,e.refCount===0&&uv(dv,function(){e.controller.abort()})}var Ss=null,xd=0,ga=0,ma=null;function fv(e,n){if(Ss===null){var o=Ss=[];xd=0,ga=wf(),ma={status:"pending",value:void 0,then:function(a){o.push(a)}}}return xd++,n.then(am,am),n}function am(){if(--xd===0&&Ss!==null){ma!==null&&(ma.status="fulfilled");var e=Ss;Ss=null,ga=0,ma=null;for(var n=0;n<e.length;n++)(0,e[n])()}}function hv(e,n){var o=[],a={status:"pending",value:null,reason:null,then:function(u){o.push(u)}};return e.then(function(){a.status="fulfilled",a.value=n;for(var u=0;u<o.length;u++)(0,o[u])(n)},function(u){for(a.status="rejected",a.reason=u,u=0;u<o.length;u++)(0,o[u])(void 0)}),a}var sm=S.S;S.S=function(e,n){Up=tt(),typeof n=="object"&&n!==null&&typeof n.then=="function"&&fv(e,n),sm!==null&&sm(e,n)};var zr=W(null);function Cd(){var e=zr.current;return e!==null?e:Pt.pooledCache}function oc(e,n){n===null?le(zr,zr.current):le(zr,n.pool)}function im(){var e=Cd();return e===null?null:{parent:ln._currentValue,pool:e}}var pa=Error(i(460)),yd=Error(i(474)),rc=Error(i(542)),ac={then:function(){}};function cm(e){return e=e.status,e==="fulfilled"||e==="rejected"}function um(e,n,o){switch(o=e[o],o===void 0?e.push(n):o!==n&&(n.then(bo,bo),n=o),n.status){case"fulfilled":return n.value;case"rejected":throw e=n.reason,fm(e),e;default:if(typeof n.status=="string")n.then(bo,bo);else{if(e=Pt,e!==null&&100<e.shellSuspendCounter)throw Error(i(482));e=n,e.status="pending",e.then(function(a){if(n.status==="pending"){var u=n;u.status="fulfilled",u.value=a}},function(a){if(n.status==="pending"){var u=n;u.status="rejected",u.reason=a}})}switch(n.status){case"fulfilled":return n.value;case"rejected":throw e=n.reason,fm(e),e}throw kr=n,pa}}function Or(e){try{var n=e._init;return n(e._payload)}catch(o){throw o!==null&&typeof o=="object"&&typeof o.then=="function"?(kr=o,pa):o}}var kr=null;function dm(){if(kr===null)throw Error(i(459));var e=kr;return kr=null,e}function fm(e){if(e===pa||e===rc)throw Error(i(483))}var ba=null,js=0;function sc(e){var n=js;return js+=1,ba===null&&(ba=[]),um(ba,e,n)}function Ms(e,n){n=n.props.ref,e.ref=n!==void 0?n:null}function ic(e,n){throw n.$$typeof===v?Error(i(525)):(e=Object.prototype.toString.call(n),Error(i(31,e==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":e)))}function hm(e){function n(te,J){if(e){var ne=te.deletions;ne===null?(te.deletions=[J],te.flags|=16):ne.push(J)}}function o(te,J){if(!e)return null;for(;J!==null;)n(te,J),J=J.sibling;return null}function a(te){for(var J=new Map;te!==null;)te.key!==null?J.set(te.key,te):J.set(te.index,te),te=te.sibling;return J}function u(te,J){return te=Co(te,J),te.index=0,te.sibling=null,te}function f(te,J,ne){return te.index=ne,e?(ne=te.alternate,ne!==null?(ne=ne.index,ne<J?(te.flags|=67108866,J):ne):(te.flags|=67108866,J)):(te.flags|=1048576,J)}function y(te){return e&&te.alternate===null&&(te.flags|=67108866),te}function H(te,J,ne,he){return J===null||J.tag!==6?(J=id(ne,te.mode,he),J.return=te,J):(J=u(J,ne),J.return=te,J)}function X(te,J,ne,he){var He=ne.type;return He===F?de(te,J,ne.props.children,he,ne.key):J!==null&&(J.elementType===He||typeof He=="object"&&He!==null&&He.$$typeof===U&&Or(He)===J.type)?(J=u(J,ne.props),Ms(J,ne),J.return=te,J):(J=ec(ne.type,ne.key,ne.props,null,te.mode,he),Ms(J,ne),J.return=te,J)}function oe(te,J,ne,he){return J===null||J.tag!==4||J.stateNode.containerInfo!==ne.containerInfo||J.stateNode.implementation!==ne.implementation?(J=cd(ne,te.mode,he),J.return=te,J):(J=u(J,ne.children||[]),J.return=te,J)}function de(te,J,ne,he,He){return J===null||J.tag!==7?(J=Tr(ne,te.mode,he,He),J.return=te,J):(J=u(J,ne),J.return=te,J)}function ge(te,J,ne){if(typeof J=="string"&&J!==""||typeof J=="number"||typeof J=="bigint")return J=id(""+J,te.mode,ne),J.return=te,J;if(typeof J=="object"&&J!==null){switch(J.$$typeof){case D:return ne=ec(J.type,J.key,J.props,null,te.mode,ne),Ms(ne,J),ne.return=te,ne;case j:return J=cd(J,te.mode,ne),J.return=te,J;case U:return J=Or(J),ge(te,J,ne)}if(G(J)||N(J))return J=Tr(J,te.mode,ne,null),J.return=te,J;if(typeof J.then=="function")return ge(te,sc(J),ne);if(J.$$typeof===z)return ge(te,lc(te,J),ne);ic(te,J)}return null}function ae(te,J,ne,he){var He=J!==null?J.key:null;if(typeof ne=="string"&&ne!==""||typeof ne=="number"||typeof ne=="bigint")return He!==null?null:H(te,J,""+ne,he);if(typeof ne=="object"&&ne!==null){switch(ne.$$typeof){case D:return ne.key===He?X(te,J,ne,he):null;case j:return ne.key===He?oe(te,J,ne,he):null;case U:return ne=Or(ne),ae(te,J,ne,he)}if(G(ne)||N(ne))return He!==null?null:de(te,J,ne,he,null);if(typeof ne.then=="function")return ae(te,J,sc(ne),he);if(ne.$$typeof===z)return ae(te,J,lc(te,ne),he);ic(te,ne)}return null}function se(te,J,ne,he,He){if(typeof he=="string"&&he!==""||typeof he=="number"||typeof he=="bigint")return te=te.get(ne)||null,H(J,te,""+he,He);if(typeof he=="object"&&he!==null){switch(he.$$typeof){case D:return te=te.get(he.key===null?ne:he.key)||null,X(J,te,he,He);case j:return te=te.get(he.key===null?ne:he.key)||null,oe(J,te,he,He);case U:return he=Or(he),se(te,J,ne,he,He)}if(G(he)||N(he))return te=te.get(ne)||null,de(J,te,he,He,null);if(typeof he.then=="function")return se(te,J,ne,sc(he),He);if(he.$$typeof===z)return se(te,J,ne,lc(J,he),He);ic(J,he)}return null}function De(te,J,ne,he){for(var He=null,ft=null,Ie=J,Je=J=0,st=null;Ie!==null&&Je<ne.length;Je++){Ie.index>Je?(st=Ie,Ie=null):st=Ie.sibling;var ht=ae(te,Ie,ne[Je],he);if(ht===null){Ie===null&&(Ie=st);break}e&&Ie&&ht.alternate===null&&n(te,Ie),J=f(ht,J,Je),ft===null?He=ht:ft.sibling=ht,ft=ht,Ie=st}if(Je===ne.length)return o(te,Ie),ct&&yo(te,Je),He;if(Ie===null){for(;Je<ne.length;Je++)Ie=ge(te,ne[Je],he),Ie!==null&&(J=f(Ie,J,Je),ft===null?He=Ie:ft.sibling=Ie,ft=Ie);return ct&&yo(te,Je),He}for(Ie=a(Ie);Je<ne.length;Je++)st=se(Ie,te,Je,ne[Je],he),st!==null&&(e&&st.alternate!==null&&Ie.delete(st.key===null?Je:st.key),J=f(st,J,Je),ft===null?He=st:ft.sibling=st,ft=st);return e&&Ie.forEach(function(ir){return n(te,ir)}),ct&&yo(te,Je),He}function Pe(te,J,ne,he){if(ne==null)throw Error(i(151));for(var He=null,ft=null,Ie=J,Je=J=0,st=null,ht=ne.next();Ie!==null&&!ht.done;Je++,ht=ne.next()){Ie.index>Je?(st=Ie,Ie=null):st=Ie.sibling;var ir=ae(te,Ie,ht.value,he);if(ir===null){Ie===null&&(Ie=st);break}e&&Ie&&ir.alternate===null&&n(te,Ie),J=f(ir,J,Je),ft===null?He=ir:ft.sibling=ir,ft=ir,Ie=st}if(ht.done)return o(te,Ie),ct&&yo(te,Je),He;if(Ie===null){for(;!ht.done;Je++,ht=ne.next())ht=ge(te,ht.value,he),ht!==null&&(J=f(ht,J,Je),ft===null?He=ht:ft.sibling=ht,ft=ht);return ct&&yo(te,Je),He}for(Ie=a(Ie);!ht.done;Je++,ht=ne.next())ht=se(Ie,te,Je,ht.value,he),ht!==null&&(e&&ht.alternate!==null&&Ie.delete(ht.key===null?Je:ht.key),J=f(ht,J,Je),ft===null?He=ht:ft.sibling=ht,ft=ht);return e&&Ie.forEach(function(jw){return n(te,jw)}),ct&&yo(te,Je),He}function zt(te,J,ne,he){if(typeof ne=="object"&&ne!==null&&ne.type===F&&ne.key===null&&(ne=ne.props.children),typeof ne=="object"&&ne!==null){switch(ne.$$typeof){case D:e:{for(var He=ne.key;J!==null;){if(J.key===He){if(He=ne.type,He===F){if(J.tag===7){o(te,J.sibling),he=u(J,ne.props.children),he.return=te,te=he;break e}}else if(J.elementType===He||typeof He=="object"&&He!==null&&He.$$typeof===U&&Or(He)===J.type){o(te,J.sibling),he=u(J,ne.props),Ms(he,ne),he.return=te,te=he;break e}o(te,J);break}else n(te,J);J=J.sibling}ne.type===F?(he=Tr(ne.props.children,te.mode,he,ne.key),he.return=te,te=he):(he=ec(ne.type,ne.key,ne.props,null,te.mode,he),Ms(he,ne),he.return=te,te=he)}return y(te);case j:e:{for(He=ne.key;J!==null;){if(J.key===He)if(J.tag===4&&J.stateNode.containerInfo===ne.containerInfo&&J.stateNode.implementation===ne.implementation){o(te,J.sibling),he=u(J,ne.children||[]),he.return=te,te=he;break e}else{o(te,J);break}else n(te,J);J=J.sibling}he=cd(ne,te.mode,he),he.return=te,te=he}return y(te);case U:return ne=Or(ne),zt(te,J,ne,he)}if(G(ne))return De(te,J,ne,he);if(N(ne)){if(He=N(ne),typeof He!="function")throw Error(i(150));return ne=He.call(ne),Pe(te,J,ne,he)}if(typeof ne.then=="function")return zt(te,J,sc(ne),he);if(ne.$$typeof===z)return zt(te,J,lc(te,ne),he);ic(te,ne)}return typeof ne=="string"&&ne!==""||typeof ne=="number"||typeof ne=="bigint"?(ne=""+ne,J!==null&&J.tag===6?(o(te,J.sibling),he=u(J,ne),he.return=te,te=he):(o(te,J),he=id(ne,te.mode,he),he.return=te,te=he),y(te)):o(te,J)}return function(te,J,ne,he){try{js=0;var He=zt(te,J,ne,he);return ba=null,He}catch(Ie){if(Ie===pa||Ie===rc)throw Ie;var ft=ol(29,Ie,null,te.mode);return ft.lanes=he,ft.return=te,ft}}}var Hr=hm(!0),gm=hm(!1),$o=!1;function vd(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function wd(e,n){e=e.updateQueue,n.updateQueue===e&&(n.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function Wo(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function qo(e,n,o){var a=e.updateQueue;if(a===null)return null;if(a=a.shared,(xt&2)!==0){var u=a.pending;return u===null?n.next=n:(n.next=u.next,u.next=n),a.pending=n,n=Ji(e),Qg(e,null,o),n}return Zi(e,a,n,o),Ji(e)}function Es(e,n,o){if(n=n.updateQueue,n!==null&&(n=n.shared,(o&4194048)!==0)){var a=n.lanes;a&=e.pendingLanes,o|=a,n.lanes=o,Ri(e,o)}}function Sd(e,n){var o=e.updateQueue,a=e.alternate;if(a!==null&&(a=a.updateQueue,o===a)){var u=null,f=null;if(o=o.firstBaseUpdate,o!==null){do{var y={lane:o.lane,tag:o.tag,payload:o.payload,callback:null,next:null};f===null?u=f=y:f=f.next=y,o=o.next}while(o!==null);f===null?u=f=n:f=f.next=n}else u=f=n;o={baseState:a.baseState,firstBaseUpdate:u,lastBaseUpdate:f,shared:a.shared,callbacks:a.callbacks},e.updateQueue=o;return}e=o.lastBaseUpdate,e===null?o.firstBaseUpdate=n:e.next=n,o.lastBaseUpdate=n}var jd=!1;function Ds(){if(jd){var e=ma;if(e!==null)throw e}}function Ts(e,n,o,a){jd=!1;var u=e.updateQueue;$o=!1;var f=u.firstBaseUpdate,y=u.lastBaseUpdate,H=u.shared.pending;if(H!==null){u.shared.pending=null;var X=H,oe=X.next;X.next=null,y===null?f=oe:y.next=oe,y=X;var de=e.alternate;de!==null&&(de=de.updateQueue,H=de.lastBaseUpdate,H!==y&&(H===null?de.firstBaseUpdate=oe:H.next=oe,de.lastBaseUpdate=X))}if(f!==null){var ge=u.baseState;y=0,de=oe=X=null,H=f;do{var ae=H.lane&-536870913,se=ae!==H.lane;if(se?(at&ae)===ae:(a&ae)===ae){ae!==0&&ae===ga&&(jd=!0),de!==null&&(de=de.next={lane:0,tag:H.tag,payload:H.payload,callback:null,next:null});e:{var De=e,Pe=H;ae=n;var zt=o;switch(Pe.tag){case 1:if(De=Pe.payload,typeof De=="function"){ge=De.call(zt,ge,ae);break e}ge=De;break e;case 3:De.flags=De.flags&-65537|128;case 0:if(De=Pe.payload,ae=typeof De=="function"?De.call(zt,ge,ae):De,ae==null)break e;ge=C({},ge,ae);break e;case 2:$o=!0}}ae=H.callback,ae!==null&&(e.flags|=64,se&&(e.flags|=8192),se=u.callbacks,se===null?u.callbacks=[ae]:se.push(ae))}else se={lane:ae,tag:H.tag,payload:H.payload,callback:H.callback,next:null},de===null?(oe=de=se,X=ge):de=de.next=se,y|=ae;if(H=H.next,H===null){if(H=u.shared.pending,H===null)break;se=H,H=se.next,se.next=null,u.lastBaseUpdate=se,u.shared.pending=null}}while(!0);de===null&&(X=ge),u.baseState=X,u.firstBaseUpdate=oe,u.lastBaseUpdate=de,f===null&&(u.shared.lanes=0),Zo|=y,e.lanes=y,e.memoizedState=ge}}function mm(e,n){if(typeof e!="function")throw Error(i(191,e));e.call(n)}function pm(e,n){var o=e.callbacks;if(o!==null)for(e.callbacks=null,e=0;e<o.length;e++)mm(o[e],n)}var xa=W(null),cc=W(0);function bm(e,n){e=Ao,le(cc,e),le(xa,n),Ao=e|n.baseLanes}function Md(){le(cc,Ao),le(xa,xa.current)}function Ed(){Ao=cc.current,Q(xa),Q(cc)}var rl=W(null),vl=null;function Yo(e){var n=e.alternate;le(Jt,Jt.current&1),le(rl,e),vl===null&&(n===null||xa.current!==null||n.memoizedState!==null)&&(vl=e)}function Dd(e){le(Jt,Jt.current),le(rl,e),vl===null&&(vl=e)}function xm(e){e.tag===22?(le(Jt,Jt.current),le(rl,e),vl===null&&(vl=e)):Ko()}function Ko(){le(Jt,Jt.current),le(rl,rl.current)}function al(e){Q(rl),vl===e&&(vl=null),Q(Jt)}var Jt=W(0);function uc(e){for(var n=e;n!==null;){if(n.tag===13){var o=n.memoizedState;if(o!==null&&(o=o.dehydrated,o===null||kf(o)||Hf(o)))return n}else if(n.tag===19&&(n.memoizedProps.revealOrder==="forwards"||n.memoizedProps.revealOrder==="backwards"||n.memoizedProps.revealOrder==="unstable_legacy-backwards"||n.memoizedProps.revealOrder==="together")){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}var So=0,Ye=null,Ft=null,on=null,dc=!1,Ca=!1,Pr=!1,fc=0,Is=0,ya=null,gv=0;function Kt(){throw Error(i(321))}function Td(e,n){if(n===null)return!1;for(var o=0;o<n.length&&o<e.length;o++)if(!ll(e[o],n[o]))return!1;return!0}function Id(e,n,o,a,u,f){return So=f,Ye=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,S.H=e===null||e.memoizedState===null?tp:Ud,Pr=!1,f=o(a,u),Pr=!1,Ca&&(f=ym(n,o,a,u)),Cm(e),f}function Cm(e){S.H=zs;var n=Ft!==null&&Ft.next!==null;if(So=0,on=Ft=Ye=null,dc=!1,Is=0,ya=null,n)throw Error(i(300));e===null||rn||(e=e.dependencies,e!==null&&nc(e)&&(rn=!0))}function ym(e,n,o,a){Ye=e;var u=0;do{if(Ca&&(ya=null),Is=0,Ca=!1,25<=u)throw Error(i(301));if(u+=1,on=Ft=null,e.updateQueue!=null){var f=e.updateQueue;f.lastEffect=null,f.events=null,f.stores=null,f.memoCache!=null&&(f.memoCache.index=0)}S.H=np,f=n(o,a)}while(Ca);return f}function mv(){var e=S.H,n=e.useState()[0];return n=typeof n.then=="function"?Fs(n):n,e=e.useState()[0],(Ft!==null?Ft.memoizedState:null)!==e&&(Ye.flags|=1024),n}function Fd(){var e=fc!==0;return fc=0,e}function Ad(e,n,o){n.updateQueue=e.updateQueue,n.flags&=-2053,e.lanes&=~o}function zd(e){if(dc){for(e=e.memoizedState;e!==null;){var n=e.queue;n!==null&&(n.pending=null),e=e.next}dc=!1}So=0,on=Ft=Ye=null,Ca=!1,Is=fc=0,ya=null}function kn(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return on===null?Ye.memoizedState=on=e:on=on.next=e,on}function en(){if(Ft===null){var e=Ye.alternate;e=e!==null?e.memoizedState:null}else e=Ft.next;var n=on===null?Ye.memoizedState:on.next;if(n!==null)on=n,Ft=e;else{if(e===null)throw Ye.alternate===null?Error(i(467)):Error(i(310));Ft=e,e={memoizedState:Ft.memoizedState,baseState:Ft.baseState,baseQueue:Ft.baseQueue,queue:Ft.queue,next:null},on===null?Ye.memoizedState=on=e:on=on.next=e}return on}function hc(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Fs(e){var n=Is;return Is+=1,ya===null&&(ya=[]),e=um(ya,e,n),n=Ye,(on===null?n.memoizedState:on.next)===null&&(n=n.alternate,S.H=n===null||n.memoizedState===null?tp:Ud),e}function gc(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return Fs(e);if(e.$$typeof===z)return wn(e)}throw Error(i(438,String(e)))}function Od(e){var n=null,o=Ye.updateQueue;if(o!==null&&(n=o.memoCache),n==null){var a=Ye.alternate;a!==null&&(a=a.updateQueue,a!==null&&(a=a.memoCache,a!=null&&(n={data:a.data.map(function(u){return u.slice()}),index:0})))}if(n==null&&(n={data:[],index:0}),o===null&&(o=hc(),Ye.updateQueue=o),o.memoCache=n,o=n.data[n.index],o===void 0)for(o=n.data[n.index]=Array(e),a=0;a<e;a++)o[a]=E;return n.index++,o}function jo(e,n){return typeof n=="function"?n(e):n}function mc(e){var n=en();return kd(n,Ft,e)}function kd(e,n,o){var a=e.queue;if(a===null)throw Error(i(311));a.lastRenderedReducer=o;var u=e.baseQueue,f=a.pending;if(f!==null){if(u!==null){var y=u.next;u.next=f.next,f.next=y}n.baseQueue=u=f,a.pending=null}if(f=e.baseState,u===null)e.memoizedState=f;else{n=u.next;var H=y=null,X=null,oe=n,de=!1;do{var ge=oe.lane&-536870913;if(ge!==oe.lane?(at&ge)===ge:(So&ge)===ge){var ae=oe.revertLane;if(ae===0)X!==null&&(X=X.next={lane:0,revertLane:0,gesture:null,action:oe.action,hasEagerState:oe.hasEagerState,eagerState:oe.eagerState,next:null}),ge===ga&&(de=!0);else if((So&ae)===ae){oe=oe.next,ae===ga&&(de=!0);continue}else ge={lane:0,revertLane:oe.revertLane,gesture:null,action:oe.action,hasEagerState:oe.hasEagerState,eagerState:oe.eagerState,next:null},X===null?(H=X=ge,y=f):X=X.next=ge,Ye.lanes|=ae,Zo|=ae;ge=oe.action,Pr&&o(f,ge),f=oe.hasEagerState?oe.eagerState:o(f,ge)}else ae={lane:ge,revertLane:oe.revertLane,gesture:oe.gesture,action:oe.action,hasEagerState:oe.hasEagerState,eagerState:oe.eagerState,next:null},X===null?(H=X=ae,y=f):X=X.next=ae,Ye.lanes|=ge,Zo|=ge;oe=oe.next}while(oe!==null&&oe!==n);if(X===null?y=f:X.next=H,!ll(f,e.memoizedState)&&(rn=!0,de&&(o=ma,o!==null)))throw o;e.memoizedState=f,e.baseState=y,e.baseQueue=X,a.lastRenderedState=f}return u===null&&(a.lanes=0),[e.memoizedState,a.dispatch]}function Hd(e){var n=en(),o=n.queue;if(o===null)throw Error(i(311));o.lastRenderedReducer=e;var a=o.dispatch,u=o.pending,f=n.memoizedState;if(u!==null){o.pending=null;var y=u=u.next;do f=e(f,y.action),y=y.next;while(y!==u);ll(f,n.memoizedState)||(rn=!0),n.memoizedState=f,n.baseQueue===null&&(n.baseState=f),o.lastRenderedState=f}return[f,a]}function vm(e,n,o){var a=Ye,u=en(),f=ct;if(f){if(o===void 0)throw Error(i(407));o=o()}else o=n();var y=!ll((Ft||u).memoizedState,o);if(y&&(u.memoizedState=o,rn=!0),u=u.queue,Nd(jm.bind(null,a,u,e),[e]),u.getSnapshot!==n||y||on!==null&&on.memoizedState.tag&1){if(a.flags|=2048,va(9,{destroy:void 0},Sm.bind(null,a,u,o,n),null),Pt===null)throw Error(i(349));f||(So&127)!==0||wm(a,n,o)}return o}function wm(e,n,o){e.flags|=16384,e={getSnapshot:n,value:o},n=Ye.updateQueue,n===null?(n=hc(),Ye.updateQueue=n,n.stores=[e]):(o=n.stores,o===null?n.stores=[e]:o.push(e))}function Sm(e,n,o,a){n.value=o,n.getSnapshot=a,Mm(n)&&Em(e)}function jm(e,n,o){return o(function(){Mm(n)&&Em(e)})}function Mm(e){var n=e.getSnapshot;e=e.value;try{var o=n();return!ll(e,o)}catch{return!0}}function Em(e){var n=Dr(e,2);n!==null&&Kn(n,e,2)}function Pd(e){var n=kn();if(typeof e=="function"){var o=e;if(e=o(),Pr){yn(!0);try{o()}finally{yn(!1)}}}return n.memoizedState=n.baseState=e,n.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:jo,lastRenderedState:e},n}function Dm(e,n,o,a){return e.baseState=o,kd(e,Ft,typeof a=="function"?a:jo)}function pv(e,n,o,a,u){if(xc(e))throw Error(i(485));if(e=n.action,e!==null){var f={payload:u,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(y){f.listeners.push(y)}};S.T!==null?o(!0):f.isTransition=!1,a(f),o=n.pending,o===null?(f.next=n.pending=f,Tm(n,f)):(f.next=o.next,n.pending=o.next=f)}}function Tm(e,n){var o=n.action,a=n.payload,u=e.state;if(n.isTransition){var f=S.T,y={};S.T=y;try{var H=o(u,a),X=S.S;X!==null&&X(y,H),Im(e,n,H)}catch(oe){Rd(e,n,oe)}finally{f!==null&&y.types!==null&&(f.types=y.types),S.T=f}}else try{f=o(u,a),Im(e,n,f)}catch(oe){Rd(e,n,oe)}}function Im(e,n,o){o!==null&&typeof o=="object"&&typeof o.then=="function"?o.then(function(a){Fm(e,n,a)},function(a){return Rd(e,n,a)}):Fm(e,n,o)}function Fm(e,n,o){n.status="fulfilled",n.value=o,Am(n),e.state=o,n=e.pending,n!==null&&(o=n.next,o===n?e.pending=null:(o=o.next,n.next=o,Tm(e,o)))}function Rd(e,n,o){var a=e.pending;if(e.pending=null,a!==null){a=a.next;do n.status="rejected",n.reason=o,Am(n),n=n.next;while(n!==a)}e.action=null}function Am(e){e=e.listeners;for(var n=0;n<e.length;n++)(0,e[n])()}function zm(e,n){return n}function Om(e,n){if(ct){var o=Pt.formState;if(o!==null){e:{var a=Ye;if(ct){if(Bt){t:{for(var u=Bt,f=yl;u.nodeType!==8;){if(!f){u=null;break t}if(u=wl(u.nextSibling),u===null){u=null;break t}}f=u.data,u=f==="F!"||f==="F"?u:null}if(u){Bt=wl(u.nextSibling),a=u.data==="F!";break e}}Vo(a)}a=!1}a&&(n=o[0])}}return o=kn(),o.memoizedState=o.baseState=n,a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:zm,lastRenderedState:n},o.queue=a,o=Zm.bind(null,Ye,a),a.dispatch=o,a=Pd(!1),f=Vd.bind(null,Ye,!1,a.queue),a=kn(),u={state:n,dispatch:null,action:e,pending:null},a.queue=u,o=pv.bind(null,Ye,u,f,o),u.dispatch=o,a.memoizedState=e,[n,o,!1]}function km(e){var n=en();return Hm(n,Ft,e)}function Hm(e,n,o){if(n=kd(e,n,zm)[0],e=mc(jo)[0],typeof n=="object"&&n!==null&&typeof n.then=="function")try{var a=Fs(n)}catch(y){throw y===pa?rc:y}else a=n;n=en();var u=n.queue,f=u.dispatch;return o!==n.memoizedState&&(Ye.flags|=2048,va(9,{destroy:void 0},bv.bind(null,u,o),null)),[a,f,e]}function bv(e,n){e.action=n}function Pm(e){var n=en(),o=Ft;if(o!==null)return Hm(n,o,e);en(),n=n.memoizedState,o=en();var a=o.queue.dispatch;return o.memoizedState=e,[n,a,!1]}function va(e,n,o,a){return e={tag:e,create:o,deps:a,inst:n,next:null},n=Ye.updateQueue,n===null&&(n=hc(),Ye.updateQueue=n),o=n.lastEffect,o===null?n.lastEffect=e.next=e:(a=o.next,o.next=e,e.next=a,n.lastEffect=e),e}function Rm(){return en().memoizedState}function pc(e,n,o,a){var u=kn();Ye.flags|=e,u.memoizedState=va(1|n,{destroy:void 0},o,a===void 0?null:a)}function bc(e,n,o,a){var u=en();a=a===void 0?null:a;var f=u.memoizedState.inst;Ft!==null&&a!==null&&Td(a,Ft.memoizedState.deps)?u.memoizedState=va(n,f,o,a):(Ye.flags|=e,u.memoizedState=va(1|n,f,o,a))}function Nm(e,n){pc(8390656,8,e,n)}function Nd(e,n){bc(2048,8,e,n)}function xv(e){Ye.flags|=4;var n=Ye.updateQueue;if(n===null)n=hc(),Ye.updateQueue=n,n.events=[e];else{var o=n.events;o===null?n.events=[e]:o.push(e)}}function Gm(e){var n=en().memoizedState;return xv({ref:n,nextImpl:e}),function(){if((xt&2)!==0)throw Error(i(440));return n.impl.apply(void 0,arguments)}}function Lm(e,n){return bc(4,2,e,n)}function Bm(e,n){return bc(4,4,e,n)}function _m(e,n){if(typeof n=="function"){e=e();var o=n(e);return function(){typeof o=="function"?o():n(null)}}if(n!=null)return e=e(),n.current=e,function(){n.current=null}}function Vm(e,n,o){o=o!=null?o.concat([e]):null,bc(4,4,_m.bind(null,n,e),o)}function Gd(){}function Um(e,n){var o=en();n=n===void 0?null:n;var a=o.memoizedState;return n!==null&&Td(n,a[1])?a[0]:(o.memoizedState=[e,n],e)}function $m(e,n){var o=en();n=n===void 0?null:n;var a=o.memoizedState;if(n!==null&&Td(n,a[1]))return a[0];if(a=e(),Pr){yn(!0);try{e()}finally{yn(!1)}}return o.memoizedState=[a,n],a}function Ld(e,n,o){return o===void 0||(So&1073741824)!==0&&(at&261930)===0?e.memoizedState=n:(e.memoizedState=o,e=Wp(),Ye.lanes|=e,Zo|=e,o)}function Wm(e,n,o,a){return ll(o,n)?o:xa.current!==null?(e=Ld(e,o,a),ll(e,n)||(rn=!0),e):(So&42)===0||(So&1073741824)!==0&&(at&261930)===0?(rn=!0,e.memoizedState=o):(e=Wp(),Ye.lanes|=e,Zo|=e,n)}function qm(e,n,o,a,u){var f=M.p;M.p=f!==0&&8>f?f:8;var y=S.T,H={};S.T=H,Vd(e,!1,n,o);try{var X=u(),oe=S.S;if(oe!==null&&oe(H,X),X!==null&&typeof X=="object"&&typeof X.then=="function"){var de=hv(X,a);As(e,n,de,cl(e))}else As(e,n,a,cl(e))}catch(ge){As(e,n,{then:function(){},status:"rejected",reason:ge},cl())}finally{M.p=f,y!==null&&H.types!==null&&(y.types=H.types),S.T=y}}function Cv(){}function Bd(e,n,o,a){if(e.tag!==5)throw Error(i(476));var u=Ym(e).queue;qm(e,u,n,L,o===null?Cv:function(){return Km(e),o(a)})}function Ym(e){var n=e.memoizedState;if(n!==null)return n;n={memoizedState:L,baseState:L,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:jo,lastRenderedState:L},next:null};var o={};return n.next={memoizedState:o,baseState:o,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:jo,lastRenderedState:o},next:null},e.memoizedState=n,e=e.alternate,e!==null&&(e.memoizedState=n),n}function Km(e){var n=Ym(e);n.next===null&&(n=e.alternate.memoizedState),As(e,n.next.queue,{},cl())}function _d(){return wn(Ys)}function Xm(){return en().memoizedState}function Qm(){return en().memoizedState}function yv(e){for(var n=e.return;n!==null;){switch(n.tag){case 24:case 3:var o=cl();e=Wo(o);var a=qo(n,e,o);a!==null&&(Kn(a,n,o),Es(a,n,o)),n={cache:bd()},e.payload=n;return}n=n.return}}function vv(e,n,o){var a=cl();o={lane:a,revertLane:0,gesture:null,action:o,hasEagerState:!1,eagerState:null,next:null},xc(e)?Jm(n,o):(o=ad(e,n,o,a),o!==null&&(Kn(o,e,a),ep(o,n,a)))}function Zm(e,n,o){var a=cl();As(e,n,o,a)}function As(e,n,o,a){var u={lane:a,revertLane:0,gesture:null,action:o,hasEagerState:!1,eagerState:null,next:null};if(xc(e))Jm(n,u);else{var f=e.alternate;if(e.lanes===0&&(f===null||f.lanes===0)&&(f=n.lastRenderedReducer,f!==null))try{var y=n.lastRenderedState,H=f(y,o);if(u.hasEagerState=!0,u.eagerState=H,ll(H,y))return Zi(e,n,u,0),Pt===null&&Qi(),!1}catch{}if(o=ad(e,n,u,a),o!==null)return Kn(o,e,a),ep(o,n,a),!0}return!1}function Vd(e,n,o,a){if(a={lane:2,revertLane:wf(),gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null},xc(e)){if(n)throw Error(i(479))}else n=ad(e,o,a,2),n!==null&&Kn(n,e,2)}function xc(e){var n=e.alternate;return e===Ye||n!==null&&n===Ye}function Jm(e,n){Ca=dc=!0;var o=e.pending;o===null?n.next=n:(n.next=o.next,o.next=n),e.pending=n}function ep(e,n,o){if((o&4194048)!==0){var a=n.lanes;a&=e.pendingLanes,o|=a,n.lanes=o,Ri(e,o)}}var zs={readContext:wn,use:gc,useCallback:Kt,useContext:Kt,useEffect:Kt,useImperativeHandle:Kt,useLayoutEffect:Kt,useInsertionEffect:Kt,useMemo:Kt,useReducer:Kt,useRef:Kt,useState:Kt,useDebugValue:Kt,useDeferredValue:Kt,useTransition:Kt,useSyncExternalStore:Kt,useId:Kt,useHostTransitionStatus:Kt,useFormState:Kt,useActionState:Kt,useOptimistic:Kt,useMemoCache:Kt,useCacheRefresh:Kt};zs.useEffectEvent=Kt;var tp={readContext:wn,use:gc,useCallback:function(e,n){return kn().memoizedState=[e,n===void 0?null:n],e},useContext:wn,useEffect:Nm,useImperativeHandle:function(e,n,o){o=o!=null?o.concat([e]):null,pc(4194308,4,_m.bind(null,n,e),o)},useLayoutEffect:function(e,n){return pc(4194308,4,e,n)},useInsertionEffect:function(e,n){pc(4,2,e,n)},useMemo:function(e,n){var o=kn();n=n===void 0?null:n;var a=e();if(Pr){yn(!0);try{e()}finally{yn(!1)}}return o.memoizedState=[a,n],a},useReducer:function(e,n,o){var a=kn();if(o!==void 0){var u=o(n);if(Pr){yn(!0);try{o(n)}finally{yn(!1)}}}else u=n;return a.memoizedState=a.baseState=u,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:u},a.queue=e,e=e.dispatch=vv.bind(null,Ye,e),[a.memoizedState,e]},useRef:function(e){var n=kn();return e={current:e},n.memoizedState=e},useState:function(e){e=Pd(e);var n=e.queue,o=Zm.bind(null,Ye,n);return n.dispatch=o,[e.memoizedState,o]},useDebugValue:Gd,useDeferredValue:function(e,n){var o=kn();return Ld(o,e,n)},useTransition:function(){var e=Pd(!1);return e=qm.bind(null,Ye,e.queue,!0,!1),kn().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,n,o){var a=Ye,u=kn();if(ct){if(o===void 0)throw Error(i(407));o=o()}else{if(o=n(),Pt===null)throw Error(i(349));(at&127)!==0||wm(a,n,o)}u.memoizedState=o;var f={value:o,getSnapshot:n};return u.queue=f,Nm(jm.bind(null,a,f,e),[e]),a.flags|=2048,va(9,{destroy:void 0},Sm.bind(null,a,f,o,n),null),o},useId:function(){var e=kn(),n=Pt.identifierPrefix;if(ct){var o=eo,a=Jl;o=(a&~(1<<32-nn(a)-1)).toString(32)+o,n="_"+n+"R_"+o,o=fc++,0<o&&(n+="H"+o.toString(32)),n+="_"}else o=gv++,n="_"+n+"r_"+o.toString(32)+"_";return e.memoizedState=n},useHostTransitionStatus:_d,useFormState:Om,useActionState:Om,useOptimistic:function(e){var n=kn();n.memoizedState=n.baseState=e;var o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return n.queue=o,n=Vd.bind(null,Ye,!0,o),o.dispatch=n,[e,n]},useMemoCache:Od,useCacheRefresh:function(){return kn().memoizedState=yv.bind(null,Ye)},useEffectEvent:function(e){var n=kn(),o={impl:e};return n.memoizedState=o,function(){if((xt&2)!==0)throw Error(i(440));return o.impl.apply(void 0,arguments)}}},Ud={readContext:wn,use:gc,useCallback:Um,useContext:wn,useEffect:Nd,useImperativeHandle:Vm,useInsertionEffect:Lm,useLayoutEffect:Bm,useMemo:$m,useReducer:mc,useRef:Rm,useState:function(){return mc(jo)},useDebugValue:Gd,useDeferredValue:function(e,n){var o=en();return Wm(o,Ft.memoizedState,e,n)},useTransition:function(){var e=mc(jo)[0],n=en().memoizedState;return[typeof e=="boolean"?e:Fs(e),n]},useSyncExternalStore:vm,useId:Xm,useHostTransitionStatus:_d,useFormState:km,useActionState:km,useOptimistic:function(e,n){var o=en();return Dm(o,Ft,e,n)},useMemoCache:Od,useCacheRefresh:Qm};Ud.useEffectEvent=Gm;var np={readContext:wn,use:gc,useCallback:Um,useContext:wn,useEffect:Nd,useImperativeHandle:Vm,useInsertionEffect:Lm,useLayoutEffect:Bm,useMemo:$m,useReducer:Hd,useRef:Rm,useState:function(){return Hd(jo)},useDebugValue:Gd,useDeferredValue:function(e,n){var o=en();return Ft===null?Ld(o,e,n):Wm(o,Ft.memoizedState,e,n)},useTransition:function(){var e=Hd(jo)[0],n=en().memoizedState;return[typeof e=="boolean"?e:Fs(e),n]},useSyncExternalStore:vm,useId:Xm,useHostTransitionStatus:_d,useFormState:Pm,useActionState:Pm,useOptimistic:function(e,n){var o=en();return Ft!==null?Dm(o,Ft,e,n):(o.baseState=e,[e,o.queue.dispatch])},useMemoCache:Od,useCacheRefresh:Qm};np.useEffectEvent=Gm;function $d(e,n,o,a){n=e.memoizedState,o=o(a,n),o=o==null?n:C({},n,o),e.memoizedState=o,e.lanes===0&&(e.updateQueue.baseState=o)}var Wd={enqueueSetState:function(e,n,o){e=e._reactInternals;var a=cl(),u=Wo(a);u.payload=n,o!=null&&(u.callback=o),n=qo(e,u,a),n!==null&&(Kn(n,e,a),Es(n,e,a))},enqueueReplaceState:function(e,n,o){e=e._reactInternals;var a=cl(),u=Wo(a);u.tag=1,u.payload=n,o!=null&&(u.callback=o),n=qo(e,u,a),n!==null&&(Kn(n,e,a),Es(n,e,a))},enqueueForceUpdate:function(e,n){e=e._reactInternals;var o=cl(),a=Wo(o);a.tag=2,n!=null&&(a.callback=n),n=qo(e,a,o),n!==null&&(Kn(n,e,o),Es(n,e,o))}};function lp(e,n,o,a,u,f,y){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(a,f,y):n.prototype&&n.prototype.isPureReactComponent?!xs(o,a)||!xs(u,f):!0}function op(e,n,o,a){e=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(o,a),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(o,a),n.state!==e&&Wd.enqueueReplaceState(n,n.state,null)}function Rr(e,n){var o=n;if("ref"in n){o={};for(var a in n)a!=="ref"&&(o[a]=n[a])}if(e=e.defaultProps){o===n&&(o=C({},o));for(var u in e)o[u]===void 0&&(o[u]=e[u])}return o}function rp(e){Xi(e)}function ap(e){console.error(e)}function sp(e){Xi(e)}function Cc(e,n){try{var o=e.onUncaughtError;o(n.value,{componentStack:n.stack})}catch(a){setTimeout(function(){throw a})}}function ip(e,n,o){try{var a=e.onCaughtError;a(o.value,{componentStack:o.stack,errorBoundary:n.tag===1?n.stateNode:null})}catch(u){setTimeout(function(){throw u})}}function qd(e,n,o){return o=Wo(o),o.tag=3,o.payload={element:null},o.callback=function(){Cc(e,n)},o}function cp(e){return e=Wo(e),e.tag=3,e}function up(e,n,o,a){var u=o.type.getDerivedStateFromError;if(typeof u=="function"){var f=a.value;e.payload=function(){return u(f)},e.callback=function(){ip(n,o,a)}}var y=o.stateNode;y!==null&&typeof y.componentDidCatch=="function"&&(e.callback=function(){ip(n,o,a),typeof u!="function"&&(Jo===null?Jo=new Set([this]):Jo.add(this));var H=a.stack;this.componentDidCatch(a.value,{componentStack:H!==null?H:""})})}function wv(e,n,o,a,u){if(o.flags|=32768,a!==null&&typeof a=="object"&&typeof a.then=="function"){if(n=o.alternate,n!==null&&ha(n,o,u,!0),o=rl.current,o!==null){switch(o.tag){case 31:case 13:return vl===null?Ac():o.alternate===null&&Xt===0&&(Xt=3),o.flags&=-257,o.flags|=65536,o.lanes=u,a===ac?o.flags|=16384:(n=o.updateQueue,n===null?o.updateQueue=new Set([a]):n.add(a),Cf(e,a,u)),!1;case 22:return o.flags|=65536,a===ac?o.flags|=16384:(n=o.updateQueue,n===null?(n={transitions:null,markerInstances:null,retryQueue:new Set([a])},o.updateQueue=n):(o=n.retryQueue,o===null?n.retryQueue=new Set([a]):o.add(a)),Cf(e,a,u)),!1}throw Error(i(435,o.tag))}return Cf(e,a,u),Ac(),!1}if(ct)return n=rl.current,n!==null?((n.flags&65536)===0&&(n.flags|=256),n.flags|=65536,n.lanes=u,a!==fd&&(e=Error(i(422),{cause:a}),vs(bl(e,o)))):(a!==fd&&(n=Error(i(423),{cause:a}),vs(bl(n,o))),e=e.current.alternate,e.flags|=65536,u&=-u,e.lanes|=u,a=bl(a,o),u=qd(e.stateNode,a,u),Sd(e,u),Xt!==4&&(Xt=2)),!1;var f=Error(i(520),{cause:a});if(f=bl(f,o),Ls===null?Ls=[f]:Ls.push(f),Xt!==4&&(Xt=2),n===null)return!0;a=bl(a,o),o=n;do{switch(o.tag){case 3:return o.flags|=65536,e=u&-u,o.lanes|=e,e=qd(o.stateNode,a,e),Sd(o,e),!1;case 1:if(n=o.type,f=o.stateNode,(o.flags&128)===0&&(typeof n.getDerivedStateFromError=="function"||f!==null&&typeof f.componentDidCatch=="function"&&(Jo===null||!Jo.has(f))))return o.flags|=65536,u&=-u,o.lanes|=u,u=cp(u),up(u,e,o,a),Sd(o,u),!1}o=o.return}while(o!==null);return!1}var Yd=Error(i(461)),rn=!1;function Sn(e,n,o,a){n.child=e===null?gm(n,null,o,a):Hr(n,e.child,o,a)}function dp(e,n,o,a,u){o=o.render;var f=n.ref;if("ref"in a){var y={};for(var H in a)H!=="ref"&&(y[H]=a[H])}else y=a;return Ar(n),a=Id(e,n,o,y,f,u),H=Fd(),e!==null&&!rn?(Ad(e,n,u),Mo(e,n,u)):(ct&&H&&ud(n),n.flags|=1,Sn(e,n,a,u),n.child)}function fp(e,n,o,a,u){if(e===null){var f=o.type;return typeof f=="function"&&!sd(f)&&f.defaultProps===void 0&&o.compare===null?(n.tag=15,n.type=f,hp(e,n,f,a,u)):(e=ec(o.type,null,a,n,n.mode,u),e.ref=n.ref,e.return=n,n.child=e)}if(f=e.child,!nf(e,u)){var y=f.memoizedProps;if(o=o.compare,o=o!==null?o:xs,o(y,a)&&e.ref===n.ref)return Mo(e,n,u)}return n.flags|=1,e=Co(f,a),e.ref=n.ref,e.return=n,n.child=e}function hp(e,n,o,a,u){if(e!==null){var f=e.memoizedProps;if(xs(f,a)&&e.ref===n.ref)if(rn=!1,n.pendingProps=a=f,nf(e,u))(e.flags&131072)!==0&&(rn=!0);else return n.lanes=e.lanes,Mo(e,n,u)}return Kd(e,n,o,a,u)}function gp(e,n,o,a){var u=a.children,f=e!==null?e.memoizedState:null;if(e===null&&n.stateNode===null&&(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),a.mode==="hidden"){if((n.flags&128)!==0){if(f=f!==null?f.baseLanes|o:o,e!==null){for(a=n.child=e.child,u=0;a!==null;)u=u|a.lanes|a.childLanes,a=a.sibling;a=u&~f}else a=0,n.child=null;return mp(e,n,f,o,a)}if((o&536870912)!==0)n.memoizedState={baseLanes:0,cachePool:null},e!==null&&oc(n,f!==null?f.cachePool:null),f!==null?bm(n,f):Md(),xm(n);else return a=n.lanes=536870912,mp(e,n,f!==null?f.baseLanes|o:o,o,a)}else f!==null?(oc(n,f.cachePool),bm(n,f),Ko(),n.memoizedState=null):(e!==null&&oc(n,null),Md(),Ko());return Sn(e,n,u,o),n.child}function Os(e,n){return e!==null&&e.tag===22||n.stateNode!==null||(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),n.sibling}function mp(e,n,o,a,u){var f=Cd();return f=f===null?null:{parent:ln._currentValue,pool:f},n.memoizedState={baseLanes:o,cachePool:f},e!==null&&oc(n,null),Md(),xm(n),e!==null&&ha(e,n,a,!0),n.childLanes=u,null}function yc(e,n){return n=wc({mode:n.mode,children:n.children},e.mode),n.ref=e.ref,e.child=n,n.return=e,n}function pp(e,n,o){return Hr(n,e.child,null,o),e=yc(n,n.pendingProps),e.flags|=2,al(n),n.memoizedState=null,e}function Sv(e,n,o){var a=n.pendingProps,u=(n.flags&128)!==0;if(n.flags&=-129,e===null){if(ct){if(a.mode==="hidden")return e=yc(n,a),n.lanes=536870912,Os(null,e);if(Dd(n),(e=Bt)?(e=Tb(e,yl),e=e!==null&&e.data==="&"?e:null,e!==null&&(n.memoizedState={dehydrated:e,treeContext:Bo!==null?{id:Jl,overflow:eo}:null,retryLane:536870912,hydrationErrors:null},o=Jg(e),o.return=n,n.child=o,vn=n,Bt=null)):e=null,e===null)throw Vo(n);return n.lanes=536870912,null}return yc(n,a)}var f=e.memoizedState;if(f!==null){var y=f.dehydrated;if(Dd(n),u)if(n.flags&256)n.flags&=-257,n=pp(e,n,o);else if(n.memoizedState!==null)n.child=e.child,n.flags|=128,n=null;else throw Error(i(558));else if(rn||ha(e,n,o,!1),u=(o&e.childLanes)!==0,rn||u){if(a=Pt,a!==null&&(y=Sr(a,o),y!==0&&y!==f.retryLane))throw f.retryLane=y,Dr(e,y),Kn(a,e,y),Yd;Ac(),n=pp(e,n,o)}else e=f.treeContext,Bt=wl(y.nextSibling),vn=n,ct=!0,_o=null,yl=!1,e!==null&&nm(n,e),n=yc(n,a),n.flags|=4096;return n}return e=Co(e.child,{mode:a.mode,children:a.children}),e.ref=n.ref,n.child=e,e.return=n,e}function vc(e,n){var o=n.ref;if(o===null)e!==null&&e.ref!==null&&(n.flags|=4194816);else{if(typeof o!="function"&&typeof o!="object")throw Error(i(284));(e===null||e.ref!==o)&&(n.flags|=4194816)}}function Kd(e,n,o,a,u){return Ar(n),o=Id(e,n,o,a,void 0,u),a=Fd(),e!==null&&!rn?(Ad(e,n,u),Mo(e,n,u)):(ct&&a&&ud(n),n.flags|=1,Sn(e,n,o,u),n.child)}function bp(e,n,o,a,u,f){return Ar(n),n.updateQueue=null,o=ym(n,a,o,u),Cm(e),a=Fd(),e!==null&&!rn?(Ad(e,n,f),Mo(e,n,f)):(ct&&a&&ud(n),n.flags|=1,Sn(e,n,o,f),n.child)}function xp(e,n,o,a,u){if(Ar(n),n.stateNode===null){var f=ca,y=o.contextType;typeof y=="object"&&y!==null&&(f=wn(y)),f=new o(a,f),n.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,f.updater=Wd,n.stateNode=f,f._reactInternals=n,f=n.stateNode,f.props=a,f.state=n.memoizedState,f.refs={},vd(n),y=o.contextType,f.context=typeof y=="object"&&y!==null?wn(y):ca,f.state=n.memoizedState,y=o.getDerivedStateFromProps,typeof y=="function"&&($d(n,o,y,a),f.state=n.memoizedState),typeof o.getDerivedStateFromProps=="function"||typeof f.getSnapshotBeforeUpdate=="function"||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(y=f.state,typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount(),y!==f.state&&Wd.enqueueReplaceState(f,f.state,null),Ts(n,a,f,u),Ds(),f.state=n.memoizedState),typeof f.componentDidMount=="function"&&(n.flags|=4194308),a=!0}else if(e===null){f=n.stateNode;var H=n.memoizedProps,X=Rr(o,H);f.props=X;var oe=f.context,de=o.contextType;y=ca,typeof de=="object"&&de!==null&&(y=wn(de));var ge=o.getDerivedStateFromProps;de=typeof ge=="function"||typeof f.getSnapshotBeforeUpdate=="function",H=n.pendingProps!==H,de||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(H||oe!==y)&&op(n,f,a,y),$o=!1;var ae=n.memoizedState;f.state=ae,Ts(n,a,f,u),Ds(),oe=n.memoizedState,H||ae!==oe||$o?(typeof ge=="function"&&($d(n,o,ge,a),oe=n.memoizedState),(X=$o||lp(n,o,X,a,ae,oe,y))?(de||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount()),typeof f.componentDidMount=="function"&&(n.flags|=4194308)):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=a,n.memoizedState=oe),f.props=a,f.state=oe,f.context=y,a=X):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),a=!1)}else{f=n.stateNode,wd(e,n),y=n.memoizedProps,de=Rr(o,y),f.props=de,ge=n.pendingProps,ae=f.context,oe=o.contextType,X=ca,typeof oe=="object"&&oe!==null&&(X=wn(oe)),H=o.getDerivedStateFromProps,(oe=typeof H=="function"||typeof f.getSnapshotBeforeUpdate=="function")||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(y!==ge||ae!==X)&&op(n,f,a,X),$o=!1,ae=n.memoizedState,f.state=ae,Ts(n,a,f,u),Ds();var se=n.memoizedState;y!==ge||ae!==se||$o||e!==null&&e.dependencies!==null&&nc(e.dependencies)?(typeof H=="function"&&($d(n,o,H,a),se=n.memoizedState),(de=$o||lp(n,o,de,a,ae,se,X)||e!==null&&e.dependencies!==null&&nc(e.dependencies))?(oe||typeof f.UNSAFE_componentWillUpdate!="function"&&typeof f.componentWillUpdate!="function"||(typeof f.componentWillUpdate=="function"&&f.componentWillUpdate(a,se,X),typeof f.UNSAFE_componentWillUpdate=="function"&&f.UNSAFE_componentWillUpdate(a,se,X)),typeof f.componentDidUpdate=="function"&&(n.flags|=4),typeof f.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof f.componentDidUpdate!="function"||y===e.memoizedProps&&ae===e.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||y===e.memoizedProps&&ae===e.memoizedState||(n.flags|=1024),n.memoizedProps=a,n.memoizedState=se),f.props=a,f.state=se,f.context=X,a=de):(typeof f.componentDidUpdate!="function"||y===e.memoizedProps&&ae===e.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||y===e.memoizedProps&&ae===e.memoizedState||(n.flags|=1024),a=!1)}return f=a,vc(e,n),a=(n.flags&128)!==0,f||a?(f=n.stateNode,o=a&&typeof o.getDerivedStateFromError!="function"?null:f.render(),n.flags|=1,e!==null&&a?(n.child=Hr(n,e.child,null,u),n.child=Hr(n,null,o,u)):Sn(e,n,o,u),n.memoizedState=f.state,e=n.child):e=Mo(e,n,u),e}function Cp(e,n,o,a){return Ir(),n.flags|=256,Sn(e,n,o,a),n.child}var Xd={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Qd(e){return{baseLanes:e,cachePool:im()}}function Zd(e,n,o){return e=e!==null?e.childLanes&~o:0,n&&(e|=il),e}function yp(e,n,o){var a=n.pendingProps,u=!1,f=(n.flags&128)!==0,y;if((y=f)||(y=e!==null&&e.memoizedState===null?!1:(Jt.current&2)!==0),y&&(u=!0,n.flags&=-129),y=(n.flags&32)!==0,n.flags&=-33,e===null){if(ct){if(u?Yo(n):Ko(),(e=Bt)?(e=Tb(e,yl),e=e!==null&&e.data!=="&"?e:null,e!==null&&(n.memoizedState={dehydrated:e,treeContext:Bo!==null?{id:Jl,overflow:eo}:null,retryLane:536870912,hydrationErrors:null},o=Jg(e),o.return=n,n.child=o,vn=n,Bt=null)):e=null,e===null)throw Vo(n);return Hf(e)?n.lanes=32:n.lanes=536870912,null}var H=a.children;return a=a.fallback,u?(Ko(),u=n.mode,H=wc({mode:"hidden",children:H},u),a=Tr(a,u,o,null),H.return=n,a.return=n,H.sibling=a,n.child=H,a=n.child,a.memoizedState=Qd(o),a.childLanes=Zd(e,y,o),n.memoizedState=Xd,Os(null,a)):(Yo(n),Jd(n,H))}var X=e.memoizedState;if(X!==null&&(H=X.dehydrated,H!==null)){if(f)n.flags&256?(Yo(n),n.flags&=-257,n=ef(e,n,o)):n.memoizedState!==null?(Ko(),n.child=e.child,n.flags|=128,n=null):(Ko(),H=a.fallback,u=n.mode,a=wc({mode:"visible",children:a.children},u),H=Tr(H,u,o,null),H.flags|=2,a.return=n,H.return=n,a.sibling=H,n.child=a,Hr(n,e.child,null,o),a=n.child,a.memoizedState=Qd(o),a.childLanes=Zd(e,y,o),n.memoizedState=Xd,n=Os(null,a));else if(Yo(n),Hf(H)){if(y=H.nextSibling&&H.nextSibling.dataset,y)var oe=y.dgst;y=oe,a=Error(i(419)),a.stack="",a.digest=y,vs({value:a,source:null,stack:null}),n=ef(e,n,o)}else if(rn||ha(e,n,o,!1),y=(o&e.childLanes)!==0,rn||y){if(y=Pt,y!==null&&(a=Sr(y,o),a!==0&&a!==X.retryLane))throw X.retryLane=a,Dr(e,a),Kn(y,e,a),Yd;kf(H)||Ac(),n=ef(e,n,o)}else kf(H)?(n.flags|=192,n.child=e.child,n=null):(e=X.treeContext,Bt=wl(H.nextSibling),vn=n,ct=!0,_o=null,yl=!1,e!==null&&nm(n,e),n=Jd(n,a.children),n.flags|=4096);return n}return u?(Ko(),H=a.fallback,u=n.mode,X=e.child,oe=X.sibling,a=Co(X,{mode:"hidden",children:a.children}),a.subtreeFlags=X.subtreeFlags&65011712,oe!==null?H=Co(oe,H):(H=Tr(H,u,o,null),H.flags|=2),H.return=n,a.return=n,a.sibling=H,n.child=a,Os(null,a),a=n.child,H=e.child.memoizedState,H===null?H=Qd(o):(u=H.cachePool,u!==null?(X=ln._currentValue,u=u.parent!==X?{parent:X,pool:X}:u):u=im(),H={baseLanes:H.baseLanes|o,cachePool:u}),a.memoizedState=H,a.childLanes=Zd(e,y,o),n.memoizedState=Xd,Os(e.child,a)):(Yo(n),o=e.child,e=o.sibling,o=Co(o,{mode:"visible",children:a.children}),o.return=n,o.sibling=null,e!==null&&(y=n.deletions,y===null?(n.deletions=[e],n.flags|=16):y.push(e)),n.child=o,n.memoizedState=null,o)}function Jd(e,n){return n=wc({mode:"visible",children:n},e.mode),n.return=e,e.child=n}function wc(e,n){return e=ol(22,e,null,n),e.lanes=0,e}function ef(e,n,o){return Hr(n,e.child,null,o),e=Jd(n,n.pendingProps.children),e.flags|=2,n.memoizedState=null,e}function vp(e,n,o){e.lanes|=n;var a=e.alternate;a!==null&&(a.lanes|=n),md(e.return,n,o)}function tf(e,n,o,a,u,f){var y=e.memoizedState;y===null?e.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:a,tail:o,tailMode:u,treeForkCount:f}:(y.isBackwards=n,y.rendering=null,y.renderingStartTime=0,y.last=a,y.tail=o,y.tailMode=u,y.treeForkCount=f)}function wp(e,n,o){var a=n.pendingProps,u=a.revealOrder,f=a.tail;a=a.children;var y=Jt.current,H=(y&2)!==0;if(H?(y=y&1|2,n.flags|=128):y&=1,le(Jt,y),Sn(e,n,a,o),a=ct?ys:0,!H&&e!==null&&(e.flags&128)!==0)e:for(e=n.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&vp(e,o,n);else if(e.tag===19)vp(e,o,n);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===n)break e;for(;e.sibling===null;){if(e.return===null||e.return===n)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(u){case"forwards":for(o=n.child,u=null;o!==null;)e=o.alternate,e!==null&&uc(e)===null&&(u=o),o=o.sibling;o=u,o===null?(u=n.child,n.child=null):(u=o.sibling,o.sibling=null),tf(n,!1,u,o,f,a);break;case"backwards":case"unstable_legacy-backwards":for(o=null,u=n.child,n.child=null;u!==null;){if(e=u.alternate,e!==null&&uc(e)===null){n.child=u;break}e=u.sibling,u.sibling=o,o=u,u=e}tf(n,!0,o,null,f,a);break;case"together":tf(n,!1,null,null,void 0,a);break;default:n.memoizedState=null}return n.child}function Mo(e,n,o){if(e!==null&&(n.dependencies=e.dependencies),Zo|=n.lanes,(o&n.childLanes)===0)if(e!==null){if(ha(e,n,o,!1),(o&n.childLanes)===0)return null}else return null;if(e!==null&&n.child!==e.child)throw Error(i(153));if(n.child!==null){for(e=n.child,o=Co(e,e.pendingProps),n.child=o,o.return=n;e.sibling!==null;)e=e.sibling,o=o.sibling=Co(e,e.pendingProps),o.return=n;o.sibling=null}return n.child}function nf(e,n){return(e.lanes&n)!==0?!0:(e=e.dependencies,!!(e!==null&&nc(e)))}function jv(e,n,o){switch(n.tag){case 3:Te(n,n.stateNode.containerInfo),Uo(n,ln,e.memoizedState.cache),Ir();break;case 27:case 5:Ae(n);break;case 4:Te(n,n.stateNode.containerInfo);break;case 10:Uo(n,n.type,n.memoizedProps.value);break;case 31:if(n.memoizedState!==null)return n.flags|=128,Dd(n),null;break;case 13:var a=n.memoizedState;if(a!==null)return a.dehydrated!==null?(Yo(n),n.flags|=128,null):(o&n.child.childLanes)!==0?yp(e,n,o):(Yo(n),e=Mo(e,n,o),e!==null?e.sibling:null);Yo(n);break;case 19:var u=(e.flags&128)!==0;if(a=(o&n.childLanes)!==0,a||(ha(e,n,o,!1),a=(o&n.childLanes)!==0),u){if(a)return wp(e,n,o);n.flags|=128}if(u=n.memoizedState,u!==null&&(u.rendering=null,u.tail=null,u.lastEffect=null),le(Jt,Jt.current),a)break;return null;case 22:return n.lanes=0,gp(e,n,o,n.pendingProps);case 24:Uo(n,ln,e.memoizedState.cache)}return Mo(e,n,o)}function Sp(e,n,o){if(e!==null)if(e.memoizedProps!==n.pendingProps)rn=!0;else{if(!nf(e,o)&&(n.flags&128)===0)return rn=!1,jv(e,n,o);rn=(e.flags&131072)!==0}else rn=!1,ct&&(n.flags&1048576)!==0&&tm(n,ys,n.index);switch(n.lanes=0,n.tag){case 16:e:{var a=n.pendingProps;if(e=Or(n.elementType),n.type=e,typeof e=="function")sd(e)?(a=Rr(e,a),n.tag=1,n=xp(null,n,e,a,o)):(n.tag=0,n=Kd(null,n,e,a,o));else{if(e!=null){var u=e.$$typeof;if(u===V){n.tag=11,n=dp(null,n,e,a,o);break e}else if(u===_){n.tag=14,n=fp(null,n,e,a,o);break e}}throw n=K(e)||e,Error(i(306,n,""))}}return n;case 0:return Kd(e,n,n.type,n.pendingProps,o);case 1:return a=n.type,u=Rr(a,n.pendingProps),xp(e,n,a,u,o);case 3:e:{if(Te(n,n.stateNode.containerInfo),e===null)throw Error(i(387));a=n.pendingProps;var f=n.memoizedState;u=f.element,wd(e,n),Ts(n,a,null,o);var y=n.memoizedState;if(a=y.cache,Uo(n,ln,a),a!==f.cache&&pd(n,[ln],o,!0),Ds(),a=y.element,f.isDehydrated)if(f={element:a,isDehydrated:!1,cache:y.cache},n.updateQueue.baseState=f,n.memoizedState=f,n.flags&256){n=Cp(e,n,a,o);break e}else if(a!==u){u=bl(Error(i(424)),n),vs(u),n=Cp(e,n,a,o);break e}else for(e=n.stateNode.containerInfo,e.nodeType===9?e=e.body:e=e.nodeName==="HTML"?e.ownerDocument.body:e,Bt=wl(e.firstChild),vn=n,ct=!0,_o=null,yl=!0,o=gm(n,null,a,o),n.child=o;o;)o.flags=o.flags&-3|4096,o=o.sibling;else{if(Ir(),a===u){n=Mo(e,n,o);break e}Sn(e,n,a,o)}n=n.child}return n;case 26:return vc(e,n),e===null?(o=kb(n.type,null,n.pendingProps,null))?n.memoizedState=o:ct||(o=n.type,e=n.pendingProps,a=Nc(ce.current).createElement(o),a[dn]=n,a[En]=e,jn(a,o,e),Yt(a),n.stateNode=a):n.memoizedState=kb(n.type,e.memoizedProps,n.pendingProps,e.memoizedState),null;case 27:return Ae(n),e===null&&ct&&(a=n.stateNode=Ab(n.type,n.pendingProps,ce.current),vn=n,yl=!0,u=Bt,lr(n.type)?(Pf=u,Bt=wl(a.firstChild)):Bt=u),Sn(e,n,n.pendingProps.children,o),vc(e,n),e===null&&(n.flags|=4194304),n.child;case 5:return e===null&&ct&&((u=a=Bt)&&(a=ew(a,n.type,n.pendingProps,yl),a!==null?(n.stateNode=a,vn=n,Bt=wl(a.firstChild),yl=!1,u=!0):u=!1),u||Vo(n)),Ae(n),u=n.type,f=n.pendingProps,y=e!==null?e.memoizedProps:null,a=f.children,Af(u,f)?a=null:y!==null&&Af(u,y)&&(n.flags|=32),n.memoizedState!==null&&(u=Id(e,n,mv,null,null,o),Ys._currentValue=u),vc(e,n),Sn(e,n,a,o),n.child;case 6:return e===null&&ct&&((e=o=Bt)&&(o=tw(o,n.pendingProps,yl),o!==null?(n.stateNode=o,vn=n,Bt=null,e=!0):e=!1),e||Vo(n)),null;case 13:return yp(e,n,o);case 4:return Te(n,n.stateNode.containerInfo),a=n.pendingProps,e===null?n.child=Hr(n,null,a,o):Sn(e,n,a,o),n.child;case 11:return dp(e,n,n.type,n.pendingProps,o);case 7:return Sn(e,n,n.pendingProps,o),n.child;case 8:return Sn(e,n,n.pendingProps.children,o),n.child;case 12:return Sn(e,n,n.pendingProps.children,o),n.child;case 10:return a=n.pendingProps,Uo(n,n.type,a.value),Sn(e,n,a.children,o),n.child;case 9:return u=n.type._context,a=n.pendingProps.children,Ar(n),u=wn(u),a=a(u),n.flags|=1,Sn(e,n,a,o),n.child;case 14:return fp(e,n,n.type,n.pendingProps,o);case 15:return hp(e,n,n.type,n.pendingProps,o);case 19:return wp(e,n,o);case 31:return Sv(e,n,o);case 22:return gp(e,n,o,n.pendingProps);case 24:return Ar(n),a=wn(ln),e===null?(u=Cd(),u===null&&(u=Pt,f=bd(),u.pooledCache=f,f.refCount++,f!==null&&(u.pooledCacheLanes|=o),u=f),n.memoizedState={parent:a,cache:u},vd(n),Uo(n,ln,u)):((e.lanes&o)!==0&&(wd(e,n),Ts(n,null,null,o),Ds()),u=e.memoizedState,f=n.memoizedState,u.parent!==a?(u={parent:a,cache:a},n.memoizedState=u,n.lanes===0&&(n.memoizedState=n.updateQueue.baseState=u),Uo(n,ln,a)):(a=f.cache,Uo(n,ln,a),a!==u.cache&&pd(n,[ln],o,!0))),Sn(e,n,n.pendingProps.children,o),n.child;case 29:throw n.pendingProps}throw Error(i(156,n.tag))}function Eo(e){e.flags|=4}function lf(e,n,o,a,u){if((n=(e.mode&32)!==0)&&(n=!1),n){if(e.flags|=16777216,(u&335544128)===u)if(e.stateNode.complete)e.flags|=8192;else if(Xp())e.flags|=8192;else throw kr=ac,yd}else e.flags&=-16777217}function jp(e,n){if(n.type!=="stylesheet"||(n.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!Gb(n))if(Xp())e.flags|=8192;else throw kr=ac,yd}function Sc(e,n){n!==null&&(e.flags|=4),e.flags&16384&&(n=e.tag!==22?vr():536870912,e.lanes|=n,Ma|=n)}function ks(e,n){if(!ct)switch(e.tailMode){case"hidden":n=e.tail;for(var o=null;n!==null;)n.alternate!==null&&(o=n),n=n.sibling;o===null?e.tail=null:o.sibling=null;break;case"collapsed":o=e.tail;for(var a=null;o!==null;)o.alternate!==null&&(a=o),o=o.sibling;a===null?n||e.tail===null?e.tail=null:e.tail.sibling=null:a.sibling=null}}function _t(e){var n=e.alternate!==null&&e.alternate.child===e.child,o=0,a=0;if(n)for(var u=e.child;u!==null;)o|=u.lanes|u.childLanes,a|=u.subtreeFlags&65011712,a|=u.flags&65011712,u.return=e,u=u.sibling;else for(u=e.child;u!==null;)o|=u.lanes|u.childLanes,a|=u.subtreeFlags,a|=u.flags,u.return=e,u=u.sibling;return e.subtreeFlags|=a,e.childLanes=o,n}function Mv(e,n,o){var a=n.pendingProps;switch(dd(n),n.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return _t(n),null;case 1:return _t(n),null;case 3:return o=n.stateNode,a=null,e!==null&&(a=e.memoizedState.cache),n.memoizedState.cache!==a&&(n.flags|=2048),wo(ln),Se(),o.pendingContext&&(o.context=o.pendingContext,o.pendingContext=null),(e===null||e.child===null)&&(fa(n)?Eo(n):e===null||e.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,hd())),_t(n),null;case 26:var u=n.type,f=n.memoizedState;return e===null?(Eo(n),f!==null?(_t(n),jp(n,f)):(_t(n),lf(n,u,null,a,o))):f?f!==e.memoizedState?(Eo(n),_t(n),jp(n,f)):(_t(n),n.flags&=-16777217):(e=e.memoizedProps,e!==a&&Eo(n),_t(n),lf(n,u,e,a,o)),null;case 27:if(Ne(n),o=ce.current,u=n.type,e!==null&&n.stateNode!=null)e.memoizedProps!==a&&Eo(n);else{if(!a){if(n.stateNode===null)throw Error(i(166));return _t(n),null}e=re.current,fa(n)?lm(n):(e=Ab(u,a,o),n.stateNode=e,Eo(n))}return _t(n),null;case 5:if(Ne(n),u=n.type,e!==null&&n.stateNode!=null)e.memoizedProps!==a&&Eo(n);else{if(!a){if(n.stateNode===null)throw Error(i(166));return _t(n),null}if(f=re.current,fa(n))lm(n);else{var y=Nc(ce.current);switch(f){case 1:f=y.createElementNS("http://www.w3.org/2000/svg",u);break;case 2:f=y.createElementNS("http://www.w3.org/1998/Math/MathML",u);break;default:switch(u){case"svg":f=y.createElementNS("http://www.w3.org/2000/svg",u);break;case"math":f=y.createElementNS("http://www.w3.org/1998/Math/MathML",u);break;case"script":f=y.createElement("div"),f.innerHTML="<script><\/script>",f=f.removeChild(f.firstChild);break;case"select":f=typeof a.is=="string"?y.createElement("select",{is:a.is}):y.createElement("select"),a.multiple?f.multiple=!0:a.size&&(f.size=a.size);break;default:f=typeof a.is=="string"?y.createElement(u,{is:a.is}):y.createElement(u)}}f[dn]=n,f[En]=a;e:for(y=n.child;y!==null;){if(y.tag===5||y.tag===6)f.appendChild(y.stateNode);else if(y.tag!==4&&y.tag!==27&&y.child!==null){y.child.return=y,y=y.child;continue}if(y===n)break e;for(;y.sibling===null;){if(y.return===null||y.return===n)break e;y=y.return}y.sibling.return=y.return,y=y.sibling}n.stateNode=f;e:switch(jn(f,u,a),u){case"button":case"input":case"select":case"textarea":a=!!a.autoFocus;break e;case"img":a=!0;break e;default:a=!1}a&&Eo(n)}}return _t(n),lf(n,n.type,e===null?null:e.memoizedProps,n.pendingProps,o),null;case 6:if(e&&n.stateNode!=null)e.memoizedProps!==a&&Eo(n);else{if(typeof a!="string"&&n.stateNode===null)throw Error(i(166));if(e=ce.current,fa(n)){if(e=n.stateNode,o=n.memoizedProps,a=null,u=vn,u!==null)switch(u.tag){case 27:case 5:a=u.memoizedProps}e[dn]=n,e=!!(e.nodeValue===o||a!==null&&a.suppressHydrationWarning===!0||yb(e.nodeValue,o)),e||Vo(n,!0)}else e=Nc(e).createTextNode(a),e[dn]=n,n.stateNode=e}return _t(n),null;case 31:if(o=n.memoizedState,e===null||e.memoizedState!==null){if(a=fa(n),o!==null){if(e===null){if(!a)throw Error(i(318));if(e=n.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(i(557));e[dn]=n}else Ir(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;_t(n),e=!1}else o=hd(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=o),e=!0;if(!e)return n.flags&256?(al(n),n):(al(n),null);if((n.flags&128)!==0)throw Error(i(558))}return _t(n),null;case 13:if(a=n.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(u=fa(n),a!==null&&a.dehydrated!==null){if(e===null){if(!u)throw Error(i(318));if(u=n.memoizedState,u=u!==null?u.dehydrated:null,!u)throw Error(i(317));u[dn]=n}else Ir(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;_t(n),u=!1}else u=hd(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=u),u=!0;if(!u)return n.flags&256?(al(n),n):(al(n),null)}return al(n),(n.flags&128)!==0?(n.lanes=o,n):(o=a!==null,e=e!==null&&e.memoizedState!==null,o&&(a=n.child,u=null,a.alternate!==null&&a.alternate.memoizedState!==null&&a.alternate.memoizedState.cachePool!==null&&(u=a.alternate.memoizedState.cachePool.pool),f=null,a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(f=a.memoizedState.cachePool.pool),f!==u&&(a.flags|=2048)),o!==e&&o&&(n.child.flags|=8192),Sc(n,n.updateQueue),_t(n),null);case 4:return Se(),e===null&&Ef(n.stateNode.containerInfo),_t(n),null;case 10:return wo(n.type),_t(n),null;case 19:if(Q(Jt),a=n.memoizedState,a===null)return _t(n),null;if(u=(n.flags&128)!==0,f=a.rendering,f===null)if(u)ks(a,!1);else{if(Xt!==0||e!==null&&(e.flags&128)!==0)for(e=n.child;e!==null;){if(f=uc(e),f!==null){for(n.flags|=128,ks(a,!1),e=f.updateQueue,n.updateQueue=e,Sc(n,e),n.subtreeFlags=0,e=o,o=n.child;o!==null;)Zg(o,e),o=o.sibling;return le(Jt,Jt.current&1|2),ct&&yo(n,a.treeForkCount),n.child}e=e.sibling}a.tail!==null&&tt()>Tc&&(n.flags|=128,u=!0,ks(a,!1),n.lanes=4194304)}else{if(!u)if(e=uc(f),e!==null){if(n.flags|=128,u=!0,e=e.updateQueue,n.updateQueue=e,Sc(n,e),ks(a,!0),a.tail===null&&a.tailMode==="hidden"&&!f.alternate&&!ct)return _t(n),null}else 2*tt()-a.renderingStartTime>Tc&&o!==536870912&&(n.flags|=128,u=!0,ks(a,!1),n.lanes=4194304);a.isBackwards?(f.sibling=n.child,n.child=f):(e=a.last,e!==null?e.sibling=f:n.child=f,a.last=f)}return a.tail!==null?(e=a.tail,a.rendering=e,a.tail=e.sibling,a.renderingStartTime=tt(),e.sibling=null,o=Jt.current,le(Jt,u?o&1|2:o&1),ct&&yo(n,a.treeForkCount),e):(_t(n),null);case 22:case 23:return al(n),Ed(),a=n.memoizedState!==null,e!==null?e.memoizedState!==null!==a&&(n.flags|=8192):a&&(n.flags|=8192),a?(o&536870912)!==0&&(n.flags&128)===0&&(_t(n),n.subtreeFlags&6&&(n.flags|=8192)):_t(n),o=n.updateQueue,o!==null&&Sc(n,o.retryQueue),o=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(o=e.memoizedState.cachePool.pool),a=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(a=n.memoizedState.cachePool.pool),a!==o&&(n.flags|=2048),e!==null&&Q(zr),null;case 24:return o=null,e!==null&&(o=e.memoizedState.cache),n.memoizedState.cache!==o&&(n.flags|=2048),wo(ln),_t(n),null;case 25:return null;case 30:return null}throw Error(i(156,n.tag))}function Ev(e,n){switch(dd(n),n.tag){case 1:return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 3:return wo(ln),Se(),e=n.flags,(e&65536)!==0&&(e&128)===0?(n.flags=e&-65537|128,n):null;case 26:case 27:case 5:return Ne(n),null;case 31:if(n.memoizedState!==null){if(al(n),n.alternate===null)throw Error(i(340));Ir()}return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 13:if(al(n),e=n.memoizedState,e!==null&&e.dehydrated!==null){if(n.alternate===null)throw Error(i(340));Ir()}return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 19:return Q(Jt),null;case 4:return Se(),null;case 10:return wo(n.type),null;case 22:case 23:return al(n),Ed(),e!==null&&Q(zr),e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 24:return wo(ln),null;case 25:return null;default:return null}}function Mp(e,n){switch(dd(n),n.tag){case 3:wo(ln),Se();break;case 26:case 27:case 5:Ne(n);break;case 4:Se();break;case 31:n.memoizedState!==null&&al(n);break;case 13:al(n);break;case 19:Q(Jt);break;case 10:wo(n.type);break;case 22:case 23:al(n),Ed(),e!==null&&Q(zr);break;case 24:wo(ln)}}function Hs(e,n){try{var o=n.updateQueue,a=o!==null?o.lastEffect:null;if(a!==null){var u=a.next;o=u;do{if((o.tag&e)===e){a=void 0;var f=o.create,y=o.inst;a=f(),y.destroy=a}o=o.next}while(o!==u)}}catch(H){Dt(n,n.return,H)}}function Xo(e,n,o){try{var a=n.updateQueue,u=a!==null?a.lastEffect:null;if(u!==null){var f=u.next;a=f;do{if((a.tag&e)===e){var y=a.inst,H=y.destroy;if(H!==void 0){y.destroy=void 0,u=n;var X=o,oe=H;try{oe()}catch(de){Dt(u,X,de)}}}a=a.next}while(a!==f)}}catch(de){Dt(n,n.return,de)}}function Ep(e){var n=e.updateQueue;if(n!==null){var o=e.stateNode;try{pm(n,o)}catch(a){Dt(e,e.return,a)}}}function Dp(e,n,o){o.props=Rr(e.type,e.memoizedProps),o.state=e.memoizedState;try{o.componentWillUnmount()}catch(a){Dt(e,n,a)}}function Ps(e,n){try{var o=e.ref;if(o!==null){switch(e.tag){case 26:case 27:case 5:var a=e.stateNode;break;case 30:a=e.stateNode;break;default:a=e.stateNode}typeof o=="function"?e.refCleanup=o(a):o.current=a}}catch(u){Dt(e,n,u)}}function to(e,n){var o=e.ref,a=e.refCleanup;if(o!==null)if(typeof a=="function")try{a()}catch(u){Dt(e,n,u)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof o=="function")try{o(null)}catch(u){Dt(e,n,u)}else o.current=null}function Tp(e){var n=e.type,o=e.memoizedProps,a=e.stateNode;try{e:switch(n){case"button":case"input":case"select":case"textarea":o.autoFocus&&a.focus();break e;case"img":o.src?a.src=o.src:o.srcSet&&(a.srcset=o.srcSet)}}catch(u){Dt(e,e.return,u)}}function of(e,n,o){try{var a=e.stateNode;Yv(a,e.type,o,n),a[En]=n}catch(u){Dt(e,e.return,u)}}function Ip(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&lr(e.type)||e.tag===4}function rf(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Ip(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&lr(e.type)||e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function af(e,n,o){var a=e.tag;if(a===5||a===6)e=e.stateNode,n?(o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o).insertBefore(e,n):(n=o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o,n.appendChild(e),o=o._reactRootContainer,o!=null||n.onclick!==null||(n.onclick=bo));else if(a!==4&&(a===27&&lr(e.type)&&(o=e.stateNode,n=null),e=e.child,e!==null))for(af(e,n,o),e=e.sibling;e!==null;)af(e,n,o),e=e.sibling}function jc(e,n,o){var a=e.tag;if(a===5||a===6)e=e.stateNode,n?o.insertBefore(e,n):o.appendChild(e);else if(a!==4&&(a===27&&lr(e.type)&&(o=e.stateNode),e=e.child,e!==null))for(jc(e,n,o),e=e.sibling;e!==null;)jc(e,n,o),e=e.sibling}function Fp(e){var n=e.stateNode,o=e.memoizedProps;try{for(var a=e.type,u=n.attributes;u.length;)n.removeAttributeNode(u[0]);jn(n,a,o),n[dn]=e,n[En]=o}catch(f){Dt(e,e.return,f)}}var Do=!1,an=!1,sf=!1,Ap=typeof WeakSet=="function"?WeakSet:Set,bn=null;function Dv(e,n){if(e=e.containerInfo,If=$c,e=Vg(e),ed(e)){if("selectionStart"in e)var o={start:e.selectionStart,end:e.selectionEnd};else e:{o=(o=e.ownerDocument)&&o.defaultView||window;var a=o.getSelection&&o.getSelection();if(a&&a.rangeCount!==0){o=a.anchorNode;var u=a.anchorOffset,f=a.focusNode;a=a.focusOffset;try{o.nodeType,f.nodeType}catch{o=null;break e}var y=0,H=-1,X=-1,oe=0,de=0,ge=e,ae=null;t:for(;;){for(var se;ge!==o||u!==0&&ge.nodeType!==3||(H=y+u),ge!==f||a!==0&&ge.nodeType!==3||(X=y+a),ge.nodeType===3&&(y+=ge.nodeValue.length),(se=ge.firstChild)!==null;)ae=ge,ge=se;for(;;){if(ge===e)break t;if(ae===o&&++oe===u&&(H=y),ae===f&&++de===a&&(X=y),(se=ge.nextSibling)!==null)break;ge=ae,ae=ge.parentNode}ge=se}o=H===-1||X===-1?null:{start:H,end:X}}else o=null}o=o||{start:0,end:0}}else o=null;for(Ff={focusedElem:e,selectionRange:o},$c=!1,bn=n;bn!==null;)if(n=bn,e=n.child,(n.subtreeFlags&1028)!==0&&e!==null)e.return=n,bn=e;else for(;bn!==null;){switch(n=bn,f=n.alternate,e=n.flags,n.tag){case 0:if((e&4)!==0&&(e=n.updateQueue,e=e!==null?e.events:null,e!==null))for(o=0;o<e.length;o++)u=e[o],u.ref.impl=u.nextImpl;break;case 11:case 15:break;case 1:if((e&1024)!==0&&f!==null){e=void 0,o=n,u=f.memoizedProps,f=f.memoizedState,a=o.stateNode;try{var De=Rr(o.type,u);e=a.getSnapshotBeforeUpdate(De,f),a.__reactInternalSnapshotBeforeUpdate=e}catch(Pe){Dt(o,o.return,Pe)}}break;case 3:if((e&1024)!==0){if(e=n.stateNode.containerInfo,o=e.nodeType,o===9)Of(e);else if(o===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":Of(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(i(163))}if(e=n.sibling,e!==null){e.return=n.return,bn=e;break}bn=n.return}}function zp(e,n,o){var a=o.flags;switch(o.tag){case 0:case 11:case 15:Io(e,o),a&4&&Hs(5,o);break;case 1:if(Io(e,o),a&4)if(e=o.stateNode,n===null)try{e.componentDidMount()}catch(y){Dt(o,o.return,y)}else{var u=Rr(o.type,n.memoizedProps);n=n.memoizedState;try{e.componentDidUpdate(u,n,e.__reactInternalSnapshotBeforeUpdate)}catch(y){Dt(o,o.return,y)}}a&64&&Ep(o),a&512&&Ps(o,o.return);break;case 3:if(Io(e,o),a&64&&(e=o.updateQueue,e!==null)){if(n=null,o.child!==null)switch(o.child.tag){case 27:case 5:n=o.child.stateNode;break;case 1:n=o.child.stateNode}try{pm(e,n)}catch(y){Dt(o,o.return,y)}}break;case 27:n===null&&a&4&&Fp(o);case 26:case 5:Io(e,o),n===null&&a&4&&Tp(o),a&512&&Ps(o,o.return);break;case 12:Io(e,o);break;case 31:Io(e,o),a&4&&Hp(e,o);break;case 13:Io(e,o),a&4&&Pp(e,o),a&64&&(e=o.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(o=Pv.bind(null,o),nw(e,o))));break;case 22:if(a=o.memoizedState!==null||Do,!a){n=n!==null&&n.memoizedState!==null||an,u=Do;var f=an;Do=a,(an=n)&&!f?Fo(e,o,(o.subtreeFlags&8772)!==0):Io(e,o),Do=u,an=f}break;case 30:break;default:Io(e,o)}}function Op(e){var n=e.alternate;n!==null&&(e.alternate=null,Op(n)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(n=e.stateNode,n!==null&&Oe(n)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var $t=null,$n=!1;function To(e,n,o){for(o=o.child;o!==null;)kp(e,n,o),o=o.sibling}function kp(e,n,o){if(vt&&typeof vt.onCommitFiberUnmount=="function")try{vt.onCommitFiberUnmount(bt,o)}catch{}switch(o.tag){case 26:an||to(o,n),To(e,n,o),o.memoizedState?o.memoizedState.count--:o.stateNode&&(o=o.stateNode,o.parentNode.removeChild(o));break;case 27:an||to(o,n);var a=$t,u=$n;lr(o.type)&&($t=o.stateNode,$n=!1),To(e,n,o),$s(o.stateNode),$t=a,$n=u;break;case 5:an||to(o,n);case 6:if(a=$t,u=$n,$t=null,To(e,n,o),$t=a,$n=u,$t!==null)if($n)try{($t.nodeType===9?$t.body:$t.nodeName==="HTML"?$t.ownerDocument.body:$t).removeChild(o.stateNode)}catch(f){Dt(o,n,f)}else try{$t.removeChild(o.stateNode)}catch(f){Dt(o,n,f)}break;case 18:$t!==null&&($n?(e=$t,Eb(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,o.stateNode),Oa(e)):Eb($t,o.stateNode));break;case 4:a=$t,u=$n,$t=o.stateNode.containerInfo,$n=!0,To(e,n,o),$t=a,$n=u;break;case 0:case 11:case 14:case 15:Xo(2,o,n),an||Xo(4,o,n),To(e,n,o);break;case 1:an||(to(o,n),a=o.stateNode,typeof a.componentWillUnmount=="function"&&Dp(o,n,a)),To(e,n,o);break;case 21:To(e,n,o);break;case 22:an=(a=an)||o.memoizedState!==null,To(e,n,o),an=a;break;default:To(e,n,o)}}function Hp(e,n){if(n.memoizedState===null&&(e=n.alternate,e!==null&&(e=e.memoizedState,e!==null))){e=e.dehydrated;try{Oa(e)}catch(o){Dt(n,n.return,o)}}}function Pp(e,n){if(n.memoizedState===null&&(e=n.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{Oa(e)}catch(o){Dt(n,n.return,o)}}function Tv(e){switch(e.tag){case 31:case 13:case 19:var n=e.stateNode;return n===null&&(n=e.stateNode=new Ap),n;case 22:return e=e.stateNode,n=e._retryCache,n===null&&(n=e._retryCache=new Ap),n;default:throw Error(i(435,e.tag))}}function Mc(e,n){var o=Tv(e);n.forEach(function(a){if(!o.has(a)){o.add(a);var u=Rv.bind(null,e,a);a.then(u,u)}})}function Wn(e,n){var o=n.deletions;if(o!==null)for(var a=0;a<o.length;a++){var u=o[a],f=e,y=n,H=y;e:for(;H!==null;){switch(H.tag){case 27:if(lr(H.type)){$t=H.stateNode,$n=!1;break e}break;case 5:$t=H.stateNode,$n=!1;break e;case 3:case 4:$t=H.stateNode.containerInfo,$n=!0;break e}H=H.return}if($t===null)throw Error(i(160));kp(f,y,u),$t=null,$n=!1,f=u.alternate,f!==null&&(f.return=null),u.return=null}if(n.subtreeFlags&13886)for(n=n.child;n!==null;)Rp(n,e),n=n.sibling}var Gl=null;function Rp(e,n){var o=e.alternate,a=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:Wn(n,e),qn(e),a&4&&(Xo(3,e,e.return),Hs(3,e),Xo(5,e,e.return));break;case 1:Wn(n,e),qn(e),a&512&&(an||o===null||to(o,o.return)),a&64&&Do&&(e=e.updateQueue,e!==null&&(a=e.callbacks,a!==null&&(o=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=o===null?a:o.concat(a))));break;case 26:var u=Gl;if(Wn(n,e),qn(e),a&512&&(an||o===null||to(o,o.return)),a&4){var f=o!==null?o.memoizedState:null;if(a=e.memoizedState,o===null)if(a===null)if(e.stateNode===null){e:{a=e.type,o=e.memoizedProps,u=u.ownerDocument||u;t:switch(a){case"title":f=u.getElementsByTagName("title")[0],(!f||f[Z]||f[dn]||f.namespaceURI==="http://www.w3.org/2000/svg"||f.hasAttribute("itemprop"))&&(f=u.createElement(a),u.head.insertBefore(f,u.querySelector("head > title"))),jn(f,a,o),f[dn]=e,Yt(f),a=f;break e;case"link":var y=Rb("link","href",u).get(a+(o.href||""));if(y){for(var H=0;H<y.length;H++)if(f=y[H],f.getAttribute("href")===(o.href==null||o.href===""?null:o.href)&&f.getAttribute("rel")===(o.rel==null?null:o.rel)&&f.getAttribute("title")===(o.title==null?null:o.title)&&f.getAttribute("crossorigin")===(o.crossOrigin==null?null:o.crossOrigin)){y.splice(H,1);break t}}f=u.createElement(a),jn(f,a,o),u.head.appendChild(f);break;case"meta":if(y=Rb("meta","content",u).get(a+(o.content||""))){for(H=0;H<y.length;H++)if(f=y[H],f.getAttribute("content")===(o.content==null?null:""+o.content)&&f.getAttribute("name")===(o.name==null?null:o.name)&&f.getAttribute("property")===(o.property==null?null:o.property)&&f.getAttribute("http-equiv")===(o.httpEquiv==null?null:o.httpEquiv)&&f.getAttribute("charset")===(o.charSet==null?null:o.charSet)){y.splice(H,1);break t}}f=u.createElement(a),jn(f,a,o),u.head.appendChild(f);break;default:throw Error(i(468,a))}f[dn]=e,Yt(f),a=f}e.stateNode=a}else Nb(u,e.type,e.stateNode);else e.stateNode=Pb(u,a,e.memoizedProps);else f!==a?(f===null?o.stateNode!==null&&(o=o.stateNode,o.parentNode.removeChild(o)):f.count--,a===null?Nb(u,e.type,e.stateNode):Pb(u,a,e.memoizedProps)):a===null&&e.stateNode!==null&&of(e,e.memoizedProps,o.memoizedProps)}break;case 27:Wn(n,e),qn(e),a&512&&(an||o===null||to(o,o.return)),o!==null&&a&4&&of(e,e.memoizedProps,o.memoizedProps);break;case 5:if(Wn(n,e),qn(e),a&512&&(an||o===null||to(o,o.return)),e.flags&32){u=e.stateNode;try{na(u,"")}catch(De){Dt(e,e.return,De)}}a&4&&e.stateNode!=null&&(u=e.memoizedProps,of(e,u,o!==null?o.memoizedProps:u)),a&1024&&(sf=!0);break;case 6:if(Wn(n,e),qn(e),a&4){if(e.stateNode===null)throw Error(i(162));a=e.memoizedProps,o=e.stateNode;try{o.nodeValue=a}catch(De){Dt(e,e.return,De)}}break;case 3:if(Bc=null,u=Gl,Gl=Gc(n.containerInfo),Wn(n,e),Gl=u,qn(e),a&4&&o!==null&&o.memoizedState.isDehydrated)try{Oa(n.containerInfo)}catch(De){Dt(e,e.return,De)}sf&&(sf=!1,Np(e));break;case 4:a=Gl,Gl=Gc(e.stateNode.containerInfo),Wn(n,e),qn(e),Gl=a;break;case 12:Wn(n,e),qn(e);break;case 31:Wn(n,e),qn(e),a&4&&(a=e.updateQueue,a!==null&&(e.updateQueue=null,Mc(e,a)));break;case 13:Wn(n,e),qn(e),e.child.flags&8192&&e.memoizedState!==null!=(o!==null&&o.memoizedState!==null)&&(Dc=tt()),a&4&&(a=e.updateQueue,a!==null&&(e.updateQueue=null,Mc(e,a)));break;case 22:u=e.memoizedState!==null;var X=o!==null&&o.memoizedState!==null,oe=Do,de=an;if(Do=oe||u,an=de||X,Wn(n,e),an=de,Do=oe,qn(e),a&8192)e:for(n=e.stateNode,n._visibility=u?n._visibility&-2:n._visibility|1,u&&(o===null||X||Do||an||Nr(e)),o=null,n=e;;){if(n.tag===5||n.tag===26){if(o===null){X=o=n;try{if(f=X.stateNode,u)y=f.style,typeof y.setProperty=="function"?y.setProperty("display","none","important"):y.display="none";else{H=X.stateNode;var ge=X.memoizedProps.style,ae=ge!=null&&ge.hasOwnProperty("display")?ge.display:null;H.style.display=ae==null||typeof ae=="boolean"?"":(""+ae).trim()}}catch(De){Dt(X,X.return,De)}}}else if(n.tag===6){if(o===null){X=n;try{X.stateNode.nodeValue=u?"":X.memoizedProps}catch(De){Dt(X,X.return,De)}}}else if(n.tag===18){if(o===null){X=n;try{var se=X.stateNode;u?Db(se,!0):Db(X.stateNode,!1)}catch(De){Dt(X,X.return,De)}}}else if((n.tag!==22&&n.tag!==23||n.memoizedState===null||n===e)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break e;for(;n.sibling===null;){if(n.return===null||n.return===e)break e;o===n&&(o=null),n=n.return}o===n&&(o=null),n.sibling.return=n.return,n=n.sibling}a&4&&(a=e.updateQueue,a!==null&&(o=a.retryQueue,o!==null&&(a.retryQueue=null,Mc(e,o))));break;case 19:Wn(n,e),qn(e),a&4&&(a=e.updateQueue,a!==null&&(e.updateQueue=null,Mc(e,a)));break;case 30:break;case 21:break;default:Wn(n,e),qn(e)}}function qn(e){var n=e.flags;if(n&2){try{for(var o,a=e.return;a!==null;){if(Ip(a)){o=a;break}a=a.return}if(o==null)throw Error(i(160));switch(o.tag){case 27:var u=o.stateNode,f=rf(e);jc(e,f,u);break;case 5:var y=o.stateNode;o.flags&32&&(na(y,""),o.flags&=-33);var H=rf(e);jc(e,H,y);break;case 3:case 4:var X=o.stateNode.containerInfo,oe=rf(e);af(e,oe,X);break;default:throw Error(i(161))}}catch(de){Dt(e,e.return,de)}e.flags&=-3}n&4096&&(e.flags&=-4097)}function Np(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var n=e;Np(n),n.tag===5&&n.flags&1024&&n.stateNode.reset(),e=e.sibling}}function Io(e,n){if(n.subtreeFlags&8772)for(n=n.child;n!==null;)zp(e,n.alternate,n),n=n.sibling}function Nr(e){for(e=e.child;e!==null;){var n=e;switch(n.tag){case 0:case 11:case 14:case 15:Xo(4,n,n.return),Nr(n);break;case 1:to(n,n.return);var o=n.stateNode;typeof o.componentWillUnmount=="function"&&Dp(n,n.return,o),Nr(n);break;case 27:$s(n.stateNode);case 26:case 5:to(n,n.return),Nr(n);break;case 22:n.memoizedState===null&&Nr(n);break;case 30:Nr(n);break;default:Nr(n)}e=e.sibling}}function Fo(e,n,o){for(o=o&&(n.subtreeFlags&8772)!==0,n=n.child;n!==null;){var a=n.alternate,u=e,f=n,y=f.flags;switch(f.tag){case 0:case 11:case 15:Fo(u,f,o),Hs(4,f);break;case 1:if(Fo(u,f,o),a=f,u=a.stateNode,typeof u.componentDidMount=="function")try{u.componentDidMount()}catch(oe){Dt(a,a.return,oe)}if(a=f,u=a.updateQueue,u!==null){var H=a.stateNode;try{var X=u.shared.hiddenCallbacks;if(X!==null)for(u.shared.hiddenCallbacks=null,u=0;u<X.length;u++)mm(X[u],H)}catch(oe){Dt(a,a.return,oe)}}o&&y&64&&Ep(f),Ps(f,f.return);break;case 27:Fp(f);case 26:case 5:Fo(u,f,o),o&&a===null&&y&4&&Tp(f),Ps(f,f.return);break;case 12:Fo(u,f,o);break;case 31:Fo(u,f,o),o&&y&4&&Hp(u,f);break;case 13:Fo(u,f,o),o&&y&4&&Pp(u,f);break;case 22:f.memoizedState===null&&Fo(u,f,o),Ps(f,f.return);break;case 30:break;default:Fo(u,f,o)}n=n.sibling}}function cf(e,n){var o=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(o=e.memoizedState.cachePool.pool),e=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(e=n.memoizedState.cachePool.pool),e!==o&&(e!=null&&e.refCount++,o!=null&&ws(o))}function uf(e,n){e=null,n.alternate!==null&&(e=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==e&&(n.refCount++,e!=null&&ws(e))}function Ll(e,n,o,a){if(n.subtreeFlags&10256)for(n=n.child;n!==null;)Gp(e,n,o,a),n=n.sibling}function Gp(e,n,o,a){var u=n.flags;switch(n.tag){case 0:case 11:case 15:Ll(e,n,o,a),u&2048&&Hs(9,n);break;case 1:Ll(e,n,o,a);break;case 3:Ll(e,n,o,a),u&2048&&(e=null,n.alternate!==null&&(e=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==e&&(n.refCount++,e!=null&&ws(e)));break;case 12:if(u&2048){Ll(e,n,o,a),e=n.stateNode;try{var f=n.memoizedProps,y=f.id,H=f.onPostCommit;typeof H=="function"&&H(y,n.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(X){Dt(n,n.return,X)}}else Ll(e,n,o,a);break;case 31:Ll(e,n,o,a);break;case 13:Ll(e,n,o,a);break;case 23:break;case 22:f=n.stateNode,y=n.alternate,n.memoizedState!==null?f._visibility&2?Ll(e,n,o,a):Rs(e,n):f._visibility&2?Ll(e,n,o,a):(f._visibility|=2,wa(e,n,o,a,(n.subtreeFlags&10256)!==0||!1)),u&2048&&cf(y,n);break;case 24:Ll(e,n,o,a),u&2048&&uf(n.alternate,n);break;default:Ll(e,n,o,a)}}function wa(e,n,o,a,u){for(u=u&&((n.subtreeFlags&10256)!==0||!1),n=n.child;n!==null;){var f=e,y=n,H=o,X=a,oe=y.flags;switch(y.tag){case 0:case 11:case 15:wa(f,y,H,X,u),Hs(8,y);break;case 23:break;case 22:var de=y.stateNode;y.memoizedState!==null?de._visibility&2?wa(f,y,H,X,u):Rs(f,y):(de._visibility|=2,wa(f,y,H,X,u)),u&&oe&2048&&cf(y.alternate,y);break;case 24:wa(f,y,H,X,u),u&&oe&2048&&uf(y.alternate,y);break;default:wa(f,y,H,X,u)}n=n.sibling}}function Rs(e,n){if(n.subtreeFlags&10256)for(n=n.child;n!==null;){var o=e,a=n,u=a.flags;switch(a.tag){case 22:Rs(o,a),u&2048&&cf(a.alternate,a);break;case 24:Rs(o,a),u&2048&&uf(a.alternate,a);break;default:Rs(o,a)}n=n.sibling}}var Ns=8192;function Sa(e,n,o){if(e.subtreeFlags&Ns)for(e=e.child;e!==null;)Lp(e,n,o),e=e.sibling}function Lp(e,n,o){switch(e.tag){case 26:Sa(e,n,o),e.flags&Ns&&e.memoizedState!==null&&gw(o,Gl,e.memoizedState,e.memoizedProps);break;case 5:Sa(e,n,o);break;case 3:case 4:var a=Gl;Gl=Gc(e.stateNode.containerInfo),Sa(e,n,o),Gl=a;break;case 22:e.memoizedState===null&&(a=e.alternate,a!==null&&a.memoizedState!==null?(a=Ns,Ns=16777216,Sa(e,n,o),Ns=a):Sa(e,n,o));break;default:Sa(e,n,o)}}function Bp(e){var n=e.alternate;if(n!==null&&(e=n.child,e!==null)){n.child=null;do n=e.sibling,e.sibling=null,e=n;while(e!==null)}}function Gs(e){var n=e.deletions;if((e.flags&16)!==0){if(n!==null)for(var o=0;o<n.length;o++){var a=n[o];bn=a,Vp(a,e)}Bp(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)_p(e),e=e.sibling}function _p(e){switch(e.tag){case 0:case 11:case 15:Gs(e),e.flags&2048&&Xo(9,e,e.return);break;case 3:Gs(e);break;case 12:Gs(e);break;case 22:var n=e.stateNode;e.memoizedState!==null&&n._visibility&2&&(e.return===null||e.return.tag!==13)?(n._visibility&=-3,Ec(e)):Gs(e);break;default:Gs(e)}}function Ec(e){var n=e.deletions;if((e.flags&16)!==0){if(n!==null)for(var o=0;o<n.length;o++){var a=n[o];bn=a,Vp(a,e)}Bp(e)}for(e=e.child;e!==null;){switch(n=e,n.tag){case 0:case 11:case 15:Xo(8,n,n.return),Ec(n);break;case 22:o=n.stateNode,o._visibility&2&&(o._visibility&=-3,Ec(n));break;default:Ec(n)}e=e.sibling}}function Vp(e,n){for(;bn!==null;){var o=bn;switch(o.tag){case 0:case 11:case 15:Xo(8,o,n);break;case 23:case 22:if(o.memoizedState!==null&&o.memoizedState.cachePool!==null){var a=o.memoizedState.cachePool.pool;a!=null&&a.refCount++}break;case 24:ws(o.memoizedState.cache)}if(a=o.child,a!==null)a.return=o,bn=a;else e:for(o=e;bn!==null;){a=bn;var u=a.sibling,f=a.return;if(Op(a),a===o){bn=null;break e}if(u!==null){u.return=f,bn=u;break e}bn=f}}}var Iv={getCacheForType:function(e){var n=wn(ln),o=n.data.get(e);return o===void 0&&(o=e(),n.data.set(e,o)),o},cacheSignal:function(){return wn(ln).controller.signal}},Fv=typeof WeakMap=="function"?WeakMap:Map,xt=0,Pt=null,ot=null,at=0,Et=0,sl=null,Qo=!1,ja=!1,df=!1,Ao=0,Xt=0,Zo=0,Gr=0,ff=0,il=0,Ma=0,Ls=null,Yn=null,hf=!1,Dc=0,Up=0,Tc=1/0,Ic=null,Jo=null,fn=0,er=null,Ea=null,zo=0,gf=0,mf=null,$p=null,Bs=0,pf=null;function cl(){return(xt&2)!==0&&at!==0?at&-at:S.T!==null?wf():cs()}function Wp(){if(il===0)if((at&536870912)===0||ct){var e=Ql;Ql<<=1,(Ql&3932160)===0&&(Ql=262144),il=e}else il=536870912;return e=rl.current,e!==null&&(e.flags|=32),il}function Kn(e,n,o){(e===Pt&&(Et===2||Et===9)||e.cancelPendingCommit!==null)&&(Da(e,0),tr(e,at,il,!1)),wr(e,o),((xt&2)===0||e!==Pt)&&(e===Pt&&((xt&2)===0&&(Gr|=o),Xt===4&&tr(e,at,il,!1)),no(e))}function qp(e,n,o){if((xt&6)!==0)throw Error(i(327));var a=!o&&(n&127)===0&&(n&e.expiredLanes)===0||Hl(e,n),u=a?Ov(e,n):xf(e,n,!0),f=a;do{if(u===0){ja&&!a&&tr(e,n,0,!1);break}else{if(o=e.current.alternate,f&&!Av(o)){u=xf(e,n,!1),f=!1;continue}if(u===2){if(f=n,e.errorRecoveryDisabledLanes&f)var y=0;else y=e.pendingLanes&-536870913,y=y!==0?y:y&536870912?536870912:0;if(y!==0){n=y;e:{var H=e;u=Ls;var X=H.current.memoizedState.isDehydrated;if(X&&(Da(H,y).flags|=256),y=xf(H,y,!1),y!==2){if(df&&!X){H.errorRecoveryDisabledLanes|=f,Gr|=f,u=4;break e}f=Yn,Yn=u,f!==null&&(Yn===null?Yn=f:Yn.push.apply(Yn,f))}u=y}if(f=!1,u!==2)continue}}if(u===1){Da(e,0),tr(e,n,0,!0);break}e:{switch(a=e,f=u,f){case 0:case 1:throw Error(i(345));case 4:if((n&4194048)!==n)break;case 6:tr(a,n,il,!Qo);break e;case 2:Yn=null;break;case 3:case 5:break;default:throw Error(i(329))}if((n&62914560)===n&&(u=Dc+300-tt(),10<u)){if(tr(a,n,il,!Qo),go(a,0,!0)!==0)break e;zo=n,a.timeoutHandle=jb(Yp.bind(null,a,o,Yn,Ic,hf,n,il,Gr,Ma,Qo,f,"Throttled",-0,0),u);break e}Yp(a,o,Yn,Ic,hf,n,il,Gr,Ma,Qo,f,null,-0,0)}}break}while(!0);no(e)}function Yp(e,n,o,a,u,f,y,H,X,oe,de,ge,ae,se){if(e.timeoutHandle=-1,ge=n.subtreeFlags,ge&8192||(ge&16785408)===16785408){ge={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:bo},Lp(n,f,ge);var De=(f&62914560)===f?Dc-tt():(f&4194048)===f?Up-tt():0;if(De=mw(ge,De),De!==null){zo=f,e.cancelPendingCommit=De(nb.bind(null,e,n,f,o,a,u,y,H,X,de,ge,null,ae,se)),tr(e,f,y,!oe);return}}nb(e,n,f,o,a,u,y,H,X)}function Av(e){for(var n=e;;){var o=n.tag;if((o===0||o===11||o===15)&&n.flags&16384&&(o=n.updateQueue,o!==null&&(o=o.stores,o!==null)))for(var a=0;a<o.length;a++){var u=o[a],f=u.getSnapshot;u=u.value;try{if(!ll(f(),u))return!1}catch{return!1}}if(o=n.child,n.subtreeFlags&16384&&o!==null)o.return=n,n=o;else{if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function tr(e,n,o,a){n&=~ff,n&=~Gr,e.suspendedLanes|=n,e.pingedLanes&=~n,a&&(e.warmLanes|=n),a=e.expirationTimes;for(var u=n;0<u;){var f=31-nn(u),y=1<<f;a[f]=-1,u&=~y}o!==0&&Pi(e,o,n)}function Fc(){return(xt&6)===0?(_s(0),!1):!0}function bf(){if(ot!==null){if(Et===0)var e=ot.return;else e=ot,vo=Fr=null,zd(e),ba=null,js=0,e=ot;for(;e!==null;)Mp(e.alternate,e),e=e.return;ot=null}}function Da(e,n){var o=e.timeoutHandle;o!==-1&&(e.timeoutHandle=-1,Qv(o)),o=e.cancelPendingCommit,o!==null&&(e.cancelPendingCommit=null,o()),zo=0,bf(),Pt=e,ot=o=Co(e.current,null),at=n,Et=0,sl=null,Qo=!1,ja=Hl(e,n),df=!1,Ma=il=ff=Gr=Zo=Xt=0,Yn=Ls=null,hf=!1,(n&8)!==0&&(n|=n&32);var a=e.entangledLanes;if(a!==0)for(e=e.entanglements,a&=n;0<a;){var u=31-nn(a),f=1<<u;n|=e[u],a&=~f}return Ao=n,Qi(),o}function Kp(e,n){Ye=null,S.H=zs,n===pa||n===rc?(n=dm(),Et=3):n===yd?(n=dm(),Et=4):Et=n===Yd?8:n!==null&&typeof n=="object"&&typeof n.then=="function"?6:1,sl=n,ot===null&&(Xt=1,Cc(e,bl(n,e.current)))}function Xp(){var e=rl.current;return e===null?!0:(at&4194048)===at?vl===null:(at&62914560)===at||(at&536870912)!==0?e===vl:!1}function Qp(){var e=S.H;return S.H=zs,e===null?zs:e}function Zp(){var e=S.A;return S.A=Iv,e}function Ac(){Xt=4,Qo||(at&4194048)!==at&&rl.current!==null||(ja=!0),(Zo&134217727)===0&&(Gr&134217727)===0||Pt===null||tr(Pt,at,il,!1)}function xf(e,n,o){var a=xt;xt|=2;var u=Qp(),f=Zp();(Pt!==e||at!==n)&&(Ic=null,Da(e,n)),n=!1;var y=Xt;e:do try{if(Et!==0&&ot!==null){var H=ot,X=sl;switch(Et){case 8:bf(),y=6;break e;case 3:case 2:case 9:case 6:rl.current===null&&(n=!0);var oe=Et;if(Et=0,sl=null,Ta(e,H,X,oe),o&&ja){y=0;break e}break;default:oe=Et,Et=0,sl=null,Ta(e,H,X,oe)}}zv(),y=Xt;break}catch(de){Kp(e,de)}while(!0);return n&&e.shellSuspendCounter++,vo=Fr=null,xt=a,S.H=u,S.A=f,ot===null&&(Pt=null,at=0,Qi()),y}function zv(){for(;ot!==null;)Jp(ot)}function Ov(e,n){var o=xt;xt|=2;var a=Qp(),u=Zp();Pt!==e||at!==n?(Ic=null,Tc=tt()+500,Da(e,n)):ja=Hl(e,n);e:do try{if(Et!==0&&ot!==null){n=ot;var f=sl;t:switch(Et){case 1:Et=0,sl=null,Ta(e,n,f,1);break;case 2:case 9:if(cm(f)){Et=0,sl=null,eb(n);break}n=function(){Et!==2&&Et!==9||Pt!==e||(Et=7),no(e)},f.then(n,n);break e;case 3:Et=7;break e;case 4:Et=5;break e;case 7:cm(f)?(Et=0,sl=null,eb(n)):(Et=0,sl=null,Ta(e,n,f,7));break;case 5:var y=null;switch(ot.tag){case 26:y=ot.memoizedState;case 5:case 27:var H=ot;if(y?Gb(y):H.stateNode.complete){Et=0,sl=null;var X=H.sibling;if(X!==null)ot=X;else{var oe=H.return;oe!==null?(ot=oe,zc(oe)):ot=null}break t}}Et=0,sl=null,Ta(e,n,f,5);break;case 6:Et=0,sl=null,Ta(e,n,f,6);break;case 8:bf(),Xt=6;break e;default:throw Error(i(462))}}kv();break}catch(de){Kp(e,de)}while(!0);return vo=Fr=null,S.H=a,S.A=u,xt=o,ot!==null?0:(Pt=null,at=0,Qi(),Xt)}function kv(){for(;ot!==null&&!ut();)Jp(ot)}function Jp(e){var n=Sp(e.alternate,e,Ao);e.memoizedProps=e.pendingProps,n===null?zc(e):ot=n}function eb(e){var n=e,o=n.alternate;switch(n.tag){case 15:case 0:n=bp(o,n,n.pendingProps,n.type,void 0,at);break;case 11:n=bp(o,n,n.pendingProps,n.type.render,n.ref,at);break;case 5:zd(n);default:Mp(o,n),n=ot=Zg(n,Ao),n=Sp(o,n,Ao)}e.memoizedProps=e.pendingProps,n===null?zc(e):ot=n}function Ta(e,n,o,a){vo=Fr=null,zd(n),ba=null,js=0;var u=n.return;try{if(wv(e,u,n,o,at)){Xt=1,Cc(e,bl(o,e.current)),ot=null;return}}catch(f){if(u!==null)throw ot=u,f;Xt=1,Cc(e,bl(o,e.current)),ot=null;return}n.flags&32768?(ct||a===1?e=!0:ja||(at&536870912)!==0?e=!1:(Qo=e=!0,(a===2||a===9||a===3||a===6)&&(a=rl.current,a!==null&&a.tag===13&&(a.flags|=16384))),tb(n,e)):zc(n)}function zc(e){var n=e;do{if((n.flags&32768)!==0){tb(n,Qo);return}e=n.return;var o=Mv(n.alternate,n,Ao);if(o!==null){ot=o;return}if(n=n.sibling,n!==null){ot=n;return}ot=n=e}while(n!==null);Xt===0&&(Xt=5)}function tb(e,n){do{var o=Ev(e.alternate,e);if(o!==null){o.flags&=32767,ot=o;return}if(o=e.return,o!==null&&(o.flags|=32768,o.subtreeFlags=0,o.deletions=null),!n&&(e=e.sibling,e!==null)){ot=e;return}ot=e=o}while(e!==null);Xt=6,ot=null}function nb(e,n,o,a,u,f,y,H,X){e.cancelPendingCommit=null;do Oc();while(fn!==0);if((xt&6)!==0)throw Error(i(327));if(n!==null){if(n===e.current)throw Error(i(177));if(f=n.lanes|n.childLanes,f|=rd,Pu(e,o,f,y,H,X),e===Pt&&(ot=Pt=null,at=0),Ea=n,er=e,zo=o,gf=f,mf=u,$p=a,(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,Nv(Fe,function(){return sb(),null})):(e.callbackNode=null,e.callbackPriority=0),a=(n.flags&13878)!==0,(n.subtreeFlags&13878)!==0||a){a=S.T,S.T=null,u=M.p,M.p=2,y=xt,xt|=4;try{Dv(e,n,o)}finally{xt=y,M.p=u,S.T=a}}fn=1,lb(),ob(),rb()}}function lb(){if(fn===1){fn=0;var e=er,n=Ea,o=(n.flags&13878)!==0;if((n.subtreeFlags&13878)!==0||o){o=S.T,S.T=null;var a=M.p;M.p=2;var u=xt;xt|=4;try{Rp(n,e);var f=Ff,y=Vg(e.containerInfo),H=f.focusedElem,X=f.selectionRange;if(y!==H&&H&&H.ownerDocument&&_g(H.ownerDocument.documentElement,H)){if(X!==null&&ed(H)){var oe=X.start,de=X.end;if(de===void 0&&(de=oe),"selectionStart"in H)H.selectionStart=oe,H.selectionEnd=Math.min(de,H.value.length);else{var ge=H.ownerDocument||document,ae=ge&&ge.defaultView||window;if(ae.getSelection){var se=ae.getSelection(),De=H.textContent.length,Pe=Math.min(X.start,De),zt=X.end===void 0?Pe:Math.min(X.end,De);!se.extend&&Pe>zt&&(y=zt,zt=Pe,Pe=y);var te=Bg(H,Pe),J=Bg(H,zt);if(te&&J&&(se.rangeCount!==1||se.anchorNode!==te.node||se.anchorOffset!==te.offset||se.focusNode!==J.node||se.focusOffset!==J.offset)){var ne=ge.createRange();ne.setStart(te.node,te.offset),se.removeAllRanges(),Pe>zt?(se.addRange(ne),se.extend(J.node,J.offset)):(ne.setEnd(J.node,J.offset),se.addRange(ne))}}}}for(ge=[],se=H;se=se.parentNode;)se.nodeType===1&&ge.push({element:se,left:se.scrollLeft,top:se.scrollTop});for(typeof H.focus=="function"&&H.focus(),H=0;H<ge.length;H++){var he=ge[H];he.element.scrollLeft=he.left,he.element.scrollTop=he.top}}$c=!!If,Ff=If=null}finally{xt=u,M.p=a,S.T=o}}e.current=n,fn=2}}function ob(){if(fn===2){fn=0;var e=er,n=Ea,o=(n.flags&8772)!==0;if((n.subtreeFlags&8772)!==0||o){o=S.T,S.T=null;var a=M.p;M.p=2;var u=xt;xt|=4;try{zp(e,n.alternate,n)}finally{xt=u,M.p=a,S.T=o}}fn=3}}function rb(){if(fn===4||fn===3){fn=0,Mt();var e=er,n=Ea,o=zo,a=$p;(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?fn=5:(fn=0,Ea=er=null,ab(e,e.pendingLanes));var u=e.pendingLanes;if(u===0&&(Jo=null),Go(o),n=n.stateNode,vt&&typeof vt.onCommitFiberRoot=="function")try{vt.onCommitFiberRoot(bt,n,void 0,(n.current.flags&128)===128)}catch{}if(a!==null){n=S.T,u=M.p,M.p=2,S.T=null;try{for(var f=e.onRecoverableError,y=0;y<a.length;y++){var H=a[y];f(H.value,{componentStack:H.stack})}}finally{S.T=n,M.p=u}}(zo&3)!==0&&Oc(),no(e),u=e.pendingLanes,(o&261930)!==0&&(u&42)!==0?e===pf?Bs++:(Bs=0,pf=e):Bs=0,_s(0)}}function ab(e,n){(e.pooledCacheLanes&=n)===0&&(n=e.pooledCache,n!=null&&(e.pooledCache=null,ws(n)))}function Oc(){return lb(),ob(),rb(),sb()}function sb(){if(fn!==5)return!1;var e=er,n=gf;gf=0;var o=Go(zo),a=S.T,u=M.p;try{M.p=32>o?32:o,S.T=null,o=mf,mf=null;var f=er,y=zo;if(fn=0,Ea=er=null,zo=0,(xt&6)!==0)throw Error(i(331));var H=xt;if(xt|=4,_p(f.current),Gp(f,f.current,y,o),xt=H,_s(0,!1),vt&&typeof vt.onPostCommitFiberRoot=="function")try{vt.onPostCommitFiberRoot(bt,f)}catch{}return!0}finally{M.p=u,S.T=a,ab(e,n)}}function ib(e,n,o){n=bl(o,n),n=qd(e.stateNode,n,2),e=qo(e,n,2),e!==null&&(wr(e,2),no(e))}function Dt(e,n,o){if(e.tag===3)ib(e,e,o);else for(;n!==null;){if(n.tag===3){ib(n,e,o);break}else if(n.tag===1){var a=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof a.componentDidCatch=="function"&&(Jo===null||!Jo.has(a))){e=bl(o,e),o=cp(2),a=qo(n,o,2),a!==null&&(up(o,a,n,e),wr(a,2),no(a));break}}n=n.return}}function Cf(e,n,o){var a=e.pingCache;if(a===null){a=e.pingCache=new Fv;var u=new Set;a.set(n,u)}else u=a.get(n),u===void 0&&(u=new Set,a.set(n,u));u.has(o)||(df=!0,u.add(o),e=Hv.bind(null,e,n,o),n.then(e,e))}function Hv(e,n,o){var a=e.pingCache;a!==null&&a.delete(n),e.pingedLanes|=e.suspendedLanes&o,e.warmLanes&=~o,Pt===e&&(at&o)===o&&(Xt===4||Xt===3&&(at&62914560)===at&&300>tt()-Dc?(xt&2)===0&&Da(e,0):ff|=o,Ma===at&&(Ma=0)),no(e)}function cb(e,n){n===0&&(n=vr()),e=Dr(e,n),e!==null&&(wr(e,n),no(e))}function Pv(e){var n=e.memoizedState,o=0;n!==null&&(o=n.retryLane),cb(e,o)}function Rv(e,n){var o=0;switch(e.tag){case 31:case 13:var a=e.stateNode,u=e.memoizedState;u!==null&&(o=u.retryLane);break;case 19:a=e.stateNode;break;case 22:a=e.stateNode._retryCache;break;default:throw Error(i(314))}a!==null&&a.delete(n),cb(e,o)}function Nv(e,n){return St(e,n)}var kc=null,Ia=null,yf=!1,Hc=!1,vf=!1,nr=0;function no(e){e!==Ia&&e.next===null&&(Ia===null?kc=Ia=e:Ia=Ia.next=e),Hc=!0,yf||(yf=!0,Lv())}function _s(e,n){if(!vf&&Hc){vf=!0;do for(var o=!1,a=kc;a!==null;){if(e!==0){var u=a.pendingLanes;if(u===0)var f=0;else{var y=a.suspendedLanes,H=a.pingedLanes;f=(1<<31-nn(42|e)+1)-1,f&=u&~(y&~H),f=f&201326741?f&201326741|1:f?f|2:0}f!==0&&(o=!0,hb(a,f))}else f=at,f=go(a,a===Pt?f:0,a.cancelPendingCommit!==null||a.timeoutHandle!==-1),(f&3)===0||Hl(a,f)||(o=!0,hb(a,f));a=a.next}while(o);vf=!1}}function Gv(){ub()}function ub(){Hc=yf=!1;var e=0;nr!==0&&Xv()&&(e=nr);for(var n=tt(),o=null,a=kc;a!==null;){var u=a.next,f=db(a,n);f===0?(a.next=null,o===null?kc=u:o.next=u,u===null&&(Ia=o)):(o=a,(e!==0||(f&3)!==0)&&(Hc=!0)),a=u}fn!==0&&fn!==5||_s(e),nr!==0&&(nr=0)}function db(e,n){for(var o=e.suspendedLanes,a=e.pingedLanes,u=e.expirationTimes,f=e.pendingLanes&-62914561;0<f;){var y=31-nn(f),H=1<<y,X=u[y];X===-1?((H&o)===0||(H&a)!==0)&&(u[y]=mo(H,n)):X<=n&&(e.expiredLanes|=H),f&=~H}if(n=Pt,o=at,o=go(e,e===n?o:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),a=e.callbackNode,o===0||e===n&&(Et===2||Et===9)||e.cancelPendingCommit!==null)return a!==null&&a!==null&&jt(a),e.callbackNode=null,e.callbackPriority=0;if((o&3)===0||Hl(e,o)){if(n=o&-o,n===e.callbackPriority)return n;switch(a!==null&&jt(a),Go(o)){case 2:case 8:o=Ht;break;case 32:o=Fe;break;case 268435456:o=Le;break;default:o=Fe}return a=fb.bind(null,e),o=St(o,a),e.callbackPriority=n,e.callbackNode=o,n}return a!==null&&a!==null&&jt(a),e.callbackPriority=2,e.callbackNode=null,2}function fb(e,n){if(fn!==0&&fn!==5)return e.callbackNode=null,e.callbackPriority=0,null;var o=e.callbackNode;if(Oc()&&e.callbackNode!==o)return null;var a=at;return a=go(e,e===Pt?a:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),a===0?null:(qp(e,a,n),db(e,tt()),e.callbackNode!=null&&e.callbackNode===o?fb.bind(null,e):null)}function hb(e,n){if(Oc())return null;qp(e,n,!0)}function Lv(){Zv(function(){(xt&6)!==0?St(mt,Gv):ub()})}function wf(){if(nr===0){var e=ga;e===0&&(e=Xl,Xl<<=1,(Xl&261888)===0&&(Xl=256)),nr=e}return nr}function gb(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:Vi(""+e)}function mb(e,n){var o=n.ownerDocument.createElement("input");return o.name=n.name,o.value=n.value,e.id&&o.setAttribute("form",e.id),n.parentNode.insertBefore(o,n),e=new FormData(e),o.parentNode.removeChild(o),e}function Bv(e,n,o,a,u){if(n==="submit"&&o&&o.stateNode===u){var f=gb((u[En]||null).action),y=a.submitter;y&&(n=(n=y[En]||null)?gb(n.formAction):y.getAttribute("formAction"),n!==null&&(f=n,y=null));var H=new qi("action","action",null,a,u);e.push({event:H,listeners:[{instance:null,listener:function(){if(a.defaultPrevented){if(nr!==0){var X=y?mb(u,y):new FormData(u);Bd(o,{pending:!0,data:X,method:u.method,action:f},null,X)}}else typeof f=="function"&&(H.preventDefault(),X=y?mb(u,y):new FormData(u),Bd(o,{pending:!0,data:X,method:u.method,action:f},f,X))},currentTarget:u}]})}}for(var Sf=0;Sf<od.length;Sf++){var jf=od[Sf],_v=jf.toLowerCase(),Vv=jf[0].toUpperCase()+jf.slice(1);Nl(_v,"on"+Vv)}Nl(Wg,"onAnimationEnd"),Nl(qg,"onAnimationIteration"),Nl(Yg,"onAnimationStart"),Nl("dblclick","onDoubleClick"),Nl("focusin","onFocus"),Nl("focusout","onBlur"),Nl(rv,"onTransitionRun"),Nl(av,"onTransitionStart"),Nl(sv,"onTransitionCancel"),Nl(Kg,"onTransitionEnd"),ea("onMouseEnter",["mouseout","mouseover"]),ea("onMouseLeave",["mouseout","mouseover"]),ea("onPointerEnter",["pointerout","pointerover"]),ea("onPointerLeave",["pointerout","pointerover"]),qe("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),qe("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),qe("onBeforeInput",["compositionend","keypress","textInput","paste"]),qe("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),qe("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),qe("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Vs="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Uv=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Vs));function pb(e,n){n=(n&4)!==0;for(var o=0;o<e.length;o++){var a=e[o],u=a.event;a=a.listeners;e:{var f=void 0;if(n)for(var y=a.length-1;0<=y;y--){var H=a[y],X=H.instance,oe=H.currentTarget;if(H=H.listener,X!==f&&u.isPropagationStopped())break e;f=H,u.currentTarget=oe;try{f(u)}catch(de){Xi(de)}u.currentTarget=null,f=X}else for(y=0;y<a.length;y++){if(H=a[y],X=H.instance,oe=H.currentTarget,H=H.listener,X!==f&&u.isPropagationStopped())break e;f=H,u.currentTarget=oe;try{f(u)}catch(de){Xi(de)}u.currentTarget=null,f=X}}}}function rt(e,n){var o=n[hl];o===void 0&&(o=n[hl]=new Set);var a=e+"__bubble";o.has(a)||(bb(n,e,2,!1),o.add(a))}function Mf(e,n,o){var a=0;n&&(a|=4),bb(o,e,a,n)}var Pc="_reactListening"+Math.random().toString(36).slice(2);function Ef(e){if(!e[Pc]){e[Pc]=!0,us.forEach(function(o){o!=="selectionchange"&&(Uv.has(o)||Mf(o,!1,e),Mf(o,!0,e))});var n=e.nodeType===9?e:e.ownerDocument;n===null||n[Pc]||(n[Pc]=!0,Mf("selectionchange",!1,n))}}function bb(e,n,o,a){switch(Wb(n)){case 2:var u=xw;break;case 8:u=Cw;break;default:u=Bf}o=u.bind(null,n,o,e),u=void 0,!$u||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(u=!0),a?u!==void 0?e.addEventListener(n,o,{capture:!0,passive:u}):e.addEventListener(n,o,!0):u!==void 0?e.addEventListener(n,o,{passive:u}):e.addEventListener(n,o,!1)}function Df(e,n,o,a,u){var f=a;if((n&1)===0&&(n&2)===0&&a!==null)e:for(;;){if(a===null)return;var y=a.tag;if(y===3||y===4){var H=a.stateNode.containerInfo;if(H===u)break;if(y===4)for(y=a.return;y!==null;){var X=y.tag;if((X===3||X===4)&&y.stateNode.containerInfo===u)return;y=y.return}for(;H!==null;){if(y=Lt(H),y===null)return;if(X=y.tag,X===5||X===6||X===26||X===27){a=f=y;continue e}H=H.parentNode}}a=a.return}wg(function(){var oe=f,de=Vu(o),ge=[];e:{var ae=Xg.get(e);if(ae!==void 0){var se=qi,De=e;switch(e){case"keypress":if($i(o)===0)break e;case"keydown":case"keyup":se=Ry;break;case"focusin":De="focus",se=Ku;break;case"focusout":De="blur",se=Ku;break;case"beforeblur":case"afterblur":se=Ku;break;case"click":if(o.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":se=Mg;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":se=My;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":se=Ly;break;case Wg:case qg:case Yg:se=Ty;break;case Kg:se=_y;break;case"scroll":case"scrollend":se=Sy;break;case"wheel":se=Uy;break;case"copy":case"cut":case"paste":se=Fy;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":se=Dg;break;case"toggle":case"beforetoggle":se=Wy}var Pe=(n&4)!==0,zt=!Pe&&(e==="scroll"||e==="scrollend"),te=Pe?ae!==null?ae+"Capture":null:ae;Pe=[];for(var J=oe,ne;J!==null;){var he=J;if(ne=he.stateNode,he=he.tag,he!==5&&he!==26&&he!==27||ne===null||te===null||(he=ds(J,te),he!=null&&Pe.push(Us(J,he,ne))),zt)break;J=J.return}0<Pe.length&&(ae=new se(ae,De,null,o,de),ge.push({event:ae,listeners:Pe}))}}if((n&7)===0){e:{if(ae=e==="mouseover"||e==="pointerover",se=e==="mouseout"||e==="pointerout",ae&&o!==_u&&(De=o.relatedTarget||o.fromElement)&&(Lt(De)||De[Vn]))break e;if((se||ae)&&(ae=de.window===de?de:(ae=de.ownerDocument)?ae.defaultView||ae.parentWindow:window,se?(De=o.relatedTarget||o.toElement,se=oe,De=De?Lt(De):null,De!==null&&(zt=d(De),Pe=De.tag,De!==zt||Pe!==5&&Pe!==27&&Pe!==6)&&(De=null)):(se=null,De=oe),se!==De)){if(Pe=Mg,he="onMouseLeave",te="onMouseEnter",J="mouse",(e==="pointerout"||e==="pointerover")&&(Pe=Dg,he="onPointerLeave",te="onPointerEnter",J="pointer"),zt=se==null?ae:Pl(se),ne=De==null?ae:Pl(De),ae=new Pe(he,J+"leave",se,o,de),ae.target=zt,ae.relatedTarget=ne,he=null,Lt(de)===oe&&(Pe=new Pe(te,J+"enter",De,o,de),Pe.target=ne,Pe.relatedTarget=zt,he=Pe),zt=he,se&&De)t:{for(Pe=$v,te=se,J=De,ne=0,he=te;he;he=Pe(he))ne++;he=0;for(var He=J;He;He=Pe(He))he++;for(;0<ne-he;)te=Pe(te),ne--;for(;0<he-ne;)J=Pe(J),he--;for(;ne--;){if(te===J||J!==null&&te===J.alternate){Pe=te;break t}te=Pe(te),J=Pe(J)}Pe=null}else Pe=null;se!==null&&xb(ge,ae,se,Pe,!1),De!==null&&zt!==null&&xb(ge,zt,De,Pe,!0)}}e:{if(ae=oe?Pl(oe):window,se=ae.nodeName&&ae.nodeName.toLowerCase(),se==="select"||se==="input"&&ae.type==="file")var ft=Hg;else if(Og(ae))if(Pg)ft=nv;else{ft=ev;var Ie=Jy}else se=ae.nodeName,!se||se.toLowerCase()!=="input"||ae.type!=="checkbox"&&ae.type!=="radio"?oe&&Bu(oe.elementType)&&(ft=Hg):ft=tv;if(ft&&(ft=ft(e,oe))){kg(ge,ft,o,de);break e}Ie&&Ie(e,ae,oe),e==="focusout"&&oe&&ae.type==="number"&&oe.memoizedProps.value!=null&&Lu(ae,"number",ae.value)}switch(Ie=oe?Pl(oe):window,e){case"focusin":(Og(Ie)||Ie.contentEditable==="true")&&(aa=Ie,td=oe,Cs=null);break;case"focusout":Cs=td=aa=null;break;case"mousedown":nd=!0;break;case"contextmenu":case"mouseup":case"dragend":nd=!1,Ug(ge,o,de);break;case"selectionchange":if(ov)break;case"keydown":case"keyup":Ug(ge,o,de)}var Je;if(Qu)e:{switch(e){case"compositionstart":var st="onCompositionStart";break e;case"compositionend":st="onCompositionEnd";break e;case"compositionupdate":st="onCompositionUpdate";break e}st=void 0}else ra?Ag(e,o)&&(st="onCompositionEnd"):e==="keydown"&&o.keyCode===229&&(st="onCompositionStart");st&&(Tg&&o.locale!=="ko"&&(ra||st!=="onCompositionStart"?st==="onCompositionEnd"&&ra&&(Je=Sg()):(Lo=de,Wu="value"in Lo?Lo.value:Lo.textContent,ra=!0)),Ie=Rc(oe,st),0<Ie.length&&(st=new Eg(st,e,null,o,de),ge.push({event:st,listeners:Ie}),Je?st.data=Je:(Je=zg(o),Je!==null&&(st.data=Je)))),(Je=Yy?Ky(e,o):Xy(e,o))&&(st=Rc(oe,"onBeforeInput"),0<st.length&&(Ie=new Eg("onBeforeInput","beforeinput",null,o,de),ge.push({event:Ie,listeners:st}),Ie.data=Je)),Bv(ge,e,oe,o,de)}pb(ge,n)})}function Us(e,n,o){return{instance:e,listener:n,currentTarget:o}}function Rc(e,n){for(var o=n+"Capture",a=[];e!==null;){var u=e,f=u.stateNode;if(u=u.tag,u!==5&&u!==26&&u!==27||f===null||(u=ds(e,o),u!=null&&a.unshift(Us(e,u,f)),u=ds(e,n),u!=null&&a.push(Us(e,u,f))),e.tag===3)return a;e=e.return}return[]}function $v(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function xb(e,n,o,a,u){for(var f=n._reactName,y=[];o!==null&&o!==a;){var H=o,X=H.alternate,oe=H.stateNode;if(H=H.tag,X!==null&&X===a)break;H!==5&&H!==26&&H!==27||oe===null||(X=oe,u?(oe=ds(o,f),oe!=null&&y.unshift(Us(o,oe,X))):u||(oe=ds(o,f),oe!=null&&y.push(Us(o,oe,X)))),o=o.return}y.length!==0&&e.push({event:n,listeners:y})}var Wv=/\r\n?/g,qv=/\u0000|\uFFFD/g;function Cb(e){return(typeof e=="string"?e:""+e).replace(Wv,`
`).replace(qv,"")}function yb(e,n){return n=Cb(n),Cb(e)===n}function At(e,n,o,a,u,f){switch(o){case"children":typeof a=="string"?n==="body"||n==="textarea"&&a===""||na(e,a):(typeof a=="number"||typeof a=="bigint")&&n!=="body"&&na(e,""+a);break;case"className":Bi(e,"class",a);break;case"tabIndex":Bi(e,"tabindex",a);break;case"dir":case"role":case"viewBox":case"width":case"height":Bi(e,o,a);break;case"style":yg(e,a,f);break;case"data":if(n!=="object"){Bi(e,"data",a);break}case"src":case"href":if(a===""&&(n!=="a"||o!=="href")){e.removeAttribute(o);break}if(a==null||typeof a=="function"||typeof a=="symbol"||typeof a=="boolean"){e.removeAttribute(o);break}a=Vi(""+a),e.setAttribute(o,a);break;case"action":case"formAction":if(typeof a=="function"){e.setAttribute(o,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof f=="function"&&(o==="formAction"?(n!=="input"&&At(e,n,"name",u.name,u,null),At(e,n,"formEncType",u.formEncType,u,null),At(e,n,"formMethod",u.formMethod,u,null),At(e,n,"formTarget",u.formTarget,u,null)):(At(e,n,"encType",u.encType,u,null),At(e,n,"method",u.method,u,null),At(e,n,"target",u.target,u,null)));if(a==null||typeof a=="symbol"||typeof a=="boolean"){e.removeAttribute(o);break}a=Vi(""+a),e.setAttribute(o,a);break;case"onClick":a!=null&&(e.onclick=bo);break;case"onScroll":a!=null&&rt("scroll",e);break;case"onScrollEnd":a!=null&&rt("scrollend",e);break;case"dangerouslySetInnerHTML":if(a!=null){if(typeof a!="object"||!("__html"in a))throw Error(i(61));if(o=a.__html,o!=null){if(u.children!=null)throw Error(i(60));e.innerHTML=o}}break;case"multiple":e.multiple=a&&typeof a!="function"&&typeof a!="symbol";break;case"muted":e.muted=a&&typeof a!="function"&&typeof a!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(a==null||typeof a=="function"||typeof a=="boolean"||typeof a=="symbol"){e.removeAttribute("xlink:href");break}o=Vi(""+a),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",o);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":a!=null&&typeof a!="function"&&typeof a!="symbol"?e.setAttribute(o,""+a):e.removeAttribute(o);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":a&&typeof a!="function"&&typeof a!="symbol"?e.setAttribute(o,""):e.removeAttribute(o);break;case"capture":case"download":a===!0?e.setAttribute(o,""):a!==!1&&a!=null&&typeof a!="function"&&typeof a!="symbol"?e.setAttribute(o,a):e.removeAttribute(o);break;case"cols":case"rows":case"size":case"span":a!=null&&typeof a!="function"&&typeof a!="symbol"&&!isNaN(a)&&1<=a?e.setAttribute(o,a):e.removeAttribute(o);break;case"rowSpan":case"start":a==null||typeof a=="function"||typeof a=="symbol"||isNaN(a)?e.removeAttribute(o):e.setAttribute(o,a);break;case"popover":rt("beforetoggle",e),rt("toggle",e),Li(e,"popover",a);break;case"xlinkActuate":po(e,"http://www.w3.org/1999/xlink","xlink:actuate",a);break;case"xlinkArcrole":po(e,"http://www.w3.org/1999/xlink","xlink:arcrole",a);break;case"xlinkRole":po(e,"http://www.w3.org/1999/xlink","xlink:role",a);break;case"xlinkShow":po(e,"http://www.w3.org/1999/xlink","xlink:show",a);break;case"xlinkTitle":po(e,"http://www.w3.org/1999/xlink","xlink:title",a);break;case"xlinkType":po(e,"http://www.w3.org/1999/xlink","xlink:type",a);break;case"xmlBase":po(e,"http://www.w3.org/XML/1998/namespace","xml:base",a);break;case"xmlLang":po(e,"http://www.w3.org/XML/1998/namespace","xml:lang",a);break;case"xmlSpace":po(e,"http://www.w3.org/XML/1998/namespace","xml:space",a);break;case"is":Li(e,"is",a);break;case"innerText":case"textContent":break;default:(!(2<o.length)||o[0]!=="o"&&o[0]!=="O"||o[1]!=="n"&&o[1]!=="N")&&(o=vy.get(o)||o,Li(e,o,a))}}function Tf(e,n,o,a,u,f){switch(o){case"style":yg(e,a,f);break;case"dangerouslySetInnerHTML":if(a!=null){if(typeof a!="object"||!("__html"in a))throw Error(i(61));if(o=a.__html,o!=null){if(u.children!=null)throw Error(i(60));e.innerHTML=o}}break;case"children":typeof a=="string"?na(e,a):(typeof a=="number"||typeof a=="bigint")&&na(e,""+a);break;case"onScroll":a!=null&&rt("scroll",e);break;case"onScrollEnd":a!=null&&rt("scrollend",e);break;case"onClick":a!=null&&(e.onclick=bo);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Jr.hasOwnProperty(o))e:{if(o[0]==="o"&&o[1]==="n"&&(u=o.endsWith("Capture"),n=o.slice(2,u?o.length-7:void 0),f=e[En]||null,f=f!=null?f[o]:null,typeof f=="function"&&e.removeEventListener(n,f,u),typeof a=="function")){typeof f!="function"&&f!==null&&(o in e?e[o]=null:e.hasAttribute(o)&&e.removeAttribute(o)),e.addEventListener(n,a,u);break e}o in e?e[o]=a:a===!0?e.setAttribute(o,""):Li(e,o,a)}}}function jn(e,n,o){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":rt("error",e),rt("load",e);var a=!1,u=!1,f;for(f in o)if(o.hasOwnProperty(f)){var y=o[f];if(y!=null)switch(f){case"src":a=!0;break;case"srcSet":u=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(i(137,n));default:At(e,n,f,y,o,null)}}u&&At(e,n,"srcSet",o.srcSet,o,null),a&&At(e,n,"src",o.src,o,null);return;case"input":rt("invalid",e);var H=f=y=u=null,X=null,oe=null;for(a in o)if(o.hasOwnProperty(a)){var de=o[a];if(de!=null)switch(a){case"name":u=de;break;case"type":y=de;break;case"checked":X=de;break;case"defaultChecked":oe=de;break;case"value":f=de;break;case"defaultValue":H=de;break;case"children":case"dangerouslySetInnerHTML":if(de!=null)throw Error(i(137,n));break;default:At(e,n,a,de,o,null)}}pg(e,f,H,X,oe,y,u,!1);return;case"select":rt("invalid",e),a=y=f=null;for(u in o)if(o.hasOwnProperty(u)&&(H=o[u],H!=null))switch(u){case"value":f=H;break;case"defaultValue":y=H;break;case"multiple":a=H;default:At(e,n,u,H,o,null)}n=f,o=y,e.multiple=!!a,n!=null?ta(e,!!a,n,!1):o!=null&&ta(e,!!a,o,!0);return;case"textarea":rt("invalid",e),f=u=a=null;for(y in o)if(o.hasOwnProperty(y)&&(H=o[y],H!=null))switch(y){case"value":a=H;break;case"defaultValue":u=H;break;case"children":f=H;break;case"dangerouslySetInnerHTML":if(H!=null)throw Error(i(91));break;default:At(e,n,y,H,o,null)}xg(e,a,u,f);return;case"option":for(X in o)o.hasOwnProperty(X)&&(a=o[X],a!=null)&&(X==="selected"?e.selected=a&&typeof a!="function"&&typeof a!="symbol":At(e,n,X,a,o,null));return;case"dialog":rt("beforetoggle",e),rt("toggle",e),rt("cancel",e),rt("close",e);break;case"iframe":case"object":rt("load",e);break;case"video":case"audio":for(a=0;a<Vs.length;a++)rt(Vs[a],e);break;case"image":rt("error",e),rt("load",e);break;case"details":rt("toggle",e);break;case"embed":case"source":case"link":rt("error",e),rt("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(oe in o)if(o.hasOwnProperty(oe)&&(a=o[oe],a!=null))switch(oe){case"children":case"dangerouslySetInnerHTML":throw Error(i(137,n));default:At(e,n,oe,a,o,null)}return;default:if(Bu(n)){for(de in o)o.hasOwnProperty(de)&&(a=o[de],a!==void 0&&Tf(e,n,de,a,o,void 0));return}}for(H in o)o.hasOwnProperty(H)&&(a=o[H],a!=null&&At(e,n,H,a,o,null))}function Yv(e,n,o,a){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var u=null,f=null,y=null,H=null,X=null,oe=null,de=null;for(se in o){var ge=o[se];if(o.hasOwnProperty(se)&&ge!=null)switch(se){case"checked":break;case"value":break;case"defaultValue":X=ge;default:a.hasOwnProperty(se)||At(e,n,se,null,a,ge)}}for(var ae in a){var se=a[ae];if(ge=o[ae],a.hasOwnProperty(ae)&&(se!=null||ge!=null))switch(ae){case"type":f=se;break;case"name":u=se;break;case"checked":oe=se;break;case"defaultChecked":de=se;break;case"value":y=se;break;case"defaultValue":H=se;break;case"children":case"dangerouslySetInnerHTML":if(se!=null)throw Error(i(137,n));break;default:se!==ge&&At(e,n,ae,se,a,ge)}}Gu(e,y,H,X,oe,de,f,u);return;case"select":se=y=H=ae=null;for(f in o)if(X=o[f],o.hasOwnProperty(f)&&X!=null)switch(f){case"value":break;case"multiple":se=X;default:a.hasOwnProperty(f)||At(e,n,f,null,a,X)}for(u in a)if(f=a[u],X=o[u],a.hasOwnProperty(u)&&(f!=null||X!=null))switch(u){case"value":ae=f;break;case"defaultValue":H=f;break;case"multiple":y=f;default:f!==X&&At(e,n,u,f,a,X)}n=H,o=y,a=se,ae!=null?ta(e,!!o,ae,!1):!!a!=!!o&&(n!=null?ta(e,!!o,n,!0):ta(e,!!o,o?[]:"",!1));return;case"textarea":se=ae=null;for(H in o)if(u=o[H],o.hasOwnProperty(H)&&u!=null&&!a.hasOwnProperty(H))switch(H){case"value":break;case"children":break;default:At(e,n,H,null,a,u)}for(y in a)if(u=a[y],f=o[y],a.hasOwnProperty(y)&&(u!=null||f!=null))switch(y){case"value":ae=u;break;case"defaultValue":se=u;break;case"children":break;case"dangerouslySetInnerHTML":if(u!=null)throw Error(i(91));break;default:u!==f&&At(e,n,y,u,a,f)}bg(e,ae,se);return;case"option":for(var De in o)ae=o[De],o.hasOwnProperty(De)&&ae!=null&&!a.hasOwnProperty(De)&&(De==="selected"?e.selected=!1:At(e,n,De,null,a,ae));for(X in a)ae=a[X],se=o[X],a.hasOwnProperty(X)&&ae!==se&&(ae!=null||se!=null)&&(X==="selected"?e.selected=ae&&typeof ae!="function"&&typeof ae!="symbol":At(e,n,X,ae,a,se));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Pe in o)ae=o[Pe],o.hasOwnProperty(Pe)&&ae!=null&&!a.hasOwnProperty(Pe)&&At(e,n,Pe,null,a,ae);for(oe in a)if(ae=a[oe],se=o[oe],a.hasOwnProperty(oe)&&ae!==se&&(ae!=null||se!=null))switch(oe){case"children":case"dangerouslySetInnerHTML":if(ae!=null)throw Error(i(137,n));break;default:At(e,n,oe,ae,a,se)}return;default:if(Bu(n)){for(var zt in o)ae=o[zt],o.hasOwnProperty(zt)&&ae!==void 0&&!a.hasOwnProperty(zt)&&Tf(e,n,zt,void 0,a,ae);for(de in a)ae=a[de],se=o[de],!a.hasOwnProperty(de)||ae===se||ae===void 0&&se===void 0||Tf(e,n,de,ae,a,se);return}}for(var te in o)ae=o[te],o.hasOwnProperty(te)&&ae!=null&&!a.hasOwnProperty(te)&&At(e,n,te,null,a,ae);for(ge in a)ae=a[ge],se=o[ge],!a.hasOwnProperty(ge)||ae===se||ae==null&&se==null||At(e,n,ge,ae,a,se)}function vb(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function Kv(){if(typeof performance.getEntriesByType=="function"){for(var e=0,n=0,o=performance.getEntriesByType("resource"),a=0;a<o.length;a++){var u=o[a],f=u.transferSize,y=u.initiatorType,H=u.duration;if(f&&H&&vb(y)){for(y=0,H=u.responseEnd,a+=1;a<o.length;a++){var X=o[a],oe=X.startTime;if(oe>H)break;var de=X.transferSize,ge=X.initiatorType;de&&vb(ge)&&(X=X.responseEnd,y+=de*(X<H?1:(H-oe)/(X-oe)))}if(--a,n+=8*(f+y)/(u.duration/1e3),e++,10<e)break}}if(0<e)return n/e/1e6}return navigator.connection&&(e=navigator.connection.downlink,typeof e=="number")?e:5}var If=null,Ff=null;function Nc(e){return e.nodeType===9?e:e.ownerDocument}function wb(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Sb(e,n){if(e===0)switch(n){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&n==="foreignObject"?0:e}function Af(e,n){return e==="textarea"||e==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.children=="bigint"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var zf=null;function Xv(){var e=window.event;return e&&e.type==="popstate"?e===zf?!1:(zf=e,!0):(zf=null,!1)}var jb=typeof setTimeout=="function"?setTimeout:void 0,Qv=typeof clearTimeout=="function"?clearTimeout:void 0,Mb=typeof Promise=="function"?Promise:void 0,Zv=typeof queueMicrotask=="function"?queueMicrotask:typeof Mb<"u"?function(e){return Mb.resolve(null).then(e).catch(Jv)}:jb;function Jv(e){setTimeout(function(){throw e})}function lr(e){return e==="head"}function Eb(e,n){var o=n,a=0;do{var u=o.nextSibling;if(e.removeChild(o),u&&u.nodeType===8)if(o=u.data,o==="/$"||o==="/&"){if(a===0){e.removeChild(u),Oa(n);return}a--}else if(o==="$"||o==="$?"||o==="$~"||o==="$!"||o==="&")a++;else if(o==="html")$s(e.ownerDocument.documentElement);else if(o==="head"){o=e.ownerDocument.head,$s(o);for(var f=o.firstChild;f;){var y=f.nextSibling,H=f.nodeName;f[Z]||H==="SCRIPT"||H==="STYLE"||H==="LINK"&&f.rel.toLowerCase()==="stylesheet"||o.removeChild(f),f=y}}else o==="body"&&$s(e.ownerDocument.body);o=u}while(o);Oa(n)}function Db(e,n){var o=e;e=0;do{var a=o.nextSibling;if(o.nodeType===1?n?(o._stashedDisplay=o.style.display,o.style.display="none"):(o.style.display=o._stashedDisplay||"",o.getAttribute("style")===""&&o.removeAttribute("style")):o.nodeType===3&&(n?(o._stashedText=o.nodeValue,o.nodeValue=""):o.nodeValue=o._stashedText||""),a&&a.nodeType===8)if(o=a.data,o==="/$"){if(e===0)break;e--}else o!=="$"&&o!=="$?"&&o!=="$~"&&o!=="$!"||e++;o=a}while(o)}function Of(e){var n=e.firstChild;for(n&&n.nodeType===10&&(n=n.nextSibling);n;){var o=n;switch(n=n.nextSibling,o.nodeName){case"HTML":case"HEAD":case"BODY":Of(o),Oe(o);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(o.rel.toLowerCase()==="stylesheet")continue}e.removeChild(o)}}function ew(e,n,o,a){for(;e.nodeType===1;){var u=o;if(e.nodeName.toLowerCase()!==n.toLowerCase()){if(!a&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(a){if(!e[Z])switch(n){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(f=e.getAttribute("rel"),f==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(f!==u.rel||e.getAttribute("href")!==(u.href==null||u.href===""?null:u.href)||e.getAttribute("crossorigin")!==(u.crossOrigin==null?null:u.crossOrigin)||e.getAttribute("title")!==(u.title==null?null:u.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(f=e.getAttribute("src"),(f!==(u.src==null?null:u.src)||e.getAttribute("type")!==(u.type==null?null:u.type)||e.getAttribute("crossorigin")!==(u.crossOrigin==null?null:u.crossOrigin))&&f&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(n==="input"&&e.type==="hidden"){var f=u.name==null?null:""+u.name;if(u.type==="hidden"&&e.getAttribute("name")===f)return e}else return e;if(e=wl(e.nextSibling),e===null)break}return null}function tw(e,n,o){if(n==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!o||(e=wl(e.nextSibling),e===null))return null;return e}function Tb(e,n){for(;e.nodeType!==8;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!n||(e=wl(e.nextSibling),e===null))return null;return e}function kf(e){return e.data==="$?"||e.data==="$~"}function Hf(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState!=="loading"}function nw(e,n){var o=e.ownerDocument;if(e.data==="$~")e._reactRetry=n;else if(e.data!=="$?"||o.readyState!=="loading")n();else{var a=function(){n(),o.removeEventListener("DOMContentLoaded",a)};o.addEventListener("DOMContentLoaded",a),e._reactRetry=a}}function wl(e){for(;e!=null;e=e.nextSibling){var n=e.nodeType;if(n===1||n===3)break;if(n===8){if(n=e.data,n==="$"||n==="$!"||n==="$?"||n==="$~"||n==="&"||n==="F!"||n==="F")break;if(n==="/$"||n==="/&")return null}}return e}var Pf=null;function Ib(e){e=e.nextSibling;for(var n=0;e;){if(e.nodeType===8){var o=e.data;if(o==="/$"||o==="/&"){if(n===0)return wl(e.nextSibling);n--}else o!=="$"&&o!=="$!"&&o!=="$?"&&o!=="$~"&&o!=="&"||n++}e=e.nextSibling}return null}function Fb(e){e=e.previousSibling;for(var n=0;e;){if(e.nodeType===8){var o=e.data;if(o==="$"||o==="$!"||o==="$?"||o==="$~"||o==="&"){if(n===0)return e;n--}else o!=="/$"&&o!=="/&"||n++}e=e.previousSibling}return null}function Ab(e,n,o){switch(n=Nc(o),e){case"html":if(e=n.documentElement,!e)throw Error(i(452));return e;case"head":if(e=n.head,!e)throw Error(i(453));return e;case"body":if(e=n.body,!e)throw Error(i(454));return e;default:throw Error(i(451))}}function $s(e){for(var n=e.attributes;n.length;)e.removeAttributeNode(n[0]);Oe(e)}var Sl=new Map,zb=new Set;function Gc(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var Oo=M.d;M.d={f:lw,r:ow,D:rw,C:aw,L:sw,m:iw,X:uw,S:cw,M:dw};function lw(){var e=Oo.f(),n=Fc();return e||n}function ow(e){var n=Wt(e);n!==null&&n.tag===5&&n.type==="form"?Km(n):Oo.r(e)}var Fa=typeof document>"u"?null:document;function Ob(e,n,o){var a=Fa;if(a&&typeof n=="string"&&n){var u=ml(n);u='link[rel="'+e+'"][href="'+u+'"]',typeof o=="string"&&(u+='[crossorigin="'+o+'"]'),zb.has(u)||(zb.add(u),e={rel:e,crossOrigin:o,href:n},a.querySelector(u)===null&&(n=a.createElement("link"),jn(n,"link",e),Yt(n),a.head.appendChild(n)))}}function rw(e){Oo.D(e),Ob("dns-prefetch",e,null)}function aw(e,n){Oo.C(e,n),Ob("preconnect",e,n)}function sw(e,n,o){Oo.L(e,n,o);var a=Fa;if(a&&e&&n){var u='link[rel="preload"][as="'+ml(n)+'"]';n==="image"&&o&&o.imageSrcSet?(u+='[imagesrcset="'+ml(o.imageSrcSet)+'"]',typeof o.imageSizes=="string"&&(u+='[imagesizes="'+ml(o.imageSizes)+'"]')):u+='[href="'+ml(e)+'"]';var f=u;switch(n){case"style":f=Aa(e);break;case"script":f=za(e)}Sl.has(f)||(e=C({rel:"preload",href:n==="image"&&o&&o.imageSrcSet?void 0:e,as:n},o),Sl.set(f,e),a.querySelector(u)!==null||n==="style"&&a.querySelector(Ws(f))||n==="script"&&a.querySelector(qs(f))||(n=a.createElement("link"),jn(n,"link",e),Yt(n),a.head.appendChild(n)))}}function iw(e,n){Oo.m(e,n);var o=Fa;if(o&&e){var a=n&&typeof n.as=="string"?n.as:"script",u='link[rel="modulepreload"][as="'+ml(a)+'"][href="'+ml(e)+'"]',f=u;switch(a){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":f=za(e)}if(!Sl.has(f)&&(e=C({rel:"modulepreload",href:e},n),Sl.set(f,e),o.querySelector(u)===null)){switch(a){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(o.querySelector(qs(f)))return}a=o.createElement("link"),jn(a,"link",e),Yt(a),o.head.appendChild(a)}}}function cw(e,n,o){Oo.S(e,n,o);var a=Fa;if(a&&e){var u=Rl(a).hoistableStyles,f=Aa(e);n=n||"default";var y=u.get(f);if(!y){var H={loading:0,preload:null};if(y=a.querySelector(Ws(f)))H.loading=5;else{e=C({rel:"stylesheet",href:e,"data-precedence":n},o),(o=Sl.get(f))&&Rf(e,o);var X=y=a.createElement("link");Yt(X),jn(X,"link",e),X._p=new Promise(function(oe,de){X.onload=oe,X.onerror=de}),X.addEventListener("load",function(){H.loading|=1}),X.addEventListener("error",function(){H.loading|=2}),H.loading|=4,Lc(y,n,a)}y={type:"stylesheet",instance:y,count:1,state:H},u.set(f,y)}}}function uw(e,n){Oo.X(e,n);var o=Fa;if(o&&e){var a=Rl(o).hoistableScripts,u=za(e),f=a.get(u);f||(f=o.querySelector(qs(u)),f||(e=C({src:e,async:!0},n),(n=Sl.get(u))&&Nf(e,n),f=o.createElement("script"),Yt(f),jn(f,"link",e),o.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},a.set(u,f))}}function dw(e,n){Oo.M(e,n);var o=Fa;if(o&&e){var a=Rl(o).hoistableScripts,u=za(e),f=a.get(u);f||(f=o.querySelector(qs(u)),f||(e=C({src:e,async:!0,type:"module"},n),(n=Sl.get(u))&&Nf(e,n),f=o.createElement("script"),Yt(f),jn(f,"link",e),o.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},a.set(u,f))}}function kb(e,n,o,a){var u=(u=ce.current)?Gc(u):null;if(!u)throw Error(i(446));switch(e){case"meta":case"title":return null;case"style":return typeof o.precedence=="string"&&typeof o.href=="string"?(n=Aa(o.href),o=Rl(u).hoistableStyles,a=o.get(n),a||(a={type:"style",instance:null,count:0,state:null},o.set(n,a)),a):{type:"void",instance:null,count:0,state:null};case"link":if(o.rel==="stylesheet"&&typeof o.href=="string"&&typeof o.precedence=="string"){e=Aa(o.href);var f=Rl(u).hoistableStyles,y=f.get(e);if(y||(u=u.ownerDocument||u,y={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},f.set(e,y),(f=u.querySelector(Ws(e)))&&!f._p&&(y.instance=f,y.state.loading=5),Sl.has(e)||(o={rel:"preload",as:"style",href:o.href,crossOrigin:o.crossOrigin,integrity:o.integrity,media:o.media,hrefLang:o.hrefLang,referrerPolicy:o.referrerPolicy},Sl.set(e,o),f||fw(u,e,o,y.state))),n&&a===null)throw Error(i(528,""));return y}if(n&&a!==null)throw Error(i(529,""));return null;case"script":return n=o.async,o=o.src,typeof o=="string"&&n&&typeof n!="function"&&typeof n!="symbol"?(n=za(o),o=Rl(u).hoistableScripts,a=o.get(n),a||(a={type:"script",instance:null,count:0,state:null},o.set(n,a)),a):{type:"void",instance:null,count:0,state:null};default:throw Error(i(444,e))}}function Aa(e){return'href="'+ml(e)+'"'}function Ws(e){return'link[rel="stylesheet"]['+e+"]"}function Hb(e){return C({},e,{"data-precedence":e.precedence,precedence:null})}function fw(e,n,o,a){e.querySelector('link[rel="preload"][as="style"]['+n+"]")?a.loading=1:(n=e.createElement("link"),a.preload=n,n.addEventListener("load",function(){return a.loading|=1}),n.addEventListener("error",function(){return a.loading|=2}),jn(n,"link",o),Yt(n),e.head.appendChild(n))}function za(e){return'[src="'+ml(e)+'"]'}function qs(e){return"script[async]"+e}function Pb(e,n,o){if(n.count++,n.instance===null)switch(n.type){case"style":var a=e.querySelector('style[data-href~="'+ml(o.href)+'"]');if(a)return n.instance=a,Yt(a),a;var u=C({},o,{"data-href":o.href,"data-precedence":o.precedence,href:null,precedence:null});return a=(e.ownerDocument||e).createElement("style"),Yt(a),jn(a,"style",u),Lc(a,o.precedence,e),n.instance=a;case"stylesheet":u=Aa(o.href);var f=e.querySelector(Ws(u));if(f)return n.state.loading|=4,n.instance=f,Yt(f),f;a=Hb(o),(u=Sl.get(u))&&Rf(a,u),f=(e.ownerDocument||e).createElement("link"),Yt(f);var y=f;return y._p=new Promise(function(H,X){y.onload=H,y.onerror=X}),jn(f,"link",a),n.state.loading|=4,Lc(f,o.precedence,e),n.instance=f;case"script":return f=za(o.src),(u=e.querySelector(qs(f)))?(n.instance=u,Yt(u),u):(a=o,(u=Sl.get(f))&&(a=C({},o),Nf(a,u)),e=e.ownerDocument||e,u=e.createElement("script"),Yt(u),jn(u,"link",a),e.head.appendChild(u),n.instance=u);case"void":return null;default:throw Error(i(443,n.type))}else n.type==="stylesheet"&&(n.state.loading&4)===0&&(a=n.instance,n.state.loading|=4,Lc(a,o.precedence,e));return n.instance}function Lc(e,n,o){for(var a=o.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),u=a.length?a[a.length-1]:null,f=u,y=0;y<a.length;y++){var H=a[y];if(H.dataset.precedence===n)f=H;else if(f!==u)break}f?f.parentNode.insertBefore(e,f.nextSibling):(n=o.nodeType===9?o.head:o,n.insertBefore(e,n.firstChild))}function Rf(e,n){e.crossOrigin==null&&(e.crossOrigin=n.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=n.referrerPolicy),e.title==null&&(e.title=n.title)}function Nf(e,n){e.crossOrigin==null&&(e.crossOrigin=n.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=n.referrerPolicy),e.integrity==null&&(e.integrity=n.integrity)}var Bc=null;function Rb(e,n,o){if(Bc===null){var a=new Map,u=Bc=new Map;u.set(o,a)}else u=Bc,a=u.get(o),a||(a=new Map,u.set(o,a));if(a.has(e))return a;for(a.set(e,null),o=o.getElementsByTagName(e),u=0;u<o.length;u++){var f=o[u];if(!(f[Z]||f[dn]||e==="link"&&f.getAttribute("rel")==="stylesheet")&&f.namespaceURI!=="http://www.w3.org/2000/svg"){var y=f.getAttribute(n)||"";y=e+y;var H=a.get(y);H?H.push(f):a.set(y,[f])}}return a}function Nb(e,n,o){e=e.ownerDocument||e,e.head.insertBefore(o,n==="title"?e.querySelector("head > title"):null)}function hw(e,n,o){if(o===1||n.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof n.precedence!="string"||typeof n.href!="string"||n.href==="")break;return!0;case"link":if(typeof n.rel!="string"||typeof n.href!="string"||n.href===""||n.onLoad||n.onError)break;return n.rel==="stylesheet"?(e=n.disabled,typeof n.precedence=="string"&&e==null):!0;case"script":if(n.async&&typeof n.async!="function"&&typeof n.async!="symbol"&&!n.onLoad&&!n.onError&&n.src&&typeof n.src=="string")return!0}return!1}function Gb(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}function gw(e,n,o,a){if(o.type==="stylesheet"&&(typeof a.media!="string"||matchMedia(a.media).matches!==!1)&&(o.state.loading&4)===0){if(o.instance===null){var u=Aa(a.href),f=n.querySelector(Ws(u));if(f){n=f._p,n!==null&&typeof n=="object"&&typeof n.then=="function"&&(e.count++,e=_c.bind(e),n.then(e,e)),o.state.loading|=4,o.instance=f,Yt(f);return}f=n.ownerDocument||n,a=Hb(a),(u=Sl.get(u))&&Rf(a,u),f=f.createElement("link"),Yt(f);var y=f;y._p=new Promise(function(H,X){y.onload=H,y.onerror=X}),jn(f,"link",a),o.instance=f}e.stylesheets===null&&(e.stylesheets=new Map),e.stylesheets.set(o,n),(n=o.state.preload)&&(o.state.loading&3)===0&&(e.count++,o=_c.bind(e),n.addEventListener("load",o),n.addEventListener("error",o))}}var Gf=0;function mw(e,n){return e.stylesheets&&e.count===0&&Uc(e,e.stylesheets),0<e.count||0<e.imgCount?function(o){var a=setTimeout(function(){if(e.stylesheets&&Uc(e,e.stylesheets),e.unsuspend){var f=e.unsuspend;e.unsuspend=null,f()}},6e4+n);0<e.imgBytes&&Gf===0&&(Gf=62500*Kv());var u=setTimeout(function(){if(e.waitingForImages=!1,e.count===0&&(e.stylesheets&&Uc(e,e.stylesheets),e.unsuspend)){var f=e.unsuspend;e.unsuspend=null,f()}},(e.imgBytes>Gf?50:800)+n);return e.unsuspend=o,function(){e.unsuspend=null,clearTimeout(a),clearTimeout(u)}}:null}function _c(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Uc(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var Vc=null;function Uc(e,n){e.stylesheets=null,e.unsuspend!==null&&(e.count++,Vc=new Map,n.forEach(pw,e),Vc=null,_c.call(e))}function pw(e,n){if(!(n.state.loading&4)){var o=Vc.get(e);if(o)var a=o.get(null);else{o=new Map,Vc.set(e,o);for(var u=e.querySelectorAll("link[data-precedence],style[data-precedence]"),f=0;f<u.length;f++){var y=u[f];(y.nodeName==="LINK"||y.getAttribute("media")!=="not all")&&(o.set(y.dataset.precedence,y),a=y)}a&&o.set(null,a)}u=n.instance,y=u.getAttribute("data-precedence"),f=o.get(y)||a,f===a&&o.set(null,u),o.set(y,u),this.count++,a=_c.bind(this),u.addEventListener("load",a),u.addEventListener("error",a),f?f.parentNode.insertBefore(u,f.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(u,e.firstChild)),n.state.loading|=4}}var Ys={$$typeof:z,Provider:null,Consumer:null,_currentValue:L,_currentValue2:L,_threadCount:0};function bw(e,n,o,a,u,f,y,H,X){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=is(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=is(0),this.hiddenUpdates=is(null),this.identifierPrefix=a,this.onUncaughtError=u,this.onCaughtError=f,this.onRecoverableError=y,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=X,this.incompleteTransitions=new Map}function Lb(e,n,o,a,u,f,y,H,X,oe,de,ge){return e=new bw(e,n,o,y,X,oe,de,ge,H),n=1,f===!0&&(n|=24),f=ol(3,null,null,n),e.current=f,f.stateNode=e,n=bd(),n.refCount++,e.pooledCache=n,n.refCount++,f.memoizedState={element:a,isDehydrated:o,cache:n},vd(f),e}function Bb(e){return e?(e=ca,e):ca}function _b(e,n,o,a,u,f){u=Bb(u),a.context===null?a.context=u:a.pendingContext=u,a=Wo(n),a.payload={element:o},f=f===void 0?null:f,f!==null&&(a.callback=f),o=qo(e,a,n),o!==null&&(Kn(o,e,n),Es(o,e,n))}function Vb(e,n){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var o=e.retryLane;e.retryLane=o!==0&&o<n?o:n}}function Lf(e,n){Vb(e,n),(e=e.alternate)&&Vb(e,n)}function Ub(e){if(e.tag===13||e.tag===31){var n=Dr(e,67108864);n!==null&&Kn(n,e,67108864),Lf(e,67108864)}}function $b(e){if(e.tag===13||e.tag===31){var n=cl();n=nl(n);var o=Dr(e,n);o!==null&&Kn(o,e,n),Lf(e,n)}}var $c=!0;function xw(e,n,o,a){var u=S.T;S.T=null;var f=M.p;try{M.p=2,Bf(e,n,o,a)}finally{M.p=f,S.T=u}}function Cw(e,n,o,a){var u=S.T;S.T=null;var f=M.p;try{M.p=8,Bf(e,n,o,a)}finally{M.p=f,S.T=u}}function Bf(e,n,o,a){if($c){var u=_f(a);if(u===null)Df(e,n,a,Wc,o),qb(e,a);else if(vw(u,e,n,o,a))a.stopPropagation();else if(qb(e,a),n&4&&-1<yw.indexOf(e)){for(;u!==null;){var f=Wt(u);if(f!==null)switch(f.tag){case 3:if(f=f.stateNode,f.current.memoizedState.isDehydrated){var y=On(f.pendingLanes);if(y!==0){var H=f;for(H.pendingLanes|=2,H.entangledLanes|=2;y;){var X=1<<31-nn(y);H.entanglements[1]|=X,y&=~X}no(f),(xt&6)===0&&(Tc=tt()+500,_s(0))}}break;case 31:case 13:H=Dr(f,2),H!==null&&Kn(H,f,2),Fc(),Lf(f,2)}if(f=_f(a),f===null&&Df(e,n,a,Wc,o),f===u)break;u=f}u!==null&&a.stopPropagation()}else Df(e,n,a,null,o)}}function _f(e){return e=Vu(e),Vf(e)}var Wc=null;function Vf(e){if(Wc=null,e=Lt(e),e!==null){var n=d(e);if(n===null)e=null;else{var o=n.tag;if(o===13){if(e=g(n),e!==null)return e;e=null}else if(o===31){if(e=p(n),e!==null)return e;e=null}else if(o===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;e=null}else n!==e&&(e=null)}}return Wc=e,null}function Wb(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(gt()){case mt:return 2;case Ht:return 8;case Fe:case Ze:return 32;case Le:return 268435456;default:return 32}default:return 32}}var Uf=!1,or=null,rr=null,ar=null,Ks=new Map,Xs=new Map,sr=[],yw="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function qb(e,n){switch(e){case"focusin":case"focusout":or=null;break;case"dragenter":case"dragleave":rr=null;break;case"mouseover":case"mouseout":ar=null;break;case"pointerover":case"pointerout":Ks.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":Xs.delete(n.pointerId)}}function Qs(e,n,o,a,u,f){return e===null||e.nativeEvent!==f?(e={blockedOn:n,domEventName:o,eventSystemFlags:a,nativeEvent:f,targetContainers:[u]},n!==null&&(n=Wt(n),n!==null&&Ub(n)),e):(e.eventSystemFlags|=a,n=e.targetContainers,u!==null&&n.indexOf(u)===-1&&n.push(u),e)}function vw(e,n,o,a,u){switch(n){case"focusin":return or=Qs(or,e,n,o,a,u),!0;case"dragenter":return rr=Qs(rr,e,n,o,a,u),!0;case"mouseover":return ar=Qs(ar,e,n,o,a,u),!0;case"pointerover":var f=u.pointerId;return Ks.set(f,Qs(Ks.get(f)||null,e,n,o,a,u)),!0;case"gotpointercapture":return f=u.pointerId,Xs.set(f,Qs(Xs.get(f)||null,e,n,o,a,u)),!0}return!1}function Yb(e){var n=Lt(e.target);if(n!==null){var o=d(n);if(o!==null){if(n=o.tag,n===13){if(n=g(o),n!==null){e.blockedOn=n,Ni(e.priority,function(){$b(o)});return}}else if(n===31){if(n=p(o),n!==null){e.blockedOn=n,Ni(e.priority,function(){$b(o)});return}}else if(n===3&&o.stateNode.current.memoizedState.isDehydrated){e.blockedOn=o.tag===3?o.stateNode.containerInfo:null;return}}}e.blockedOn=null}function qc(e){if(e.blockedOn!==null)return!1;for(var n=e.targetContainers;0<n.length;){var o=_f(e.nativeEvent);if(o===null){o=e.nativeEvent;var a=new o.constructor(o.type,o);_u=a,o.target.dispatchEvent(a),_u=null}else return n=Wt(o),n!==null&&Ub(n),e.blockedOn=o,!1;n.shift()}return!0}function Kb(e,n,o){qc(e)&&o.delete(n)}function ww(){Uf=!1,or!==null&&qc(or)&&(or=null),rr!==null&&qc(rr)&&(rr=null),ar!==null&&qc(ar)&&(ar=null),Ks.forEach(Kb),Xs.forEach(Kb)}function Yc(e,n){e.blockedOn===n&&(e.blockedOn=null,Uf||(Uf=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,ww)))}var Kc=null;function Xb(e){Kc!==e&&(Kc=e,t.unstable_scheduleCallback(t.unstable_NormalPriority,function(){Kc===e&&(Kc=null);for(var n=0;n<e.length;n+=3){var o=e[n],a=e[n+1],u=e[n+2];if(typeof a!="function"){if(Vf(a||o)===null)continue;break}var f=Wt(o);f!==null&&(e.splice(n,3),n-=3,Bd(f,{pending:!0,data:u,method:o.method,action:a},a,u))}}))}function Oa(e){function n(X){return Yc(X,e)}or!==null&&Yc(or,e),rr!==null&&Yc(rr,e),ar!==null&&Yc(ar,e),Ks.forEach(n),Xs.forEach(n);for(var o=0;o<sr.length;o++){var a=sr[o];a.blockedOn===e&&(a.blockedOn=null)}for(;0<sr.length&&(o=sr[0],o.blockedOn===null);)Yb(o),o.blockedOn===null&&sr.shift();if(o=(e.ownerDocument||e).$$reactFormReplay,o!=null)for(a=0;a<o.length;a+=3){var u=o[a],f=o[a+1],y=u[En]||null;if(typeof f=="function")y||Xb(o);else if(y){var H=null;if(f&&f.hasAttribute("formAction")){if(u=f,y=f[En]||null)H=y.formAction;else if(Vf(u)!==null)continue}else H=y.action;typeof H=="function"?o[a+1]=H:(o.splice(a,3),a-=3),Xb(o)}}}function Qb(){function e(f){f.canIntercept&&f.info==="react-transition"&&f.intercept({handler:function(){return new Promise(function(y){return u=y})},focusReset:"manual",scroll:"manual"})}function n(){u!==null&&(u(),u=null),a||setTimeout(o,20)}function o(){if(!a&&!navigation.transition){var f=navigation.currentEntry;f&&f.url!=null&&navigation.navigate(f.url,{state:f.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var a=!1,u=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",n),navigation.addEventListener("navigateerror",n),setTimeout(o,100),function(){a=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",n),navigation.removeEventListener("navigateerror",n),u!==null&&(u(),u=null)}}}function $f(e){this._internalRoot=e}Xc.prototype.render=$f.prototype.render=function(e){var n=this._internalRoot;if(n===null)throw Error(i(409));var o=n.current,a=cl();_b(o,a,e,n,null,null)},Xc.prototype.unmount=$f.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var n=e.containerInfo;_b(e.current,2,null,e,null,null),Fc(),n[Vn]=null}};function Xc(e){this._internalRoot=e}Xc.prototype.unstable_scheduleHydration=function(e){if(e){var n=cs();e={blockedOn:null,target:e,priority:n};for(var o=0;o<sr.length&&n!==0&&n<sr[o].priority;o++);sr.splice(o,0,e),o===0&&Yb(e)}};var Zb=l.version;if(Zb!=="19.2.3")throw Error(i(527,Zb,"19.2.3"));M.findDOMNode=function(e){var n=e._reactInternals;if(n===void 0)throw typeof e.render=="function"?Error(i(188)):(e=Object.keys(e).join(","),Error(i(268,e)));return e=x(n),e=e!==null?b(e):null,e=e===null?null:e.stateNode,e};var Sw={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:S,reconcilerVersion:"19.2.3"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Qc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Qc.isDisabled&&Qc.supportsFiber)try{bt=Qc.inject(Sw),vt=Qc}catch{}}return Js.createRoot=function(e,n){if(!c(e))throw Error(i(299));var o=!1,a="",u=rp,f=ap,y=sp;return n!=null&&(n.unstable_strictMode===!0&&(o=!0),n.identifierPrefix!==void 0&&(a=n.identifierPrefix),n.onUncaughtError!==void 0&&(u=n.onUncaughtError),n.onCaughtError!==void 0&&(f=n.onCaughtError),n.onRecoverableError!==void 0&&(y=n.onRecoverableError)),n=Lb(e,1,!1,null,null,o,a,null,u,f,y,Qb),e[Vn]=n.current,Ef(e),new $f(n)},Js.hydrateRoot=function(e,n,o){if(!c(e))throw Error(i(299));var a=!1,u="",f=rp,y=ap,H=sp,X=null;return o!=null&&(o.unstable_strictMode===!0&&(a=!0),o.identifierPrefix!==void 0&&(u=o.identifierPrefix),o.onUncaughtError!==void 0&&(f=o.onUncaughtError),o.onCaughtError!==void 0&&(y=o.onCaughtError),o.onRecoverableError!==void 0&&(H=o.onRecoverableError),o.formState!==void 0&&(X=o.formState)),n=Lb(e,1,!0,n,o??null,a,u,X,f,y,H,Qb),n.context=Bb(null),o=n.current,a=cl(),a=nl(a),u=Wo(a),u.callback=null,qo(o,u,a),o=a,n.current.lanes=o,wr(n,o),no(n),e[Vn]=n.current,Ef(e),new Xc(n)},Js.version="19.2.3",Js}var ux;function TS(){if(ux)return Yf.exports;ux=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(l){console.error(l)}}return t(),Yf.exports=DS(),Yf.exports}var IS=TS();const FS=PC(IS),je=Wr.create({baseURL:"/api",timeout:3e4,headers:{"Content-Type":"application/json"}});je.interceptors.request.use(t=>{const l=localStorage.getItem("token");return l&&(t.headers.Authorization=`Bearer ${l}`),t},t=>Promise.reject(t));je.interceptors.response.use(t=>t.data,t=>{const l={message:"An unexpected error occurred",statusCode:500,errors:[]};if(t.response){const{data:s,status:i}=t.response;l.statusCode=i,l.message=s.message||t.message,l.errors=s.errors||[],i===401&&(localStorage.removeItem("token"),localStorage.removeItem("user"),window.dispatchEvent(new Event("auth:unauthorized")))}else t.request?(l.message="Network error. Please check your connection.",l.statusCode=0):l.message=t.message;return Promise.reject(l)});const GC=h.createContext(null),AS=({children:t})=>{const[l,s]=h.useState(null),[i,c]=h.useState(localStorage.getItem("token")),[d,g]=h.useState(!0);h.useEffect(()=>{const b=localStorage.getItem("user"),C=localStorage.getItem("token");C&&b&&(c(C),s(JSON.parse(b))),g(!1)},[]),h.useEffect(()=>{const b=()=>{c(null),s(null)};return window.addEventListener("auth:unauthorized",b),()=>window.removeEventListener("auth:unauthorized",b)},[]);const x={user:l,token:i,login:async(b,C)=>{try{const v=await je.post("/auth/login",{email:b,password:C}),{token:D,user:j}=v;return c(D),s(j),localStorage.setItem("token",D),localStorage.setItem("user",JSON.stringify(j)),{success:!0}}catch(v){return console.error("Login failed:",v),{success:!1,message:v.message||"Login failed"}}},logout:()=>{c(null),s(null),localStorage.removeItem("token"),localStorage.removeItem("user")},isAuthenticated:!!i,isLoading:d};return r.jsx(GC.Provider,{value:x,children:!d&&t})},fl=()=>{const t=h.useContext(GC);if(!t)throw new Error("useAuth must be used within an AuthProvider");return t},zS=h.createContext(null),Qf={didCatch:!1,error:null};class OS extends h.Component{constructor(l){super(l),this.resetErrorBoundary=this.resetErrorBoundary.bind(this),this.state=Qf}static getDerivedStateFromError(l){return{didCatch:!0,error:l}}resetErrorBoundary(){const{error:l}=this.state;if(l!==null){for(var s,i,c=arguments.length,d=new Array(c),g=0;g<c;g++)d[g]=arguments[g];(s=(i=this.props).onReset)===null||s===void 0||s.call(i,{args:d,reason:"imperative-api"}),this.setState(Qf)}}componentDidCatch(l,s){var i,c;(i=(c=this.props).onError)===null||i===void 0||i.call(c,l,s)}componentDidUpdate(l,s){const{didCatch:i}=this.state,{resetKeys:c}=this.props;if(i&&s.error!==null&&kS(l.resetKeys,c)){var d,g;(d=(g=this.props).onReset)===null||d===void 0||d.call(g,{next:c,prev:l.resetKeys,reason:"keys"}),this.setState(Qf)}}render(){const{children:l,fallbackRender:s,FallbackComponent:i,fallback:c}=this.props,{didCatch:d,error:g}=this.state;let p=l;if(d){const m={error:g,resetErrorBoundary:this.resetErrorBoundary};if(typeof s=="function")p=s(m);else if(i)p=h.createElement(i,m);else if(c!==void 0)p=c;else throw g}return h.createElement(zS.Provider,{value:{didCatch:d,error:g,resetErrorBoundary:this.resetErrorBoundary}},p)}}function kS(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],l=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[];return t.length!==l.length||t.some((s,i)=>!Object.is(s,l[i]))}const HS=({error:t,resetErrorBoundary:l})=>r.jsx(ie,{sx:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",minHeight:"100vh",p:3,backgroundColor:"background.default"},children:r.jsxs(nt,{elevation:3,sx:{p:4,maxWidth:500,width:"100%",textAlign:"center",borderRadius:3},children:[r.jsx(pe,{variant:"h4",color:"error",gutterBottom:!0,sx:{fontWeight:600},children:"Oops! Something went wrong"}),r.jsx(pe,{variant:"body1",color:"text.secondary",paragraph:!0,sx:{mb:4},children:"We encountered an unexpected error. Our team has been notified."}),!1,r.jsxs(ie,{sx:{display:"flex",gap:2,justifyContent:"center"},children:[r.jsx(xe,{variant:"contained",color:"primary",startIcon:r.jsx(wC,{}),onClick:l,children:"Try Again"}),r.jsx(xe,{variant:"outlined",color:"secondary",startIcon:r.jsx(Mw,{}),onClick:()=>window.location.href="/",children:"Go Home"})]})]})}),PS=({children:t})=>r.jsx(OS,{FallbackComponent:HS,onReset:()=>{window.location.reload()},onError:(l,s)=>{console.error("Uncaught error:",l,s)},children:t}),RS=()=>{const[t,l]=h.useState(!1),[s,i]=h.useState([{id:1,text:"Hi! I'm Neno, your budgeting assistant. How can I help you today?",isBot:!0}]),[c,d]=h.useState(""),g=()=>{if(!c.trim())return;const p={id:Date.now(),text:c,isBot:!1};i(m=>[...m,p]),d(""),setTimeout(()=>{let m="I'm still learning intricacies of your budget data.";const x=c.toLowerCase();x.includes("budget")?m="You can view and manage your budgets on the Budget Tracker page. Try filtering by Year or Vendor.":x.includes("add")?m="To add a new item, click the 'Add Line Item' button on the Budget Tracker page.":x.includes("export")?m="You can export your data to Excel using the Export button in the top right corner.":(x.includes("hello")||x.includes("hi"))&&(m="Hello there! Ready to optimize some OPEX?"),i(b=>[...b,{id:Date.now()+1,text:m,isBot:!0}])},1e3)};return t?r.jsxs(nt,{elevation:6,sx:{position:"fixed",bottom:80,right:20,width:320,height:450,display:"flex",flexDirection:"column",zIndex:9999,borderRadius:"12px",overflow:"hidden"},children:[r.jsxs(ie,{sx:{p:2,bgcolor:"primary.main",color:"white",display:"flex",alignItems:"center",justifyContent:"space-between"},children:[r.jsxs(ie,{sx:{display:"flex",alignItems:"center",gap:1},children:[r.jsx(Jb,{fontSize:"small"}),r.jsx(pe,{variant:"subtitle1",fontWeight:"bold",children:"Neno Helper"})]}),r.jsx(ie,{children:r.jsx($l,{size:"small",onClick:()=>l(!1),sx:{color:"white"},children:r.jsx(Dw,{})})})]}),r.jsx(ie,{sx:{flex:1,p:2,overflowY:"auto",bgcolor:"#f5f5f5"},children:r.jsx(Tw,{dense:!0,children:s.map(p=>r.jsx(Iw,{sx:{justifyContent:p.isBot?"flex-start":"flex-end"},children:r.jsx(nt,{sx:{p:1.5,maxWidth:"80%",bgcolor:p.isBot?"white":"primary.main",color:p.isBot?"text.primary":"white",borderRadius:"12px",borderTopLeftRadius:p.isBot?0:"12px",borderTopRightRadius:p.isBot?"12px":0},children:r.jsx(pe,{variant:"body2",children:p.text})})},p.id))})}),r.jsx(ie,{sx:{p:2,bgcolor:"white",borderTop:"1px solid #eee"},children:r.jsxs(ie,{sx:{display:"flex",gap:1},children:[r.jsx(_e,{size:"small",fullWidth:!0,placeholder:"Ask Neno...",value:c,onChange:p=>d(p.target.value),onKeyPress:p=>p.key==="Enter"&&g()}),r.jsx($l,{color:"primary",onClick:g,children:r.jsx(Fw,{})})]})})]}):r.jsx(Ew,{color:"primary","aria-label":"neno-helper",sx:{position:"fixed",bottom:20,right:20,zIndex:9999},onClick:()=>l(!0),children:r.jsx(Jb,{})})},NS=()=>{const t=Ei(),l=uS(),s=SC(),i=Aw(s.breakpoints.down("md")),{logout:c,user:d}=fl(),[g,p]=h.useState(null),[m,x]=h.useState(null),b=z=>{p(z.currentTarget)},C=()=>{p(null)},v=()=>{C(),c()},D=z=>{x(z.currentTarget)},j=()=>{x(null)},F=z=>{t(z),j()},I=[{label:"Dashboard",path:"/",icon:r.jsx(Nw,{sx:{mr:1}})},{label:"Budgets",path:"/budgets",icon:r.jsx(gh,{sx:{mr:1}})},{label:"Purchase Orders",path:"/pos",icon:r.jsx(jC,{sx:{mr:1}})},{label:"Actuals",path:"/actuals",icon:r.jsx(nx,{sx:{mr:1}})},{label:"Actual BOA",path:"/actual-boa",icon:r.jsx(nx,{sx:{mr:1}})},{label:"Budget BOA",path:"/budget-boa",icon:r.jsx(gh,{sx:{mr:1}})},{label:"Import History",path:"/imports",icon:r.jsx(tx,{sx:{mr:1}})}],k=()=>{const z=l.pathname,V=I.findIndex(R=>R.path===z);return V!==-1?V:!1},T=(z,V)=>{V!==!1&&t(I[V].path)};return r.jsxs(ie,{sx:{display:"flex",flexDirection:"column",height:"100vh"},children:[r.jsx(zw,{position:"static",elevation:0,sx:{maxHeight:"64px",minHeight:"64px",background:"linear-gradient(135deg, #1a1a2e 0%, #16213e 50%, #0f0f1e 100%)",borderBottom:"2px solid #FFD700",boxShadow:"0 4px 20px rgba(255, 215, 0, 0.2)"},children:r.jsxs(Ow,{sx:{justifyContent:"space-between",minHeight:"64px !important",maxHeight:"64px",py:0},children:[r.jsx(pe,{variant:"h6",component:"div",sx:{fontWeight:800,letterSpacing:1,mr:4,display:"flex",alignItems:"center",cursor:"pointer",fontSize:"1.4rem",background:"linear-gradient(135deg, #FFD700 0%, #00D9FF 100%)",WebkitBackgroundClip:"text",WebkitTextFillColor:"transparent",textShadow:"0 0 20px rgba(255, 215, 0, 0.3)",transition:"all 0.3s ease","&:hover":{transform:"scale(1.05)",filter:"brightness(1.2)"}},onClick:()=>t("/"),children:"OPEX MANAGER"}),!i&&r.jsxs(ie,{sx:{flexGrow:1,display:"flex",alignItems:"center"},children:[r.jsx(ji,{value:k(),onChange:T,textColor:"inherit",TabIndicatorProps:{style:{backgroundColor:"#00D9FF",height:3,boxShadow:"0 0 10px rgba(0, 217, 255, 0.5)"}},sx:{minHeight:"48px","& .MuiTab-root":{color:"#B8C5D0",fontWeight:600,minHeight:"48px",maxHeight:"48px",py:0,fontSize:"0.875rem",transition:"all 0.3s ease","&.Mui-selected":{color:"#FFD700",fontWeight:700,background:"linear-gradient(135deg, rgba(255, 215, 0, 0.15) 0%, rgba(0, 217, 255, 0.15) 100%)"},"&:hover":{backgroundColor:"rgba(255, 215, 0, 0.1)",color:"#FFD700",transform:"translateY(-2px)"}}},children:I.map((z,V)=>r.jsx(Cn,{label:r.jsxs(ie,{sx:{display:"flex",alignItems:"center"},children:[Gh.cloneElement(z.icon,{sx:{mr:.5,fontSize:"1.1rem"}}),z.label]})},V))}),r.jsx(xe,{color:"inherit",onClick:D,endIcon:r.jsx(Hw,{sx:{fontSize:"1.1rem"}}),startIcon:r.jsx(kw,{sx:{fontSize:"1.1rem"}}),sx:{ml:2,color:"#B8C5D0",fontWeight:600,fontSize:"0.875rem",minHeight:"48px",maxHeight:"48px",py:0,px:2,transition:"all 0.3s ease","&:hover":{backgroundColor:"rgba(255, 215, 0, 0.1)",color:"#FFD700",transform:"translateY(-2px)"},...l.pathname==="/master-data"||l.pathname==="/users"?{color:"#FFD700",fontWeight:700,background:"linear-gradient(135deg, rgba(255, 215, 0, 0.15) 0%, rgba(0, 217, 255, 0.15) 100%)",borderBottom:"3px solid #00D9FF"}:{},borderRadius:0},children:"Settings"}),r.jsxs(ex,{anchorEl:m,open:!!m,onClose:j,anchorOrigin:{vertical:"bottom",horizontal:"right"},transformOrigin:{vertical:"top",horizontal:"right"},children:[r.jsxs(Ve,{onClick:()=>F("/master-data"),selected:l.pathname==="/master-data",children:[r.jsx(tx,{sx:{mr:2}}),"Master Data"]}),d&&d.roles&&d.roles.includes("Admin")&&r.jsxs(Ve,{onClick:()=>F("/users"),selected:l.pathname==="/users",children:[r.jsx(fh,{sx:{mr:2}}),"User Management"]})]})]}),r.jsxs(ie,{sx:{display:"flex",alignItems:"center",gap:1},children:[r.jsx(pe,{variant:"body2",sx:{display:{xs:"none",sm:"block"},fontSize:"0.875rem",color:"#E8F1F5",fontWeight:500},children:d?.username||"User"}),r.jsx($l,{size:"small",onClick:b,color:"inherit",sx:{p:.5,transition:"all 0.3s ease","&:hover":{transform:"scale(1.1) rotate(5deg)"}},children:r.jsx(Pw,{sx:{width:32,height:32,bgcolor:"#FFD700",color:"#1a1a2e",fontWeight:700,boxShadow:"0 0 12px rgba(255, 215, 0, 0.5)"},children:r.jsx(hh,{sx:{fontSize:"1.1rem"}})})}),r.jsxs(ex,{anchorEl:g,open:!!g,onClose:C,anchorOrigin:{vertical:"bottom",horizontal:"right"},transformOrigin:{vertical:"top",horizontal:"right"},children:[r.jsxs(Ve,{disabled:!0,children:[r.jsx(hh,{sx:{mr:2}}),d?.username]}),r.jsx(Ah,{}),r.jsxs(Ve,{onClick:v,children:[r.jsx(Rw,{sx:{mr:2}}),"Logout"]})]})]})]})}),r.jsx(ie,{component:"main",sx:{flexGrow:1,overflow:"auto",bgcolor:"background.default"},children:r.jsx(dS,{})}),r.jsx(RS,{})]})},Ml={primary:{main:"#003399",light:"#1A73E8",dark:"#002266",contrastText:"#FFFFFF"},secondary:{main:"#78BE20",light:"#A3E635",dark:"#5A8F18",contrastText:"#FFFFFF"},background:{default:"#F8FAFC",paper:"#FFFFFF",dark:"#0B132B"},warning:{main:"#F59E0B",light:"#FCD34D",dark:"#D97706",contrastText:"#1F2937"},error:{main:"#DC2626",light:"#F87171",dark:"#B91C1C",contrastText:"#FFFFFF"},info:{main:"#0284C7",light:"#38BDF8",dark:"#0369A1",contrastText:"#FFFFFF"},success:{main:"#059669",light:"#34D399",dark:"#047857",contrastText:"#FFFFFF"},text:{primary:"#1F2937",secondary:"#374151",disabled:"#9CA3AF"}},ui=zh({palette:{mode:"light",primary:Ml.primary,secondary:Ml.secondary,background:Ml.background,warning:Ml.warning,error:Ml.error,info:Ml.info,success:Ml.success,text:Ml.text},typography:{fontFamily:'"Inter", "Roboto", "Helvetica", "Arial", sans-serif',h1:{fontFamily:'"Poppins", sans-serif',fontWeight:700,fontSize:"28px",lineHeight:1.3,textTransform:"uppercase",color:"#003399"},h2:{fontFamily:'"Inter", sans-serif',fontWeight:600,fontSize:"24px",lineHeight:1.4,color:"#1F2937"},h3:{fontFamily:'"Inter", sans-serif',fontWeight:500,fontSize:"20px",lineHeight:1.5,color:"#374151"},body1:{fontFamily:'"Inter", sans-serif',fontWeight:400,fontSize:"16px",lineHeight:1.6,color:"#1F2937"},body2:{fontFamily:'"Inter", sans-serif',fontWeight:400,fontSize:"14px",lineHeight:1.5,color:"#374151"},h4:{fontFamily:'"Roboto Mono", monospace',fontWeight:500,fontSize:"18px",lineHeight:1.4,color:"#1F2937"},button:{fontFamily:'"Inter", sans-serif',fontWeight:500,fontSize:"14px",lineHeight:1.3,textTransform:"uppercase"}},shape:{borderRadius:8},shadows:["none","0 2px 8px rgba(0,0,0,0.08)","0 4px 12px rgba(0,0,0,0.10)","0 6px 16px rgba(0,0,0,0.12)","0 8px 20px rgba(0,0,0,0.14)","0 10px 24px rgba(0,0,0,0.16)","0 12px 28px rgba(0,0,0,0.18)","0 14px 32px rgba(0,0,0,0.20)","0 16px 36px rgba(0,0,0,0.22)","0 18px 40px rgba(0,0,0,0.24)","0 20px 44px rgba(0,0,0,0.26)","0 22px 48px rgba(0,0,0,0.28)","0 24px 52px rgba(0,0,0,0.30)","0 26px 56px rgba(0,0,0,0.32)","0 28px 60px rgba(0,0,0,0.34)","0 30px 64px rgba(0,0,0,0.36)","0 32px 68px rgba(0,0,0,0.38)","0 34px 72px rgba(0,0,0,0.40)","0 36px 76px rgba(0,0,0,0.42)","0 38px 80px rgba(0,0,0,0.44)","0 40px 84px rgba(0,0,0,0.46)","0 42px 88px rgba(0,0,0,0.48)","0 44px 92px rgba(0,0,0,0.50)","0 46px 96px rgba(0,0,0,0.52)","0 48px 100px rgba(0,0,0,0.54)"],components:{MuiButton:{styleOverrides:{root:{borderRadius:8,textTransform:"uppercase",fontWeight:500,padding:"10px 24px",boxShadow:"none","&:hover":{boxShadow:"0 4px 12px rgba(0,0,0,0.15)"}},contained:{"&:hover":{transform:"translateY(-1px)",transition:"all 0.2s ease"}},containedPrimary:{background:"#003399","&:hover":{background:"#1A73E8"}},containedSecondary:{background:"#78BE20","&:hover":{background:"#A3E635"}}}},MuiCard:{styleOverrides:{root:{borderRadius:8,boxShadow:"0 2px 8px rgba(0,0,0,0.08)",padding:24}}},MuiPaper:{styleOverrides:{root:{borderRadius:8},elevation1:{boxShadow:"0 2px 8px rgba(0,0,0,0.08)"}}},MuiChip:{styleOverrides:{root:{borderRadius:6,fontWeight:500},colorSuccess:{backgroundColor:"#059669",color:"#FFFFFF"},colorWarning:{backgroundColor:"#F59E0B",color:"#1F2937"},colorError:{backgroundColor:"#DC2626",color:"#FFFFFF"},colorInfo:{backgroundColor:"#0284C7",color:"#FFFFFF"}}},MuiTableHead:{styleOverrides:{root:{"& .MuiTableCell-head":{backgroundColor:"#003399",color:"#FFFFFF",fontWeight:600,fontSize:"14px"}}}},MuiTableRow:{styleOverrides:{root:{"&:hover":{backgroundColor:"rgba(26, 115, 232, 0.08)"},"&:nth-of-type(even)":{backgroundColor:"#F8FAFC"}}}},MuiDataGrid:{styleOverrides:{root:{border:"1px solid #E5E7EB",borderRadius:8,"& .MuiDataGrid-columnHeaders":{backgroundColor:"#003399",color:"#FFFFFF",fontWeight:600,fontSize:"14px"},"& .MuiDataGrid-cell":{borderRight:"1px solid #E5E7EB"},"& .MuiDataGrid-row:hover":{backgroundColor:"rgba(26, 115, 232, 0.08)"},"& .MuiDataGrid-row:nth-of-type(even)":{backgroundColor:"#F8FAFC"}}}},MuiAppBar:{styleOverrides:{root:{backgroundColor:"#003399",boxShadow:"0 2px 8px rgba(0,0,0,0.08)"}}},MuiDrawer:{styleOverrides:{paper:{backgroundColor:"#FFFFFF",borderRight:"1px solid #E5E7EB"}}}}});zh({palette:{mode:"dark",primary:{main:"#1A73E8",light:"#60A5FA",dark:"#003399",contrastText:"#FFFFFF"},secondary:{main:"#A3E635",light:"#BEF264",dark:"#78BE20",contrastText:"#1F2937"},background:{default:"#0B132B",paper:"#1E293B"},text:{primary:"#F8FAFC",secondary:"#E2E8F0",disabled:"#64748B"},warning:Ml.warning,error:Ml.error,info:Ml.info,success:Ml.success},typography:ui.typography,shape:ui.shape,shadows:ui.shadows,components:{...ui.components,MuiTableHead:{styleOverrides:{root:{"& .MuiTableCell-head":{backgroundColor:"#1A73E8",color:"#FFFFFF",fontWeight:600,fontSize:"14px"}}}},MuiDataGrid:{styleOverrides:{root:{border:"1px solid #334155","& .MuiDataGrid-columnHeaders":{backgroundColor:"#1A73E8",color:"#FFFFFF"},"& .MuiDataGrid-cell":{borderRight:"1px solid #334155"}}}}}});const GS=({message:t="Loading...",fullScreen:l=!1})=>l?r.jsxs(ie,{sx:{position:"fixed",top:0,left:0,right:0,bottom:0,display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",zIndex:9999,backgroundColor:s=>Br(s.palette.background.default,.8),backdropFilter:"blur(4px)"},children:[r.jsx(Bn,{size:60,thickness:4}),t&&r.jsx(pe,{variant:"h6",sx:{mt:3,color:"text.secondary",fontWeight:500},children:t})]}):r.jsxs(ie,{sx:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",p:4,minHeight:200},children:[r.jsx(Bn,{size:40}),t&&r.jsx(pe,{variant:"body2",sx:{mt:2,color:"text.secondary"},children:t})]}),LS=()=>{const[t,l]=h.useState(""),[s,i]=h.useState(""),[c,d]=h.useState(""),{login:g}=fl(),p=Ei(),m=async x=>{x.preventDefault(),d("");const b=await g(t,s);b.success?p("/"):d(b.message||"Invalid email or password")};return r.jsx(ie,{sx:{minHeight:"100vh",display:"flex",alignItems:"center",justifyContent:"center",background:"linear-gradient(135deg, #003399 0%, #1A73E8 50%, #78BE20 100%)",position:"relative",overflow:"hidden","&::before":{content:'""',position:"absolute",top:"-50%",left:"-50%",width:"200%",height:"200%",background:"radial-gradient(circle, rgba(255, 255, 255, 0.1) 0%, transparent 70%)",animation:"rotate 20s linear infinite"},"@keyframes rotate":{"0%":{transform:"rotate(0deg)"},"100%":{transform:"rotate(360deg)"}},"@keyframes float":{"0%, 100%":{transform:"translateY(0px)"},"50%":{transform:"translateY(-20px)"}}},children:r.jsx(Gw,{maxWidth:"sm",sx:{position:"relative",zIndex:1},children:r.jsx(_r,{elevation:8,sx:{borderRadius:3,background:"rgba(255, 255, 255, 0.98)",backdropFilter:"blur(10px)",border:"2px solid rgba(0, 51, 153, 0.2)",boxShadow:"0 16px 48px rgba(0, 51, 153, 0.3), 0 0 80px rgba(120, 190, 32, 0.2)",animation:"float 6s ease-in-out infinite",transition:"all 0.3s ease","&:hover":{boxShadow:"0 20px 60px rgba(0, 51, 153, 0.4), 0 0 100px rgba(120, 190, 32, 0.3)",transform:"scale(1.02)"}},children:r.jsxs(Vr,{sx:{p:5},children:[r.jsxs(ie,{sx:{textAlign:"center",mb:4},children:[r.jsx(pe,{variant:"h1",component:"h1",gutterBottom:!0,sx:{fontFamily:'"Poppins", sans-serif',fontWeight:800,fontSize:{xs:"2rem",sm:"2.5rem"},background:"linear-gradient(135deg, #003399 0%, #1A73E8 50%, #78BE20 100%)",WebkitBackgroundClip:"text",WebkitTextFillColor:"transparent",mb:1,letterSpacing:"0.02em"},children:"OPEX MANAGER"}),r.jsx(pe,{variant:"h6",sx:{color:"#374151",fontWeight:500,mb:1,fontFamily:'"Poppins", sans-serif'},children:"Jubilant Pharma"}),r.jsx(pe,{variant:"body2",sx:{color:"#9CA3AF",opacity:.9},children:"Sign in to manage your operational expenses"})]}),c&&r.jsx(cn,{severity:"error",sx:{mb:3,background:"rgba(220, 38, 38, 0.1)",border:"1px solid #DC2626",color:"#DC2626",borderRadius:2},children:c}),r.jsxs("form",{onSubmit:m,children:[r.jsx(_e,{fullWidth:!0,label:"Email Address",type:"email",value:t,onChange:x=>l(x.target.value),margin:"normal",required:!0,autoFocus:!0,sx:{mb:2,"& .MuiOutlinedInput-root":{"& fieldset":{borderColor:"rgba(0, 51, 153, 0.3)",borderWidth:"2px"},"&:hover fieldset":{borderColor:"#003399",boxShadow:"0 0 8px rgba(0, 51, 153, 0.3)"},"&.Mui-focused fieldset":{borderColor:"#003399",boxShadow:"0 0 12px rgba(0, 51, 153, 0.5)"}},"& .MuiInputLabel-root":{color:"#374151","&.Mui-focused":{color:"#003399"}}}}),r.jsx(_e,{fullWidth:!0,label:"Password",type:"password",value:s,onChange:x=>i(x.target.value),margin:"normal",required:!0,sx:{mb:3,"& .MuiOutlinedInput-root":{"& fieldset":{borderColor:"rgba(0, 51, 153, 0.3)",borderWidth:"2px"},"&:hover fieldset":{borderColor:"#003399",boxShadow:"0 0 8px rgba(0, 51, 153, 0.3)"},"&.Mui-focused fieldset":{borderColor:"#003399",boxShadow:"0 0 12px rgba(0, 51, 153, 0.5)"}},"& .MuiInputLabel-root":{color:"#374151","&.Mui-focused":{color:"#003399"}}}}),r.jsx(xe,{type:"submit",fullWidth:!0,variant:"contained",size:"large",sx:{mt:2,mb:2,py:1.8,fontWeight:700,fontSize:"1rem",borderRadius:"12px",background:"linear-gradient(135deg, #003399 0%, #1A73E8 100%)",color:"#FFFFFF",boxShadow:"0 4px 16px rgba(0, 51, 153, 0.4)",transition:"all 0.3s cubic-bezier(0.4, 0, 0.2, 1)",position:"relative",overflow:"hidden","&::before":{content:'""',position:"absolute",top:"50%",left:"50%",width:"0",height:"0",borderRadius:"50%",background:"rgba(255, 255, 255, 0.3)",transform:"translate(-50%, -50%)",transition:"width 0.6s, height 0.6s"},"&:hover::before":{width:"300px",height:"300px"},"&:hover":{transform:"translateY(-2px) scale(1.02)",boxShadow:"0 8px 24px rgba(0, 51, 153, 0.6)",background:"linear-gradient(135deg, #1A73E8 0%, #003399 100%)"},"&:active":{transform:"translateY(0) scale(0.98)"}},children:"Sign In"})]}),r.jsxs(ie,{sx:{mt:3,p:2,borderRadius:2,background:"rgba(0, 51, 153, 0.05)",border:"1px solid rgba(0, 51, 153, 0.2)"},children:[r.jsx(pe,{variant:"caption",sx:{color:"#374151",display:"block",textAlign:"center",fontWeight:500},children:"Demo Credentials"}),r.jsx(pe,{variant:"body2",sx:{color:"#003399",textAlign:"center",fontWeight:600,mt:.5},children:"admin@example.com / password123"})]})]})})})})},tl={p:3,backgroundColor:"#F8FAFC",minHeight:"calc(100vh - 64px)"},Yl={display:"flex",justifyContent:"space-between",alignItems:"center",mb:3,pb:2,borderBottom:"2px solid #E5E7EB"},Kl={fontFamily:'"Inter", sans-serif',fontWeight:600,fontSize:"24px",lineHeight:1.4,color:"#003399",textTransform:"uppercase",letterSpacing:"0.5px"},uo={animation:"fadeIn 0.3s ease-in","@keyframes fadeIn":{from:{opacity:0,transform:"translateY(10px)"},to:{opacity:1,transform:"translateY(0)"}}},BS=()=>{const[t,l]=h.useState(!0),[s,i]=h.useState({totalBudget:0,totalActual:0,variance:0,utilizationPercent:0}),[c,d]=h.useState([]),[g,p]=h.useState([]),[m,x]=h.useState([]);h.useEffect(()=>{b()},[]);const b=async()=>{try{const j=await je.get("/reports/dashboard"),{summary:F,towerWise:I,vendorWise:k,monthlyTrend:T}=j;i({totalBudget:F.budget,totalActual:F.actuals,variance:F.variance,utilizationPercent:F.utilization}),d(I),p(k),x(T),l(!1)}catch(j){console.error("Error fetching dashboard data:",j),l(!1)}},C=["#0088FE","#00C49F","#FFBB28","#FF8042","#8884d8","#82ca9d","#ffc658","#ff7c7c"],v=j=>j>=1e7?`${(j/1e7).toFixed(2)}Cr`:j>=1e5?`${(j/1e5).toFixed(2)}L`:`${(j/1e3).toFixed(0)}K`,D=({title:j,value:F,icon:I,trend:k,color:T="primary"})=>r.jsx(_r,{elevation:2,sx:{height:"100%",transition:"transform 0.2s","&:hover":{transform:"translateY(-4px)"}},children:r.jsx(Vr,{children:r.jsxs(ie,{sx:{display:"flex",justifyContent:"space-between",alignItems:"flex-start"},children:[r.jsxs(ie,{children:[r.jsx(pe,{color:"text.secondary",gutterBottom:!0,variant:"body2",children:j}),r.jsx(pe,{variant:"h5",component:"div",sx:{fontWeight:600},children:v(F)}),k!==void 0&&r.jsxs(ie,{sx:{display:"flex",alignItems:"center",mt:1},children:[k>0?r.jsx(mh,{color:"success",fontSize:"small"}):r.jsx(lx,{color:"error",fontSize:"small"}),r.jsxs(pe,{variant:"caption",color:k>0?"success.main":"error.main",sx:{ml:.5},children:[Math.abs(k).toFixed(1),"%"]})]})]}),r.jsx(ie,{sx:{backgroundColor:`${T}.main`,borderRadius:2,p:1.5,color:"white",opacity:.9},children:I})]})})});return t?r.jsx(ie,{sx:{display:"flex",justifyContent:"center",alignItems:"center",height:"80vh"},children:r.jsx(Bn,{})}):r.jsxs(ie,{sx:{...tl,...uo},children:[r.jsx(ie,{sx:Yl,children:r.jsx(pe,{sx:Kl,children:"Dashboard Overview"})}),r.jsxs(wt,{container:!0,spacing:3,sx:{mb:4},children:[r.jsx(wt,{item:!0,xs:12,sm:6,md:3,children:r.jsx(D,{title:"Total Budget",value:s.totalBudget,icon:r.jsx(gh,{}),color:"primary"})}),r.jsx(wt,{item:!0,xs:12,sm:6,md:3,children:r.jsx(D,{title:"Total Actuals",value:s.totalActual,icon:r.jsx(mh,{}),trend:s.utilizationPercent-100,color:"success"})}),r.jsx(wt,{item:!0,xs:12,sm:6,md:3,children:r.jsx(D,{title:"Variance",value:s.variance,icon:r.jsx(lx,{}),color:"warning"})}),r.jsx(wt,{item:!0,xs:12,sm:6,md:3,children:r.jsx(_r,{elevation:2,children:r.jsxs(Vr,{children:[r.jsx(pe,{color:"text.secondary",gutterBottom:!0,variant:"body2",children:"Budget Utilization"}),r.jsxs(pe,{variant:"h5",component:"div",sx:{fontWeight:600},children:[s.utilizationPercent.toFixed(1),"%"]}),r.jsx(ie,{sx:{mt:1},children:r.jsx(jC,{color:"primary"})})]})})})]}),r.jsxs(wt,{container:!0,spacing:3,children:[r.jsx(wt,{item:!0,xs:12,lg:6,children:r.jsxs(nt,{elevation:2,sx:{p:3,height:"400px"},children:[r.jsx(pe,{variant:"h6",gutterBottom:!0,sx:{fontWeight:600},children:"Tower-wise Budget vs Actual"}),r.jsx(ii,{width:"100%",height:"90%",children:r.jsxs(Ch,{data:c,children:[r.jsx(tu,{strokeDasharray:"3 3"}),r.jsx(nu,{dataKey:"name",angle:-45,textAnchor:"end",height:80}),r.jsx(lu,{tickFormatter:v}),r.jsx(ci,{formatter:j=>v(j)}),r.jsx(ou,{}),r.jsx(mi,{dataKey:"budget",fill:"#8884d8",name:"Budget"}),r.jsx(mi,{dataKey:"actuals",fill:"#82ca9d",name:"Actuals"})]})})]})}),r.jsx(wt,{item:!0,xs:12,lg:6,children:r.jsxs(nt,{elevation:2,sx:{p:3,height:"400px"},children:[r.jsx(pe,{variant:"h6",gutterBottom:!0,sx:{fontWeight:600},children:"Top 10 Vendors by Spend"}),r.jsx(ii,{width:"100%",height:"90%",children:r.jsxs(Ch,{data:g,layout:"vertical",children:[r.jsx(tu,{strokeDasharray:"3 3"}),r.jsx(nu,{type:"number",tickFormatter:v}),r.jsx(lu,{dataKey:"name",type:"category",width:150}),r.jsx(ci,{formatter:j=>v(j)}),r.jsx(ou,{}),r.jsx(mi,{dataKey:"spend",fill:"#0088FE",name:"Spend"})]})})]})}),r.jsx(wt,{item:!0,xs:12,lg:4,children:r.jsxs(nt,{elevation:2,sx:{p:3,height:"400px"},children:[r.jsx(pe,{variant:"h6",gutterBottom:!0,sx:{fontWeight:600},children:"Tower Budget Distribution"}),r.jsx(ii,{width:"100%",height:"90%",children:r.jsxs(pS,{children:[r.jsx(bS,{data:c,cx:"50%",cy:"50%",labelLine:!1,label:({name:j,percent:F})=>`${j} ${(F*100).toFixed(0)}%`,outerRadius:80,fill:"#8884d8",dataKey:"budget",children:c.map((j,F)=>r.jsx(xS,{fill:C[F%C.length]},`cell-${F}`))}),r.jsx(ci,{formatter:j=>v(j)})]})})]})}),r.jsx(wt,{item:!0,xs:12,lg:8,children:r.jsxs(nt,{elevation:2,sx:{p:3,height:"400px"},children:[r.jsx(pe,{variant:"h6",gutterBottom:!0,sx:{fontWeight:600},children:"Monthly Spend Trend"}),r.jsx(ii,{width:"100%",height:"90%",children:r.jsxs(CS,{data:m,children:[r.jsx(tu,{strokeDasharray:"3 3"}),r.jsx(nu,{dataKey:"month"}),r.jsx(lu,{tickFormatter:v}),r.jsx(ci,{formatter:j=>v(j)}),r.jsx(ou,{}),r.jsx(yS,{type:"monotone",dataKey:"amount",stroke:"#82ca9d",strokeWidth:2,name:"Actuals"})]})})]})})]})]})},LC=h.createContext(void 0);function Re(){const t=h.useContext(LC);if(t===void 0)throw new Error(["MUI X: Could not find the Data Grid context.","It looks like you rendered your component outside of a DataGrid, DataGridPro or DataGridPremium parent component.","This can also happen if you are bundling multiple versions of the Data Grid."].join(`
`));return t}const BC=h.createContext(void 0),we=()=>{const t=h.useContext(BC);if(!t)throw new Error("MUI X: useGridRootProps should only be used inside the DataGrid, DataGridPro or DataGridPremium component.");return t},_S=parseInt(h.version,10),Xe=t=>{if(_S>=19){const l=s=>t(s,s.ref??null);return l.displayName=t.displayName??t.name,l}return h.forwardRef(t)},VS=Object.is;function _C(t,l){if(t===l)return!0;if(!(t instanceof Object)||!(l instanceof Object))return!1;let s=0,i=0;for(const c in t)if(s+=1,!VS(t[c],l[c])||!(c in l))return!1;for(const c in l)i+=1;return s===i}var Lh=vS();function VC(t){return t.acceptsApiRef}function dx(t,l){return VC(l)?l(t):l(t.current.state)}function Zf(t,l,s,i){return VC(l)?l(t,s):l(t.current.state,i)}const UC=Object.is,Bh=_C,US=(t,l)=>t===l?!0:t.length===l.length&&t.every((s,i)=>s===l[i]),$S=(t,l)=>{let s=Object.is;return l instanceof Array?s=US:l instanceof Object&&(s=Bh),s(t,l)},$C=()=>({state:null,equals:null,selector:null,args:void 0}),cu=[],WC=()=>null,fe=(t,l,s=UC)=>{const i=io($C),c=i.current.selector!==null,[d,g]=h.useState(c?null:dx(t,l));i.current.state=d,i.current.equals=s,i.current.selector=l;const p=h.useCallback(()=>(i.current.subscription||(i.current.subscription=t.current.store.subscribe(()=>{const x=dx(t,i.current.selector);i.current.equals(i.current.state,x)||(i.current.state=x,g(x))})),null),cu),m=h.useCallback(()=>()=>{i.current.subscription&&(i.current.subscription(),i.current.subscription=void 0)},cu);return Lh.useSyncExternalStore(m,p,WC),d},Ci=(t,l,s=void 0,i=UC)=>{const c=io($C),d=c.current.selector!==null,[g,p]=h.useState(d?null:Zf(t,l,s,t.current.instanceId));c.current.state=g,c.current.equals=i,c.current.selector=l;const m=c.current.args;if(c.current.args=s,d&&!$S(m,s)){const C=Zf(t,c.current.selector,c.current.args,t.current.instanceId);c.current.equals(c.current.state,C)||(c.current.state=C,p(C))}const x=h.useCallback(()=>(c.current.subscription||(c.current.subscription=t.current.store.subscribe(()=>{const C=Zf(t,c.current.selector,c.current.args,t.current.instanceId);c.current.equals(c.current.state,C)||(c.current.state=C,p(C))})),null),cu),b=h.useCallback(()=>()=>{c.current.subscription&&(c.current.subscription(),c.current.subscription=void 0)},cu);return Lh.useSyncExternalStore(b,x,WC),g},WS=wS({memoize:NC,memoizeOptions:{maxSize:1,equalityCheck:Object.is}}),fx=new WeakMap;function Vl(t){return"current"in t&&"instanceId"in t.current}const Ul={id:"default"},ke=(t,l,s,i,c,d,...g)=>{if(g.length>0)throw new Error("Unsupported number of selectors");let p;if(t&&l&&s&&i&&c&&d)p=(m,x)=>{const b=Vl(m),C=x??(b?m.current.instanceId:Ul),v=b?m.current.state:m,D=t(v,C),j=l(v,C),F=s(v,C),I=i(v,C),k=c(v,C);return d(D,j,F,I,k)};else if(t&&l&&s&&i&&c)p=(m,x)=>{const b=Vl(m),C=x??(b?m.current.instanceId:Ul),v=b?m.current.state:m,D=t(v,C),j=l(v,C),F=s(v,C),I=i(v,C);return c(D,j,F,I)};else if(t&&l&&s&&i)p=(m,x)=>{const b=Vl(m),C=x??(b?m.current.instanceId:Ul),v=b?m.current.state:m,D=t(v,C),j=l(v,C),F=s(v,C);return i(D,j,F)};else if(t&&l&&s)p=(m,x)=>{const b=Vl(m),C=x??(b?m.current.instanceId:Ul),v=b?m.current.state:m,D=t(v,C),j=l(v,C);return s(D,j)};else if(t&&l)p=(m,x)=>{const b=Vl(m),C=x??(b?m.current.instanceId:Ul),v=b?m.current.state:m,D=t(v,C);return l(D)};else throw new Error("Missing arguments");return p.acceptsApiRef=!0,p},Di=(t,l,s,i,c,d,...g)=>{if(g.length>0)throw new Error("Unsupported number of selectors");let p;if(t&&l&&s&&i&&c&&d)p=(m,x,b)=>{const C=Vl(m),v=b??(C?m.current.instanceId:Ul),D=C?m.current.state:m,j=t(D,x,v),F=l(D,x,v),I=s(D,x,v),k=i(D,x,v),T=c(D,x,v);return d(j,F,I,k,T,x)};else if(t&&l&&s&&i&&c)p=(m,x,b)=>{const C=Vl(m),v=b??(C?m.current.instanceId:Ul),D=C?m.current.state:m,j=t(D,x,v),F=l(D,x,v),I=s(D,x,v),k=i(D,x,v);return c(j,F,I,k,x)};else if(t&&l&&s&&i)p=(m,x,b)=>{const C=Vl(m),v=b??(C?m.current.instanceId:Ul),D=C?m.current.state:m,j=t(D,x,v),F=l(D,x,v),I=s(D,x,v);return i(j,F,I,x)};else if(t&&l&&s)p=(m,x,b)=>{const C=Vl(m),v=b??(C?m.current.instanceId:Ul),D=C?m.current.state:m,j=t(D,x,v),F=l(D,x,v);return s(j,F,x)};else if(t&&l)p=(m,x,b)=>{const C=Vl(m),v=b??(C?m.current.instanceId:Ul),D=C?m.current.state:m,j=t(D,x,v);return l(j,x)};else throw new Error("Missing arguments");return p.acceptsApiRef=!0,p},dt=(...t)=>{const l=(s,i)=>{const c=Vl(s),d=c?s.current.instanceId:i??Ul,g=c?s.current.state:s,p=fx.get(d),m=p??new Map,x=m?.get(t);if(m&&x)return x(g,d);const b=WS(...t);return p||fx.set(d,m),m.set(t,b),b(g,d)};return l.acceptsApiRef=!0,l},mn=t=>t.dimensions,ju=ke(mn,t=>t.columnsTotalWidth),_h=t=>t.dimensions.rowHeight,qS=t=>t.dimensions.contentSize.height,YS=t=>t.dimensions.hasScrollX,KS=t=>t.dimensions.hasScrollY,qC=t=>t.dimensions.columnsTotalWidth<t.dimensions.viewportOuterSize.width,XS=t=>t.dimensions.headerHeight,QS=t=>t.dimensions.groupHeaderHeight,YC=t=>t.dimensions.hasScrollY?t.dimensions.scrollbarSize:0,ZS=t=>{const l=t.dimensions.hasScrollX?t.dimensions.scrollbarSize:0,s=t.dimensions.viewportOuterSize.height-t.dimensions.minimumSize.height>0;return!(l===0&&!s)};function Ro(t){return h.memo(t,_C)}const JS={noRowsLabel:"No rows",noResultsOverlayLabel:"No results found.",toolbarDensity:"Density",toolbarDensityLabel:"Density",toolbarDensityCompact:"Compact",toolbarDensityStandard:"Standard",toolbarDensityComfortable:"Comfortable",toolbarColumns:"Columns",toolbarColumnsLabel:"Select columns",toolbarFilters:"Filters",toolbarFiltersLabel:"Show filters",toolbarFiltersTooltipHide:"Hide filters",toolbarFiltersTooltipShow:"Show filters",toolbarFiltersTooltipActive:t=>t!==1?`${t} active filters`:`${t} active filter`,toolbarQuickFilterPlaceholder:"Search",toolbarQuickFilterLabel:"Search",toolbarQuickFilterDeleteIconLabel:"Clear",toolbarExport:"Export",toolbarExportLabel:"Export",toolbarExportCSV:"Download as CSV",toolbarExportPrint:"Print",toolbarExportExcel:"Download as Excel",columnsManagementSearchTitle:"Search",columnsManagementNoColumns:"No columns",columnsManagementShowHideAllText:"Show/Hide All",columnsManagementReset:"Reset",columnsManagementDeleteIconLabel:"Clear",filterPanelAddFilter:"Add filter",filterPanelRemoveAll:"Remove all",filterPanelDeleteIconLabel:"Delete",filterPanelLogicOperator:"Logic operator",filterPanelOperator:"Operator",filterPanelOperatorAnd:"And",filterPanelOperatorOr:"Or",filterPanelColumns:"Columns",filterPanelInputLabel:"Value",filterPanelInputPlaceholder:"Filter value",filterOperatorContains:"contains",filterOperatorDoesNotContain:"does not contain",filterOperatorEquals:"equals",filterOperatorDoesNotEqual:"does not equal",filterOperatorStartsWith:"starts with",filterOperatorEndsWith:"ends with",filterOperatorIs:"is",filterOperatorNot:"is not",filterOperatorAfter:"is after",filterOperatorOnOrAfter:"is on or after",filterOperatorBefore:"is before",filterOperatorOnOrBefore:"is on or before",filterOperatorIsEmpty:"is empty",filterOperatorIsNotEmpty:"is not empty",filterOperatorIsAnyOf:"is any of","filterOperator=":"=","filterOperator!=":"!=","filterOperator>":">","filterOperator>=":">=","filterOperator<":"<","filterOperator<=":"<=",headerFilterOperatorContains:"Contains",headerFilterOperatorDoesNotContain:"Does not contain",headerFilterOperatorEquals:"Equals",headerFilterOperatorDoesNotEqual:"Does not equal",headerFilterOperatorStartsWith:"Starts with",headerFilterOperatorEndsWith:"Ends with",headerFilterOperatorIs:"Is",headerFilterOperatorNot:"Is not",headerFilterOperatorAfter:"Is after",headerFilterOperatorOnOrAfter:"Is on or after",headerFilterOperatorBefore:"Is before",headerFilterOperatorOnOrBefore:"Is on or before",headerFilterOperatorIsEmpty:"Is empty",headerFilterOperatorIsNotEmpty:"Is not empty",headerFilterOperatorIsAnyOf:"Is any of","headerFilterOperator=":"Equals","headerFilterOperator!=":"Not equals","headerFilterOperator>":"Greater than","headerFilterOperator>=":"Greater than or equal to","headerFilterOperator<":"Less than","headerFilterOperator<=":"Less than or equal to",filterValueAny:"any",filterValueTrue:"true",filterValueFalse:"false",columnMenuLabel:"Menu",columnMenuAriaLabel:t=>`${t} column menu`,columnMenuShowColumns:"Show columns",columnMenuManageColumns:"Manage columns",columnMenuFilter:"Filter",columnMenuHideColumn:"Hide column",columnMenuUnsort:"Unsort",columnMenuSortAsc:"Sort by ASC",columnMenuSortDesc:"Sort by DESC",columnHeaderFiltersTooltipActive:t=>t!==1?`${t} active filters`:`${t} active filter`,columnHeaderFiltersLabel:"Show filters",columnHeaderSortIconLabel:"Sort",footerRowSelected:t=>t!==1?`${t.toLocaleString()} rows selected`:`${t.toLocaleString()} row selected`,footerTotalRows:"Total Rows:",footerTotalVisibleRows:(t,l)=>`${t.toLocaleString()} of ${l.toLocaleString()}`,checkboxSelectionHeaderName:"Checkbox selection",checkboxSelectionSelectAllRows:"Select all rows",checkboxSelectionUnselectAllRows:"Unselect all rows",checkboxSelectionSelectRow:"Select row",checkboxSelectionUnselectRow:"Unselect row",booleanCellTrueLabel:"yes",booleanCellFalseLabel:"no",actionsCellMore:"more",pinToLeft:"Pin to left",pinToRight:"Pin to right",unpin:"Unpin",treeDataGroupingHeaderName:"Group",treeDataExpand:"see children",treeDataCollapse:"hide children",groupingColumnHeaderName:"Group",groupColumn:t=>`Group by ${t}`,unGroupColumn:t=>`Stop grouping by ${t}`,detailPanelToggle:"Detail panel toggle",expandDetailPanel:"Expand",collapseDetailPanel:"Collapse",MuiTablePagination:{},rowReorderingHeaderName:"Row reordering",aggregationMenuItemHeader:"Aggregation",aggregationFunctionLabelSum:"sum",aggregationFunctionLabelAvg:"avg",aggregationFunctionLabelMin:"min",aggregationFunctionLabelMax:"max",aggregationFunctionLabelSize:"size"};function Qe(t){return Lw("MuiDataGrid",t)}const P=MC("MuiDataGrid",["actionsCell","aggregationColumnHeader","aggregationColumnHeader--alignLeft","aggregationColumnHeader--alignCenter","aggregationColumnHeader--alignRight","aggregationColumnHeaderLabel","autoHeight","autosizing","booleanCell","cell--editable","cell--editing","cell--flex","cell--textCenter","cell--textLeft","cell--textRight","cell--rangeTop","cell--rangeBottom","cell--rangeLeft","cell--rangeRight","cell--pinnedLeft","cell--pinnedRight","cell--selectionMode","cell","cellCheckbox","cellEmpty","cellSkeleton","cellOffsetLeft","checkboxInput","columnHeader","columnHeader--alignCenter","columnHeader--alignLeft","columnHeader--alignRight","columnHeader--dragging","columnHeader--moving","columnHeader--numeric","columnHeader--sortable","columnHeader--sorted","columnHeader--filtered","columnHeader--pinnedLeft","columnHeader--pinnedRight","columnHeader--last","columnHeader--lastUnpinned","columnHeader--siblingFocused","columnHeaderCheckbox","columnHeaderDraggableContainer","columnHeaderTitle","columnHeaderTitleContainer","columnHeaderTitleContainerContent","columnHeader--filledGroup","columnHeader--emptyGroup","columnHeaders","columnSeparator--resizable","columnSeparator--resizing","columnSeparator--sideLeft","columnSeparator--sideRight","columnSeparator","columnsManagement","columnsManagementRow","columnsManagementHeader","columnsManagementSearchInput","columnsManagementFooter","container--top","container--bottom","detailPanel","detailPanels","detailPanelToggleCell","detailPanelToggleCell--expanded","footerCell","panel","panelHeader","panelWrapper","panelContent","panelFooter","paper","editBooleanCell","editInputCell","filler","filler--borderBottom","filler--pinnedLeft","filler--pinnedRight","filterForm","filterFormDeleteIcon","filterFormLogicOperatorInput","filterFormColumnInput","filterFormOperatorInput","filterFormValueInput","filterIcon","footerContainer","headerFilterRow","iconButtonContainer","iconSeparator","main","main--hasPinnedRight","main--hasSkeletonLoadingOverlay","menu","menuIcon","menuIconButton","menuOpen","menuList","overlay","overlayWrapper","overlayWrapperInner","root","root--densityStandard","root--densityComfortable","root--densityCompact","root--disableUserSelection","root--noToolbar","row","row--editable","row--editing","row--firstVisible","row--lastVisible","row--dragging","row--dynamicHeight","row--detailPanelExpanded","row--borderBottom","rowReorderCellPlaceholder","rowCount","rowReorderCellContainer","rowReorderCell","rowReorderCell--draggable","rowSkeleton","scrollArea--left","scrollArea--right","scrollArea--up","scrollArea--down","scrollArea","scrollbar","scrollbar--vertical","scrollbar--horizontal","scrollbarFiller","scrollbarFiller--header","scrollbarFiller--borderTop","scrollbarFiller--borderBottom","scrollbarFiller--pinnedRight","selectedRowCount","sortButton","sortIcon","toolbarContainer","toolbarFilterList","virtualScroller","virtualScroller--hasScrollX","virtualScrollerContent","virtualScrollerContent--overflowed","virtualScrollerRenderZone","pinnedColumns","withVerticalBorder","withBorderColor","cell--withRightBorder","cell--withLeftBorder","columnHeader--withRightBorder","columnHeader--withLeftBorder","treeDataGroupingCell","treeDataGroupingCellToggle","treeDataGroupingCellLoadingContainer","groupingCriteriaCell","groupingCriteriaCellToggle","groupingCriteriaCellLoadingContainer","pinnedRows","pinnedRows--top","pinnedRows--bottom","pinnedRowsRenderZone"]),hx=1e3;class e1{constructor(l=hx){this.timeouts=new Map,this.cleanupTimeout=hx,this.cleanupTimeout=l}register(l,s,i){this.timeouts||(this.timeouts=new Map);const c=setTimeout(()=>{typeof s=="function"&&s(),this.timeouts.delete(i.cleanupToken)},this.cleanupTimeout);this.timeouts.set(i.cleanupToken,c)}unregister(l){const s=this.timeouts.get(l.cleanupToken);s&&(this.timeouts.delete(l.cleanupToken),clearTimeout(s))}reset(){this.timeouts&&(this.timeouts.forEach((l,s)=>{this.unregister({cleanupToken:s})}),this.timeouts=void 0)}}class t1{constructor(){this.registry=new FinalizationRegistry(l=>{typeof l=="function"&&l()})}register(l,s,i){this.registry.register(l,s,i)}unregister(l){this.registry.unregister(l)}reset(){}}var Il=(function(t){return t.DataGrid="DataGrid",t.DataGridPro="DataGridPro",t.DataGridPremium="DataGridPremium",t})(Il||{});class n1{}function l1(t){let l=0;return function(i,c,d,g){t.registry===null&&(t.registry=typeof FinalizationRegistry<"u"?new t1:new e1);const[p]=h.useState(new n1),m=h.useRef(null),x=h.useRef(null);x.current=d;const b=h.useRef(null);if(!m.current&&x.current){const C=(v,D,j)=>{D&&!D.defaultMuiPrevented&&x.current?.(v,D,j)};m.current=i.current.subscribeEvent(c,C,g),l+=1,b.current={cleanupToken:l},t.registry.register(p,()=>{m.current?.(),m.current=null,b.current=null},b.current)}else!x.current&&m.current&&(m.current(),m.current=null,b.current&&(t.registry.unregister(b.current),b.current=null));h.useEffect(()=>{if(!m.current&&x.current){const C=(v,D,j)=>{D&&!D.defaultMuiPrevented&&x.current?.(v,D,j)};m.current=i.current.subscribeEvent(c,C,g)}return b.current&&t.registry&&(t.registry.unregister(b.current),b.current=null),()=>{m.current?.(),m.current=null}},[i,c,g])}}const o1={registry:null},ye=l1(o1),r1={isFirst:!0};function yt(t,l,s){ye(t,l,s,r1)}const a1=.7,s1=1.3,i1={compact:a1,comfortable:s1,standard:1},Ur=t=>t.density,Ja=ke(Ur,t=>i1[t]),c1=["id","value","formattedValue","api","field","row","rowNode","colDef","cellMode","isEditable","tabIndex","hasFocus","isValidating","debounceMs","isProcessingProps","onValueChange"],u1=t=>{const{classes:l}=t;return Ke({root:["editInputCell"]},Qe,l)},d1=Ut(EC,{name:"MuiDataGrid",slot:"EditInputCell",overridesResolver:(t,l)=>l.editInputCell})(({theme:t})=>w({},t.typography.body2,{padding:"1px 0","& input":{padding:"0 16px",height:"100%"}})),f1=Xe((t,l)=>{const s=we(),{id:i,value:c,field:d,colDef:g,hasFocus:p,debounceMs:m=200,isProcessingProps:x,onValueChange:b}=t,C=Ee(t,c1),v=Re(),D=h.useRef(null),[j,F]=h.useState(c),I=u1(s),k=h.useCallback(async z=>{const V=z.target.value;b&&await b(z,V);const R=v.current.getColumn(d);let $=V;R.valueParser&&($=R.valueParser(V,v.current.getRow(i),R,v)),F($),v.current.setEditCellValue({id:i,field:d,value:$,debounceMs:m,unstable_skipValueParser:!0},z)},[v,m,d,i,b]),T=v.current.unstable_getEditCellMeta(i,d);return h.useEffect(()=>{T?.changeReason!=="debouncedSetEditCellValue"&&F(c)},[T,c]),zn(()=>{p&&D.current.focus()},[p]),r.jsx(d1,w({inputRef:D,className:I.root,ownerState:s,fullWidth:!0,type:g.type==="number"?g.type:"text",value:j??"",onChange:k,endAdornment:x?r.jsx(s.slots.loadIcon,{fontSize:"small",color:"action"}):void 0},C,{ref:l}))}),h1=t=>r.jsx(f1,w({},t)),Al=t=>t.rows,Ti=ke(Al,t=>t.totalRowCount),g1=ke(Al,t=>t.loading),m1=ke(Al,t=>t.totalTopLevelRowCount),Dl=ke(Al,t=>t.dataRowIdToModelLookup),gx=ke(Al,t=>t.dataRowIdToIdLookup),sn=ke(Al,t=>t.tree),p1=ke(Al,t=>t.groupsToFetch),b1=ke(Al,t=>t.groupingName),mx=ke(Al,t=>t.treeDepths),Qr=dt(Al,t=>{const l=Object.entries(t.treeDepths);return l.length===0?1:(l.filter(([,s])=>s>0).map(([s])=>Number(s)).sort((s,i)=>i-s)[0]??0)+1}),di=ke(Al,t=>t.dataRowIds),x1=ke(Al,t=>t?.additionalRowGroups),es=dt(x1,t=>{const l=t?.pinnedRows;return{bottom:l?.bottom?.map(s=>({id:s.id,model:s.model??{}}))??[],top:l?.top?.map(s=>({id:s.id,model:s.model??{}}))??[]}}),KC=ke(es,t=>(t?.top?.length||0)+(t?.bottom?.length||0)),XC=(t,l)=>l&&t.length>1?[t[0]]:t,px=(t,l)=>s=>w({},s,{sorting:w({},s.sorting,{sortModel:XC(t,l)})}),C1=t=>t==="desc",y1=(t,l)=>{const s=l.current.getColumn(t.field);if(!s||t.sort===null)return null;let i;return s.getSortComparator?i=s.getSortComparator(t.sort):i=C1(t.sort)?(...d)=>-1*s.sortComparator(...d):s.sortComparator,i?{getSortCellParams:d=>({id:d,field:s.field,rowNode:sn(l)[d],value:l.current.getCellValue(d,s.field),api:l.current}),comparator:i}:null},v1=(t,l,s)=>t.reduce((i,c,d)=>{if(i!==0)return i;const g=l.params[d],p=s.params[d];return i=c.comparator(g.value,p.value,g,p),i},0),w1=(t,l)=>{const s=t.map(i=>y1(i,l)).filter(i=>!!i);return s.length===0?null:i=>i.map(c=>({node:c,params:s.map(d=>d.getSortCellParams(c.id))})).sort((c,d)=>v1(s,c,d)).map(c=>c.node.id)},bx=(t,l)=>{const s=t.indexOf(l);return!l||s===-1||s+1===t.length?t[0]:t[s+1]},Vh=(t,l)=>t==null&&l!=null?-1:l==null&&t!=null?1:t==null&&l==null?0:null,S1=new Intl.Collator,j1=(t,l)=>{const s=Vh(t,l);return s!==null?s:typeof t=="string"?S1.compare(t.toString(),l.toString()):t-l},QC=(t,l)=>{const s=Vh(t,l);return s!==null?s:Number(t)-Number(l)},ZC=(t,l)=>{const s=Vh(t,l);return s!==null?s:t>l?1:t<l?-1:0},M1=["item","applyValue","type","apiRef","focusElementRef","tabIndex","disabled","isFilterActive","clearButton","InputProps","variant"];function El(t){const{item:l,applyValue:s,type:i,apiRef:c,focusElementRef:d,tabIndex:g,disabled:p,clearButton:m,InputProps:x,variant:b="standard"}=t,C=Ee(t,M1),v=Xr(),[D,j]=h.useState(Jf(l.value)),[F,I]=h.useState(!1),k=Ot(),T=we(),z=h.useCallback(V=>{const R=Jf(V.target.value);j(R),I(!0),v.start(T.filterDebounceMs,()=>{const $=w({},l,{value:i==="number"&&!Number.isNaN(Number(R))?Number(R):R,fromInput:k});s($),I(!1)})},[v,T.filterDebounceMs,l,i,k,s]);return h.useEffect(()=>{(l.fromInput!==k||l.value==null)&&j(Jf(l.value))},[k,l]),r.jsx(T.slots.baseTextField,w({id:k,label:c.current.getLocaleText("filterPanelInputLabel"),placeholder:c.current.getLocaleText("filterPanelInputPlaceholder"),value:D??"",onChange:z,variant:b,type:i||"text",InputProps:w({},F||m?{endAdornment:F?r.jsx(T.slots.loadIcon,{fontSize:"small",color:"action"}):m}:{},{disabled:p},x,{inputProps:w({tabIndex:g},x?.inputProps)}),InputLabelProps:{shrink:!0},inputRef:d},C,T.slotProps?.baseTextField))}function Jf(t){if(!(t==null||t===""))return String(t)}function E1(t){return typeof t=="number"&&!Number.isNaN(t)}function D1(t){return typeof t=="function"}function Uh(t){return typeof t=="object"&&t!==null}function T1(){try{const t="__some_random_key_you_are_not_going_to_use__";return window.localStorage.setItem(t,t),window.localStorage.removeItem(t),!0}catch{return!1}}function uu(t){return t.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&")}const dl=(t,l,s)=>Math.max(l,Math.min(s,t));function xx(t,l){return Array.from({length:l-t}).map((s,i)=>t+i)}function ro(t,l){if(t===l)return!0;if(t&&l&&typeof t=="object"&&typeof l=="object"){if(t.constructor!==l.constructor)return!1;if(Array.isArray(t)){const c=t.length;if(c!==l.length)return!1;for(let d=0;d<c;d+=1)if(!ro(t[d],l[d]))return!1;return!0}if(t instanceof Map&&l instanceof Map){if(t.size!==l.size)return!1;const c=Array.from(t.entries());for(let d=0;d<c.length;d+=1)if(!l.has(c[d][0]))return!1;for(let d=0;d<c.length;d+=1){const g=c[d];if(!ro(g[1],l.get(g[0])))return!1}return!0}if(t instanceof Set&&l instanceof Set){if(t.size!==l.size)return!1;const c=Array.from(t.entries());for(let d=0;d<c.length;d+=1)if(!l.has(c[d][0]))return!1;return!0}if(ArrayBuffer.isView(t)&&ArrayBuffer.isView(l)){const c=t.length;if(c!==l.length)return!1;for(let d=0;d<c;d+=1)if(t[d]!==l[d])return!1;return!0}if(t.constructor===RegExp)return t.source===l.source&&t.flags===l.flags;if(t.valueOf!==Object.prototype.valueOf)return t.valueOf()===l.valueOf();if(t.toString!==Object.prototype.toString)return t.toString()===l.toString();const s=Object.keys(t),i=s.length;if(i!==Object.keys(l).length)return!1;for(let c=0;c<i;c+=1)if(!Object.prototype.hasOwnProperty.call(l,s[c]))return!1;for(let c=0;c<i;c+=1){const d=s[c];if(!ro(t[d],l[d]))return!1}return!0}return t!==t&&l!==l}function I1(t){return()=>{let l=t+=1831565813;return l=Math.imul(l^l>>>15,l|1),l^=l+Math.imul(l^l>>>7,l|61),((l^l>>>14)>>>0)/4294967296}}function F1(t){const l=I1(t);return(s,i)=>s+(i-s)*l()}function JC(t){return typeof structuredClone=="function"?structuredClone(t):JSON.parse(JSON.stringify(t))}const Lr=(t,l)=>s=>{t&&l(s)},A1=["item","applyValue","type","apiRef","focusElementRef","color","error","helperText","size","variant"],z1=["key"];function e0(t){const{item:l,applyValue:s,type:i,apiRef:c,focusElementRef:d,color:g,error:p,helperText:m,size:x,variant:b="standard"}=t,C=Ee(t,A1),v={color:g,error:p,helperText:m,size:x,variant:b},[D,j]=h.useState(l.value||[]),F=Ot(),I=we();h.useEffect(()=>{const T=l.value??[];j(T.map(String))},[l.value]);const k=h.useCallback((T,z)=>{j(z.map(String)),s(w({},l,{value:[...z.map(V=>i==="number"?Number(V):V)]}))},[s,l,i]);return r.jsx(Oh,w({multiple:!0,freeSolo:!0,options:[],filterOptions:(T,z)=>{const{inputValue:V}=z;return V==null||V===""?[]:[V]},id:F,value:D,onChange:k,renderTags:(T,z)=>T.map((V,R)=>{const $=z({index:R}),{key:_}=$,U=Ee($,z1);return r.jsx(I.slots.baseChip,w({variant:"outlined",size:"small",label:V},U),_)}),renderInput:T=>r.jsx(I.slots.baseTextField,w({},T,{label:c.current.getLocaleText("filterPanelInputLabel"),placeholder:c.current.getLocaleText("filterPanelInputPlaceholder"),InputLabelProps:w({},T.InputLabelProps,{shrink:!0}),inputRef:d,type:i||"text"},v,I.slotProps?.baseTextField))},C))}var so=(function(t){return t.Cell="cell",t.Row="row",t})(so||{}),Ct=(function(t){return t.Edit="edit",t.View="view",t})(Ct||{}),Rt=(function(t){return t.Edit="edit",t.View="view",t})(Rt||{}),Pn=(function(t){return t.And="and",t.Or="or",t})(Pn||{}),ko=(function(t){return t.enterKeyDown="enterKeyDown",t.cellDoubleClick="cellDoubleClick",t.printableKeyDown="printableKeyDown",t.deleteKeyDown="deleteKeyDown",t.pasteKeyDown="pasteKeyDown",t})(ko||{}),Bl=(function(t){return t.cellFocusOut="cellFocusOut",t.escapeKeyDown="escapeKeyDown",t.enterKeyDown="enterKeyDown",t.tabKeyDown="tabKeyDown",t.shiftTabKeyDown="shiftTabKeyDown",t})(Bl||{}),cr=(function(t){return t.enterKeyDown="enterKeyDown",t.cellDoubleClick="cellDoubleClick",t.printableKeyDown="printableKeyDown",t.deleteKeyDown="deleteKeyDown",t})(cr||{}),lo=(function(t){return t.rowFocusOut="rowFocusOut",t.escapeKeyDown="escapeKeyDown",t.enterKeyDown="enterKeyDown",t.tabKeyDown="tabKeyDown",t.shiftTabKeyDown="shiftTabKeyDown",t})(lo||{});function t0(t){return t.field!==void 0}const n0={filteredRowsLookup:{},filteredChildrenCountLookup:{},filteredDescendantCountLookup:{}},yi=()=>({items:[],logicOperator:Pn.And,quickFilterValues:[],quickFilterLogicOperator:Pn.And});function l0(t){return{current:t.current.getPublicApi()}}let ur=(function(t){return t.LEFT="left",t.RIGHT="right",t})({});const du={left:[],right:[]},o0=t=>t.isRtl,ao=t=>t.columns,Ho=ke(ao,t=>t.orderedFields),fo=ke(ao,t=>t.lookup),Fl=dt(Ho,fo,(t,l)=>t.map(s=>l[s])),Tl=ke(ao,t=>t.columnVisibilityModel),qt=dt(Fl,Tl,(t,l)=>t.filter(s=>l[s.field]!==!1)),ts=dt(qt,t=>t.map(l=>l.field)),r0=t=>t.pinnedColumns;dt(r0,Ho,o0,(t,l,s)=>a0(t,l,s));const ns=dt(ao,r0,ts,o0,(t,l,s,i)=>{const c=a0(l,s,i);return{left:c.left.map(g=>t.lookup[g]),right:c.right.map(g=>t.lookup[g])}});function a0(t,l,s){if(!Array.isArray(t.left)&&!Array.isArray(t.right)||t.left?.length===0&&t.right?.length===0)return du;const i=(p,m)=>Array.isArray(p)?p.filter(x=>m.includes(x)):[],c=i(t.left,l),d=l.filter(p=>!c.includes(p)),g=i(t.right,d);return s?{left:g,right:c}:{left:c,right:g}}const Cr=dt(qt,t=>{const l=[];let s=0;for(let i=0;i<t.length;i+=1)l.push(s),s+=t[i].computedWidth;return l}),s0=dt(Fl,t=>t.filter(l=>l.filterable)),O1=dt(Fl,t=>t.reduce((l,s)=>(s.filterable&&(l[s.field]=s),l),{})),k1=dt(Fl,t=>t.some(l=>l.colSpan!==void 0));let ei;function H1(){if(ei!==void 0)return ei;try{ei=new Function("return true")()}catch{ei=!1}return ei}const yh=(t,l)=>{const s=w({},t);if(s.id==null&&(s.id=Math.round(Math.random()*1e5)),s.operator==null){const i=fo(l)[s.field];s.operator=i&&i.filterOperators[0].value}return s},$h=(t,l,s)=>{const i=t.items.length>1;let c;i&&l?c=[t.items[0]]:c=t.items;const d=i&&c.some(p=>p.id==null);return c.some(p=>p.operator==null)||d?w({},t,{items:c.map(p=>yh(p,s))}):t.items!==c?w({},t,{items:c}):t},Cx=(t,l,s)=>i=>w({},i,{filterModel:$h(t,l,s)}),vi=t=>typeof t=="string"?t.normalize("NFD").replace(/[\u0300-\u036f]/g,""):t,i0=(t,l)=>{if(!t.field||!t.operator)return null;const s=l.current.getColumn(t.field);if(!s)return null;let i;if(s.valueParser){const b=s.valueParser;i=Array.isArray(t.value)?t.value?.map(C=>b(C,void 0,s,l)):b(t.value,void 0,s,l)}else i=t.value;const{ignoreDiacritics:c}=l.current.rootProps;c&&(i=vi(i));const d=w({},t,{value:i}),g=s.filterOperators;if(!g?.length)throw new Error(`MUI X: No filter operators found for column '${s.field}'.`);const p=g.find(b=>b.value===d.operator);if(!p)throw new Error(`MUI X: No filter operator found for column '${s.field}' and operator value '${d.operator}'.`);const m=l0(l),x=p.getApplyFilterFn(d,s);return typeof x!="function"?null:{item:d,fn:b=>{let C=l.current.getRowValue(b,s);return c&&(C=vi(C)),x(C,b,s,m)}}};let yx=1;const P1=(t,l,s)=>{const{items:i}=t,c=i.map(p=>i0(p,l)).filter(p=>!!p);if(c.length===0)return null;if(s||!H1())return(p,m)=>{const x={};for(let b=0;b<c.length;b+=1){const C=c[b];(!m||m(C.item.field))&&(x[C.item.id]=C.fn(p))}return x};const d=new Function("appliers","row","shouldApplyFilter",`"use strict";
${c.map((p,m)=>`const shouldApply${m} = !shouldApplyFilter || shouldApplyFilter(${JSON.stringify(p.item.field)});`).join(`
`)}

const result$$ = {
${c.map((p,m)=>`  ${JSON.stringify(String(p.item.id))}: !shouldApply${m} ? false : appliers[${m}].fn(row),`).join(`
`)}
};

return result$$;`.replaceAll("$$",String(yx)));return yx+=1,(p,m)=>d(c,p,m)},c0=t=>t.quickFilterExcludeHiddenColumns??!0,R1=(t,l)=>{const s=t.quickFilterValues?.filter(Boolean)??[];if(s.length===0)return null;const i=c0(t)?ts(l):Ho(l),c=[],{ignoreDiacritics:d}=l.current.rootProps,g=l0(l);return i.forEach(p=>{const m=l.current.getColumn(p),x=m?.getApplyQuickFilterFn;x&&c.push({column:m,appliers:s.map(b=>{const C=d?vi(b):b;return{fn:x(C,m,g)}})})}),function(m,x){const b={};e:for(let C=0;C<s.length;C+=1){const v=s[C];for(let D=0;D<c.length;D+=1){const{column:j,appliers:F}=c[D],{field:I}=j;if(x&&!x(I))continue;const k=F[C];let T=l.current.getRowValue(m,j);if(k.fn===null)continue;if(d&&(T=vi(T)),k.fn(T,m,j,g)){b[v]=!0;continue e}}b[v]=!1}return b}},N1=(t,l,s)=>{const i=P1(t,l,s),c=R1(t,l);return function(g,p,m){m.passingFilterItems=i?.(g,p)??null,m.passingQuickFilterValues=c?.(g,p)??null}},vx=t=>t!=null,G1=(t,l,s)=>(t.cleanedFilterItems||(t.cleanedFilterItems=s.filter(i=>i0(i,l)!==null)),t.cleanedFilterItems),L1=(t,l,s,i,c)=>{const d=G1(c,i,s.items),g=t.filter(vx),p=l.filter(vx);if(g.length>0){const m=b=>g.some(C=>C[b.id]);if((s.logicOperator??yi().logicOperator)===Pn.And){if(!d.every(m))return!1}else if(!d.some(m))return!1}if(p.length>0&&s.quickFilterValues!=null){const m=b=>p.some(C=>C[b]);if((s.quickFilterLogicOperator??yi().quickFilterLogicOperator)===Pn.And){if(!s.quickFilterValues.every(m))return!1}else if(!s.quickFilterValues.some(m))return!1}return!0},B1=t=>{if(!t)return null;const l=new RegExp(uu(t),"i");return(s,i,c,d)=>{let g=d.current.getRowFormattedValue(i,c);return d.current.ignoreDiacritics&&(g=vi(g)),g!=null?l.test(g.toString()):!1}},wx=(t,l)=>s=>{if(!s.value)return null;const i=t?s.value:s.value.trim(),c=new RegExp(uu(i),"i");return d=>{if(d==null)return l;const g=c.test(String(d));return l?!g:g}},Sx=(t,l)=>s=>{if(!s.value)return null;const i=t?s.value:s.value.trim(),c=new Intl.Collator(void 0,{sensitivity:"base",usage:"search"});return d=>{if(d==null)return l;const g=c.compare(i,d.toString())===0;return l?!g:g}},jx=t=>()=>l=>{const s=l===""||l==null;return t?!s:s},_1=(t=!1)=>[{value:"contains",getApplyFilterFn:wx(t,!1),InputComponent:El},{value:"doesNotContain",getApplyFilterFn:wx(t,!0),InputComponent:El},{value:"equals",getApplyFilterFn:Sx(t,!1),InputComponent:El},{value:"doesNotEqual",getApplyFilterFn:Sx(t,!0),InputComponent:El},{value:"startsWith",getApplyFilterFn:l=>{if(!l.value)return null;const s=t?l.value:l.value.trim(),i=new RegExp(`^${uu(s)}.*$`,"i");return c=>c!=null?i.test(c.toString()):!1},InputComponent:El},{value:"endsWith",getApplyFilterFn:l=>{if(!l.value)return null;const s=t?l.value:l.value.trim(),i=new RegExp(`.*${uu(s)}$`,"i");return c=>c!=null?i.test(c.toString()):!1},InputComponent:El},{value:"isEmpty",getApplyFilterFn:jx(!1),requiresFilterValue:!1},{value:"isNotEmpty",getApplyFilterFn:jx(!0),requiresFilterValue:!1},{value:"isAnyOf",getApplyFilterFn:l=>{if(!Array.isArray(l.value)||l.value.length===0)return null;const s=t?l.value:l.value.map(c=>c.trim()),i=new Intl.Collator(void 0,{sensitivity:"base",usage:"search"});return c=>c!=null?s.some(d=>i.compare(d,c.toString()||"")===0):!1},InputComponent:e0}],Wl={width:100,minWidth:50,maxWidth:1/0,hideable:!0,sortable:!0,resizable:!0,filterable:!0,groupable:!0,pinnable:!0,aggregable:!0,editable:!1,sortComparator:j1,type:"string",align:"left",filterOperators:_1(),renderEditCell:h1,getApplyQuickFilterFn:B1},V1=["open","target","onClose","children","position","className","onExited"],U1=t=>{const{classes:l}=t;return Ke({root:["menu"]},Qe,l)},$1=Ut(kh,{name:"MuiDataGrid",slot:"Menu",overridesResolver:(t,l)=>l.menu})(({theme:t})=>({zIndex:t.zIndex.modal,[`& .${P.menuList}`]:{outline:0}})),W1={"bottom-start":"top left","bottom-end":"top right"};function Mu(t){const{open:l,target:s,onClose:i,children:c,position:d,className:g,onExited:p}=t,m=Ee(t,V1),x=Re(),b=we(),C=U1(b),v=h.useRef(null);zn(()=>{l?v.current=document.activeElement instanceof HTMLElement?document.activeElement:null:(v.current?.focus?.(),v.current=null)},[l]),h.useEffect(()=>{const F=l?"menuOpen":"menuClose";x.current.publishEvent(F,{target:s})},[x,l,s]);const D=F=>I=>{F&&F(),p&&p(I)},j=F=>{F.target&&(s===F.target||s?.contains(F.target))||i(F)};return r.jsx($1,w({as:b.slots.basePopper,className:lt(C.root,g),ownerState:b,open:l,anchorEl:s,transition:!0,placement:d},m,b.slotProps?.basePopper,{children:({TransitionProps:F,placement:I})=>r.jsx(DC,{onClickAway:j,mouseEvent:"onMouseDown",children:r.jsx(Bw,w({},F,{style:{transformOrigin:W1[I]},onExited:D(F?.onExited),children:r.jsx(nt,{children:c})}))})}))}const q1=["api","colDef","id","hasFocus","isEditable","field","value","formattedValue","row","rowNode","cellMode","tabIndex","position","focusElementRef"],Y1=t=>typeof t.getActions=="function";function K1(t){const{colDef:l,id:s,hasFocus:i,tabIndex:c,position:d="bottom-end",focusElementRef:g}=t,p=Ee(t,q1),[m,x]=h.useState(-1),[b,C]=h.useState(!1),v=Re(),D=h.useRef(null),j=h.useRef(null),F=h.useRef(!1),I=h.useRef({}),k=co(),T=Ot(),z=Ot(),V=we();if(!Y1(l))throw new Error("MUI X: Missing the `getActions` property in the `GridColDef`.");const R=l.getActions(v.current.getRowParams(s)),$=R.filter(S=>!S.props.showInMenu),_=R.filter(S=>S.props.showInMenu),U=$.length+(_.length?1:0);h.useLayoutEffect(()=>{i||Object.entries(I.current).forEach(([S,M])=>{M?.stop({},()=>{delete I.current[S]})})},[i]),h.useEffect(()=>{if(m<0||!D.current||m>=D.current.children.length)return;D.current.children[m].focus({preventScroll:!0})},[m]),h.useEffect(()=>{i||(x(-1),F.current=!1)},[i]),h.useImperativeHandle(g,()=>({focus(){if(!F.current){const S=R.findIndex(M=>!M.props.disabled);x(S)}}}),[R]),h.useEffect(()=>{m>=U&&x(U-1)},[m,U]);const A=()=>{C(!0),x(U-1),F.current=!0},E=()=>{C(!1)},B=S=>{S.stopPropagation(),S.preventDefault(),b?E():A()},N=S=>M=>{I.current[S]=M},O=(S,M)=>L=>{x(S),F.current=!0,M&&M(L)},K=S=>{if(U<=1)return;const M=(q,Y)=>{if(q<0||q>R.length)return q;const Q=(Y==="left"?-1:1)*(k?-1:1);return R[q+Q]?.props.disabled?M(q+Q,Y):q+Q};let L=m;S.key==="ArrowRight"?L=M(m,"right"):S.key==="ArrowLeft"&&(L=M(m,"left")),!(L<0||L>=U)&&L!==m&&(S.preventDefault(),S.stopPropagation(),x(L))},G=S=>{S.key==="Tab"&&S.preventDefault(),["Tab","Escape"].includes(S.key)&&E()};return r.jsxs("div",w({role:"menu",ref:D,tabIndex:-1,className:P.actionsCell,onKeyDown:K},p,{children:[$.map((S,M)=>h.cloneElement(S,{key:M,touchRippleRef:N(M),onClick:O(M,S.props.onClick),tabIndex:m===M?c:-1})),_.length>0&&z&&r.jsx(V.slots.baseIconButton,w({ref:j,id:z,"aria-label":v.current.getLocaleText("actionsCellMore"),"aria-haspopup":"menu","aria-expanded":b,"aria-controls":b?T:void 0,role:"menuitem",size:"small",onClick:B,touchRippleRef:N(z),tabIndex:m===$.length?c:-1},V.slotProps?.baseIconButton,{children:r.jsx(V.slots.moreActionsIcon,{fontSize:"small"})})),_.length>0&&r.jsx(Mu,{open:b,target:j.current,position:d,onClose:E,children:r.jsx(wu,{id:T,className:P.menuList,onKeyDown:G,"aria-labelledby":z,variant:"menu",autoFocusItem:!0,children:_.map((S,M)=>h.cloneElement(S,{key:M,closeMenu:E}))})})]}))}const X1=t=>r.jsx(K1,w({},t)),Eu="actions",Q1=w({},Wl,{sortable:!1,filterable:!1,aggregable:!1,width:100,display:"flex",align:"center",headerAlign:"center",headerName:"",disableColumnMenu:!0,disableExport:!0,renderCell:X1,getApplyQuickFilterFn:void 0}),Mn="auto-generated-group-node-root",qa=Symbol("mui.id_autogenerated"),Z1=()=>({type:"group",id:Mn,depth:-1,groupingField:null,groupingKey:null,isAutoGenerated:!0,children:[],childrenFromPath:{},childrenExpanded:!0,parent:null});function J1(t,l,s="A row was provided without id in the rows prop:"){if(t==null)throw new Error(["MUI X: The Data Grid component requires all rows to have a unique `id` property.","Alternatively, you can use the `getRowId` prop to specify a custom id for each row.",s,JSON.stringify(l)].join(`
`))}const Du=(t,l,s)=>{const i=l?l(t):t.id;return J1(i,t,s),i},ru=({rows:t,getRowId:l,loading:s,rowCount:i})=>{const c={type:"full",rows:[]},d={},g={};for(let p=0;p<t.length;p+=1){const m=t[p],x=Du(m,l);d[x]=m,g[x]=x,c.rows.push(x)}return{rowsBeforePartialUpdates:t,loadingPropBeforePartialUpdates:s,rowCountPropBeforePartialUpdates:i,updates:c,dataRowIdToIdLookup:g,dataRowIdToModelLookup:d}},u0=({tree:t,rowCountProp:l=0})=>{const s=t[Mn];return Math.max(l,s.children.length+(s.footerId==null?0:1))},d0=({apiRef:t,rowCountProp:l=0,loadingProp:s,previousTree:i,previousTreeDepths:c,previousGroupsToFetch:d})=>{const g=t.current.caches.rows,{tree:p,treeDepths:m,dataRowIds:x,groupingName:b,groupsToFetch:C=[]}=t.current.applyStrategyProcessor("rowTreeCreation",{previousTree:i,previousTreeDepths:c,updates:g.updates,dataRowIdToIdLookup:g.dataRowIdToIdLookup,dataRowIdToModelLookup:g.dataRowIdToModelLookup,previousGroupsToFetch:d}),v=t.current.unstable_applyPipeProcessors("hydrateRows",{tree:p,treeDepths:m,dataRowIdToIdLookup:g.dataRowIdToIdLookup,dataRowIds:x,dataRowIdToModelLookup:g.dataRowIdToModelLookup});return t.current.caches.rows.updates={type:"partial",actions:{insert:[],modify:[],remove:[]},idToActionLookup:{}},w({},v,{totalRowCount:Math.max(l,v.dataRowIds.length),totalTopLevelRowCount:u0({tree:v.tree,rowCountProp:l}),groupingName:b,loading:s,groupsToFetch:C})},Ya=t=>t.type==="skeletonRow"||t.type==="footer"||t.type==="group"&&t.isAutoGenerated||t.type==="pinnedRow"&&t.isAutoGenerated,Wh=(t,l,s)=>{const i=t[l];if(i.type!=="group")return[];const c=[];for(let d=0;d<i.children.length;d+=1){const g=i.children[d];(!s||!Ya(t[g]))&&c.push(g);const p=Wh(t,g,s);for(let m=0;m<p.length;m+=1)c.push(p[m])}return!s&&i.footerId!=null&&c.push(i.footerId),c},Mx=({previousCache:t,getRowId:l,updates:s,groupKeys:i})=>{if(t.updates.type==="full")throw new Error("MUI X: Unable to prepare a partial update if a full update is not applied yet.");const c=new Map;s.forEach(b=>{const C=Du(b,l,"A row was provided without id when calling updateRows():");c.has(C)?c.set(C,w({},c.get(C),b)):c.set(C,b)});const d={type:"partial",actions:{insert:[...t.updates.actions.insert??[]],modify:[...t.updates.actions.modify??[]],remove:[...t.updates.actions.remove??[]]},idToActionLookup:w({},t.updates.idToActionLookup),groupKeys:i},g=w({},t.dataRowIdToModelLookup),p=w({},t.dataRowIdToIdLookup),m={insert:{},modify:{},remove:{}};c.forEach((b,C)=>{const v=d.idToActionLookup[C];if(b._action==="delete"){if(v==="remove"||!g[C])return;v!=null&&(m[v][C]=!0),d.actions.remove.push(C),delete g[C],delete p[C];return}const D=g[C];if(D){v==="remove"?(m.remove[C]=!0,d.actions.modify.push(C)):v==null&&d.actions.modify.push(C),g[C]=w({},D,b);return}v==="remove"?(m.remove[C]=!0,d.actions.insert.push(C)):v==null&&d.actions.insert.push(C),g[C]=b,p[C]=C});const x=Object.keys(m);for(let b=0;b<x.length;b+=1){const C=x[b],v=m[C];Object.keys(v).length>0&&(d.actions[C]=d.actions[C].filter(D=>!v[D]))}return{dataRowIdToModelLookup:g,dataRowIdToIdLookup:p,updates:d,rowsBeforePartialUpdates:t.rowsBeforePartialUpdates,loadingPropBeforePartialUpdates:t.loadingPropBeforePartialUpdates,rowCountPropBeforePartialUpdates:t.rowCountPropBeforePartialUpdates}},f0="var(--DataGrid-overlayHeight, calc(var(--height) * 2))";function Ex(t,l,s){const i=[];return l.forEach(c=>{const d=Du(c,s,"A row was provided without id when calling updateRows():");if(t.current.getRowNode(d)?.type==="pinnedRow"){const p=t.current.caches.pinnedRows,m=p.idLookup[d];m&&(p.idLookup[d]=w({},m,c))}else i.push(c)}),i}const h0=(t,l,s)=>typeof t=="number"&&t>0?t:l,ej="__tree_data_group__",g0="__row_group_by_columns_group__",Tu="__detail_panel_toggle__";let et=(function(t){return t[t.NONE=0]="NONE",t[t.LEFT=1]="LEFT",t[t.RIGHT=2]="RIGHT",t[t.VIRTUAL=3]="VIRTUAL",t})({});const tj=["id","value","formattedValue","api","field","row","rowNode","colDef","cellMode","isEditable","hasFocus","tabIndex","hideDescendantCount"],nj=t=>{const{classes:l}=t;return Ke({root:["booleanCell"]},Qe,l)};function lj(t){const{value:l,rowNode:s}=t,i=Ee(t,tj),c=Re(),d=we(),g={classes:d.classes},p=nj(g),x=fe(c,Qr)>0&&s.type==="group"&&d.treeData===!1,b=h.useMemo(()=>l?d.slots.booleanCellTrueIcon:d.slots.booleanCellFalseIcon,[d.slots.booleanCellFalseIcon,d.slots.booleanCellTrueIcon,l]);return x&&l===void 0?null:r.jsx(b,w({fontSize:"small",className:p.root,titleAccess:c.current.getLocaleText(l?"booleanCellTrueLabel":"booleanCellFalseLabel"),"data-value":!!l},i))}const oj=h.memo(lj),rj=t=>t.field!==g0&&Ya(t.rowNode)?"":r.jsx(oj,w({},t)),aj=["id","value","formattedValue","api","field","row","rowNode","colDef","cellMode","isEditable","tabIndex","className","hasFocus","isValidating","isProcessingProps","error","onValueChange"],sj=t=>{const{classes:l}=t;return Ke({root:["editBooleanCell"]},Qe,l)};function ij(t){const{id:l,value:s,field:i,className:c,hasFocus:d,onValueChange:g}=t,p=Ee(t,aj),m=Re(),x=h.useRef(null),b=Ot(),[C,v]=h.useState(s),D=we(),j={classes:D.classes},F=sj(j),I=h.useCallback(async k=>{const T=k.target.checked;g&&await g(k,T),v(T),await m.current.setEditCellValue({id:l,field:i,value:T},k)},[m,i,l,g]);return h.useEffect(()=>{v(s)},[s]),zn(()=>{d&&x.current.focus()},[d]),r.jsx("label",w({htmlFor:b,className:lt(F.root,c)},p,{children:r.jsx(D.slots.baseCheckbox,w({id:b,inputRef:x,checked:!!C,onChange:I,size:"small"},D.slotProps?.baseCheckbox))}))}const cj=t=>r.jsx(ij,w({},t)),uj=["item","applyValue","apiRef","focusElementRef","isFilterActive","clearButton","tabIndex","label","variant","InputLabelProps"],au=t=>{if(String(t).toLowerCase()==="true")return!0;if(String(t).toLowerCase()==="false")return!1},dj=Ut("div")({display:"flex",alignItems:"center",width:"100%","& button":{margin:"auto 0px 5px 5px"}});function fj(t){const{item:l,applyValue:s,apiRef:i,focusElementRef:c,clearButton:d,tabIndex:g,label:p,variant:m="standard"}=t,x=Ee(t,uj),[b,C]=h.useState(au(l.value)),v=we(),D=Ot(),j=Ot(),F=v.slotProps?.baseSelect||{},I=F.native??!1,k=v.slotProps?.baseSelectOption||{},T=h.useCallback(V=>{const R=au(V.target.value);C(R),s(w({},l,{value:R}))},[s,l]);h.useEffect(()=>{C(au(l.value))},[l.value]);const z=p??i.current.getLocaleText("filterPanelInputLabel");return r.jsxs(dj,{children:[r.jsxs(v.slots.baseFormControl,{fullWidth:!0,children:[r.jsx(v.slots.baseInputLabel,w({},v.slotProps?.baseInputLabel,{id:D,shrink:!0,variant:m,children:z})),r.jsxs(v.slots.baseSelect,w({labelId:D,id:j,label:z,value:b===void 0?"":String(b),onChange:T,variant:m,notched:m==="outlined"?!0:void 0,native:I,displayEmpty:!0,inputProps:{ref:c,tabIndex:g}},x,F,{children:[r.jsx(v.slots.baseSelectOption,w({},k,{native:I,value:"",children:i.current.getLocaleText("filterValueAny")})),r.jsx(v.slots.baseSelectOption,w({},k,{native:I,value:"true",children:i.current.getLocaleText("filterValueTrue")})),r.jsx(v.slots.baseSelectOption,w({},k,{native:I,value:"false",children:i.current.getLocaleText("filterValueFalse")}))]}))]}),d]})}const hj=()=>[{value:"is",getApplyFilterFn:t=>{const l=au(t.value);return l===void 0?null:s=>!!s===l},InputComponent:fj}],gj=(t,l,s,i)=>t?i.current.getLocaleText("booleanCellTrueLabel"):i.current.getLocaleText("booleanCellFalseLabel"),mj=t=>{switch(t.toLowerCase().trim()){case"true":case"yes":case"1":return!0;case"false":case"no":case"0":case"null":case"undefined":return!1;default:return}},m0=w({},Wl,{type:"boolean",display:"flex",align:"center",headerAlign:"center",renderCell:rj,renderEditCell:cj,sortComparator:QC,valueFormatter:gj,filterOperators:hj(),getApplyQuickFilterFn:void 0,aggregable:!1,pastedValueParser:t=>mj(t)}),p0=t=>t.sorting,ls=ke(p0,t=>t.sortedRows),qh=dt(ls,Dl,sn,(t,l,s)=>t.reduce((i,c)=>{const d=l[c];if(d)i.push({id:c,model:d});else{const g=s[c];g&&Ya(g)&&i.push({id:c,model:{[qa]:c}})}return i},[])),_l=ke(p0,t=>t.sortModel),pj=dt(_l,t=>t.reduce((s,i,c)=>(s[i.field]={sortDirection:i.sort,sortIndex:t.length>1?c+1:void 0},s),{}));dt(ls,t=>t.reduce((l,s,i)=>(l[s]=i,l),Object.create(null)));const Iu=t=>t.filter,xn=ke(Iu,t=>t.filterModel),b0=ke(xn,t=>t.quickFilterValues),bj=t=>t.visibleRowsLookup,os=ke(Iu,t=>t.filteredRowsLookup);ke(Iu,t=>t.filteredChildrenCountLookup);ke(Iu,t=>t.filteredDescendantCountLookup);const yr=dt(bj,qh,Qr,xn,b0,(t,l,s,i,c)=>s<2&&!i.items.length&&!c?.length?l:l.filter(d=>t[d.id]!==!1)),Ua=dt(yr,t=>t.map(l=>l.id)),x0=dt(os,qh,(t,l)=>l.filter(s=>t[s.id]!==!1)),C0=dt(x0,t=>t.map(l=>l.id));dt(Ua,sn,(t,l)=>{const s={};let i=0;return t.reduce((c,d)=>{const g=l[d];return s[g.depth]||(s[g.depth]=0),g.depth>i&&(s[g.depth]=0),i=g.depth,s[g.depth]+=1,c[d]=s[g.depth],c},{})});const y0=dt(yr,sn,Qr,(t,l,s)=>s<2?t:t.filter(i=>l[i.id]?.depth===0)),Yh=ke(yr,t=>t.length),Kh=ke(y0,t=>t.length),xj=ke(x0,t=>t.length);ke(xj,Kh,(t,l)=>t-l);const Xh=dt(xn,fo,(t,l)=>t.items?.filter(s=>{if(!s.field)return!1;const i=l[s.field];if(!i?.filterOperators||i?.filterOperators?.length===0)return!1;const c=i.filterOperators.find(d=>d.value===s.operator);return c?!c.InputComponent||s.value!=null&&s.value?.toString()!=="":!1})),Cj=dt(Xh,t=>t.reduce((s,i)=>(s[i.field]?s[i.field].push(i):s[i.field]=[i],s),{})),ul=t=>t.rowSelection,yj=ke(ul,t=>t.length),vj=dt(ul,Dl,(t,l)=>new Map(t.map(s=>[s,l[s]]))),mr=dt(ul,t=>t.reduce((l,s)=>(l[s]=s,l),{}));function v0(t,l){const s=sn(t),i=ls(t),c=os(t),d=s[l];if(!d||d.type!=="group")return[];const g=[],p=i.findIndex(m=>m===l)+1;for(let m=p;m<i.length&&s[i[m]]?.depth>d.depth;m+=1){const x=i[m];c[x]!==!1&&t.current.isRowSelectable(x)&&g.push(x)}return g}function wj(t,l){return ke(sn,ls,os,mr,(s,i,c,d)=>{const g=s[t];if(!g||g.type!=="group")return{isIndeterminate:!1,isChecked:d[t]===t};if(d[t]===t)return{isIndeterminate:!1,isChecked:!0};let p=0,m=0;const x=i.findIndex(b=>b===t)+1;for(let b=x;b<i.length&&s[i[b]]?.depth>g.depth;b+=1){const C=i[b];c[C]!==!1&&(p+=1,d[C]!==void 0&&(m+=1))}return{isIndeterminate:m>0&&(m<p||d[t]===void 0),isChecked:l?m>0:d[t]===t}})}function Qh(t){return t.signature===Il.DataGrid?t.checkboxSelection&&t.disableMultipleRowSelection!==!0:!t.disableMultipleRowSelection}const Sj=(t,l)=>{const s=[];let i=l;for(;i!=null&&i!==Mn;){const c=t[i];if(!c)return s;s.push(i),i=c.parent}return s},jj=(t,l,s)=>{const i=t[s];if(!i)return[];const c=i.parent;return c==null?[]:t[c].children.filter(g=>g!==s&&l[g]!==!1)},ti=(t,l,s,i,c,d,g=new Set(ul(t.current.state)))=>{const p=os(t),m=new Set([]);if(!(!i&&!c||p[s]===!1)&&(i&&l[s]?.type==="group"&&v0(t,s).forEach(C=>{d(C),m.add(C)}),c)){const x=C=>{if(!g.has(C)&&!m.has(C))return!1;const v=l[C];return v?v.type!=="group"?!0:v.children.every(x):!1},b=C=>{const v=jj(l,p,C);if(v.length===0||v.every(x)){const j=l[C]?.parent;j!=null&&j!==Mn&&t.current.isRowSelectable(j)&&(d(j),m.add(j),b(j))}};b(s)}},Dx=(t,l,s,i,c,d)=>{const g=mr(t);!c&&!i||(c&&Sj(l,s).forEach(m=>{g[m]===m&&d(m)}),i&&l[s]?.type==="group"&&v0(t,s).forEach(x=>{d(x)}))},Mj=["field","id","formattedValue","row","rowNode","colDef","isEditable","cellMode","hasFocus","tabIndex","api"],Ej=t=>{const{classes:l}=t;return Ke({root:["checkboxInput"]},Qe,l)},Dj=Xe(function(l,s){const{field:i,id:c,rowNode:d,hasFocus:g,tabIndex:p}=l,m=Ee(l,Mj),x=Re(),b=we(),C={classes:b.classes},v=Ej(C),D=h.useRef(null),j=h.useRef(null),F=Po(D,s),I=U=>{const A={value:U.target.checked,id:c};x.current.publishEvent("rowSelectionCheckboxChange",A,U)};h.useLayoutEffect(()=>{if(p===0){const U=x.current.getCellElement(c,i);U&&(U.tabIndex=-1)}},[x,p,c,i]),h.useEffect(()=>{g?D.current?.querySelector("input")?.focus({preventScroll:!0}):j.current&&j.current.stop({})},[g]);const k=h.useCallback(U=>{U.key===" "&&U.stopPropagation()},[]),T=x.current.isRowSelectable(c),z=wj(c,b.rowSelectionPropagation?.parents??!1),{isIndeterminate:V,isChecked:R}=fe(x,z,Bh);if(d.type==="footer"||d.type==="pinnedRow")return null;const $=b.indeterminateCheckboxAction==="select"?R&&!V:R,_=x.current.getLocaleText($?"checkboxSelectionUnselectRow":"checkboxSelectionSelectRow");return r.jsx(b.slots.baseCheckbox,w({tabIndex:p,checked:$,onChange:I,className:v.root,inputProps:{"aria-label":_,name:"select_row"},onKeyDown:k,indeterminate:V,disabled:!T,touchRippleRef:j},b.slotProps?.baseCheckbox,m,{ref:F}))}),Tj=Dj,Fu=t=>t.focus,el=ke(Fu,t=>t.cell),Ij=ke(Fu,t=>t.columnHeader);ke(Fu,t=>t.columnHeaderFilter);const fu=ke(Fu,t=>t.columnGroupHeader),Au=t=>t.tabIndex,Zh=ke(Au,t=>t.cell),w0=ke(Au,t=>t.columnHeader);ke(Au,t=>t.columnHeaderFilter);const Fj=ke(Au,t=>t.columnGroupHeader);function Ue(t,l,s){const i=h.useRef(!0);zn(()=>{i.current=!1,t.current.register(s,l)},[t,s,l]),i.current&&t.current.register(s,l)}function pn(t,l){const s=h.useRef(null);if(s.current)return s.current;const i=t.current.getLogger(l);return s.current=i,i}const S0=(t,l,s,i,c)=>{const d=pn(t,"useNativeEventListener");yt(t,"rootMount",()=>{const g=typeof l=="function"?l():l.current;if(!(!g||!s||!i))return d.debug(`Binding native ${s} event`),g.addEventListener(s,i,c),()=>{d.debug(`Clearing native ${s} event`),g.removeEventListener(s,i,c)}})},Ii=t=>{const l=h.useRef(!0);l.current&&(l.current=!1,t())},Aj=()=>{},zj=(t,l)=>{const s=h.useRef(!1);zn(()=>s.current||!t?Aj:(s.current=!0,l()),[s.current||t])},Oj=100,kj=t=>t?0:100,j0=(t,l,s)=>l>0&&t>0?Math.ceil(t/l):t===-1?s+2:0,M0=t=>({page:0,pageSize:t?0:100}),Hj=(t,l=0)=>l===0?t:Math.max(Math.min(t,l-1),0),E0=(t,l)=>{if(l===Il.DataGrid&&t>Oj)throw new Error(["MUI X: `pageSize` cannot exceed 100 in the MIT version of the DataGrid.","You need to upgrade to DataGridPro or DataGridPremium component to unlock this feature."].join(`
`))},Pj=-1,Fi=t=>t.pagination,D0=ke(Fi,t=>t.enabled&&t.paginationMode==="client"),An=ke(Fi,t=>t.paginationModel),Ba=ke(Fi,t=>t.rowCount),fi=ke(Fi,t=>t.meta),Rj=ke(An,t=>t.page),T0=ke(An,t=>t.pageSize),I0=ke(An,Ba,(t,l)=>j0(l,t.pageSize,t.page)),Jh=dt(D0,An,sn,Qr,yr,y0,(t,l,s,i,c,d)=>{if(!t)return null;const g=d.length,p=Math.min(l.pageSize*l.page,g-1),m=l.pageSize===Pj?g-1:Math.min(p+l.pageSize-1,g-1);if(p===-1||m===-1)return null;if(i<2)return{firstRowIndex:p,lastRowIndex:m};const x=d[p],b=m-p+1,C=c.findIndex(j=>j.id===x.id);let v=C,D=0;for(;v<c.length&&D<=b;){const j=c[v],F=s[j.id]?.depth;F===void 0?v+=1:((D<b||F>0)&&(v+=1),F===0&&(D+=1))}return{firstRowIndex:C,lastRowIndex:v-1}}),Nj=dt(yr,Jh,(t,l)=>l?t.slice(l.firstRowIndex,l.lastRowIndex+1):[]),F0=dt(Ua,Jh,(t,l)=>l?t.slice(l.firstRowIndex,l.lastRowIndex+1):[]),Ai=dt(D0,Jh,Nj,yr,(t,l,s,i)=>t?{rows:s,range:l,rowToIndexMap:s.reduce((c,d,g)=>(c.set(d.model,g),c),new Map)}:{rows:i,range:i.length===0?null:{firstRowIndex:0,lastRowIndex:i.length-1},rowToIndexMap:i.reduce((c,d,g)=>(c.set(d.model,g),c),new Map)}),Gj=["field","colDef"],Lj=t=>{const{classes:l}=t;return Ke({root:["checkboxInput"]},Qe,l)},Bj=Xe(function(l,s){const i=Ee(l,Gj),[,c]=h.useState(!1),d=Re(),g=we(),p={classes:g.classes},m=Lj(p),x=fe(d,w0),b=fe(d,ul),C=fe(d,Ua),v=fe(d,F0),D=h.useMemo(()=>typeof g.isRowSelectable!="function"?b:b.filter(U=>g.keepNonExistentRowsSelected?!0:d.current.getRow(U)?g.isRowSelectable(d.current.getRowParams(U)):!1),[d,g.isRowSelectable,b,g.keepNonExistentRowsSelected]),j=h.useMemo(()=>(!g.pagination||!g.checkboxSelectionVisibleOnly||g.paginationMode==="server"?C:v).reduce((A,E)=>(A[E]=!0,A),{}),[g.pagination,g.paginationMode,g.checkboxSelectionVisibleOnly,v,C]),F=h.useMemo(()=>D.filter(U=>j[U]).length,[D,j]),I=F>0&&F<Object.keys(j).length,k=F>0,T=U=>{const A={value:U.target.checked};d.current.publishEvent("headerSelectionCheckboxChange",A)},z=x!==null&&x.field===l.field?0:-1;h.useLayoutEffect(()=>{const U=d.current.getColumnHeaderElement(l.field);z===0&&U&&(U.tabIndex=-1)},[z,d,l.field]);const V=h.useCallback(U=>{U.key===" "&&d.current.publishEvent("headerSelectionCheckboxChange",{value:!k})},[d,k]),R=h.useCallback(()=>{c(U=>!U)},[]);h.useEffect(()=>d.current.subscribeEvent("rowSelectionChange",R),[d,R]);const $=g.indeterminateCheckboxAction==="select"?k&&!I:k,_=d.current.getLocaleText($?"checkboxSelectionUnselectAllRows":"checkboxSelectionSelectAllRows");return r.jsx(g.slots.baseCheckbox,w({indeterminate:I,checked:$,onChange:T,className:m.root,inputProps:{"aria-label":_,name:"select_all_rows"},tabIndex:z,onKeyDown:V,disabled:!Qh(g)},g.slotProps?.baseCheckbox,i,{ref:s}))}),zi=(t,l)=>qa in l?l[qa]:t.props.getRowId?t.props.getRowId(l):l.id,jl="__check__",rs=w({},m0,{type:"custom",field:jl,width:50,resizable:!1,sortable:!1,filterable:!1,aggregable:!1,disableColumnMenu:!0,disableReorder:!0,disableExport:!0,getApplyQuickFilterFn:void 0,display:"flex",valueGetter:(t,l,s,i)=>{const c=mr(i),d=zi(i.current.state,l);return c[d]!==void 0},renderHeader:t=>r.jsx(Bj,w({},t)),renderCell:t=>r.jsx(Tj,w({},t))}),_j=["item","applyValue","type","apiRef","focusElementRef","InputProps","isFilterActive","clearButton","tabIndex","disabled"];function Tx(t,l){if(t==null)return"";const s=new Date(t);return Number.isNaN(s.getTime())?"":l==="date"?s.toISOString().substring(0,10):l==="datetime-local"?(s.setMinutes(s.getMinutes()-s.getTimezoneOffset()),s.toISOString().substring(0,19)):s.toISOString().substring(0,10)}function ka(t){const{item:l,applyValue:s,type:i,apiRef:c,focusElementRef:d,InputProps:g,clearButton:p,tabIndex:m,disabled:x}=t,b=Ee(t,_j),C=Xr(),[v,D]=h.useState(()=>Tx(l.value,i)),[j,F]=h.useState(!1),I=Ot(),k=we(),T=h.useCallback(z=>{C.clear();const V=z.target.value;D(V),F(!0),C.start(k.filterDebounceMs,()=>{const R=new Date(V);s(w({},l,{value:Number.isNaN(R.getTime())?void 0:R})),F(!1)})},[s,l,k.filterDebounceMs,C]);return h.useEffect(()=>{const z=Tx(l.value,i);D(z)},[l.value,i]),r.jsx(k.slots.baseTextField,w({fullWidth:!0,id:I,label:c.current.getLocaleText("filterPanelInputLabel"),placeholder:c.current.getLocaleText("filterPanelInputPlaceholder"),value:v,onChange:T,variant:"standard",type:i||"text",InputLabelProps:{shrink:!0},inputRef:d,InputProps:w({},j||p?{endAdornment:j?r.jsx(k.slots.loadIcon,{fontSize:"small",color:"action"}):p}:{},{disabled:x},g,{inputProps:w({max:i==="datetime-local"?"9999-12-31T23:59":"9999-12-31",tabIndex:m},g?.inputProps)})},b,k.slotProps?.baseTextField))}function Ha(t,l,s,i){if(!t.value)return null;const c=new Date(t.value);s?c.setSeconds(0,0):(c.setMinutes(c.getMinutes()+c.getTimezoneOffset()),c.setHours(0,0,0,0));const d=c.getTime();return g=>{if(!g)return!1;if(i)return l(g.getTime(),d);const p=new Date(g);return s?p.setSeconds(0,0):p.setHours(0,0,0,0),l(p.getTime(),d)}}const A0=t=>[{value:"is",getApplyFilterFn:l=>Ha(l,(s,i)=>s===i,t),InputComponent:ka,InputComponentProps:{type:t?"datetime-local":"date"}},{value:"not",getApplyFilterFn:l=>Ha(l,(s,i)=>s!==i,t),InputComponent:ka,InputComponentProps:{type:t?"datetime-local":"date"}},{value:"after",getApplyFilterFn:l=>Ha(l,(s,i)=>s>i,t),InputComponent:ka,InputComponentProps:{type:t?"datetime-local":"date"}},{value:"onOrAfter",getApplyFilterFn:l=>Ha(l,(s,i)=>s>=i,t),InputComponent:ka,InputComponentProps:{type:t?"datetime-local":"date"}},{value:"before",getApplyFilterFn:l=>Ha(l,(s,i)=>s<i,t,!t),InputComponent:ka,InputComponentProps:{type:t?"datetime-local":"date"}},{value:"onOrBefore",getApplyFilterFn:l=>Ha(l,(s,i)=>s<=i,t),InputComponent:ka,InputComponentProps:{type:t?"datetime-local":"date"}},{value:"isEmpty",getApplyFilterFn:()=>l=>l==null,requiresFilterValue:!1},{value:"isNotEmpty",getApplyFilterFn:()=>l=>l!=null,requiresFilterValue:!1}],Vj=["id","value","formattedValue","api","field","row","rowNode","colDef","cellMode","isEditable","tabIndex","hasFocus","inputProps","isValidating","isProcessingProps","onValueChange"],Uj=Ut(EC)({fontSize:"inherit"}),$j=t=>{const{classes:l}=t;return Ke({root:["editInputCell"]},Qe,l)};function Wj(t){const{id:l,value:s,field:i,colDef:c,hasFocus:d,inputProps:g,onValueChange:p}=t,m=Ee(t,Vj),x=c.type==="dateTime",b=Re(),C=h.useRef(null),v=h.useMemo(()=>{let V;s==null?V=null:s instanceof Date?V=s:V=new Date((s??"").toString());let R;return V==null||Number.isNaN(V.getTime())?R="":R=new Date(V.getTime()-V.getTimezoneOffset()*60*1e3).toISOString().substr(0,x?16:10),{parsed:V,formatted:R}},[s,x]),[D,j]=h.useState(v),I={classes:we().classes},k=$j(I),T=h.useCallback(V=>{if(V==="")return null;const[R,$]=V.split("T"),[_,U,A]=R.split("-"),E=new Date;if(E.setFullYear(Number(_),Number(U)-1,Number(A)),E.setHours(0,0,0,0),$){const[B,N]=$.split(":");E.setHours(Number(B),Number(N),0,0)}return E},[]),z=h.useCallback(async V=>{const R=V.target.value,$=T(R);p&&await p(V,$),j({parsed:$,formatted:R}),b.current.setEditCellValue({id:l,field:i,value:$},V)},[b,i,l,p,T]);return h.useEffect(()=>{j(V=>v.parsed!==V.parsed&&v.parsed?.getTime()!==V.parsed?.getTime()?v:V)},[v]),zn(()=>{d&&C.current.focus()},[d]),r.jsx(Uj,w({inputRef:C,fullWidth:!0,className:k.root,type:x?"datetime-local":"date",inputProps:w({max:x?"9999-12-31T23:59":"9999-12-31"},g),value:D.formatted,onChange:z},m))}const z0=t=>r.jsx(Wj,w({},t));function O0({value:t,columnType:l,rowId:s,field:i}){if(!(t instanceof Date))throw new Error([`MUI X: \`${l}\` column type only accepts \`Date\` objects as values.`,"Use `valueGetter` to transform the value into a `Date` object.",`Row ID: ${s}, field: "${i}".`].join(`
`))}const qj=(t,l,s,i)=>{if(!t)return"";const c=zi(i.current.state,l);return O0({value:t,columnType:"date",rowId:c,field:s.field}),t.toLocaleDateString()},Yj=(t,l,s,i)=>{if(!t)return"";const c=zi(i.current.state,l);return O0({value:t,columnType:"dateTime",rowId:c,field:s.field}),t.toLocaleString()},Kj=w({},Wl,{type:"date",sortComparator:ZC,valueFormatter:qj,filterOperators:A0(),renderEditCell:z0,pastedValueParser:t=>new Date(t)}),Xj=w({},Wl,{type:"dateTime",sortComparator:ZC,valueFormatter:Yj,filterOperators:A0(!0),renderEditCell:z0,pastedValueParser:t=>new Date(t)}),dr=t=>t==null?null:Number(t),Qj=t=>t==null||Number.isNaN(t)||t===""?null:l=>dr(l)===dr(t),Zj=()=>[{value:"=",getApplyFilterFn:t=>t.value==null||Number.isNaN(t.value)?null:l=>dr(l)===t.value,InputComponent:El,InputComponentProps:{type:"number"}},{value:"!=",getApplyFilterFn:t=>t.value==null||Number.isNaN(t.value)?null:l=>dr(l)!==t.value,InputComponent:El,InputComponentProps:{type:"number"}},{value:">",getApplyFilterFn:t=>t.value==null||Number.isNaN(t.value)?null:l=>l==null?!1:dr(l)>t.value,InputComponent:El,InputComponentProps:{type:"number"}},{value:">=",getApplyFilterFn:t=>t.value==null||Number.isNaN(t.value)?null:l=>l==null?!1:dr(l)>=t.value,InputComponent:El,InputComponentProps:{type:"number"}},{value:"<",getApplyFilterFn:t=>t.value==null||Number.isNaN(t.value)?null:l=>l==null?!1:dr(l)<t.value,InputComponent:El,InputComponentProps:{type:"number"}},{value:"<=",getApplyFilterFn:t=>t.value==null||Number.isNaN(t.value)?null:l=>l==null?!1:dr(l)<=t.value,InputComponent:El,InputComponentProps:{type:"number"}},{value:"isEmpty",getApplyFilterFn:()=>t=>t==null,requiresFilterValue:!1},{value:"isNotEmpty",getApplyFilterFn:()=>t=>t!=null,requiresFilterValue:!1},{value:"isAnyOf",getApplyFilterFn:t=>!Array.isArray(t.value)||t.value.length===0?null:l=>l!=null&&t.value.includes(Number(l)),InputComponent:e0,InputComponentProps:{type:"number"}}],Jj=w({},Wl,{type:"number",align:"right",headerAlign:"right",sortComparator:QC,valueParser:t=>t===""?null:Number(t),valueFormatter:t=>E1(t)?t.toLocaleString():t||"",filterOperators:Zj(),getApplyQuickFilterFn:Qj});function Ka(t){return t?.type==="singleSelect"}function qr(t,l){if(t)return typeof t.valueOptions=="function"?t.valueOptions(w({field:t.field},l)):t.valueOptions}function hu(t,l,s){if(l===void 0)return;const i=l.find(c=>{const d=s(c);return String(d)===String(t)});return s(i)}const eM=["id","value","formattedValue","api","field","row","rowNode","colDef","cellMode","isEditable","tabIndex","className","hasFocus","isValidating","isProcessingProps","error","onValueChange","initialOpen"],tM=["MenuProps"];function nM(t){return!!t.key}function lM(t){const l=we(),{id:s,value:i,field:c,row:d,colDef:g,hasFocus:p,error:m,onValueChange:x,initialOpen:b=l.editMode===so.Cell}=t,C=Ee(t,eM),v=Re(),D=h.useRef(null),j=h.useRef(null),[F,I]=h.useState(b),T=(l.slotProps?.baseSelect||{}).native??!1,z=l.slotProps?.baseSelect||{},{MenuProps:V}=z,R=Ee(z,tM);if(zn(()=>{p&&j.current?.focus()},[p]),!Ka(g))return null;const $=qr(g,{id:s,row:d});if(!$)return null;const _=g.getOptionValue,U=g.getOptionLabel,A=async N=>{if(!Ka(g)||!$)return;I(!1);const O=N.target,K=hu(O.value,$,_);x&&await x(N,K),await v.current.setEditCellValue({id:s,field:c,value:K},N)},E=(N,O)=>{if(l.editMode===so.Row){I(!1);return}if(O==="backdropClick"||N.key==="Escape"){const K=v.current.getCellParams(s,c);v.current.publishEvent("cellEditStop",w({},K,{reason:N.key==="Escape"?Bl.escapeKeyDown:Bl.cellFocusOut}))}},B=N=>{nM(N)&&N.key==="Enter"||I(!0)};return!$||!g?null:r.jsx(l.slots.baseSelect,w({ref:D,inputRef:j,value:i,onChange:A,open:F,onOpen:B,MenuProps:w({onClose:E},V),error:m,native:T,fullWidth:!0},C,R,{children:$.map(N=>{const O=_(N);return h.createElement(l.slots.baseSelectOption,w({},l.slotProps?.baseSelectOption||{},{native:T,key:O,value:O}),U(N))})}))}const oM=t=>r.jsx(lM,w({},t)),rM=["item","applyValue","type","apiRef","focusElementRef","placeholder","tabIndex","label","variant","isFilterActive","clearButton","InputLabelProps"],aM=({column:t,OptionComponent:l,getOptionLabel:s,getOptionValue:i,isSelectNative:c,baseSelectOptionProps:d})=>["",...qr(t)||[]].map(p=>{const m=i(p);let x=s(p);return x===""&&(x=""),h.createElement(l,w({},d,{native:c,key:m,value:m}),x)}),sM=Ut("div")({display:"flex",alignItems:"flex-end",width:"100%","& button":{margin:"auto 0px 5px 5px"}});function Ix(t){const{item:l,applyValue:s,type:i,apiRef:c,focusElementRef:d,placeholder:g,tabIndex:p,label:m,variant:x="standard",clearButton:b}=t,C=Ee(t,rM),v=l.value??"",D=Ot(),j=Ot(),F=we(),I=F.slotProps?.baseSelect?.native??!1;let k=null;if(l.field){const _=c.current.getColumn(l.field);Ka(_)&&(k=_)}const T=k?.getOptionValue,z=k?.getOptionLabel,V=h.useMemo(()=>qr(k),[k]),R=h.useCallback(_=>{let U=_.target.value;U=hu(U,V,T),s(w({},l,{value:U}))},[V,T,s,l]);if(!Ka(k))return null;const $=m??c.current.getLocaleText("filterPanelInputLabel");return r.jsxs(sM,{children:[r.jsxs(F.slots.baseFormControl,{fullWidth:!0,children:[r.jsx(F.slots.baseInputLabel,w({},F.slotProps?.baseInputLabel,{id:j,htmlFor:D,shrink:!0,variant:x,children:$})),r.jsx(F.slots.baseSelect,w({id:D,label:$,labelId:j,value:v,onChange:R,variant:x,type:i||"text",inputProps:{tabIndex:p,ref:d,placeholder:g??c.current.getLocaleText("filterPanelInputPlaceholder")},native:I,notched:x==="outlined"?!0:void 0},C,F.slotProps?.baseSelect,{children:aM({column:k,OptionComponent:F.slots.baseSelectOption,getOptionLabel:z,getOptionValue:T,isSelectNative:I,baseSelectOptionProps:F.slotProps?.baseSelectOption})}))]}),b]})}const iM=["item","applyValue","type","apiRef","focusElementRef","color","error","helperText","size","variant"],cM=["key"],uM=_w();function dM(t){const{item:l,applyValue:s,apiRef:i,focusElementRef:c,color:d,error:g,helperText:p,size:m,variant:x="standard"}=t,b=Ee(t,iM),C={color:d,error:g,helperText:p,size:m,variant:x},v=Ot(),D=we();let j=null;if(l.field){const R=i.current.getColumn(l.field);Ka(R)&&(j=R)}const F=j?.getOptionValue,I=j?.getOptionLabel,k=h.useCallback((R,$)=>F(R)===F($),[F]),T=h.useMemo(()=>qr(j)||[],[j]),z=h.useMemo(()=>Array.isArray(l.value)?l.value.reduce((R,$)=>{const _=T.find(U=>F(U)===$);return _!=null&&R.push(_),R},[]):[],[F,l.value,T]),V=h.useCallback((R,$)=>{s(w({},l,{value:$.map(F)}))},[s,l,F]);return r.jsx(Oh,w({multiple:!0,options:T,isOptionEqualToValue:k,filterOptions:uM,id:v,value:z,onChange:V,getOptionLabel:I,renderTags:(R,$)=>R.map((_,U)=>{const A=$({index:U}),{key:E}=A,B=Ee(A,cM);return r.jsx(D.slots.baseChip,w({variant:"outlined",size:"small",label:I(_)},B),E)}),renderInput:R=>r.jsx(D.slots.baseTextField,w({},R,{label:i.current.getLocaleText("filterPanelInputLabel"),placeholder:i.current.getLocaleText("filterPanelInputPlaceholder"),InputLabelProps:w({},R.InputLabelProps,{shrink:!0}),inputRef:c,type:"singleSelect"},C,D.slotProps?.baseTextField))},b))}const Pa=t=>t==null||!Uh(t)?t:t.value,fM=()=>[{value:"is",getApplyFilterFn:t=>t.value==null||t.value===""?null:l=>Pa(l)===Pa(t.value),InputComponent:Ix},{value:"not",getApplyFilterFn:t=>t.value==null||t.value===""?null:l=>Pa(l)!==Pa(t.value),InputComponent:Ix},{value:"isAnyOf",getApplyFilterFn:t=>{if(!Array.isArray(t.value)||t.value.length===0)return null;const l=t.value.map(Pa);return s=>l.includes(Pa(s))},InputComponent:dM}],hM=t=>typeof t[0]=="object",gM=t=>Uh(t)?t.value:t,mM=t=>Uh(t)?t.label:String(t),pM=w({},Wl,{type:"singleSelect",getOptionLabel:mM,getOptionValue:gM,valueFormatter(t,l,s,i){const c=zi(i.current.state,l);if(!Ka(s))return"";const d=qr(s,{id:c,row:l});if(t==null)return"";if(!d)return t;if(!hM(d))return s.getOptionLabel(t);const g=d.find(p=>s.getOptionValue(p)===t);return g?s.getOptionLabel(g):""},renderEditCell:oM,filterOperators:fM(),pastedValueParser:(t,l,s)=>{const i=s,c=qr(i)||[],d=i.getOptionValue;if(c.find(p=>d(p)===t))return t}}),bM="string",xM=()=>({string:Wl,number:Jj,date:Kj,dateTime:Xj,boolean:m0,singleSelect:pM,[Eu]:Q1,custom:Wl}),eg=t=>t.headerFiltering,CM=ke(eg,t=>t?.enabled??!1),yM=ke(eg,t=>t.editing),vM=ke(eg,t=>t.menuOpen),zu=t=>t.columnGrouping,k0=dt(zu,t=>t?.unwrappedGroupingModel??{}),H0=dt(zu,t=>t?.lookup??{}),wM=dt(zu,t=>t?.headerStructure??[]),Oi=ke(zu,t=>t?.maxDepth??0),P0=["maxWidth","minWidth","width","flex"],eh=xM();function SM({initialFreeSpace:t,totalFlexUnits:l,flexColumns:s}){const i=new Set(s.map(g=>g.field)),c={all:{},frozenFields:[],freeze:g=>{const p=c.all[g];p&&p.frozen!==!0&&(c.all[g].frozen=!0,c.frozenFields.push(g))}};function d(){if(c.frozenFields.length===i.size)return;const g={min:{},max:{}};let p=t,m=l,x=0;c.frozenFields.forEach(b=>{p-=c.all[b].computedWidth,m-=c.all[b].flex});for(let b=0;b<s.length;b+=1){const C=s[b];if(c.all[C.field]&&c.all[C.field].frozen===!0)continue;let D=p/m*C.flex;D<C.minWidth?(x+=C.minWidth-D,D=C.minWidth,g.min[C.field]=!0):D>C.maxWidth&&(x+=C.maxWidth-D,D=C.maxWidth,g.max[C.field]=!0),c.all[C.field]={frozen:!1,computedWidth:D,flex:C.flex}}x<0?Object.keys(g.max).forEach(b=>{c.freeze(b)}):x>0?Object.keys(g.min).forEach(b=>{c.freeze(b)}):s.forEach(({field:b})=>{c.freeze(b)}),d()}return d(),c.all}const vh=(t,l)=>{const s={};let i=0,c=0;const d=[];t.orderedFields.forEach(m=>{let x=t.lookup[m],b=0,C=!1;t.columnVisibilityModel[m]!==!1&&(x.flex&&x.flex>0?(i+=x.flex,C=!0):b=dl(x.width||Wl.width,x.minWidth||Wl.minWidth,x.maxWidth||Wl.maxWidth),c+=b),x.computedWidth!==b&&(x=w({},x,{computedWidth:b})),C&&d.push(x),s[m]=x});const g=l===void 0?0:l.viewportOuterSize.width-(l.hasScrollY?l.scrollbarSize:0),p=Math.max(g-c,0);if(i>0&&g>0){const m=SM({initialFreeSpace:p,totalFlexUnits:i,flexColumns:d});Object.keys(m).forEach(x=>{s[x].computedWidth=m[x].computedWidth})}return w({},t,{lookup:s})},jM=(t,l)=>{if(!l)return t;const{orderedFields:s=[],dimensions:i={}}=l,c=Object.keys(i);if(c.length===0&&s.length===0)return t;const d={},g=[];for(let b=0;b<s.length;b+=1){const C=s[b];t.lookup[C]&&(d[C]=!0,g.push(C))}const p=g.length===0?t.orderedFields:[...g,...t.orderedFields.filter(b=>!d[b])],m=w({},t.lookup);for(let b=0;b<c.length;b+=1){const C=c[b],v=w({},m[C],{hasBeenResized:!0});Object.entries(i[C]).forEach(([D,j])=>{v[D]=j===-1?1/0:j}),m[C]=v}return w({},t,{orderedFields:p,lookup:m})};function Fx(t){let l=eh[bM];return t&&eh[t]&&(l=eh[t]),l}const Ga=({apiRef:t,columnsToUpsert:l,initialState:s,columnVisibilityModel:i=Tl(t),keepOnlyColumnsToUpsert:c=!1})=>{const d=!t.current.state.columns;let g;if(d)g={orderedFields:[],lookup:{},columnVisibilityModel:i};else{const b=ao(t.current.state);g={orderedFields:c?[]:[...b.orderedFields],lookup:w({},b.lookup),columnVisibilityModel:i}}let p={};c&&!d&&(p=Object.keys(g.lookup).reduce((b,C)=>w({},b,{[C]:!1}),{})),l.forEach(b=>{const{field:C}=b;p[C]=!0;let v=g.lookup[C];v==null?(v=w({},Fx(b.type),{field:C,hasBeenResized:!1}),g.orderedFields.push(C)):c&&g.orderedFields.push(C),v&&v.type!==b.type&&(v=w({},Fx(b.type),{field:C}));let D=v.hasBeenResized;P0.forEach(j=>{b[j]!==void 0&&(D=!0,b[j]===-1&&(b[j]=1/0))}),g.lookup[C]=Vw(v,w({},b,{hasBeenResized:D}))}),c&&!d&&Object.keys(g.lookup).forEach(b=>{p[b]||delete g.lookup[b]});const m=t.current.unstable_applyPipeProcessors("hydrateColumns",g),x=jM(m,s);return vh(x,t.current.getRootDimensions?.()??void 0)};function MM({firstColumnToRender:t,apiRef:l,firstRowToRender:s,lastRowToRender:i,visibleRows:c}){let d=t,g=!1;for(;!g;){g=!0;for(let p=s;p<i;p+=1)if(c[p]){const x=c[p].id,b=l.current.unstable_getCellColSpanInfo(x,d);if(b&&b.spannedByColSpan&&b.leftVisibleCellIndex<d){d=b.leftVisibleCellIndex,g=!1;break}}}return d}function Ou(t,l){if(l.unstable_listView)return 0;const s=Ja(t),i=Oi(t),c=CM(t),d=Math.floor(l.columnHeaderHeight*s),g=Math.floor((l.columnGroupHeaderHeight??l.columnHeaderHeight)*s),p=c?Math.floor((l.headerFilterHeight??l.columnHeaderHeight)*s):0;return d+g*i+p}const as=t=>t.rowsMeta,gu=1,R0=1.5,EM=t=>{const{scrollDirection:l,classes:s}=t,i={root:["scrollArea",`scrollArea--${l}`]};return Ke(i,Qe,s)},DM=Tt("div",{name:"MuiDataGrid",slot:"ScrollArea",overridesResolver:(t,l)=>[{[`&.${P["scrollArea--left"]}`]:l["scrollArea--left"]},{[`&.${P["scrollArea--right"]}`]:l["scrollArea--right"]},{[`&.${P["scrollArea--up"]}`]:l["scrollArea--up"]},{[`&.${P["scrollArea--down"]}`]:l["scrollArea--down"]},l.scrollArea]})(()=>({position:"absolute",zIndex:101,[`&.${P["scrollArea--left"]}`]:{top:0,left:0,width:20,bottom:0},[`&.${P["scrollArea--right"]}`]:{top:0,right:0,width:20,bottom:0},[`&.${P["scrollArea--up"]}`]:{top:0,left:0,right:0,height:20},[`&.${P["scrollArea--down"]}`]:{bottom:0,left:0,right:0,height:20}})),TM=Di(mn,(t,l)=>l==="left"?t.leftPinnedWidth:l==="right"?t.rightPinnedWidth+(t.hasScrollX?t.scrollbarSize:0):0);function IM(t){const l=Re(),[s,i]=h.useState("none");return ye(l,"columnHeaderDragStart",()=>i("horizontal")),ye(l,"columnHeaderDragEnd",()=>i("none")),ye(l,"rowDragStart",()=>i("vertical")),ye(l,"rowDragEnd",()=>i("none")),s==="none"?null:s==="horizontal"?r.jsx(FM,w({},t)):r.jsx(AM,w({},t))}function FM(t){const{scrollDirection:l,scrollPosition:s}=t,i=h.useRef(null),c=Re(),d=Xr(),g=fe(c,Ja),p=fe(c,ju),m=Ci(c,TM,l),x=()=>{const F=mn(c.current.state);if(l==="left")return s.current.left>0;if(l==="right"){const I=p-F.viewportInnerSize.width;return s.current.left<I}return!1},b=we(),C=Ou(c,b),v=Math.floor(b.columnHeaderHeight*g),D=w({height:v,top:C-v},l==="left"?{left:m}:{},l==="right"?{right:m}:{}),j=Nt(F=>{let I;if(F.preventDefault(),l==="left")I=F.clientX-i.current.getBoundingClientRect().right;else if(l==="right")I=Math.max(1,F.clientX-i.current.getBoundingClientRect().left);else throw new Error("MUI X: Wrong drag direction");I=(I-gu)*R0+gu,d.start(0,()=>{c.current.scroll({left:s.current.left+I,top:s.current.top})})});return r.jsx(N0,w({},t,{ref:i,getCanScrollMore:x,style:D,handleDragOver:j}))}function AM(t){const{scrollDirection:l,scrollPosition:s}=t,i=h.useRef(null),c=Re(),d=Xr(),g=fe(c,as),p=()=>{const v=mn(c.current.state);if(l==="up")return s.current.top>0;if(l==="down"){const j=(g.currentPageTotalHeight||0)-v.viewportInnerSize.height-v.scrollbarSize;return s.current.top<j}return!1},m=we(),x=Ou(c,m),b={top:l==="up"?x:void 0,bottom:l==="down"?0:void 0},C=Nt(v=>{let D;if(v.preventDefault(),l==="up")D=v.clientY-i.current.getBoundingClientRect().bottom;else if(l==="down")D=Math.max(1,v.clientY-i.current.getBoundingClientRect().top);else throw new Error("MUI X: Wrong drag direction");D=(D-gu)*R0+gu,d.start(0,()=>{c.current.scroll({left:s.current.left,top:s.current.top+D})})});return r.jsx(N0,w({},t,{ref:i,getCanScrollMore:p,style:b,handleDragOver:C}))}const N0=Xe(function(l,s){const{scrollDirection:i,getCanScrollMore:c,style:d,handleDragOver:g}=l,p=Re(),[m,x]=h.useState(c),b=we(),C=w({},b,{scrollDirection:i}),v=EM(C);return ye(p,"scrollPositionChange",()=>{x(c)}),m?r.jsx(DM,{ref:s,className:v.root,ownerState:C,onDragOver:g,style:d}):null}),Jc=Ro(IM);var ni={},th={exports:{}},nh={exports:{}},Ax;function zM(){return Ax||(Ax=1,(function(t){function l(s){"@babel/helpers - typeof";return t.exports=l=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(i){return typeof i}:function(i){return i&&typeof Symbol=="function"&&i.constructor===Symbol&&i!==Symbol.prototype?"symbol":typeof i},t.exports.__esModule=!0,t.exports.default=t.exports,l(s)}t.exports=l,t.exports.__esModule=!0,t.exports.default=t.exports})(nh)),nh.exports}var zx;function OM(){return zx||(zx=1,(function(t){var l=zM().default;function s(i,c){if(typeof WeakMap=="function")var d=new WeakMap,g=new WeakMap;return(t.exports=s=function(m,x){if(!x&&m&&m.__esModule)return m;var b,C,v={__proto__:null,default:m};if(m===null||l(m)!="object"&&typeof m!="function")return v;if(b=x?g:d){if(b.has(m))return b.get(m);b.set(m,v)}for(var D in m)D!=="default"&&{}.hasOwnProperty.call(m,D)&&((C=(b=Object.defineProperty)&&Object.getOwnPropertyDescriptor(m,D))&&(C.get||C.set)?b(v,D,C):v[D]=m[D]);return v},t.exports.__esModule=!0,t.exports.default=t.exports)(i,c)}t.exports=s,t.exports.__esModule=!0,t.exports.default=t.exports})(th)),th.exports}var Ox;function kM(){if(Ox)return ni;Ox=1;var t=OM().default;Object.defineProperty(ni,"__esModule",{value:!0}),ni.default=void 0;var l=t(HC());return ni.default=parseInt(l.version,10),ni}var HM=kM();const PM=PC(HM),G0=h.createContext(void 0);function zl(){const t=h.useContext(G0);if(t===void 0)throw new Error(["MUI X: Could not find the Data Grid private context.","It looks like you rendered your component outside of a DataGrid, DataGridPro or DataGridPremium parent component.","This can also happen if you are bundling multiple versions of the Data Grid."].join(`
`));return t}const pr=(t,l)=>Ai(t),tg=(t,l)=>fe(t,Ai),RM=typeof navigator<"u"?navigator.userAgent.toLowerCase():"empty",NM=RM.includes("firefox"),ku=t=>t.virtualization;ke(ku,t=>t.enabled);const L0=ke(ku,t=>t.enabledForColumns),GM=ke(ku,t=>t.enabledForRows),ki=ke(ku,t=>t.renderContext),LM=dt(t=>t.virtualization.renderContext.firstColumnIndex,t=>t.virtualization.renderContext.lastColumnIndex,(t,l)=>({firstColumnIndex:t,lastColumnIndex:l})),wh={firstRowIndex:0,lastRowIndex:0,firstColumnIndex:0,lastColumnIndex:0},BM=(t,l)=>{const{disableVirtualization:s,autoHeight:i}=l;return w({},t,{virtualization:{enabled:!s,enabledForColumns:!s,enabledForRows:!s&&!i,renderContext:wh}})};function _M(t,l){const s=d=>{t.current.setState(g=>w({},g,{virtualization:w({},g.virtualization,{enabled:d,enabledForColumns:d,enabledForRows:d&&!l.autoHeight})}))};Ue(t,{unstable_setVirtualization:s,unstable_setColumnVirtualization:d=>{t.current.setState(g=>w({},g,{virtualization:w({},g.virtualization,{enabledForColumns:d})}))}},"public"),h.useEffect(()=>{s(!l.disableVirtualization)},[l.disableVirtualization,l.autoHeight])}const ng=t=>t.rowSpanning,B0=ke(ng,t=>t.hiddenCells),VM=ke(ng,t=>t.spannedCells),UM=ke(ng,t=>t.hiddenCellOriginMap),Xa=t=>t.listViewColumn,$M=SS(el,ki,Ai,qt,Dl,(t,l,s,i,c)=>{if(!t)return!1;const d=c[t.id];if(!d)return!1;const g=s.rowToIndexMap.get(d),p=i.slice(l.firstColumnIndex,l.lastColumnIndex).findIndex(x=>x.field===t.field);return!(g!==void 0&&p!==-1&&g>=l.firstRowIndex&&g<=l.lastRowIndex)}),_0=dt($M,qt,Ai,Dl,el,(t,l,s,i,c)=>{if(!t)return null;const d=i[c.id];if(!d)return null;const g=s.rowToIndexMap.get(d);if(g===void 0)return null;const p=l.findIndex(m=>m.field===c.field);return p===-1?null:w({},c,{rowIndex:g,columnIndex:p})});function _a(t,l){return Math.round(t*10**l)/10**l}const mu=typeof window<"u"&&/jsdom|HappyDOM/.test(window.navigator.userAgent),lh=50;var tn=(function(t){return t[t.NONE=0]="NONE",t[t.UP=1]="UP",t[t.DOWN=2]="DOWN",t[t.LEFT=3]="LEFT",t[t.RIGHT=4]="RIGHT",t})(tn||{});const kx={top:0,left:0},WM=Object.freeze(new Map),qM=(t,l,s,i,c)=>({direction:tn.NONE,buffer:U0(t,tn.NONE,l,s,i,c)}),YM=()=>{const t=zl(),l=we(),{unstable_listView:s}=l,i=fe(t,()=>s?[Xa(t.current.state)]:qt(t)),c=fe(t,GM)&&!mu,d=fe(t,L0)&&!mu,g=fe(t,es),p=ns(t),m=s?du:p,x=g.bottom.length>0,[b,C]=h.useState(WM),v=co(),D=fe(t,mr),j=tg(t),F=t.current.mainElementRef,I=t.current.virtualScrollerRef,k=t.current.virtualScrollbarVerticalRef,T=t.current.virtualScrollbarHorizontalRef,z=fe(t,k1),V=h.useRef(!1),R=fe(t,_h),$=fe(t,qS),_=fe(t,ju),U=fe(t,KM),A=fe(t,YC),E=fe(t,qC),B=h.useRef(null),N=h.useCallback(be=>{if(F.current=be,!be)return;const Me=be.getBoundingClientRect();let ze={width:_a(Me.width,1),height:_a(Me.height,1)};if((!B.current||ze.width!==B.current.width&&ze.height!==B.current.height)&&(B.current=ze,t.current.publishEvent("resize",ze)),typeof ResizeObserver>"u")return;const Ce=new ResizeObserver($e=>{const Be=$e[0];if(!Be)return;const Ge={width:_a(Be.contentRect.width,1),height:_a(Be.contentRect.height,1)};Ge.width===ze.width&&Ge.height===ze.height||(t.current.publishEvent("resize",Ge),ze=Ge)});if(Ce.observe(be),PM>=19)return()=>{F.current=null,Ce.disconnect()}},[t,F]),O=h.useRef(l.initialState?.scroll??kx),K=h.useRef(!1),G=h.useRef(kx),S=h.useRef(wh),M=fe(t,ki),L=fe(t,_0),q=Xr(),Y=h.useRef(void 0),W=io(()=>qM(v,l.rowBufferPx,l.columnBufferPx,R*15,lh*6)).current,Q=h.useCallback(be=>{if(Nx(be,t.current.state.virtualization.renderContext))return;const Me=be.firstRowIndex!==S.current.firstRowIndex||be.lastRowIndex!==S.current.lastRowIndex;t.current.setState(Ce=>w({},Ce,{virtualization:w({},Ce.virtualization,{renderContext:be})})),mn(t.current.state).isReady&&Me&&(S.current=be,t.current.publishEvent("renderedRowsIntervalChange",be)),G.current=O.current},[t]),le=Nt(()=>{const be=I.current;if(!be)return;const Me=mn(t.current.state),ze=Math.ceil(Me.minimumSize.height-Me.viewportOuterSize.height),Ce=Math.ceil(Me.minimumSize.width-Me.viewportInnerSize.width),$e={top:dl(be.scrollTop,0,ze),left:v?dl(be.scrollLeft,-Ce,0):dl(be.scrollLeft,0,Ce)},Be=$e.left-O.current.left,Ge=$e.top-O.current.top,It=Be!==0||Ge!==0;O.current=$e;const St=It?ZM(Be,Ge):tn.NONE,jt=Math.abs(O.current.top-G.current.top),ut=Math.abs(O.current.left-G.current.left),Mt=jt>=R||ut>=lh,tt=W.direction!==St;if(!(Mt||tt))return M;if(tt)switch(St){case tn.NONE:case tn.LEFT:case tn.RIGHT:Y.current=void 0;break;default:Y.current=M;break}W.direction=St,W.buffer=U0(v,St,l.rowBufferPx,l.columnBufferPx,R*15,lh*6);const mt=Hx(t,l,c,d),Ht=Px(mt,O.current,W);return Nx(Ht,M)||(fS.flushSync(()=>{Q(Ht)}),q.start(1e3,le)),Ht}),re=()=>{if(!mn(t.current.state).isReady&&(c||d))return;const be=Hx(t,l,c,d),Me=Px(be,O.current,W);Y.current=void 0,Q(Me)},me=Nt(()=>{if(K.current){K.current=!1;return}const be=le();t.current.publishEvent("scrollPositionChange",{top:O.current.top,left:O.current.left,renderContext:be})}),ce=Nt(be=>{t.current.publishEvent("virtualScrollerWheel",{},be)}),ve=Nt(be=>{t.current.publishEvent("virtualScrollerTouchMove",{},be)}),Te=(be={})=>{if(!be.rows&&!j.range)return[];const Me=sn(t);let ze=M;be.renderContext&&(ze=be.renderContext,ze.firstColumnIndex=M.firstColumnIndex,ze.lastColumnIndex=M.lastColumnIndex);const Ce=!x&&be.position===void 0||x&&be.position==="bottom",$e=be.position!==void 0;let Be;switch(be.position){case"top":Be=0;break;case"bottom":Be=g.top.length+j.rows.length;break;case void 0:Be=g.top.length;break}const Ge=be.rows??j.rows,It=ze.firstRowIndex,St=Math.min(ze.lastRowIndex,Ge.length),jt=be.rows?xx(0,be.rows.length):xx(It,St);let ut=-1;!$e&&L&&(L.rowIndex<It&&(jt.unshift(L.rowIndex),ut=L.rowIndex),L.rowIndex>St&&(jt.push(L.rowIndex),ut=L.rowIndex));const Mt=[],tt=l.slotProps?.row,gt=Cr(t);return jt.forEach(mt=>{const{id:Ht,model:Fe}=Ge[mt];if(!Me[Ht])return;const Ze=(j?.range?.firstRowIndex||0)+Be+mt;if(z){const On=m.left.length,go=i.length-m.right.length;t.current.calculateColSpan({rowId:Ht,minFirstColumn:On,maxLastColumn:go,columns:i}),m.left.length>0&&t.current.calculateColSpan({rowId:Ht,minFirstColumn:0,maxLastColumn:m.left.length,columns:i}),m.right.length>0&&t.current.calculateColSpan({rowId:Ht,minFirstColumn:i.length-m.right.length,maxLastColumn:i.length,columns:i})}const Le=t.current.rowHasAutoHeight(Ht)?"auto":t.current.unstable_getRowHeight(Ht);let We;D[Ht]==null?We=!1:We=t.current.isRowSelectable(Ht);let pt=!1;be.position===void 0&&(pt=mt===0);let bt=!1;const vt=mt===Ge.length-1;if(Ce)if($e)bt=vt;else{const On=j.rows.length-1;mt===On&&(bt=!0)}let yn=ze;Y.current&&mt>=Y.current.firstRowIndex&&mt<Y.current.lastRowIndex&&(yn=Y.current);const nn=mt===ut,Ol=L?.rowIndex===Ze,_n=V0(gt,yn,m.left.length),ho=vt&&be.position==="top",Xl=yn.firstColumnIndex,Ql=yn.lastColumnIndex;if(Mt.push(r.jsx(l.slots.row,w({row:Fe,rowId:Ht,index:Ze,selected:We,offsetLeft:_n,columnsTotalWidth:_,rowHeight:Le,pinnedColumns:m,visibleColumns:i,firstColumnIndex:Xl,lastColumnIndex:Ql,focusedColumnIndex:Ol?L.columnIndex:void 0,isFirstVisible:pt,isLastVisible:bt,isNotVisible:nn,showBottomBorder:ho,scrollbarWidth:A,gridHasFiller:E},tt),Ht)),nn)return;const kl=b.get(Ht);kl&&Mt.push(kl),be.position===void 0&&vt&&Mt.push(t.current.getInfiniteLoadingTriggerElement?.({lastRowId:Ht}))}),Mt},Se=h.useMemo(()=>({overflowX:!U||s?"hidden":void 0,overflowY:l.autoHeight?"hidden":void 0}),[U,l.autoHeight,s]),Ae=h.useMemo(()=>{const be={width:U?_:"auto",flexBasis:$,flexShrink:0};return be.flexBasis===0&&(be.flexBasis=f0),be},[_,$,U]),Ne=h.useCallback(be=>{be&&t.current.publishEvent("virtualScrollerContentSizeChange",{columnsTotalWidth:_,contentHeight:$})},[t,_,$]);return zn(()=>{V.current&&t.current.updateRenderContext?.()},[t,d,c]),zn(()=>{s&&(I.current.scrollLeft=0)},[s,I]),zj(M!==wh,()=>{if(t.current.publishEvent("scrollPositionChange",{top:O.current.top,left:O.current.left,renderContext:M}),V.current=!0,l.initialState?.scroll&&I.current){const be=I.current,{top:Me,left:ze}=l.initialState.scroll,Ce={top:!(Me>0),left:!(ze>0)};if(!Ce.left&&_&&(be.scrollLeft=ze,K.current=!0,Ce.left=!0),!Ce.top&&$&&(be.scrollTop=Me,K.current=!0,Ce.top=!0),!Ce.top||!Ce.left){const $e=t.current.subscribeEvent("virtualScrollerContentSizeChange",Be=>{!Ce.left&&Be.columnsTotalWidth&&(be.scrollLeft=ze,K.current=!0,Ce.left=!0),!Ce.top&&Be.contentHeight&&(be.scrollTop=Me,K.current=!0,Ce.top=!0),Ce.left&&Ce.top&&$e()});return $e}}}),t.current.register("private",{updateRenderContext:re}),yt(t,"sortedRowsSet",re),yt(t,"paginationModelChange",re),yt(t,"columnsChange",re),{renderContext:M,setPanels:C,getRows:Te,getContainerProps:()=>({ref:N}),getScrollerProps:()=>({ref:I,onScroll:me,onWheel:ce,onTouchMove:ve,style:Se,role:"presentation",tabIndex:NM?-1:void 0}),getContentProps:()=>({style:Ae,role:"presentation",ref:Ne}),getRenderZoneProps:()=>({role:"rowgroup"}),getScrollbarVerticalProps:()=>({ref:k,scrollPosition:O}),getScrollbarHorizontalProps:()=>({ref:T,scrollPosition:O}),getScrollAreaProps:()=>({scrollPosition:O})}};function KM(t){return t.dimensions.viewportOuterSize.width>0&&t.dimensions.columnsTotalWidth>t.dimensions.viewportOuterSize.width}function Hx(t,l,s,i){const c=mn(t.current.state),d=pr(t),g=l.unstable_listView?[Xa(t.current.state)]:qt(t),p=UM(t),m=t.current.state.rows.dataRowIds.at(-1),x=g.at(-1);return{enabledForRows:s,enabledForColumns:i,apiRef:t,autoHeight:l.autoHeight,rowBufferPx:l.rowBufferPx,columnBufferPx:l.columnBufferPx,leftPinnedWidth:c.leftPinnedWidth,columnsTotalWidth:c.columnsTotalWidth,viewportInnerWidth:c.viewportInnerSize.width,viewportInnerHeight:c.viewportInnerSize.height,lastRowHeight:m!==void 0?t.current.unstable_getRowHeight(m):0,lastColumnWidth:x?.computedWidth??0,rowsMeta:as(t.current.state),columnPositions:Cr(t),rows:d.rows,range:d.range,pinnedColumns:ns(t),visibleColumns:g,hiddenCellsOriginMap:p,listView:l.unstable_listView??!1,virtualizeColumnsWithAutoRowHeight:l.virtualizeColumnsWithAutoRowHeight}}function Px(t,l,s){const i={firstRowIndex:0,lastRowIndex:t.rows.length,firstColumnIndex:0,lastColumnIndex:t.visibleColumns.length},{top:c,left:d}=l,g=Math.abs(d)+t.leftPinnedWidth;if(t.enabledForRows){let m=Math.min(Rx(t,c,{atStart:!0,lastPosition:t.rowsMeta.positions[t.rowsMeta.positions.length-1]+t.lastRowHeight}),t.rowsMeta.positions.length-1);const x=t.hiddenCellsOriginMap[m];if(x){const C=Math.min(...Object.values(x));m=Math.min(m,C)}const b=t.autoHeight?m+t.rows.length:Rx(t,c+t.viewportInnerHeight);i.firstRowIndex=m,i.lastRowIndex=b}if(t.listView)return w({},i,{lastColumnIndex:1});if(t.enabledForColumns){let m=0,x=t.columnPositions.length,b=!1;const[C,v]=Sh({firstIndex:i.firstRowIndex,lastIndex:i.lastRowIndex,minFirstIndex:0,maxLastIndex:t.rows.length,bufferBefore:s.buffer.rowBefore,bufferAfter:s.buffer.rowAfter,positions:t.rowsMeta.positions,lastSize:t.lastRowHeight});if(!t.virtualizeColumnsWithAutoRowHeight)for(let D=C;D<v&&!b;D+=1){const j=t.rows[D];b=t.apiRef.current.rowHasAutoHeight(j.id)}(!b||t.virtualizeColumnsWithAutoRowHeight)&&(m=br(g,t.columnPositions,{atStart:!0,lastPosition:t.columnsTotalWidth}),x=br(g+t.viewportInnerWidth,t.columnPositions)),i.firstColumnIndex=m,i.lastColumnIndex=x}return XM(t,i,s)}function Rx(t,l,s){const i=t.apiRef.current.getLastMeasuredRowIndex();let c=i===1/0;t.range?.lastRowIndex&&!c&&(c=i>=t.range.lastRowIndex);const d=dl(i-(t.range?.firstRowIndex||0),0,t.rowsMeta.positions.length);return c||t.rowsMeta.positions[d]>=l?br(l,t.rowsMeta.positions,s):QM(l,t.rowsMeta.positions,d,s)}function XM(t,l,s){const[i,c]=Sh({firstIndex:l.firstRowIndex,lastIndex:l.lastRowIndex,minFirstIndex:0,maxLastIndex:t.rows.length,bufferBefore:s.buffer.rowBefore,bufferAfter:s.buffer.rowAfter,positions:t.rowsMeta.positions,lastSize:t.lastRowHeight}),[d,g]=Sh({firstIndex:l.firstColumnIndex,lastIndex:l.lastColumnIndex,minFirstIndex:t.pinnedColumns.left.length,maxLastIndex:t.visibleColumns.length-t.pinnedColumns.right.length,bufferBefore:s.buffer.columnBefore,bufferAfter:s.buffer.columnAfter,positions:t.columnPositions,lastSize:t.lastColumnWidth}),p=MM({firstColumnToRender:d,apiRef:t.apiRef,firstRowToRender:i,lastRowToRender:c,visibleRows:t.rows});return{firstRowIndex:i,lastRowIndex:c,firstColumnIndex:p,lastColumnIndex:g}}function br(t,l,s=void 0,i=0,c=l.length){if(l.length<=0)return-1;if(i>=c)return i;const d=i+Math.floor((c-i)/2),g=l[d];let p;if(s?.atStart){const m=(d===l.length-1?s.lastPosition:l[d+1])-g;p=t-m<g}else p=t<=g;return p?br(t,l,s,i,d):br(t,l,s,d+1,c)}function QM(t,l,s,i=void 0){let c=1;for(;s<l.length&&Math.abs(l[s])<t;)s+=c,c*=2;return br(t,l,i,Math.floor(s/2),Math.min(s,l.length))}function Sh({firstIndex:t,lastIndex:l,bufferBefore:s,bufferAfter:i,minFirstIndex:c,maxLastIndex:d,positions:g,lastSize:p}){const m=g[t]-s,x=g[l]+i,b=br(m,g,{atStart:!0,lastPosition:g[g.length-1]+p}),C=br(x,g);return[dl(b,c,d),dl(C,c,d)]}function Nx(t,l){return t===l?!0:t.firstRowIndex===l.firstRowIndex&&t.lastRowIndex===l.lastRowIndex&&t.firstColumnIndex===l.firstColumnIndex&&t.lastColumnIndex===l.lastColumnIndex}function V0(t,l,s){const i=(t[l.firstColumnIndex]??0)-(t[s]??0);return Math.abs(i)}function ZM(t,l){return t===0&&l===0?tn.NONE:Math.abs(l)>=Math.abs(t)?l>0?tn.DOWN:tn.UP:t>0?tn.RIGHT:tn.LEFT}function U0(t,l,s,i,c,d){if(t)switch(l){case tn.LEFT:l=tn.RIGHT;break;case tn.RIGHT:l=tn.LEFT;break}switch(l){case tn.NONE:return{rowAfter:s,rowBefore:s,columnAfter:i,columnBefore:i};case tn.LEFT:return{rowAfter:0,rowBefore:0,columnAfter:0,columnBefore:d};case tn.RIGHT:return{rowAfter:0,rowBefore:0,columnAfter:d,columnBefore:0};case tn.UP:return{rowAfter:0,rowBefore:c,columnAfter:0,columnBefore:0};case tn.DOWN:return{rowAfter:c,rowBefore:0,columnAfter:0,columnBefore:0};default:throw new Error("unreachable")}}const JM=()=>{const t=Re(),l=we(),s=fe(t,Ti),i=fe(t,Yh),c=fe(t,KC),d=s===0&&c===0,g=fe(t,g1),p=!g&&d,m=!g&&s>0&&i===0;let x=null,b=null;return p&&(x="noRowsOverlay"),m&&(x="noResultsOverlay"),g&&(x="loadingOverlay",b=l.slotProps?.loadingOverlay?.[d?"noRowsVariant":"variant"]||null),{overlayType:x,loadingOverlayVariant:b}},eE=Tt("div",{name:"MuiDataGrid",slot:"OverlayWrapper",shouldForwardProp:t=>t!=="overlayType"&&t!=="loadingOverlayVariant",overridesResolver:(t,l)=>l.overlayWrapper})(({overlayType:t,loadingOverlayVariant:l})=>l!=="skeleton"?{position:"sticky",top:"var(--DataGrid-headersTotalHeight)",left:0,width:0,height:0,zIndex:t==="loadingOverlay"?5:4}:{}),tE=Tt("div",{name:"MuiDataGrid",slot:"OverlayWrapperInner",shouldForwardProp:t=>t!=="overlayType"&&t!=="loadingOverlayVariant",overridesResolver:(t,l)=>l.overlayWrapperInner})({}),nE=t=>{const{classes:l}=t;return Ke({root:["overlayWrapper"],inner:["overlayWrapperInner"]},Qe,l)};function lE(t){const l=Re(),s=we(),i=fe(l,mn);let c=Math.max(i.viewportOuterSize.height-i.topContainerHeight-i.bottomContainerHeight-(i.hasScrollX?i.scrollbarSize:0),0);c===0&&(c=f0);const d=nE(w({},t,{classes:s.classes}));return r.jsx(eE,w({className:lt(d.root)},t,{children:r.jsx(tE,w({className:lt(d.inner),style:{height:c,width:i.viewportOuterSize.width}},t))}))}function oE(t){const{overlayType:l}=t,s=we();if(!l)return null;const i=s.slots?.[l],c=s.slotProps?.[l];return r.jsx(lE,w({},t,{children:r.jsx(i,w({},c))}))}const su=t=>t.columnMenu;function rE(){const t=zl(),l=we(),s=fe(t,qt),i=fe(t,Cj),c=fe(t,pj),d=fe(t,w0),g=fe(t,()=>Zh(t)===null),p=fe(t,Fj),m=fe(t,Ij),x=fe(t,fu),b=fe(t,Oi),C=fe(t,su),v=fe(t,Tl),D=fe(t,wM),j=!(p===null&&d===null&&g),F=t.current.columnHeadersContainerRef;return r.jsx(l.slots.columnHeaders,w({ref:F,visibleColumns:s,filterColumnLookup:i,sortColumnLookup:c,columnHeaderTabIndexState:d,columnGroupHeaderTabIndexState:p,columnHeaderFocus:m,columnGroupHeaderFocus:x,headerGroupingMaxDepth:b,columnMenuState:C,columnVisibility:v,columnGroupsHeaderStructure:D,hasOtherElementInTabSequence:j},l.slotProps?.columnHeaders))}const aE=Ro(rE),$0=h.createContext(void 0),lg=()=>{const t=h.useContext($0);if(t===void 0)throw new Error(["MUI X: Could not find the Data Grid configuration context.","It looks like you rendered your component outside of a DataGrid, DataGridPro or DataGridPremium parent component.","This can also happen if you are bundling multiple versions of the Data Grid."].join(`
`));return t},sE=Tt("div")({position:"absolute",top:"var(--DataGrid-headersTotalHeight)",left:0,width:"calc(100% - (var(--DataGrid-hasScrollY) * var(--DataGrid-scrollbarSize)))"}),iE=Tt("div",{name:"MuiDataGrid",slot:"Main",overridesResolver:(t,l)=>{const{ownerState:s}=t;return[l.main,s.hasPinnedRight&&l["main--hasPinnedRight"],s.loadingOverlayVariant==="skeleton"&&l["main--hasSkeletonLoadingOverlay"]]}})({flexGrow:1,position:"relative",overflow:"hidden",display:"flex",flexDirection:"column"}),cE=Xe((t,l)=>{const{ownerState:s}=t,i=we(),d=lg().hooks.useGridAriaAttributes();return r.jsxs(iE,w({ownerState:s,className:t.className,tabIndex:-1},d,i.slotProps?.main,{ref:l,children:[r.jsx(sE,{role:"presentation","data-id":"gridPanelAnchor"}),t.children]}))}),uE=()=>Ke({root:["topContainer"]},Qe,{}),dE=Tt("div")({position:"sticky",zIndex:40,top:0});function fE(t){const l=uE();return r.jsx(dE,w({},t,{className:lt(l.root,P["container--top"]),role:"presentation"}))}const hE=()=>Ke({root:["bottomContainer"]},Qe,{}),gE=Tt("div")({position:"sticky",zIndex:40,bottom:"calc(var(--DataGrid-hasScrollX) * var(--DataGrid-scrollbarSize))"});function mE(t){const l=hE();return r.jsx(gE,w({},t,{className:lt(l.root,P["container--bottom"]),role:"presentation"}))}const pE=(t,l)=>{const{classes:s}=t;return Ke({root:["virtualScrollerContent",l&&"virtualScrollerContent--overflowed"]},Qe,s)},bE=Tt("div",{name:"MuiDataGrid",slot:"VirtualScrollerContent",overridesResolver:(t,l)=>{const{ownerState:s}=t;return[l.virtualScrollerContent,s.overflowedContent&&l["virtualScrollerContent--overflowed"]]}})({}),xE=Xe(function(l,s){const i=we(),c=!i.autoHeight&&l.style?.minHeight==="auto",d=pE(i,c),g={classes:i.classes,overflowedContent:c};return r.jsx(bE,w({},l,{ownerState:g,className:lt(d.root,l.className),ref:s}))}),CE=Tt("div")({display:"flex",flexDirection:"row",width:"var(--DataGrid-rowWidth)",boxSizing:"border-box"}),W0=Tt("div")({position:"sticky",height:"100%",boxSizing:"border-box",borderTop:"1px solid var(--rowBorderColor)",backgroundColor:"var(--DataGrid-pinnedBackground)"}),yE=Tt(W0)({left:0,borderRight:"1px solid var(--rowBorderColor)"}),vE=Tt(W0)({right:0,borderLeft:"1px solid var(--rowBorderColor)"}),wE=Tt("div")({flexGrow:1,borderTop:"1px solid var(--rowBorderColor)"});function SE({rowsLength:t}){const l=Re(),{viewportOuterSize:s,minimumSize:i,hasScrollX:c,hasScrollY:d,scrollbarSize:g,leftPinnedWidth:p,rightPinnedWidth:m}=fe(l,mn),x=c?g:0,b=s.height-i.height>0;return x===0&&!b?null:r.jsxs(CE,{className:P.filler,role:"presentation",style:{height:x,"--rowBorderColor":t===0?"transparent":"var(--DataGrid-rowBorderColor)"},children:[p>0&&r.jsx(yE,{className:P["filler--pinnedLeft"],style:{width:p}}),r.jsx(wE,{}),m>0&&r.jsx(vE,{className:P["filler--pinnedRight"],style:{width:m+(d?g:0)}})]})}const jE=Ro(SE),ME=["className"],EE=t=>{const{classes:l}=t;return Ke({root:["virtualScrollerRenderZone"]},Qe,l)},DE=Tt("div",{name:"MuiDataGrid",slot:"VirtualScrollerRenderZone",overridesResolver:(t,l)=>l.virtualScrollerRenderZone})({position:"absolute",display:"flex",flexDirection:"column"}),TE=Xe(function(l,s){const{className:i}=l,c=Ee(l,ME),d=Re(),g=we(),p=EE(g),m=fe(d,()=>{const x=ki(d);return as(d.current.state).positions[x.firstRowIndex]??0});return r.jsx(DE,w({className:lt(p.root,i),ownerState:g,style:{transform:`translate3d(0, ${m}px, 0)`}},c,{ref:s}))}),IE={includeHeaders:!0,includeOutliers:!1,outliersFactor:1.5,expand:!1,disableColumnVirtualization:!0},gn=t=>t.editRows,q0=Di(gn,(t,{rowId:l,editMode:s})=>s===so.Row&&!!t[l]),FE=Di(gn,(t,{rowId:l,field:s})=>t[l]?.[s]??null),Yr=t=>t.preferencePanel,AE=Di(Yr,(t,l)=>!!(t.open&&t.labelId===l));var ql=(function(t){return t.filters="filters",t.columns="columns",t})(ql||{});const zE=(t,l)=>{const{classes:s}=t,i={root:["scrollbar",`scrollbar--${l}`],content:["scrollbarContent"]};return Ke(i,Qe,s)},Y0=Tt("div")({position:"absolute",display:"inline-block",zIndex:60,"&:hover":{zIndex:70},"--size":"calc(max(var(--DataGrid-scrollbarSize), 14px))"}),OE=Tt(Y0)({width:"var(--size)",height:"calc(var(--DataGrid-hasScrollY) * (100% - var(--DataGrid-topContainerHeight) - var(--DataGrid-bottomContainerHeight) - var(--DataGrid-hasScrollX) * var(--DataGrid-scrollbarSize)))",overflowY:"auto",overflowX:"hidden",outline:0,"& > div":{width:"var(--size)"},top:"var(--DataGrid-topContainerHeight)",right:"0px"}),kE=Tt(Y0)({width:"100%",height:"var(--size)",overflowY:"hidden",overflowX:"auto",outline:0,"& > div":{height:"var(--size)"},bottom:"0px"}),Gx=Xe(function(l,s){const i=zl(),c=we(),d=h.useRef(!1),g=h.useRef(0),p=h.useRef(null),m=h.useRef(null),x=zE(c,l.position),b=fe(i,mn),C=l.position==="vertical"?"height":"width",v=l.position==="vertical"?"scrollTop":"scrollLeft",D=l.position==="vertical"?"top":"left",j=l.position==="vertical"?b.hasScrollX:b.hasScrollY,F=b.minimumSize[C]+(j?b.scrollbarSize:0),k=(l.position==="vertical"?b.viewportInnerSize.height:b.viewportOuterSize.width)*(F/b.viewportOuterSize[C]),T=Nt(()=>{const R=p.current,$=l.scrollPosition.current;if(!R||$[D]===g.current)return;if(g.current=$[D],d.current){d.current=!1;return}d.current=!0;const _=$[D]/F;R[v]=_*k}),z=Nt(()=>{const R=i.current.virtualScrollerRef.current,$=p.current;if(!$)return;if(d.current){d.current=!1;return}d.current=!0;const _=$[v]/k;R[v]=_*F});TC(()=>{const R=i.current.virtualScrollerRef.current,$=p.current,_={passive:!0};return R.addEventListener("scroll",T,_),$.addEventListener("scroll",z,_),()=>{R.removeEventListener("scroll",T,_),$.removeEventListener("scroll",z,_)}}),h.useEffect(()=>{m.current.style.setProperty(C,`${k}px`)},[k,C]);const V=l.position==="vertical"?OE:kE;return r.jsx(V,{ref:Po(s,p),className:x.root,style:l.position==="vertical"&&c.unstable_listView?{height:"100%",top:0}:void 0,tabIndex:-1,"aria-hidden":"true",onFocus:R=>{R.target.blur()},children:r.jsx("div",{ref:m,className:x.content})})}),HE=t=>{const{classes:l,hasScrollX:s,hasPinnedRight:i,loadingOverlayVariant:c}=t;return Ke({root:["main",i&&"main--hasPinnedRight",c==="skeleton"&&"main--hasSkeletonLoadingOverlay"],scroller:["virtualScroller",s&&"virtualScroller--hasScrollX"]},Qe,l)},PE=Tt("div",{name:"MuiDataGrid",slot:"VirtualScroller",overridesResolver:(t,l)=>{const{ownerState:s}=t;return[l.virtualScroller,s.hasScrollX&&l["virtualScroller--hasScrollX"]]}})({position:"relative",height:"100%",flexGrow:1,overflow:"scroll",scrollbarWidth:"none",display:"flex",flexDirection:"column","&::-webkit-scrollbar":{display:"none"},"@media print":{overflow:"hidden"},zIndex:0}),RE=t=>t.dimensions.rightPinnedWidth>0;function NE(t){const l=Re(),s=we(),i=fe(l,KS),c=fe(l,YS),d=fe(l,RE),g=fe(l,ZS),p=JM(),m={classes:s.classes,hasScrollX:c,hasPinnedRight:d,loadingOverlayVariant:p.loadingOverlayVariant},x=HE(m),b=YM(),{getContainerProps:C,getScrollerProps:v,getContentProps:D,getRenderZoneProps:j,getScrollbarVerticalProps:F,getScrollbarHorizontalProps:I,getRows:k,getScrollAreaProps:T}=b,z=k();return r.jsxs(cE,w({className:x.root},C(),{ownerState:m,children:[r.jsx(Jc,w({scrollDirection:"left"},T())),r.jsx(Jc,w({scrollDirection:"right"},T())),r.jsx(Jc,w({scrollDirection:"up"},T())),r.jsx(Jc,w({scrollDirection:"down"},T())),r.jsxs(PE,w({className:x.scroller},v(),{ownerState:m,children:[r.jsxs(fE,{children:[!s.unstable_listView&&r.jsx(aE,{}),r.jsx(s.slots.pinnedRows,{position:"top",virtualScroller:b})]}),r.jsx(oE,w({},p)),r.jsx(xE,w({},D(),{children:r.jsxs(TE,w({},j(),{children:[z,r.jsx(s.slots.detailPanels,{virtualScroller:b})]}))})),g&&r.jsx(jE,{rowsLength:z.length}),r.jsx(mE,{children:r.jsx(s.slots.pinnedRows,{position:"bottom",virtualScroller:b})})]})),c&&!s.unstable_listView&&r.jsx(Gx,w({position:"horizontal"},I())),i&&r.jsx(Gx,w({position:"vertical"},F())),t.children]}))}function GE(){const t=we();return t.hideFooter?null:r.jsx(t.slots.footer,w({},t.slotProps?.footer))}let oh;function og(){return oh===void 0&&document.createElement("div").focus({get preventScroll(){return oh=!0,!1}}),oh}function LE({defaultSlots:t,slots:l}){const s=l;if(!s||Object.keys(s).length===0)return t;const i=w({},t);return Object.keys(s).forEach(c=>{const d=c;s[d]!==void 0&&(i[d]=s[d])}),i}function BE(t){if(t.slotProps?.root)return t;const l=Object.keys(t);if(!l.some(c=>c.startsWith("aria-")||c.startsWith("data-")))return t;const s={},i=t.forwardedProps??{};for(let c=0;c<l.length;c+=1){const d=l[c];d.startsWith("aria-")||d.startsWith("data-")?i[d]=t[d]:s[d]=t[d]}return s.forwardedProps=i,s}function _E(t){return h.useMemo(()=>BE(t),[t])}const VE=t=>{const l=t.match(/^__row_group_by_columns_group_(.*)__$/);return l?l[1]:null},UE=t=>t===g0||VE(t)!==null,K0=(t,l)=>{if(t)if(l){if(t===et.LEFT)return"right";if(t===et.RIGHT)return"left"}else{if(t===et.LEFT)return"left";if(t===et.RIGHT)return"right"}};function Hu(t,l,s,i){const c=K0(s,l);return!c||i===void 0||(t[c]=i),t}const $E=["column","row","rowId","rowNode","align","children","colIndex","width","className","style","colSpan","disableDragEvents","isNotVisible","pinnedOffset","pinnedPosition","showRightBorder","showLeftBorder","onClick","onDoubleClick","onMouseDown","onMouseUp","onMouseOver","onKeyDown","onKeyUp","onDragEnter","onDragOver"],WE=["changeReason","unstable_updateValueOnRender"];et.LEFT+"",ur.LEFT,et.RIGHT+"",ur.RIGHT,et.NONE+"",et.VIRTUAL+"";const qE=t=>{const{align:l,showLeftBorder:s,showRightBorder:i,pinnedPosition:c,isEditable:d,isSelected:g,isSelectionMode:p,classes:m}=t,x={root:["cell",`cell--text${Qa(l)}`,g&&"selected",d&&"cell--editable",s&&"cell--withLeftBorder",i&&"cell--withRightBorder",c===et.LEFT&&"cell--pinnedLeft",c===et.RIGHT&&"cell--pinnedRight",p&&!d&&"cell--selectionMode"]};return Ke(x,Qe,m)},YE=Xe(function(l,s){const{column:i,row:c,rowId:d,rowNode:g,align:p,colIndex:m,width:x,className:b,style:C,colSpan:v,disableDragEvents:D,isNotVisible:j,pinnedOffset:F,pinnedPosition:I,showRightBorder:k,showLeftBorder:T,onClick:z,onDoubleClick:V,onMouseDown:R,onMouseUp:$,onMouseOver:_,onKeyDown:U,onKeyUp:A,onDragEnter:E,onDragOver:B}=l,N=Ee(l,$E),O=zl(),K=we(),G=co(),S=i.field,M=Ci(O,FE,{rowId:d,field:S}),q=lg().hooks.useCellAggregationResult(d,S),Y=M?Ct.Edit:Ct.View,W=O.current.getCellParamsForRow(d,S,c,{colDef:i,cellMode:Y,rowNode:g,tabIndex:fe(O,()=>{const We=Zh(O);return We&&We.field===S&&We.id===d?0:-1}),hasFocus:fe(O,()=>{const We=el(O);return We?.id===d&&We.field===S})});W.api=O.current,q&&(W.value=q.value,W.formattedValue=i.valueFormatter?i.valueFormatter(W.value,c,i,O):W.value);const Q=fe(O,()=>O.current.unstable_applyPipeProcessors("isCellSelected",!1,{id:d,field:S})),le=fe(O,B0),re=fe(O,VM),{hasFocus:me,isEditable:ce=!1,value:ve}=W,Te=i.type==="actions"&&i.getActions?.(O.current.getRowParams(d)).some(We=>!We.props.disabled),Se=(Y==="view"||!ce)&&!Te?W.tabIndex:-1,{classes:Ae,getCellClassName:Ne}=K,Me=[fe(O,()=>O.current.unstable_applyPipeProcessors("cellClassName",[],{id:d,field:S}).filter(Boolean).join(" "))];i.cellClassName&&Me.push(typeof i.cellClassName=="function"?i.cellClassName(W):i.cellClassName),i.display==="flex"&&Me.push(P["cell--flex"]),Ne&&Me.push(Ne(W));const ze=W.formattedValue??ve,Ce=h.useRef(null),$e=Po(s,Ce),Be=h.useRef(null),Ge=K.cellSelection??!1,It={align:p,showLeftBorder:T,showRightBorder:k,isEditable:ce,classes:K.classes,pinnedPosition:I,isSelected:Q,isSelectionMode:Ge},St=qE(It),jt=h.useCallback(We=>pt=>{const bt=O.current.getCellParams(d,S||"");O.current.publishEvent(We,bt,pt),$&&$(pt)},[O,S,$,d]),ut=h.useCallback(We=>pt=>{const bt=O.current.getCellParams(d,S||"");O.current.publishEvent(We,bt,pt),R&&R(pt)},[O,S,R,d]),Mt=h.useCallback((We,pt)=>bt=>{if(!O.current.getRow(d))return;const vt=O.current.getCellParams(d,S||"");O.current.publishEvent(We,vt,bt),pt&&pt(bt)},[O,S,d]),tt=le[d]?.[S]??!1,gt=re[d]?.[S]??1,mt=h.useMemo(()=>{if(j)return{padding:0,opacity:0,width:0,height:0,border:0};const We=Hu(w({"--width":`${x}px`},C),G,I,F),pt=I===et.LEFT,bt=I===et.RIGHT;return gt>1&&(We.height=`calc(var(--height) * ${gt})`,We.zIndex=10,(pt||bt)&&(We.zIndex=40)),We},[x,j,C,F,I,G,gt]);if(h.useEffect(()=>{if(!me||Y===Ct.Edit)return;const We=$r(O.current.rootElementRef.current);if(Ce.current&&!Ce.current.contains(We.activeElement)){const pt=Ce.current.querySelector('[tabindex="0"]'),bt=Be.current||pt||Ce.current;if(og())bt.focus({preventScroll:!0});else{const vt=O.current.getScrollPosition();bt.focus(),O.current.scroll(vt)}}},[me,Y,O]),tt)return r.jsx("div",{"data-colindex":m,role:"presentation",style:w({width:"var(--width)"},mt)});let Ht=N.onFocus,Fe,Ze;if(M===null&&i.renderCell&&(Fe=i.renderCell(W)),M!==null&&i.renderEditCell){const We=O.current.getRowWithUpdatedValues(d,i.field),pt=Ee(M,WE),bt=i.valueFormatter?i.valueFormatter(M.value,We,i,O):W.formattedValue,vt=w({},W,{row:We,formattedValue:bt},pt);Fe=i.renderEditCell(vt),Me.push(P["cell--editing"]),Me.push(Ae?.["cell--editing"])}if(Fe===void 0){const We=ze?.toString();Fe=We,Ze=We}h.isValidElement(Fe)&&Te&&(Fe=h.cloneElement(Fe,{focusElementRef:Be}));const Le=D?null:{onDragEnter:Mt("cellDragEnter",E),onDragOver:Mt("cellDragOver",B)};return r.jsx("div",w({className:lt(St.root,Me,b),role:"gridcell","data-field":S,"data-colindex":m,"aria-colindex":m+1,"aria-colspan":v,"aria-rowspan":gt,style:mt,title:Ze,tabIndex:Se,onClick:Mt("cellClick",z),onDoubleClick:Mt("cellDoubleClick",V),onMouseOver:Mt("cellMouseOver",_),onMouseDown:ut("cellMouseDown"),onMouseUp:jt("cellMouseUp"),onKeyDown:Mt("cellKeyDown",U),onKeyUp:Mt("cellKeyUp",A)},Le,N,{onFocus:Ht,ref:$e,children:Fe}))}),KE=Ro(YE),XE=["label","icon","showInMenu","onClick"],QE=["label","icon","showInMenu","onClick","closeMenuOnClick","closeMenu"],Qt=Xe((t,l)=>{const s=we();if(!t.showInMenu){const{label:b,icon:C,onClick:v}=t,D=Ee(t,XE),j=F=>{v?.(F)};return r.jsx(s.slots.baseIconButton,w({size:"small",role:"menuitem","aria-label":b},D,{onClick:j},s.slotProps?.baseIconButton,{ref:l,children:h.cloneElement(C,{fontSize:"small"})}))}const{label:i,icon:c,onClick:d,closeMenuOnClick:g=!0,closeMenu:p}=t,m=Ee(t,QE),x=b=>{d?.(b),g&&p?.()};return r.jsxs(Ve,w({ref:l},m,{onClick:x,children:[c&&r.jsx(hr,{children:c}),i]}))}),ZE=["field","type","align","width","height","empty","style","className"],Lx="1.3em",JE="1.2em",Bx=[40,80],eD={number:[40,60],string:[40,80],date:[40,60],dateTime:[60,80],singleSelect:[40,80]},tD=t=>{const{align:l,classes:s,empty:i}=t,c={root:["cell","cellSkeleton",`cell--text${l?Qa(l):"Left"}`,i&&"cellEmpty"]};return Ke(c,Qe,s)},nD=F1(12345);function lD(t){const{field:l,type:s,align:i,width:c,height:d,empty:g=!1,style:p,className:m}=t,x=Ee(t,ZE),C={classes:we().classes,align:i,empty:g},v=tD(C),D=h.useMemo(()=>{if(s==="boolean"||s==="actions")return{variant:"circular",width:Lx,height:Lx};const[F,I]=s?eD[s]??Bx:Bx;return{variant:"text",width:`${Math.round(nD(F,I))}%`,height:JE}},[s]);return r.jsx("div",w({"data-field":l,className:lt(v.root,m),style:w({height:d,maxWidth:c,minWidth:c},p)},x,{children:!g&&r.jsx(Uw,w({},D))}))}const oD=Ro(lD);function rD(t){return t.vars?t.vars.palette.TableCell.border:t.palette.mode==="light"?$w(Br(t.palette.divider,1),.88):Ww(Br(t.palette.divider,1),.68)}const aD=10,eu=-5,Ra=1,_x={width:3,rx:1.5,x:10.5},sD="/* emotion-disable-server-rendering-unsafe-selector-warning-please-do-not-use-this-the-warning-exists-for-a-reason */",iD=t=>t.dimensions.hasScrollX&&(!t.dimensions.hasScrollY||t.dimensions.scrollbarSize===0),cD=Ut("div",{name:"MuiDataGrid",slot:"Root",overridesResolver:(t,l)=>[l.root,{[`&.${P.autoHeight}`]:l.autoHeight},{[`&.${P.autosizing}`]:l.autosizing},{[`&.${P["root--densityStandard"]}`]:l["root--densityStandard"]},{[`&.${P["root--densityComfortable"]}`]:l["root--densityComfortable"]},{[`&.${P["root--densityCompact"]}`]:l["root--densityCompact"]},{[`&.${P["root--disableUserSelection"]}`]:l["root--disableUserSelection"]},{[`&.${P["root--noToolbar"]}`]:l["root--noToolbar"]},{[`&.${P.withVerticalBorder}`]:l.withVerticalBorder},{[`& .${P.actionsCell}`]:l.actionsCell},{[`& .${P.booleanCell}`]:l.booleanCell},{[`& .${P.cell}`]:l.cell},{[`& .${P["cell--editable"]}`]:l["cell--editable"]},{[`& .${P["cell--editing"]}`]:l["cell--editing"]},{[`& .${P["cell--flex"]}`]:l["cell--flex"]},{[`& .${P["cell--pinnedLeft"]}`]:l["cell--pinnedLeft"]},{[`& .${P["cell--pinnedRight"]}`]:l["cell--pinnedRight"]},{[`& .${P["cell--rangeBottom"]}`]:l["cell--rangeBottom"]},{[`& .${P["cell--rangeLeft"]}`]:l["cell--rangeLeft"]},{[`& .${P["cell--rangeRight"]}`]:l["cell--rangeRight"]},{[`& .${P["cell--rangeTop"]}`]:l["cell--rangeTop"]},{[`& .${P["cell--selectionMode"]}`]:l["cell--selectionMode"]},{[`& .${P["cell--textCenter"]}`]:l["cell--textCenter"]},{[`& .${P["cell--textLeft"]}`]:l["cell--textLeft"]},{[`& .${P["cell--textRight"]}`]:l["cell--textRight"]},{[`& .${P["cell--withLeftBorder"]}`]:l["cell--withLeftBorder"]},{[`& .${P["cell--withRightBorder"]}`]:l["cell--withRightBorder"]},{[`& .${P.cellCheckbox}`]:l.cellCheckbox},{[`& .${P.cellEmpty}`]:l.cellEmpty},{[`& .${P.cellOffsetLeft}`]:l.cellOffsetLeft},{[`& .${P.cellSkeleton}`]:l.cellSkeleton},{[`& .${P.checkboxInput}`]:l.checkboxInput},{[`& .${P.columnHeader}`]:l.columnHeader},{[`& .${P["columnHeader--alignCenter"]}`]:l["columnHeader--alignCenter"]},{[`& .${P["columnHeader--alignLeft"]}`]:l["columnHeader--alignLeft"]},{[`& .${P["columnHeader--alignRight"]}`]:l["columnHeader--alignRight"]},{[`& .${P["columnHeader--dragging"]}`]:l["columnHeader--dragging"]},{[`& .${P["columnHeader--emptyGroup"]}`]:l["columnHeader--emptyGroup"]},{[`& .${P["columnHeader--filledGroup"]}`]:l["columnHeader--filledGroup"]},{[`& .${P["columnHeader--filtered"]}`]:l["columnHeader--filtered"]},{[`& .${P["columnHeader--last"]}`]:l["columnHeader--last"]},{[`& .${P["columnHeader--lastUnpinned"]}`]:l["columnHeader--lastUnpinned"]},{[`& .${P["columnHeader--moving"]}`]:l["columnHeader--moving"]},{[`& .${P["columnHeader--numeric"]}`]:l["columnHeader--numeric"]},{[`& .${P["columnHeader--pinnedLeft"]}`]:l["columnHeader--pinnedLeft"]},{[`& .${P["columnHeader--pinnedRight"]}`]:l["columnHeader--pinnedRight"]},{[`& .${P["columnHeader--siblingFocused"]}`]:l["columnHeader--siblingFocused"]},{[`& .${P["columnHeader--sortable"]}`]:l["columnHeader--sortable"]},{[`& .${P["columnHeader--sorted"]}`]:l["columnHeader--sorted"]},{[`& .${P["columnHeader--withLeftBorder"]}`]:l["columnHeader--withLeftBorder"]},{[`& .${P["columnHeader--withRightBorder"]}`]:l["columnHeader--withRightBorder"]},{[`& .${P.columnHeaderCheckbox}`]:l.columnHeaderCheckbox},{[`& .${P.columnHeaderDraggableContainer}`]:l.columnHeaderDraggableContainer},{[`& .${P.columnHeaderTitleContainer}`]:l.columnHeaderTitleContainer},{[`& .${P.columnHeaderTitleContainerContent}`]:l.columnHeaderTitleContainerContent},{[`& .${P.columnSeparator}`]:l.columnSeparator},{[`& .${P["columnSeparator--resizable"]}`]:l["columnSeparator--resizable"]},{[`& .${P["columnSeparator--resizing"]}`]:l["columnSeparator--resizing"]},{[`& .${P["columnSeparator--sideLeft"]}`]:l["columnSeparator--sideLeft"]},{[`& .${P["columnSeparator--sideRight"]}`]:l["columnSeparator--sideRight"]},{[`& .${P["container--bottom"]}`]:l["container--bottom"]},{[`& .${P["container--top"]}`]:l["container--top"]},{[`& .${P.detailPanelToggleCell}`]:l.detailPanelToggleCell},{[`& .${P["detailPanelToggleCell--expanded"]}`]:l["detailPanelToggleCell--expanded"]},{[`& .${P.editBooleanCell}`]:l.editBooleanCell},{[`& .${P.filterIcon}`]:l.filterIcon},{[`& .${P["filler--borderBottom"]}`]:l["filler--borderBottom"]},{[`& .${P["filler--pinnedLeft"]}`]:l["filler--pinnedLeft"]},{[`& .${P["filler--pinnedRight"]}`]:l["filler--pinnedRight"]},{[`& .${P.groupingCriteriaCell}`]:l.groupingCriteriaCell},{[`& .${P.groupingCriteriaCellLoadingContainer}`]:l.groupingCriteriaCellLoadingContainer},{[`& .${P.groupingCriteriaCellToggle}`]:l.groupingCriteriaCellToggle},{[`& .${P.headerFilterRow}`]:l.headerFilterRow},{[`& .${P.iconSeparator}`]:l.iconSeparator},{[`& .${P.menuIcon}`]:l.menuIcon},{[`& .${P.menuIconButton}`]:l.menuIconButton},{[`& .${P.menuList}`]:l.menuList},{[`& .${P.menuOpen}`]:l.menuOpen},{[`& .${P.overlayWrapperInner}`]:l.overlayWrapperInner},{[`& .${P.pinnedRows}`]:l.pinnedRows},{[`& .${P["pinnedRows--bottom"]}`]:l["pinnedRows--bottom"]},{[`& .${P["pinnedRows--top"]}`]:l["pinnedRows--top"]},{[`& .${P.row}`]:l.row},{[`& .${P["row--borderBottom"]}`]:l["row--borderBottom"]},{[`& .${P["row--detailPanelExpanded"]}`]:l["row--detailPanelExpanded"]},{[`& .${P["row--dragging"]}`]:l["row--dragging"]},{[`& .${P["row--dynamicHeight"]}`]:l["row--dynamicHeight"]},{[`& .${P["row--editable"]}`]:l["row--editable"]},{[`& .${P["row--editing"]}`]:l["row--editing"]},{[`& .${P["row--firstVisible"]}`]:l["row--firstVisible"]},{[`& .${P["row--lastVisible"]}`]:l["row--lastVisible"]},{[`& .${P.rowReorderCell}`]:l.rowReorderCell},{[`& .${P["rowReorderCell--draggable"]}`]:l["rowReorderCell--draggable"]},{[`& .${P.rowReorderCellContainer}`]:l.rowReorderCellContainer},{[`& .${P.rowReorderCellPlaceholder}`]:l.rowReorderCellPlaceholder},{[`& .${P.rowSkeleton}`]:l.rowSkeleton},{[`& .${P.scrollbar}`]:l.scrollbar},{[`& .${P["scrollbar--horizontal"]}`]:l["scrollbar--horizontal"]},{[`& .${P["scrollbar--vertical"]}`]:l["scrollbar--vertical"]},{[`& .${P.scrollbarFiller}`]:l.scrollbarFiller},{[`& .${P["scrollbarFiller--borderBottom"]}`]:l["scrollbarFiller--borderBottom"]},{[`& .${P["scrollbarFiller--borderTop"]}`]:l["scrollbarFiller--borderTop"]},{[`& .${P["scrollbarFiller--header"]}`]:l["scrollbarFiller--header"]},{[`& .${P["scrollbarFiller--pinnedRight"]}`]:l["scrollbarFiller--pinnedRight"]},{[`& .${P.sortIcon}`]:l.sortIcon},{[`& .${P.treeDataGroupingCell}`]:l.treeDataGroupingCell},{[`& .${P.treeDataGroupingCellLoadingContainer}`]:l.treeDataGroupingCellLoadingContainer},{[`& .${P.treeDataGroupingCellToggle}`]:l.treeDataGroupingCellToggle},{[`& .${P.withBorderColor}`]:l.withBorderColor}]})(({theme:t})=>{const l=zl(),s=fe(l,iD),i=rD(t),c=t.shape.borderRadius,d=t.vars?t.vars.palette.background.default:t.mixins.MuiDataGrid?.containerBackground??t.palette.background.default,g=t.mixins.MuiDataGrid?.pinnedBackground??d,p=t.vars?`rgba(${t.vars.palette.background.defaultChannel} / ${t.vars.palette.action.disabledOpacity})`:Br(t.palette.background.default,t.palette.action.disabledOpacity),m=(t.vars||t).palette.action.hoverOpacity,x=(t.vars||t).palette.action.hover,b=(t.vars||t).palette.action.selectedOpacity,C=t.vars?`calc(${m} + ${b})`:m+b,v=t.vars?`rgba(${t.vars.palette.primary.mainChannel} / ${b})`:Br(t.palette.primary.main,b),D=t.vars?`rgba(${t.vars.palette.primary.mainChannel} / ${C})`:Br(t.palette.primary.main,C),j=t.vars?fD:uD,F=U=>({[`& .${P["cell--pinnedLeft"]}, & .${P["cell--pinnedRight"]}`]:{backgroundColor:U,"&.Mui-selected":{backgroundColor:j(U,v,b),"&:hover":{backgroundColor:j(U,v,C)}}}}),I=j(g,x,m),k=F(I),T=j(g,v,b),z=F(T),V=j(g,D,C),R=F(V),$={backgroundColor:v,"&:hover":{backgroundColor:D,"@media (hover: none)":{backgroundColor:v}}};return w({"--unstable_DataGrid-radius":typeof c=="number"?`${c}px`:c,"--unstable_DataGrid-headWeight":t.typography.fontWeightMedium,"--unstable_DataGrid-overlayBackground":p,"--DataGrid-containerBackground":d,"--DataGrid-pinnedBackground":g,"--DataGrid-rowBorderColor":i,"--DataGrid-cellOffsetMultiplier":2,"--DataGrid-width":"0px","--DataGrid-hasScrollX":"0","--DataGrid-hasScrollY":"0","--DataGrid-scrollbarSize":"10px","--DataGrid-rowWidth":"0px","--DataGrid-columnsTotalWidth":"0px","--DataGrid-leftPinnedWidth":"0px","--DataGrid-rightPinnedWidth":"0px","--DataGrid-headerHeight":"0px","--DataGrid-headersTotalHeight":"0px","--DataGrid-topContainerHeight":"0px","--DataGrid-bottomContainerHeight":"0px",flex:1,boxSizing:"border-box",position:"relative",borderWidth:"1px",borderStyle:"solid",borderColor:i,borderRadius:"var(--unstable_DataGrid-radius)",color:(t.vars||t).palette.text.primary},t.typography.body2,{outline:"none",height:"100%",display:"flex",minWidth:0,minHeight:0,flexDirection:"column",overflow:"hidden",overflowAnchor:"none",transform:"translate(0, 0)",[`.${P.main} > *:first-child${sD}`]:{borderTopLeftRadius:"var(--unstable_DataGrid-radius)",borderTopRightRadius:"var(--unstable_DataGrid-radius)"},[`&.${P.autoHeight}`]:{height:"auto"},[`&.${P.autosizing}`]:{[`& .${P.columnHeaderTitleContainerContent} > *`]:{overflow:"visible !important"},"@media (hover: hover)":{[`& .${P.menuIcon}`]:{width:"0 !important",visibility:"hidden !important"}},[`& .${P.cell}`]:{overflow:"visible !important",whiteSpace:"nowrap",minWidth:"max-content !important",maxWidth:"max-content !important"},[`& .${P.groupingCriteriaCell}`]:{width:"unset"},[`& .${P.treeDataGroupingCell}`]:{width:"unset"}},[`& .${P.columnHeader}, & .${P.cell}`]:{WebkitTapHighlightColor:"transparent",padding:"0 10px",boxSizing:"border-box"},[`& .${P.columnHeader}:focus-within, & .${P.cell}:focus-within`]:{outline:`solid ${t.vars?`rgba(${t.vars.palette.primary.mainChannel} / 0.5)`:Br(t.palette.primary.main,.5)} ${Ra}px`,outlineOffset:Ra*-1},[`& .${P.columnHeader}:focus, & .${P.cell}:focus`]:{outline:`solid ${t.palette.primary.main} ${Ra}px`,outlineOffset:Ra*-1},[`& .${P.columnHeader}:focus,
      & .${P["columnHeader--withLeftBorder"]},
      & .${P["columnHeader--withRightBorder"]},
      & .${P["columnHeader--siblingFocused"]},
      & .${P["virtualScroller--hasScrollX"]} .${P["columnHeader--lastUnpinned"]},
      & .${P["virtualScroller--hasScrollX"]} .${P["columnHeader--last"]}
      `]:{[`& .${P.columnSeparator}`]:{opacity:0},"@media (hover: none)":{[`& .${P["columnSeparator--resizable"]}`]:{opacity:1}},[`& .${P["columnSeparator--resizable"]}:hover`]:{opacity:1}},[`&.${P["root--noToolbar"]} [aria-rowindex="1"] [aria-colindex="1"]`]:{borderTopLeftRadius:"calc(var(--unstable_DataGrid-radius) - 1px)"},[`&.${P["root--noToolbar"]} [aria-rowindex="1"] .${P["columnHeader--last"]}`]:{borderTopRightRadius:s?"calc(var(--unstable_DataGrid-radius) - 1px)":void 0},[`& .${P.columnHeaderCheckbox}, & .${P.cellCheckbox}`]:{padding:0,justifyContent:"center",alignItems:"center"},[`& .${P.columnHeader}`]:{position:"relative",display:"flex",alignItems:"center"},[`& .${P["virtualScroller--hasScrollX"]} .${P["columnHeader--last"]}`]:{overflow:"hidden"},[`& .${P["columnHeader--sorted"]} .${P.iconButtonContainer}, & .${P["columnHeader--filtered"]} .${P.iconButtonContainer}`]:{visibility:"visible",width:"auto"},[`& .${P.columnHeader}:not(.${P["columnHeader--sorted"]}) .${P.sortButton}`]:{opacity:0,transition:t.transitions.create(["opacity"],{duration:t.transitions.duration.shorter})},[`& .${P.columnHeaderTitleContainer}`]:{display:"flex",alignItems:"center",gap:t.spacing(.25),minWidth:0,flex:1,whiteSpace:"nowrap",overflow:"hidden"},[`& .${P.columnHeaderTitleContainerContent}`]:{overflow:"hidden",display:"flex",alignItems:"center"},[`& .${P["columnHeader--filledGroup"]} .${P.columnHeaderTitleContainer}`]:{borderBottomWidth:"1px",borderBottomStyle:"solid",boxSizing:"border-box"},[`& .${P.sortIcon}, & .${P.filterIcon}`]:{fontSize:"inherit"},[`& .${P["columnHeader--sortable"]}`]:{cursor:"pointer"},[`& .${P["columnHeader--alignCenter"]} .${P.columnHeaderTitleContainer}`]:{justifyContent:"center"},[`& .${P["columnHeader--alignRight"]} .${P.columnHeaderDraggableContainer}, & .${P["columnHeader--alignRight"]} .${P.columnHeaderTitleContainer}`]:{flexDirection:"row-reverse"},[`& .${P["columnHeader--alignCenter"]} .${P.menuIcon}`]:{marginLeft:"auto"},[`& .${P["columnHeader--alignRight"]} .${P.menuIcon}`]:{marginRight:"auto",marginLeft:-5},[`& .${P["columnHeader--moving"]}`]:{backgroundColor:(t.vars||t).palette.action.hover},[`& .${P["columnHeader--pinnedLeft"]}, & .${P["columnHeader--pinnedRight"]}`]:{position:"sticky",zIndex:40,background:"var(--DataGrid-pinnedBackground)"},[`& .${P.columnSeparator}`]:{position:"absolute",overflow:"hidden",zIndex:30,display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",maxWidth:aD,color:i},[`& .${P.columnHeaders}`]:{width:"var(--DataGrid-rowWidth)"},"@media (hover: hover)":{[`& .${P.columnHeader}:hover`]:{[`& .${P.menuIcon}`]:{width:"auto",visibility:"visible"},[`& .${P.iconButtonContainer}`]:{visibility:"visible",width:"auto"}},[`& .${P.columnHeader}:not(.${P["columnHeader--sorted"]}):hover .${P.sortButton}`]:{opacity:.5}},"@media (hover: none)":{[`& .${P.columnHeader} .${P.menuIcon}`]:{width:"auto",visibility:"visible"},[`& .${P.columnHeader}:focus,
        & .${P["columnHeader--siblingFocused"]}`]:{[`.${P["columnSeparator--resizable"]}`]:{color:(t.vars||t).palette.primary.main}}},[`& .${P["columnSeparator--sideLeft"]}`]:{left:eu},[`& .${P["columnSeparator--sideRight"]}`]:{right:eu},[`& .${P["columnHeader--withRightBorder"]} .${P["columnSeparator--sideLeft"]}`]:{left:eu-.5},[`& .${P["columnHeader--withRightBorder"]} .${P["columnSeparator--sideRight"]}`]:{right:eu-.5},[`& .${P["columnSeparator--resizable"]}`]:{cursor:"col-resize",touchAction:"none",[`&.${P["columnSeparator--resizing"]}`]:{color:(t.vars||t).palette.primary.main},"@media (hover: none)":{[`& .${P.iconSeparator} rect`]:_x},"@media (hover: hover)":{"&:hover":{color:(t.vars||t).palette.primary.main,[`& .${P.iconSeparator} rect`]:_x}},"& svg":{pointerEvents:"none"}},[`& .${P.iconSeparator}`]:{color:"inherit",transition:t.transitions.create(["color","width"],{duration:t.transitions.duration.shortest})},[`& .${P.menuIcon}`]:{width:0,visibility:"hidden",fontSize:20,marginRight:-5,display:"flex",alignItems:"center"},[`.${P.menuOpen}`]:{visibility:"visible",width:"auto"},[`& .${P.headerFilterRow}`]:{[`& .${P.columnHeader}`]:{boxSizing:"border-box",borderBottom:"1px solid var(--DataGrid-rowBorderColor)"}},[`& .${P["row--borderBottom"]} .${P.columnHeader},
      & .${P["row--borderBottom"]} .${P.filler},
      & .${P["row--borderBottom"]} .${P.scrollbarFiller}`]:{borderBottom:"1px solid var(--DataGrid-rowBorderColor)"},[`& .${P["row--borderBottom"]} .${P.cell}`]:{borderBottom:"1px solid var(--rowBorderColor)"},[`.${P.row}`]:{display:"flex",width:"var(--DataGrid-rowWidth)",breakInside:"avoid","--rowBorderColor":"var(--DataGrid-rowBorderColor)",[`&.${P["row--firstVisible"]}`]:{"--rowBorderColor":"transparent"},"&:hover":{backgroundColor:(t.vars||t).palette.action.hover,"@media (hover: none)":{backgroundColor:"transparent"}},[`&.${P.rowSkeleton}:hover`]:{backgroundColor:"transparent"},"&.Mui-selected":$},[`& .${P["container--top"]}, & .${P["container--bottom"]}`]:{"[role=row]":{background:"var(--DataGrid-containerBackground)"}},[`& .${P.cell}`]:{flex:"0 0 auto",height:"var(--height)",width:"var(--width)",lineHeight:"calc(var(--height) - 1px)",boxSizing:"border-box",borderTop:"1px solid var(--rowBorderColor)",overflow:"hidden",whiteSpace:"nowrap",textOverflow:"ellipsis","&.Mui-selected":$},[`& .${P["virtualScrollerContent--overflowed"]} .${P["row--lastVisible"]} .${P.cell}`]:{borderTopColor:"transparent"},[`& .${P["pinnedRows--top"]} :first-of-type`]:{[`& .${P.cell}, .${P.scrollbarFiller}`]:{borderTop:"none"}},[`&.${P["root--disableUserSelection"]}`]:{userSelect:"none"},[`& .${P["row--dynamicHeight"]} > .${P.cell}`]:{whiteSpace:"initial",lineHeight:"inherit"},[`& .${P.cellEmpty}`]:{flex:1,padding:0,height:"unset"},[`& .${P.cell}.${P["cell--selectionMode"]}`]:{cursor:"default"},[`& .${P.cell}.${P["cell--editing"]}`]:{padding:1,display:"flex",boxShadow:t.shadows[2],backgroundColor:(t.vars||t).palette.background.paper,"&:focus-within":{outline:`${Ra}px solid ${(t.vars||t).palette.primary.main}`,outlineOffset:Ra*-1}},[`& .${P["row--editing"]}`]:{boxShadow:t.shadows[2]},[`& .${P["row--editing"]} .${P.cell}`]:{boxShadow:t.shadows[0],backgroundColor:(t.vars||t).palette.background.paper},[`& .${P.editBooleanCell}`]:{display:"flex",height:"100%",width:"100%",alignItems:"center",justifyContent:"center"},[`& .${P.booleanCell}[data-value="true"]`]:{color:(t.vars||t).palette.text.secondary},[`& .${P.booleanCell}[data-value="false"]`]:{color:(t.vars||t).palette.text.disabled},[`& .${P.actionsCell}`]:{display:"inline-flex",alignItems:"center",gridGap:t.spacing(1)},[`& .${P.rowReorderCell}`]:{display:"inline-flex",flex:1,alignItems:"center",justifyContent:"center",opacity:(t.vars||t).palette.action.disabledOpacity},[`& .${P["rowReorderCell--draggable"]}`]:{cursor:"move",opacity:1},[`& .${P.rowReorderCellContainer}`]:{padding:0,display:"flex",alignItems:"stretch"},[`.${P.withBorderColor}`]:{borderColor:i},[`& .${P["cell--withLeftBorder"]}, & .${P["columnHeader--withLeftBorder"]}`]:{borderLeftColor:"var(--DataGrid-rowBorderColor)",borderLeftWidth:"1px",borderLeftStyle:"solid"},[`& .${P["cell--withRightBorder"]}, & .${P["columnHeader--withRightBorder"]}`]:{borderRightColor:"var(--DataGrid-rowBorderColor)",borderRightWidth:"1px",borderRightStyle:"solid"},[`& .${P["cell--flex"]}`]:{display:"flex",alignItems:"center",lineHeight:"inherit"},[`& .${P["cell--textLeft"]}`]:{textAlign:"left",justifyContent:"flex-start"},[`& .${P["cell--textRight"]}`]:{textAlign:"right",justifyContent:"flex-end"},[`& .${P["cell--textCenter"]}`]:{textAlign:"center",justifyContent:"center"},[`& .${P["cell--pinnedLeft"]}, & .${P["cell--pinnedRight"]}`]:{position:"sticky",zIndex:30,background:"var(--DataGrid-pinnedBackground)","&.Mui-selected":{backgroundColor:T}},[`& .${P.virtualScrollerContent} .${P.row}`]:{"&:hover":k,"&.Mui-selected":z,"&.Mui-selected:hover":R},[`& .${P.cellOffsetLeft}`]:{flex:"0 0 auto",display:"inline-block"},[`& .${P.cellSkeleton}`]:{flex:"0 0 auto",height:"100%",display:"inline-flex",alignItems:"center"},[`& .${P.columnHeaderDraggableContainer}`]:{display:"flex",width:"100%",height:"100%"},[`& .${P.rowReorderCellPlaceholder}`]:{display:"none"},[`& .${P["columnHeader--dragging"]}, & .${P["row--dragging"]}`]:{background:(t.vars||t).palette.background.paper,padding:"0 12px",borderRadius:"var(--unstable_DataGrid-radius)",opacity:(t.vars||t).palette.action.disabledOpacity},[`& .${P["row--dragging"]}`]:{background:(t.vars||t).palette.background.paper,padding:"0 12px",borderRadius:"var(--unstable_DataGrid-radius)",opacity:(t.vars||t).palette.action.disabledOpacity,[`& .${P.rowReorderCellPlaceholder}`]:{display:"flex"}},[`& .${P.treeDataGroupingCell}`]:{display:"flex",alignItems:"center",width:"100%"},[`& .${P.treeDataGroupingCellToggle}`]:{flex:"0 0 28px",alignSelf:"stretch",marginRight:t.spacing(2)},[`& .${P.treeDataGroupingCellLoadingContainer}, .${P.groupingCriteriaCellLoadingContainer}`]:{display:"flex",alignItems:"center",justifyContent:"center",height:"100%"},[`& .${P.groupingCriteriaCell}`]:{display:"flex",alignItems:"center",width:"100%"},[`& .${P.groupingCriteriaCellToggle}`]:{flex:"0 0 28px",alignSelf:"stretch",marginRight:t.spacing(2)},[`.${P.scrollbarFiller}`]:{minWidth:"calc(var(--DataGrid-hasScrollY) * var(--DataGrid-scrollbarSize))",alignSelf:"stretch",[`&.${P["scrollbarFiller--borderTop"]}`]:{borderTop:"1px solid var(--DataGrid-rowBorderColor)"},[`&.${P["scrollbarFiller--borderBottom"]}`]:{borderBottom:"1px solid var(--DataGrid-rowBorderColor)"},[`&.${P["scrollbarFiller--pinnedRight"]}`]:{backgroundColor:"var(--DataGrid-pinnedBackground)",position:"sticky",right:0}},[`& .${P.filler}`]:{flex:"1 0 auto"},[`& .${P["filler--borderBottom"]}`]:{borderBottom:"1px solid var(--DataGrid-rowBorderColor)"},[`& .${P["main--hasSkeletonLoadingOverlay"]}`]:{[`& .${P.virtualScrollerContent}`]:{position:"fixed",visibility:"hidden"},[`& .${P["scrollbar--vertical"]}, & .${P.pinnedRows}, & .${P.virtualScroller} > .${P.filler}`]:{display:"none"}}})});function uD(t,l,s,i=1){const c=(m,x)=>Math.round((m**(1/i)*(1-s)+x**(1/i)*s)**i),d=ox(t),g=ox(l),p=[c(d.values[0],g.values[0]),c(d.values[1],g.values[1]),c(d.values[2],g.values[2])];return qw({type:"rgb",values:p})}const dD=t=>`rgb(from ${t} r g b / 1)`;function fD(t,l,s){return`color-mix(in srgb,${t}, ${dD(l)} calc(${s} * 100%))`}const hD=()=>()=>{},gD=()=>!1,mD=()=>!0,pD=()=>Lh.useSyncExternalStore(hD,gD,mD);function bD(){const t=Re(),l=fe(t,Fl),s=we(),i=fe(t,Yr),c=t.current.unstable_applyPipeProcessors("preferencePanel",null,i.openedPanelValue??ql.filters);return r.jsx(s.slots.panel,w({as:s.slots.basePopper,open:l.length>0&&i.open,id:i.panelId,"aria-labelledby":i.labelId},s.slotProps?.panel,s.slotProps?.basePopper,{children:c}))}function xD(){const t=we();return r.jsxs(h.Fragment,{children:[r.jsx(bD,{}),t.slots.toolbar&&r.jsx(t.slots.toolbar,w({},t.slotProps?.toolbar))]})}const CD=["className","children"],yD=(t,l)=>{const{autoHeight:s,classes:i,showCellVerticalBorder:c}=t,d={root:["root",s&&"autoHeight",`root--density${Qa(l)}`,t.slots.toolbar===null&&"root--noToolbar","withBorderColor",c&&"withVerticalBorder"]};return Ke(d,Qe,i)},vD=Xe(function(l,s){const i=we(),{className:c,children:d}=l,g=Ee(l,CD),p=zl(),m=fe(p,Ur),x=p.current.rootElementRef,b=h.useCallback(F=>{F!==null&&p.current.publishEvent("rootMount",F)},[p]),C=Po(x,s,b),v=i,D=yD(v,m);return pD()?null:r.jsxs(cD,w({className:lt(D.root,c),ownerState:v},g,{ref:C,children:[r.jsx(xD,{}),r.jsx(NE,{children:d}),r.jsx(GE,{})]}))}),wD=Ro(vD),SD=["className"],jD=t=>{const{classes:l}=t;return Ke({root:["footerContainer","withBorderColor"]},Qe,l)},MD=Tt("div",{name:"MuiDataGrid",slot:"FooterContainer",overridesResolver:(t,l)=>l.footerContainer})({display:"flex",justifyContent:"space-between",alignItems:"center",minHeight:52,borderTop:"1px solid"}),ED=Xe(function(l,s){const{className:i}=l,c=Ee(l,SD),d=we(),g=jD(d);return r.jsx(MD,w({className:lt(g.root,i),ownerState:d},c,{ref:s}))}),DD=["className"],TD=t=>{const{classes:l}=t;return Ke({root:["overlay"]},Qe,l)},ID=Tt("div",{name:"MuiDataGrid",slot:"Overlay",overridesResolver:(t,l)=>l.overlay})({width:"100%",height:"100%",display:"flex",alignSelf:"center",alignItems:"center",justifyContent:"center",backgroundColor:"var(--unstable_DataGrid-overlayBackground)"}),rg=Xe(function(l,s){const{className:i}=l,c=Ee(l,DD),d=we(),g=TD(d);return r.jsx(ID,w({className:lt(g.root,i),ownerState:d},c,{ref:s}))}),FD=["className","children"],AD=t=>{const{classes:l}=t;return Ke({root:["toolbarContainer"]},Qe,l)},zD=Tt("div",{name:"MuiDataGrid",slot:"ToolbarContainer",overridesResolver:(t,l)=>l.toolbarContainer})(({theme:t})=>({display:"flex",alignItems:"center",flexWrap:"wrap",gap:t.spacing(1),padding:t.spacing(.5,.5,0)})),OD=Xe(function(l,s){const{className:i,children:c}=l,d=Ee(l,FD),g=we(),p=AD(g);return c?r.jsx(zD,w({className:lt(p.root,i),ownerState:g},d,{ref:s,children:c})):null}),kD=t=>{const{classes:l,open:s}=t;return Ke({root:["menuIcon",s&&"menuOpen"],button:["menuIconButton"]},Qe,l)},HD=h.memo(t=>{const{colDef:l,open:s,columnMenuId:i,columnMenuButtonId:c,iconButtonRef:d}=t,g=Re(),p=we(),m=w({},t,{classes:p.classes}),x=kD(m),b=h.useCallback(v=>{v.preventDefault(),v.stopPropagation(),g.current.toggleColumnMenu(l.field)},[g,l.field]),C=l.headerName??l.field;return r.jsx("div",{className:x.root,children:r.jsx(p.slots.baseTooltip,w({title:g.current.getLocaleText("columnMenuLabel"),enterDelay:1e3},p.slotProps?.baseTooltip,{children:r.jsx(p.slots.baseIconButton,w({ref:d,tabIndex:-1,className:x.button,"aria-label":g.current.getLocaleText("columnMenuAriaLabel")(C),size:"small",onClick:b,"aria-haspopup":"menu","aria-expanded":s,"aria-controls":s?i:void 0,id:c},p.slotProps?.baseIconButton,{children:r.jsx(p.slots.columnMenuIcon,{fontSize:"inherit"})}))}))})});function PD({columnMenuId:t,columnMenuButtonId:l,ContentComponent:s,contentComponentProps:i,field:c,open:d,target:g,onExited:p}){const m=Re(),x=m.current.getColumn(c),b=Nt(C=>{C&&(C.stopPropagation(),g?.contains(C.target))||m.current.hideColumnMenu()});return!g||!x?null:r.jsx(Mu,{placement:`bottom-${x.align==="right"?"start":"end"}`,open:d,target:g,onClose:b,onExited:p,children:r.jsx(s,w({colDef:x,hideMenu:b,open:d,id:t,labelledby:l},i))})}function RD(t){return t.scrollHeight>t.clientHeight||t.scrollWidth>t.clientWidth}function pu(t,l){return t.closest(`.${l}`)}function No(t){return t.replace(/["\\]/g,"\\$&")}function ND(t,l){return t.querySelector(`[role="columnheader"][data-field="${No(l)}"]`)}function X0(t){return`.${P.row}[data-id="${No(String(t))}"]`}function GD(t,l){return t.querySelector(X0(l))}function LD(t,{id:l,field:s}){const i=X0(l),c=`.${P.cell}[data-field="${No(s)}"]`,d=`${i} ${c}`;return t.querySelector(d)}function Hi(t){return t.target.nodeType===1&&!t.currentTarget.contains(t.target)}function BD(t){return t.getAttribute("data-field")}function _D(t,l){return t.querySelector(`[data-field="${No(l)}"]`)}function VD(t){return t.getAttribute("data-fields").slice(2,-2).split("-|-")}function UD(t,l){return Array.from(t.querySelectorAll(`[data-fields*="|-${No(l)}-|"]`)??[])}function $D(t,l){if(!pu(t,P.root))throw new Error("MUI X: The root element is not found.");const i=t.getAttribute("aria-colindex");if(!i)return[];const c=Number(i)-1,d=[];return l.virtualScrollerRef?.current?(J0(l).forEach(g=>{const p=g.getAttribute("data-id");if(!p)return;let m=c;const x=l.unstable_getCellColSpanInfo(p,c);x&&x.spannedByColSpan&&(m=x.leftVisibleCellIndex);const b=g.querySelector(`[data-colindex="${m}"]`);b&&d.push(b)}),d):[]}function Vx(t,l){return t.rootElementRef.current.querySelector(`.${P[l]}`)}const Q0=({api:t,colIndex:l,position:s,filterFn:i})=>{if(l===null)return[];const c=[];return J0(t).forEach(d=>{d.getAttribute("data-id")&&d.querySelectorAll(`.${P[s==="left"?"cell--pinnedLeft":"cell--pinnedRight"]}`).forEach(p=>{const m=ss(p);m!==null&&i(m)&&c.push(p)})}),c};function WD(t,l,s){const i=ss(l);return Q0({api:t,colIndex:i,position:s?"right":"left",filterFn:c=>s?c<i:c>i})}function qD(t,l,s){const i=ss(l);return Q0({api:t,colIndex:i,position:s?"left":"right",filterFn:c=>s?c>i:c<i})}const Z0=({api:t,colIndex:l,position:s,filterFn:i})=>{if(!t.columnHeadersContainerRef?.current)return[];if(l===null)return[];const c=[];return t.columnHeadersContainerRef.current.querySelectorAll(`.${P[s==="left"?"columnHeader--pinnedLeft":"columnHeader--pinnedRight"]}`).forEach(d=>{const g=ss(d);g!==null&&i(g,d)&&c.push(d)}),c};function YD(t,l,s){const i=ss(l);return Z0({api:t,position:s?"right":"left",colIndex:i,filterFn:c=>s?c<i:c>i})}function KD(t,l,s){const i=ss(l);return Z0({api:t,position:s?"left":"right",colIndex:i,filterFn:(c,d)=>d.classList.contains(P["columnHeader--last"])?!1:s?c>i:c<i})}function XD(t,l){return t.columnHeadersContainerRef.current.querySelector(`:scope > div > [data-field="${No(l)}"][role="columnheader"]`)}function QD(t,l){const s=t.virtualScrollerRef.current;return Array.from(s.querySelectorAll(`:scope > div > div > div > [data-field="${No(l)}"][role="gridcell"]`))}function J0(t){return t.virtualScrollerRef.current.querySelectorAll(`:scope > div > div > .${P.row}`)}function ss(t){const l=t.getAttribute("aria-colindex");return l?Number(l)-1:null}const ZD=["className","aria-label"],JD=t=>{const{classes:l}=t;return Ke({root:["columnHeaderTitle"]},Qe,l)},e2=Tt("div",{name:"MuiDataGrid",slot:"ColumnHeaderTitle",overridesResolver:(t,l)=>l.columnHeaderTitle})({textOverflow:"ellipsis",overflow:"hidden",whiteSpace:"nowrap",fontWeight:"var(--unstable_DataGrid-headWeight)",lineHeight:"normal"}),t2=Xe(function(l,s){const{className:i}=l,c=Ee(l,ZD),d=we(),g=JD(d);return r.jsx(e2,w({className:lt(g.root,i),ownerState:d},c,{ref:s}))});function n2(t){const{label:l,description:s}=t,i=we(),c=h.useRef(null),[d,g]=h.useState(""),p=h.useCallback(()=>{if(!s&&c?.current){const m=RD(c.current);g(m?l:"")}},[s,l]);return r.jsx(i.slots.baseTooltip,w({title:s||d},i.slotProps?.baseTooltip,{children:r.jsx(t2,{onMouseOver:p,ref:c,children:l})}))}const l2=["resizable","resizing","height","side"];var ag=(function(t){return t.Left="left",t.Right="right",t})(ag||{});const o2=t=>{const{resizable:l,resizing:s,classes:i,side:c}=t,d={root:["columnSeparator",l&&"columnSeparator--resizable",s&&"columnSeparator--resizing",c&&`columnSeparator--side${Qa(c)}`],icon:["iconSeparator"]};return Ke(d,Qe,i)};function r2(t){const{height:l,side:s=ag.Right}=t,i=Ee(t,l2),c=we(),d=w({},t,{side:s,classes:c.classes}),g=o2(d),p=h.useCallback(m=>{m.preventDefault(),m.stopPropagation()},[]);return r.jsx("div",w({className:g.root,style:{minHeight:l}},i,{onClick:p,children:r.jsx(c.slots.columnResizeIcon,{className:g.icon})}))}const a2=h.memo(r2),s2=["classes","columnMenuOpen","colIndex","height","isResizing","sortDirection","hasFocus","tabIndex","separatorSide","isDraggable","headerComponent","description","elementId","width","columnMenuIconButton","columnMenu","columnTitleIconButtons","headerClassName","label","resizable","draggableContainerProps","columnHeaderSeparatorProps","style"],ey=Xe(function(l,s){const{classes:i,colIndex:c,height:d,isResizing:g,sortDirection:p,tabIndex:m,separatorSide:x,isDraggable:b,headerComponent:C,description:v,width:D,columnMenuIconButton:j=null,columnMenu:F=null,columnTitleIconButtons:I=null,headerClassName:k,label:T,resizable:z,draggableContainerProps:V,columnHeaderSeparatorProps:R,style:$}=l,_=Ee(l,s2),U=we(),A=h.useRef(null),E=Po(A,s);let B="none";return p!=null&&(B=p==="asc"?"ascending":"descending"),r.jsxs("div",w({className:lt(i.root,k),style:w({},$,{height:d,width:D}),role:"columnheader",tabIndex:m,"aria-colindex":c+1,"aria-sort":B},_,{ref:E,children:[r.jsxs("div",w({className:i.draggableContainer,draggable:b,role:"presentation"},V,{children:[r.jsxs("div",{className:i.titleContainer,role:"presentation",children:[r.jsx("div",{className:i.titleContainerContent,children:C!==void 0?C:r.jsx(n2,{label:T,description:v,columnWidth:D})}),I]}),j]})),r.jsx(a2,w({resizable:!U.disableColumnResize&&!!z,resizing:g,height:d,side:x},R)),F]}))}),i2=t=>{const{colDef:l,classes:s,isDragging:i,sortDirection:c,showRightBorder:d,showLeftBorder:g,filterItemsCounter:p,pinnedPosition:m,isLastUnpinned:x,isSiblingFocused:b}=t,C=c!=null,v=p!=null&&p>0,D=l.type==="number",j={root:["columnHeader",l.headerAlign==="left"&&"columnHeader--alignLeft",l.headerAlign==="center"&&"columnHeader--alignCenter",l.headerAlign==="right"&&"columnHeader--alignRight",l.sortable&&"columnHeader--sortable",i&&"columnHeader--moving",C&&"columnHeader--sorted",v&&"columnHeader--filtered",D&&"columnHeader--numeric","withBorderColor",d&&"columnHeader--withRightBorder",g&&"columnHeader--withLeftBorder",m===et.LEFT&&"columnHeader--pinnedLeft",m===et.RIGHT&&"columnHeader--pinnedRight",x&&"columnHeader--lastUnpinned",b&&"columnHeader--siblingFocused"],draggableContainer:["columnHeaderDraggableContainer"],titleContainer:["columnHeaderTitleContainer"],titleContainerContent:["columnHeaderTitleContainerContent"]};return Ke(j,Qe,s)};function c2(t){const{colDef:l,columnMenuOpen:s,colIndex:i,headerHeight:c,isResizing:d,isLast:g,sortDirection:p,sortIndex:m,filterItemsCounter:x,hasFocus:b,tabIndex:C,disableReorder:v,separatorSide:D,showLeftBorder:j,showRightBorder:F,pinnedPosition:I,pinnedOffset:k}=t,T=zl(),z=we(),V=co(),R=h.useRef(null),$=Ot(),_=Ot(),U=h.useRef(null),[A,E]=h.useState(s),B=h.useMemo(()=>!z.disableColumnReorder&&!v&&!l.disableReorder,[z.disableColumnReorder,v,l.disableReorder]);let N;l.renderHeader&&(N=l.renderHeader(T.current.getColumnHeaderParams(l.field)));const O=w({},t,{classes:z.classes,showRightBorder:F,showLeftBorder:j}),K=i2(O),G=h.useCallback(Te=>Se=>{Hi(Se)||T.current.publishEvent(Te,T.current.getColumnHeaderParams(l.field),Se)},[T,l.field]),S=h.useMemo(()=>({onClick:G("columnHeaderClick"),onContextMenu:G("columnHeaderContextMenu"),onDoubleClick:G("columnHeaderDoubleClick"),onMouseOver:G("columnHeaderOver"),onMouseOut:G("columnHeaderOut"),onMouseEnter:G("columnHeaderEnter"),onMouseLeave:G("columnHeaderLeave"),onKeyDown:G("columnHeaderKeyDown"),onFocus:G("columnHeaderFocus"),onBlur:G("columnHeaderBlur")}),[G]),M=h.useMemo(()=>B?{onDragStart:G("columnHeaderDragStart"),onDragEnter:G("columnHeaderDragEnter"),onDragOver:G("columnHeaderDragOver"),onDragEnd:G("columnHeaderDragEnd")}:{},[B,G]),L=h.useMemo(()=>({onMouseDown:G("columnSeparatorMouseDown"),onDoubleClick:G("columnSeparatorDoubleClick")}),[G]);h.useEffect(()=>{A||E(s)},[A,s]);const q=h.useCallback(()=>{E(!1)},[]),Y=!z.disableColumnMenu&&!l.disableColumnMenu&&r.jsx(HD,{colDef:l,columnMenuId:$,columnMenuButtonId:_,open:A,iconButtonRef:U}),W=r.jsx(PD,{columnMenuId:$,columnMenuButtonId:_,field:l.field,open:s,target:U.current,ContentComponent:z.slots.columnMenu,contentComponentProps:z.slotProps?.columnMenu,onExited:q}),Q=l.sortingOrder??z.sortingOrder,le=(l.sortable||p!=null)&&!l.hideSortIcons&&!z.disableColumnSorting,re=r.jsxs(h.Fragment,{children:[!z.disableColumnFilter&&r.jsx(z.slots.columnHeaderFilterIconButton,w({field:l.field,counter:x},z.slotProps?.columnHeaderFilterIconButton)),le&&r.jsx(z.slots.columnHeaderSortIcon,w({field:l.field,direction:p,index:m,sortingOrder:Q,disabled:!l.sortable},z.slotProps?.columnHeaderSortIcon))]});h.useLayoutEffect(()=>{const Te=T.current.state.columnMenu;if(b&&!Te.open){const Ae=R.current.querySelector('[tabindex="0"]')||R.current;if(!Ae)return;if(og())Ae.focus({preventScroll:!0});else{const Ne=T.current.getScrollPosition();Ae.focus(),T.current.scroll(Ne)}}},[T,b]);const me=typeof l.headerClassName=="function"?l.headerClassName({field:l.field,colDef:l}):l.headerClassName,ce=l.headerName??l.field,ve=h.useMemo(()=>Hu(w({},t.style),V,I,k),[I,k,t.style,V]);return r.jsx(ey,w({ref:R,classes:K,columnMenuOpen:s,colIndex:i,height:c,isResizing:d,sortDirection:p,hasFocus:b,tabIndex:C,separatorSide:D,isDraggable:B,headerComponent:N,description:l.description,elementId:l.field,width:l.computedWidth,columnMenuIconButton:Y,columnTitleIconButtons:re,headerClassName:lt(me,g&&P["columnHeader--last"]),label:ce,resizable:!z.disableColumnResize&&!!l.resizable,"data-field":l.field,columnMenu:W,draggableContainerProps:M,columnHeaderSeparatorProps:L,style:ve},S))}const u2=Ro(c2),d2=["className"],f2=t=>{const{classes:l}=t;return Ke({root:["iconButtonContainer"]},Qe,l)},h2=Tt("div",{name:"MuiDataGrid",slot:"IconButtonContainer",overridesResolver:(t,l)=>l.iconButtonContainer})(()=>({display:"flex",visibility:"hidden",width:0})),ty=Xe(function(l,s){const{className:i}=l,c=Ee(l,d2),d=we(),g=f2(d);return r.jsx(h2,w({className:lt(g.root,i),ownerState:d},c,{ref:s}))}),g2=["direction","index","sortingOrder","disabled","className"],m2=t=>{const{classes:l}=t;return Ke({root:["sortButton"],icon:["sortIcon"]},Qe,l)};function p2(t,l,s,i){let c;const d={};return l==="asc"?c=t.columnSortedAscendingIcon:l==="desc"?c=t.columnSortedDescendingIcon:(c=t.columnUnsortedIcon,d.sortingOrder=i),c?r.jsx(c,w({fontSize:"small",className:s},d)):null}function b2(t){const{direction:l,index:s,sortingOrder:i,disabled:c,className:d}=t,g=Ee(t,g2),p=Re(),m=we(),x=w({},t,{classes:m.classes}),b=m2(x),C=p2(m.slots,l,b.icon,i);if(!C)return null;const v=r.jsx(m.slots.baseIconButton,w({tabIndex:-1,"aria-label":p.current.getLocaleText("columnHeaderSortIconLabel"),title:p.current.getLocaleText("columnHeaderSortIconLabel"),size:"small",disabled:c,className:lt(b.root,d)},m.slotProps?.baseIconButton,g,{children:C}));return r.jsxs(ty,{children:[s!=null&&r.jsx(m.slots.baseBadge,{badgeContent:s,color:"default",overlap:"circular",children:v}),s==null&&v]})}const x2=h.memo(b2),C2=t=>{const{classes:l}=t;return Ke({icon:["filterIcon"]},Qe,l)};function y2(t){return t.counter?r.jsx(v2,w({},t)):null}function v2(t){const{counter:l,field:s,onClick:i}=t,c=Re(),d=we(),g=w({},t,{classes:d.classes}),p=C2(g),m=Ot(),x=Ci(c,AE,m),b=Ot(),C=h.useCallback(D=>{D.preventDefault(),D.stopPropagation();const{open:j,openedPanelValue:F}=Yr(c.current.state);j&&F===ql.filters?c.current.hideFilterPanel():c.current.showFilterPanel(void 0,b,m),i&&i(c.current.getColumnHeaderParams(s),D)},[c,s,i,b,m]);if(!l)return null;const v=r.jsx(d.slots.baseIconButton,w({id:m,onClick:C,color:"default","aria-label":c.current.getLocaleText("columnHeaderFiltersLabel"),size:"small",tabIndex:-1,"aria-haspopup":"menu","aria-expanded":x,"aria-controls":x?b:void 0},d.slotProps?.baseIconButton,{children:r.jsx(d.slots.columnFilteredIcon,{className:p.icon,fontSize:"small"})}));return r.jsx(d.slots.baseTooltip,w({title:c.current.getLocaleText("columnHeaderFiltersTooltipActive")(l),enterDelay:1e3},d.slotProps?.baseTooltip,{children:r.jsxs(ty,{children:[l>1&&r.jsx(d.slots.baseBadge,{badgeContent:l,color:"default",children:v}),l===1&&v]})}))}const Ux=kt(r.jsx("path",{d:"M4 12l1.41 1.41L11 7.83V20h2V7.83l5.58 5.59L20 12l-8-8-8 8z"}),"ArrowUpward"),$x=kt(r.jsx("path",{d:"M20 12l-1.41-1.41L13 16.17V4h-2v12.17l-5.58-5.59L4 12l8 8 8-8z"}),"ArrowDownward"),Wx=kt(r.jsx("path",{d:"M8.59 16.59 13.17 12 8.59 7.41 10 6l6 6-6 6-1.41-1.41z"}),"KeyboardArrowRight"),qx=kt(r.jsx("path",{d:"M16.59 8.59 12 13.17 7.41 8.59 6 10l6 6 6-6z"}),"ExpandMore"),w2=kt(r.jsx("path",{d:"M10 18h4v-2h-4v2zM3 6v2h18V6H3zm3 7h12v-2H6v2z"}),"FilterList"),Yx=kt(r.jsx("path",{d:"M4.25 5.61C6.27 8.2 10 13 10 13v6c0 .55.45 1 1 1h2c.55 0 1-.45 1-1v-6s3.72-4.8 5.74-7.39c.51-.66.04-1.61-.79-1.61H5.04c-.83 0-1.3.95-.79 1.61z"}),"FilterAlt"),S2=kt(r.jsx("path",{d:"M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19l-4.99-5zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14z"}),"Search");kt(r.jsx("path",{d:"M3 18h18v-2H3v2zm0-5h18v-2H3v2zm0-7v2h18V6H3z"}),"Menu");kt(r.jsx("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-2 15l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z"}),"CheckCircle");const j2=kt(r.jsx("path",{d:"M6 5H3c-.55 0-1 .45-1 1v12c0 .55.45 1 1 1h3c.55 0 1-.45 1-1V6c0-.55-.45-1-1-1zm14 0h-3c-.55 0-1 .45-1 1v12c0 .55.45 1 1 1h3c.55 0 1-.45 1-1V6c0-.55-.45-1-1-1zm-7 0h-3c-.55 0-1 .45-1 1v12c0 .55.45 1 1 1h3c.55 0 1-.45 1-1V6c0-.55-.45-1-1-1z"}),"ColumnIcon"),M2=kt(r.jsx("rect",{width:"1",height:"24",x:"11.5",rx:"0.5"}),"Separator"),E2=kt(r.jsx("path",{d:"M4 15h16v-2H4v2zm0 4h16v-2H4v2zm0-8h16V9H4v2zm0-6v2h16V5H4z"}),"ViewHeadline"),D2=kt(r.jsx("path",{d:"M21,8H3V4h18V8z M21,10H3v4h18V10z M21,16H3v4h18V16z"}),"TableRows"),T2=kt(r.jsx("path",{d:"M4 18h17v-6H4v6zM4 5v6h17V5H4z"}),"ViewStream"),I2=kt(r.jsx("path",{d:"M12 8c1.1 0 2-.9 2-2s-.9-2-2-2-2 .9-2 2 .9 2 2 2zm0 2c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm0 6c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2z"}),"TripleDotsVertical"),rh=kt(r.jsx("path",{d:"M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"}),"Close"),Kx=kt(r.jsx("path",{d:"M19 13h-6v6h-2v-6H5v-2h6V5h2v6h6v2z"}),"Add"),F2=kt(r.jsx("path",{d:"M19 13H5v-2h14v2z"}),"Remove"),A2=kt(r.jsx("path",{d:"M12 4V1L8 5l4 4V6c3.31 0 6 2.69 6 6 0 1.01-.25 1.97-.7 2.8l1.46 1.46C19.54 15.03 20 13.57 20 12c0-4.42-3.58-8-8-8zm0 14c-3.31 0-6-2.69-6-6 0-1.01.25-1.97.7-2.8L5.24 7.74C4.46 8.97 4 10.43 4 12c0 4.42 3.58 8 8 8v3l4-4-4-4v3z"}),"Load"),Xx=kt(r.jsx("path",{d:"M11 18c0 1.1-.9 2-2 2s-2-.9-2-2 .9-2 2-2 2 .9 2 2zm-2-8c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm0-6c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm6 4c1.1 0 2-.9 2-2s-.9-2-2-2-2 .9-2 2 .9 2 2 2zm0 2c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm0 6c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2z"}),"Drag"),z2=kt(r.jsx("path",{d:"M19 12v7H5v-7H3v7c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2v-7h-2zm-6 .67l2.59-2.58L17 11.5l-5 5-5-5 1.41-1.41L11 12.67V3h2z"}),"SaveAlt"),O2=kt(r.jsx("path",{d:"M9 16.17L4.83 12l-1.42 1.41L9 19 21 7l-1.41-1.41z"}),"Check"),k2=kt(r.jsx("path",{d:"M12 8c1.1 0 2-.9 2-2s-.9-2-2-2-2 .9-2 2 .9 2 2 2zm0 2c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm0 6c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2z"}),"MoreVert"),H2=kt(r.jsx("path",{d:"M12 7c2.76 0 5 2.24 5 5 0 .65-.13 1.26-.36 1.83l2.92 2.92c1.51-1.26 2.7-2.89 3.43-4.75-1.73-4.39-6-7.5-11-7.5-1.4 0-2.74.25-3.98.7l2.16 2.16C10.74 7.13 11.35 7 12 7zM2 4.27l2.28 2.28.46.46C3.08 8.3 1.78 10.02 1 12c1.73 4.39 6 7.5 11 7.5 1.55 0 3.03-.3 4.38-.84l.42.42L19.73 22 21 20.73 3.27 3 2 4.27zM7.53 9.8l1.55 1.55c-.05.21-.08.43-.08.65 0 1.66 1.34 3 3 3 .22 0 .44-.03.65-.08l1.55 1.55c-.67.33-1.41.53-2.2.53-2.76 0-5-2.24-5-5 0-.79.2-1.53.53-2.2zm4.31-.78l3.15 3.15.02-.16c0-1.66-1.34-3-3-3l-.17.01z"}),"VisibilityOff"),P2=kt(r.jsx("g",{children:r.jsx("path",{d:"M14.67,5v14H9.33V5H14.67z M15.67,19H21V5h-5.33V19z M8.33,19V5H3v14H8.33z"})}),"ViewColumn"),R2=kt(r.jsx("path",{d:"M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"}),"Clear");kt(r.jsx("path",{d:"M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6v12zM19 4h-3.5l-1-1h-5l-1 1H5v2h14V4z"}),"Delete");const N2=kt(r.jsx("path",{d:"M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6v12zm2.46-7.12l1.41-1.41L12 12.59l2.12-2.12 1.41 1.41L13.41 14l2.12 2.12-1.41 1.41L12 15.41l-2.12 2.12-1.41-1.41L10.59 14l-2.13-2.12zM15.5 4l-1-1h-5l-1 1H5v2h14V4z"}),"Delete");function ny(t){return t.key.length===1&&!t.ctrlKey&&!t.metaKey}const bu=t=>t.indexOf("Arrow")===0||t.indexOf("Page")===0||t===" "||t==="Home"||t==="End",G2=t=>!!t.key,sg=t=>t==="Tab"||t==="Escape";function ly(t){return(t.ctrlKey||t.metaKey)&&String.fromCharCode(t.keyCode)==="V"&&!t.shiftKey&&!t.altKey}function L2(t){return(t.ctrlKey||t.metaKey)&&String.fromCharCode(t.keyCode)==="C"&&!t.shiftKey&&!t.altKey}const B2=["hideMenu","colDef","id","labelledby","className","children","open"],_2=Ut(wu)(()=>({minWidth:248})),V2=Xe(function(l,s){const{hideMenu:i,id:c,labelledby:d,className:g,children:p,open:m}=l,x=Ee(l,B2),b=h.useCallback(C=>{C.key==="Tab"&&C.preventDefault(),sg(C.key)&&i(C)},[i]);return r.jsx(_2,w({id:c,className:lt(P.menuList,g),"aria-labelledby":d,onKeyDown:b,autoFocus:m},x,{ref:s,children:p}))}),U2=["displayOrder"],$2=t=>{const l=zl(),s=we(),{defaultSlots:i,defaultSlotProps:c,slots:d={},slotProps:g={},hideMenu:p,colDef:m,addDividers:x=!0}=t,b=h.useMemo(()=>w({},i,d),[i,d]),C=h.useMemo(()=>{if(!g||Object.keys(g).length===0)return c;const j=w({},g);return Object.entries(c).forEach(([F,I])=>{j[F]=w({},I,g[F]||{})}),j},[c,g]),v=l.current.unstable_applyPipeProcessors("columnMenu",[],t.colDef),D=h.useMemo(()=>{const j=Object.keys(i);return Object.keys(d).filter(F=>!j.includes(F))},[d,i]);return h.useMemo(()=>{const I=Array.from(new Set([...v,...D])).filter(k=>b[k]!=null).sort((k,T)=>{const z=C[k],V=C[T],R=Number.isFinite(z?.displayOrder)?z.displayOrder:100,$=Number.isFinite(V?.displayOrder)?V.displayOrder:100;return R-$});return I.reduce((k,T,z)=>{let V={colDef:m,onClick:p};const R=C[T];if(R){const $=Ee(R,U2);V=w({},V,$)}return x&&z!==I.length-1?[...k,[b[T],V],[s.slots.baseDivider,{}]]:[...k,[b[T],V]]},[])},[x,m,v,p,b,C,D,s.slots.baseDivider])};function W2(t){const{colDef:l,onClick:s}=t,i=Re(),c=we(),p=qt(i).filter(x=>x.disableColumnMenu!==!0).length===1,m=h.useCallback(x=>{p||(i.current.setColumnVisibility(l.field,!1),s(x))},[i,l.field,s,p]);return c.disableColumnSelector||l.hideable===!1?null:r.jsxs(Ve,{onClick:m,disabled:p,children:[r.jsx(hr,{children:r.jsx(c.slots.columnMenuHideIcon,{fontSize:"small"})}),r.jsx(gr,{children:i.current.getLocaleText("columnMenuHideColumn")})]})}function q2(t){const{onClick:l}=t,s=Re(),i=we(),c=h.useCallback(d=>{l(d),s.current.showPreferences(ql.columns)},[s,l]);return i.disableColumnSelector?null:r.jsxs(Ve,{onClick:c,children:[r.jsx(hr,{children:r.jsx(i.slots.columnMenuManageColumnsIcon,{fontSize:"small"})}),r.jsx(gr,{children:s.current.getLocaleText("columnMenuManageColumns")})]})}function Y2(t){return r.jsxs(h.Fragment,{children:[r.jsx(W2,w({},t)),r.jsx(q2,w({},t))]})}function K2(t){const{colDef:l,onClick:s}=t,i=Re(),c=we(),d=h.useCallback(g=>{s(g),i.current.showFilterPanel(l.field)},[i,l.field,s]);return c.disableColumnFilter||!l.filterable?null:r.jsxs(Ve,{onClick:d,children:[r.jsx(hr,{children:r.jsx(c.slots.columnMenuFilterIcon,{fontSize:"small"})}),r.jsx(gr,{children:i.current.getLocaleText("columnMenuFilter")})]})}function X2(t){const{colDef:l,onClick:s}=t,i=Re(),c=fe(i,_l),d=we(),g=h.useMemo(()=>l?c.find(C=>C.field===l.field)?.sort:null,[l,c]),p=l.sortingOrder??d.sortingOrder,m=h.useCallback(b=>{s(b);const C=b.currentTarget.getAttribute("data-value")||null;i.current.sortColumn(l.field,C===g?null:C)},[i,l,s,g]);if(d.disableColumnSorting||!l||!l.sortable||!p.some(b=>!!b))return null;const x=b=>{const C=i.current.getLocaleText(b);return typeof C=="function"?C(l):C};return r.jsxs(h.Fragment,{children:[p.includes("asc")&&g!=="asc"?r.jsxs(Ve,{onClick:m,"data-value":"asc",children:[r.jsx(hr,{children:r.jsx(d.slots.columnMenuSortAscendingIcon,{fontSize:"small"})}),r.jsx(gr,{children:x("columnMenuSortAsc")})]}):null,p.includes("desc")&&g!=="desc"?r.jsxs(Ve,{onClick:m,"data-value":"desc",children:[r.jsx(hr,{children:r.jsx(d.slots.columnMenuSortDescendingIcon,{fontSize:"small"})}),r.jsx(gr,{children:x("columnMenuSortDesc")})]}):null,p.includes(null)&&g!=null?r.jsxs(Ve,{onClick:m,children:[r.jsx(hr,{}),r.jsx(gr,{children:i.current.getLocaleText("columnMenuUnsort")})]}):null]})}const Q2=["defaultSlots","defaultSlotProps","slots","slotProps"],Z2={columnMenuSortItem:X2,columnMenuFilterItem:K2,columnMenuColumnsItem:Y2},J2={columnMenuSortItem:{displayOrder:10},columnMenuFilterItem:{displayOrder:20},columnMenuColumnsItem:{displayOrder:30}},eT=Xe(function(l,s){const{defaultSlots:i,defaultSlotProps:c,slots:d,slotProps:g}=l,p=Ee(l,Q2),m=$2(w({},p,{defaultSlots:i,defaultSlotProps:c,slots:d,slotProps:g}));return r.jsx(V2,w({},p,{ref:s,children:m.map(([x,b],C)=>r.jsx(x,w({},b),C))}))}),tT=Xe(function(l,s){return r.jsx(eT,w({},l,{ref:s,defaultSlots:Z2,defaultSlotProps:J2}))}),nT=["className","slotProps"],lT=t=>{const{classes:l}=t;return Ke({root:["panelWrapper"]},Qe,l)},oT=Ut("div",{name:"MuiDataGrid",slot:"PanelWrapper",overridesResolver:(t,l)=>l.panelWrapper})({display:"flex",flexDirection:"column",flex:1,"&:focus":{outline:0}}),rT=()=>!0,oy=Xe(function(l,s){const{className:i,slotProps:c={}}=l,d=Ee(l,nT),g=we(),p=lT(g);return r.jsx(Yw,w({open:!0,disableEnforceFocus:!0,isEnabled:rT},c.TrapFocus,{children:r.jsx(oT,w({tabIndex:-1,className:lt(p.root,i),ownerState:g},d,{ref:s}))}))});function aT(t){const l=we();return r.jsx(oy,w({},t,{children:r.jsx(l.slots.columnsManagement,w({},l.slotProps?.columnsManagement))}))}const sT=["children","className","classes"],iT=MC("MuiDataGrid",["panel","paper"]),cT=Ut(kh,{name:"MuiDataGrid",slot:"Panel",overridesResolver:(t,l)=>l.panel})(({theme:t})=>({zIndex:t.zIndex.modal})),uT=Ut(nt,{name:"MuiDataGrid",slot:"Paper",overridesResolver:(t,l)=>l.paper})(({theme:t})=>({backgroundColor:(t.vars||t).palette.background.paper,minWidth:300,maxHeight:450,display:"flex",maxWidth:`calc(100vw - ${t.spacing(.5)})`,overflow:"auto"})),dT=Xe((t,l)=>{const{children:s,className:i}=t,c=Ee(t,sT),d=Re(),g=we(),p=iT,[m,x]=h.useState(!1),b=h.useCallback(()=>{d.current.hidePreferences()},[d]),C=h.useCallback(F=>{F.key==="Escape"&&d.current.hidePreferences()},[d]),v=h.useMemo(()=>[{name:"flip",enabled:!0,options:{rootBoundary:"document"}},{name:"isPlaced",enabled:!0,phase:"main",fn:()=>{x(!0)},effect:()=>()=>{x(!1)}}],[]),[D,j]=h.useState(null);return h.useEffect(()=>{const F=d.current.rootElementRef?.current?.querySelector('[data-id="gridPanelAnchor"]');F&&j(F)},[d]),D?r.jsx(cT,w({placement:"bottom-start",className:lt(p.panel,i),ownerState:g,anchorEl:D,modifiers:v},c,{ref:l,children:r.jsx(DC,{mouseEvent:"onPointerUp",touchEvent:!1,onClickAway:b,children:r.jsx(uT,{className:p.paper,ownerState:g,elevation:8,onKeyDown:C,children:m&&s})})})):null}),fT=["className"],hT=t=>{const{classes:l}=t;return Ke({root:["panelContent"]},Qe,l)},gT=Tt("div",{name:"MuiDataGrid",slot:"PanelContent",overridesResolver:(t,l)=>l.panelContent})({display:"flex",flexDirection:"column",overflow:"auto",flex:"1 1",maxHeight:400});function mT(t){const{className:l}=t,s=Ee(t,fT),i=we(),c=hT(i);return r.jsx(gT,w({className:lt(c.root,l),ownerState:i},s))}const pT=["className"],bT=t=>{const{classes:l}=t;return Ke({root:["panelFooter"]},Qe,l)},xT=Tt("div",{name:"MuiDataGrid",slot:"PanelFooter",overridesResolver:(t,l)=>l.panelFooter})(({theme:t})=>({padding:t.spacing(.5),display:"flex",justifyContent:"space-between"}));function CT(t){const{className:l}=t,s=Ee(t,pT),i=we(),c=bT(i);return r.jsx(xT,w({className:lt(c.root,l),ownerState:i},s))}const yT=["item","hasMultipleFilters","deleteFilter","applyFilterChanges","showMultiFilterOperators","disableMultiFilterOperator","applyMultiFilterOperatorChanges","focusElementRef","logicOperators","columnsSort","filterColumns","deleteIconProps","logicOperatorInputProps","operatorInputProps","columnInputProps","valueInputProps","readOnly","children"],vT=["InputComponentProps"],wT=t=>{const{classes:l}=t;return Ke({root:["filterForm"],deleteIcon:["filterFormDeleteIcon"],logicOperatorInput:["filterFormLogicOperatorInput"],columnInput:["filterFormColumnInput"],operatorInput:["filterFormOperatorInput"],valueInput:["filterFormValueInput"]},Qe,l)},ST=Ut("div",{name:"MuiDataGrid",slot:"FilterForm",overridesResolver:(t,l)=>l.filterForm})(({theme:t})=>({display:"flex",padding:t.spacing(1)})),jT=Ut("div",{name:"MuiDataGrid",slot:"FilterFormDeleteIcon",overridesResolver:(t,l)=>l.filterFormDeleteIcon})(({theme:t})=>({flexShrink:0,justifyContent:"flex-end",marginRight:t.spacing(.5),marginBottom:t.spacing(.2)})),MT=Ut("div",{name:"MuiDataGrid",slot:"FilterFormLogicOperatorInput",overridesResolver:(t,l)=>l.filterFormLogicOperatorInput})({minWidth:55,marginRight:5,justifyContent:"end"}),ET=Ut("div",{name:"MuiDataGrid",slot:"FilterFormColumnInput",overridesResolver:(t,l)=>l.filterFormColumnInput})({width:150}),DT=Ut("div",{name:"MuiDataGrid",slot:"FilterFormOperatorInput",overridesResolver:(t,l)=>l.filterFormOperatorInput})({width:150}),TT=Ut("div",{name:"MuiDataGrid",slot:"FilterFormValueInput",overridesResolver:(t,l)=>l.filterFormValueInput})({width:190}),IT=t=>{switch(t){case Pn.And:return"filterPanelOperatorAnd";case Pn.Or:return"filterPanelOperatorOr";default:throw new Error("MUI X: Invalid `logicOperator` property in the `GridFilterPanel`.")}},li=t=>t.headerName||t.field,Qx=new Intl.Collator,Zx=Xe(function(l,s){const{item:i,hasMultipleFilters:c,deleteFilter:d,applyFilterChanges:g,showMultiFilterOperators:p,disableMultiFilterOperator:m,applyMultiFilterOperatorChanges:x,focusElementRef:b,logicOperators:C=[Pn.And,Pn.Or],columnsSort:v,filterColumns:D,deleteIconProps:j={},logicOperatorInputProps:F={},operatorInputProps:I={},columnInputProps:k={},valueInputProps:T={},readOnly:z}=l,V=Ee(l,yT),R=Re(),$=fe(R,fo),_=fe(R,s0),U=fe(R,xn),A=Ot(),E=Ot(),B=Ot(),N=Ot(),O=we(),K=wT(O),G=h.useRef(null),S=h.useRef(null),M=U.logicOperator??Pn.And,L=c&&C.length>0,q=O.slotProps?.baseFormControl||{},W=(O.slotProps?.baseSelect||{}).native??!1,Q=O.slotProps?.baseInputLabel||{},le=O.slotProps?.baseSelectOption||{},{InputComponentProps:re}=T,me=Ee(T,vT),{filteredColumns:ce,selectedField:ve}=h.useMemo(()=>{let Ce=i.field;const $e=$[i.field].filterable===!1?$[i.field]:null;if($e)return{filteredColumns:[$e],selectedField:Ce};if(D===void 0||typeof D!="function")return{filteredColumns:_,selectedField:Ce};const Be=D({field:i.field,columns:_,currentFilters:U?.items||[]});return{filteredColumns:_.filter(Ge=>{const It=Be.includes(Ge.field);return Ge.field===i.field&&!It&&(Ce=void 0),It}),selectedField:Ce}},[D,U?.items,_,i.field,$]),Te=h.useMemo(()=>{switch(v){case"asc":return ce.sort((Ce,$e)=>Qx.compare(li(Ce),li($e)));case"desc":return ce.sort((Ce,$e)=>-Qx.compare(li(Ce),li($e)));default:return ce}},[ce,v]),Se=i.field?R.current.getColumn(i.field):null,Ae=h.useMemo(()=>!i.operator||!Se?null:Se.filterOperators?.find(Ce=>Ce.value===i.operator),[i,Se]),Ne=h.useCallback(Ce=>{const $e=Ce.target.value,Be=R.current.getColumn($e);if(Be.field===Se.field)return;const Ge=Be.filterOperators.find(jt=>jt.value===i.operator)||Be.filterOperators[0];let St=!Ge.InputComponent||Ge.InputComponent!==Ae?.InputComponent||Be.type!==Se.type?void 0:i.value;if(Be.type==="singleSelect"&&St!==void 0){const jt=Be,ut=qr(jt);Array.isArray(St)?St=St.filter(Mt=>hu(Mt,ut,jt?.getOptionValue)!==void 0):hu(i.value,ut,jt?.getOptionValue)===void 0&&(St=void 0)}g(w({},i,{field:$e,operator:Ge.value,value:St}))},[R,g,i,Se,Ae]),be=h.useCallback(Ce=>{const $e=Ce.target.value,Be=Se?.filterOperators.find(It=>It.value===$e),Ge=!Be?.InputComponent||Be?.InputComponent!==Ae?.InputComponent;g(w({},i,{operator:$e,value:Ge?void 0:i.value}))},[g,i,Se,Ae]),Me=h.useCallback(Ce=>{const $e=Ce.target.value===Pn.And.toString()?Pn.And:Pn.Or;x($e)},[x]),ze=()=>{d(i)};return h.useImperativeHandle(b,()=>({focus:()=>{Ae?.InputComponent?G?.current?.focus():S.current.focus()}}),[Ae]),r.jsxs(ST,w({className:K.root,"data-id":i.id,ownerState:O},V,{ref:s,children:[r.jsx(jT,w({variant:"standard",as:O.slots.baseFormControl},q,j,{className:lt(K.deleteIcon,q.className,j.className),ownerState:O,children:r.jsx(O.slots.baseIconButton,w({"aria-label":R.current.getLocaleText("filterPanelDeleteIconLabel"),title:R.current.getLocaleText("filterPanelDeleteIconLabel"),onClick:ze,size:"small",disabled:z},O.slotProps?.baseIconButton,{children:r.jsx(O.slots.filterPanelDeleteIcon,{fontSize:"small"})}))})),r.jsx(MT,w({variant:"standard",as:O.slots.baseFormControl},q,F,{sx:[L?{display:"flex"}:{display:"none"},p?{visibility:"visible"}:{visibility:"hidden"},q.sx,F.sx],className:lt(K.logicOperatorInput,q.className,F.className),ownerState:O,children:r.jsx(O.slots.baseSelect,w({inputProps:{"aria-label":R.current.getLocaleText("filterPanelLogicOperator")},value:M??"",onChange:Me,disabled:!!m||C.length===1,native:W},O.slotProps?.baseSelect,{children:C.map(Ce=>h.createElement(O.slots.baseSelectOption,w({},le,{native:W,key:Ce.toString(),value:Ce.toString()}),R.current.getLocaleText(IT(Ce))))}))})),r.jsxs(ET,w({variant:"standard",as:O.slots.baseFormControl},q,k,{className:lt(K.columnInput,q.className,k.className),ownerState:O,children:[r.jsx(O.slots.baseInputLabel,w({},Q,{htmlFor:A,id:E,children:R.current.getLocaleText("filterPanelColumns")})),r.jsx(O.slots.baseSelect,w({labelId:E,id:A,label:R.current.getLocaleText("filterPanelColumns"),value:ve??"",onChange:Ne,native:W,disabled:z},O.slotProps?.baseSelect,{children:Te.map(Ce=>h.createElement(O.slots.baseSelectOption,w({},le,{native:W,key:Ce.field,value:Ce.field}),li(Ce)))}))]})),r.jsxs(DT,w({variant:"standard",as:O.slots.baseFormControl},q,I,{className:lt(K.operatorInput,q.className,I.className),ownerState:O,children:[r.jsx(O.slots.baseInputLabel,w({},Q,{htmlFor:B,id:N,children:R.current.getLocaleText("filterPanelOperator")})),r.jsx(O.slots.baseSelect,w({labelId:N,label:R.current.getLocaleText("filterPanelOperator"),id:B,value:i.operator,onChange:be,native:W,inputRef:S,disabled:z},O.slotProps?.baseSelect,{children:Se?.filterOperators?.map(Ce=>h.createElement(O.slots.baseSelectOption,w({},le,{native:W,key:Ce.value,value:Ce.value}),Ce.label||R.current.getLocaleText(`filterOperator${Qa(Ce.value)}`)))}))]})),r.jsx(TT,w({variant:"standard",as:O.slots.baseFormControl},q,me,{className:lt(K.valueInput,q.className,me.className),ownerState:O,children:Ae?.InputComponent?r.jsx(Ae.InputComponent,w({apiRef:R,item:i,applyValue:g,focusElementRef:G,disabled:z},Ae.InputComponentProps,re),i.field):null}))]}))}),FT=["logicOperators","columnsSort","filterFormProps","getColumnForNewFilter","children","disableAddFilterButton","disableRemoveAllButton"],Jx=t=>({field:t.field,operator:t.filterOperators[0].value,id:Math.round(Math.random()*1e5)}),AT=Xe(function(l,s){const i=Re(),c=we(),d=fe(i,xn),g=fe(i,s0),p=fe(i,O1),m=h.useRef(null),x=h.useRef(null),{logicOperators:b=[Pn.And,Pn.Or],columnsSort:C,filterFormProps:v,getColumnForNewFilter:D,disableAddFilterButton:j=!1,disableRemoveAllButton:F=!1}=l,I=Ee(l,FT),k=i.current.upsertFilterItem,T=h.useCallback(N=>{i.current.setFilterLogicOperator(N)},[i]),z=h.useCallback(()=>{let N;if(D&&typeof D=="function"){const O=D({currentFilters:d?.items||[],columns:g});if(O===null)return null;N=g.find(({field:K})=>K===O)}else N=g.find(O=>O.filterOperators?.length);return N?Jx(N):null},[d?.items,g,D]),V=h.useCallback(()=>{if(D===void 0||typeof D!="function")return z();const N=d.items.length?d.items:[z()].filter(Boolean),O=D({currentFilters:N,columns:g});if(O===null)return null;const K=g.find(({field:G})=>G===O);return K?Jx(K):null},[d.items,g,D,z]),R=h.useMemo(()=>d.items.length?d.items:(x.current||(x.current=z()),x.current?[x.current]:[]),[d.items,z]),$=R.length>1,{readOnlyFilters:_,validFilters:U}=h.useMemo(()=>R.reduce((N,O)=>(p[O.field]?N.validFilters.push(O):N.readOnlyFilters.push(O),N),{readOnlyFilters:[],validFilters:[]}),[R,p]),A=h.useCallback(()=>{const N=V();N&&i.current.upsertFilterItems([...R,N])},[i,V,R]),E=h.useCallback(N=>{const O=U.length===1;i.current.deleteFilterItem(N),O&&i.current.hideFilterPanel()},[i,U.length]),B=h.useCallback(()=>U.length===1&&U[0].value===void 0?(i.current.deleteFilterItem(U[0]),i.current.hideFilterPanel()):i.current.setFilterModel(w({},d,{items:_}),"removeAllFilterItems"),[i,_,d,U]);return h.useEffect(()=>{b.length>0&&d.logicOperator&&!b.includes(d.logicOperator)&&T(b[0])},[b,T,d.logicOperator]),h.useEffect(()=>{U.length>0&&m.current.focus()},[U.length]),r.jsxs(oy,w({},I,{ref:s,children:[r.jsxs(mT,{children:[_.map((N,O)=>r.jsx(Zx,w({item:N,applyFilterChanges:k,deleteFilter:E,hasMultipleFilters:$,showMultiFilterOperators:O>0,disableMultiFilterOperator:O!==1,applyMultiFilterOperatorChanges:T,focusElementRef:null,readOnly:!0,logicOperators:b,columnsSort:C},v),N.id==null?O:N.id)),U.map((N,O)=>r.jsx(Zx,w({item:N,applyFilterChanges:k,deleteFilter:E,hasMultipleFilters:$,showMultiFilterOperators:_.length+O>0,disableMultiFilterOperator:_.length+O!==1,applyMultiFilterOperatorChanges:T,focusElementRef:O===U.length-1?m:null,logicOperators:b,columnsSort:C},v),N.id==null?O+_.length:N.id))]}),!c.disableMultipleColumnsFiltering&&!(j&&F)?r.jsxs(CT,{children:[j?r.jsx("span",{}):r.jsx(c.slots.baseButton,w({onClick:A,startIcon:r.jsx(c.slots.filterPanelAddIcon,{})},c.slotProps?.baseButton,{children:i.current.getLocaleText("filterPanelAddFilter")})),!F&&U.length>0?r.jsx(c.slots.baseButton,w({onClick:B,startIcon:r.jsx(c.slots.filterPanelRemoveAllIcon,{})},c.slotProps?.baseButton,{children:i.current.getLocaleText("filterPanelRemoveAll")})):null]}):null]}))}),zT=(t,l)=>{const s=new Set(Object.keys(t).filter(d=>t[d]===!1)),i=new Set(Object.keys(l).filter(d=>l[d]===!1));if(s.size!==i.size)return!1;let c=!0;return s.forEach(d=>{i.has(d)||(c=!1)}),c},OT=(t,l)=>(t.headerName||t.field).toLowerCase().indexOf(l)>-1,kT=t=>{const{classes:l}=t;return Ke({root:["columnsManagement"],header:["columnsManagementHeader"],searchInput:["columnsManagementSearchInput"],footer:["columnsManagementFooter"],row:["columnsManagementRow"]},Qe,l)},eC=new Intl.Collator;function HT(t){const l=Re(),s=h.useRef(null),i=fe(l,Fl),c=io(()=>Tl(l)).current,d=fe(l,Tl),g=we(),[p,m]=h.useState(""),x=kT(g),{sort:b,searchPredicate:C=OT,autoFocusSearchField:v=!0,disableShowHideToggle:D=!1,disableResetButton:j=!1,toggleAllMode:F="all",getTogglableColumns:I,searchInputProps:k}=t,T=h.useMemo(()=>zT(d,c),[d,c]),z=h.useMemo(()=>{switch(b){case"asc":return[...i].sort((G,S)=>eC.compare(G.headerName||G.field,S.headerName||S.field));case"desc":return[...i].sort((G,S)=>-eC.compare(G.headerName||G.field,S.headerName||S.field));default:return i}},[i,b]),V=G=>{const{name:S}=G.target;l.current.setColumnVisibility(S,d[S]===!1)},R=h.useMemo(()=>{const G=I?I(z):null,S=G?z.filter(({field:M})=>G.includes(M)):z;return p?S.filter(M=>C(M,p.toLowerCase())):S},[z,p,C,I]),$=h.useCallback(G=>{const S=Tl(l),M=w({},S),L=I?I(i):null;return(F==="filteredOnly"?R:i).forEach(q=>{q.hideable&&(L==null||L.includes(q.field))&&(G?delete M[q.field]:M[q.field]=!1)}),l.current.setColumnVisibilityModel(M)},[l,i,I,F,R]),_=h.useCallback(G=>{m(G.target.value)},[]),U=h.useMemo(()=>R.filter(G=>G.hideable),[R]),A=h.useMemo(()=>U.every(G=>d[G.field]==null||d[G.field]!==!1),[d,U]),E=h.useMemo(()=>U.every(G=>d[G.field]===!1),[d,U]),B=h.useRef(null);h.useEffect(()=>{v?s.current.focus():B.current&&typeof B.current.focus=="function"&&B.current.focus()},[v]);let N=!1;const O=G=>N===!1&&G.hideable!==!1?(N=!0,!0):!1,K=h.useCallback(()=>{m(""),s.current.focus()},[]);return r.jsxs(h.Fragment,{children:[r.jsx(RT,{className:x.header,ownerState:g,children:r.jsx(NT,w({as:g.slots.baseTextField,ownerState:g,placeholder:l.current.getLocaleText("columnsManagementSearchTitle"),inputRef:s,className:x.searchInput,value:p,onChange:_,variant:"outlined",size:"small",type:"search",InputProps:{startAdornment:r.jsx(g.slots.baseInputAdornment,{position:"start",children:r.jsx(g.slots.quickFilterIcon,{})}),endAdornment:r.jsx(g.slots.baseIconButton,w({"aria-label":l.current.getLocaleText("columnsManagementDeleteIconLabel"),size:"small",sx:[p?{visibility:"visible"}:{visibility:"hidden"}],tabIndex:-1,onClick:K},g.slotProps?.baseIconButton,{children:r.jsx(g.slots.quickFilterClearIcon,{fontSize:"small"})}))},inputProps:{"aria-label":l.current.getLocaleText("columnsManagementSearchTitle")},autoComplete:"off",fullWidth:!0},g.slotProps?.baseTextField,k))}),r.jsxs(PT,{className:x.root,ownerState:g,children:[R.map(G=>r.jsx(bi,{className:x.row,control:r.jsx(g.slots.baseCheckbox,w({disabled:G.hideable===!1,checked:d[G.field]!==!1,onClick:V,name:G.field,sx:{p:.5},inputRef:O(G)?B:void 0},g.slotProps?.baseCheckbox)),label:G.headerName||G.field},G.field)),R.length===0&&r.jsx(LT,{ownerState:g,children:l.current.getLocaleText("columnsManagementNoColumns")})]}),(!D||!j)&&R.length>0?r.jsxs(GT,{ownerState:g,className:x.footer,children:[D?r.jsx("span",{}):r.jsx(bi,{control:r.jsx(g.slots.baseCheckbox,w({disabled:U.length===0,checked:A,indeterminate:!A&&!E,onClick:()=>$(!A),name:l.current.getLocaleText("columnsManagementShowHideAllText"),sx:{p:.5}},g.slotProps?.baseCheckbox)),label:l.current.getLocaleText("columnsManagementShowHideAllText")}),j?null:r.jsx(g.slots.baseButton,w({onClick:()=>l.current.setColumnVisibilityModel(c),disabled:T},g.slotProps?.baseButton,{children:l.current.getLocaleText("columnsManagementReset")}))]}):null]})}const PT=Ut("div",{name:"MuiDataGrid",slot:"ColumnsManagement",overridesResolver:(t,l)=>l.columnsManagement})(({theme:t})=>({padding:t.spacing(0,3,1.5),display:"flex",flexDirection:"column",overflow:"auto",flex:"1 1",maxHeight:400,alignItems:"flex-start"})),RT=Ut("div",{name:"MuiDataGrid",slot:"ColumnsManagementHeader",overridesResolver:(t,l)=>l.columnsManagementHeader})(({theme:t})=>({padding:t.spacing(1.5,3)})),NT=Ut(_e,{name:"MuiDataGrid",slot:"ColumnsManagementSearchInput",overridesResolver:(t,l)=>l.columnsManagementSearchInput})(({theme:t})=>({[`& .${Zs.root}`]:{padding:t.spacing(0,1.5,0,1.5)},[`& .${Zs.input}::-webkit-search-decoration,
  & .${Zs.input}::-webkit-search-cancel-button,
  & .${Zs.input}::-webkit-search-results-button,
  & .${Zs.input}::-webkit-search-results-decoration`]:{display:"none"}})),GT=Ut("div",{name:"MuiDataGrid",slot:"ColumnsManagementFooter",overridesResolver:(t,l)=>l.columnsManagementFooter})(({theme:t})=>({padding:t.spacing(.5,1,.5,3),display:"flex",justifyContent:"space-between",borderTop:`1px solid ${t.palette.divider}`})),LT=Ut("div")(({theme:t})=>({padding:t.spacing(.5,0),color:t.palette.grey[500]})),BT=Xe(function(l,s){const{slotProps:i={}}=l,c=i.button||{},d=i.tooltip||{},g=Ot(),p=Ot(),m=Re(),x=we(),b=fe(m,Yr),C=D=>{b.open&&b.openedPanelValue===ql.columns?m.current.hidePreferences():m.current.showPreferences(ql.columns,p,g),c.onClick?.(D)};if(x.disableColumnSelector)return null;const v=b.open&&b.panelId===p;return r.jsx(x.slots.baseTooltip,w({title:m.current.getLocaleText("toolbarColumnsLabel"),enterDelay:1e3},x.slotProps?.baseTooltip,d,{children:r.jsx(x.slots.baseButton,w({id:g,size:"small","aria-label":m.current.getLocaleText("toolbarColumnsLabel"),"aria-haspopup":"menu","aria-expanded":v,"aria-controls":v?p:void 0,startIcon:r.jsx(x.slots.columnSelectorIcon,{})},x.slotProps?.baseButton,c,{onPointerUp:D=>{b.open&&D.stopPropagation(),c.onPointerUp?.(D)},onClick:C,ref:s,children:m.current.getLocaleText("toolbarColumns")}))}))}),_T=Xe(function(l,s){const{slotProps:i={}}=l,c=i.button||{},d=i.tooltip||{},g=Re(),p=we(),m=fe(g,Ur),x=Ot(),b=Ot(),[C,v]=h.useState(!1),D=h.useRef(null),j=Po(s,D),F=[{icon:r.jsx(p.slots.densityCompactIcon,{}),label:g.current.getLocaleText("toolbarDensityCompact"),value:"compact"},{icon:r.jsx(p.slots.densityStandardIcon,{}),label:g.current.getLocaleText("toolbarDensityStandard"),value:"standard"},{icon:r.jsx(p.slots.densityComfortableIcon,{}),label:g.current.getLocaleText("toolbarDensityComfortable"),value:"comfortable"}],I=h.useMemo(()=>{switch(m){case"compact":return r.jsx(p.slots.densityCompactIcon,{});case"comfortable":return r.jsx(p.slots.densityComfortableIcon,{});default:return r.jsx(p.slots.densityStandardIcon,{})}},[m,p]),k=$=>{v(_=>!_),c.onClick?.($)},T=()=>{v(!1)},z=$=>{g.current.setDensity($),v(!1)},V=$=>{$.key==="Tab"&&$.preventDefault(),sg($.key)&&v(!1)};if(p.disableDensitySelector)return null;const R=F.map(($,_)=>r.jsxs(Ve,{onClick:()=>z($.value),selected:$.value===m,children:[r.jsx(hr,{children:$.icon}),$.label]},_));return r.jsxs(h.Fragment,{children:[r.jsx(p.slots.baseTooltip,w({title:g.current.getLocaleText("toolbarDensityLabel"),enterDelay:1e3},p.slotProps?.baseTooltip,d,{children:r.jsx(p.slots.baseButton,w({size:"small",startIcon:I,"aria-label":g.current.getLocaleText("toolbarDensityLabel"),"aria-haspopup":"menu","aria-expanded":C,"aria-controls":C?b:void 0,id:x},p.slotProps?.baseButton,c,{onClick:k,ref:j,children:g.current.getLocaleText("toolbarDensity")}))})),r.jsx(Mu,{open:C,target:D.current,onClose:T,position:"bottom-start",children:r.jsx(wu,{id:b,className:P.menuList,"aria-labelledby":x,onKeyDown:V,autoFocusItem:C,children:R})})]})}),VT=t=>{const{classes:l}=t;return Ke({root:["toolbarFilterList"]},Qe,l)},UT=Ut("ul",{name:"MuiDataGrid",slot:"ToolbarFilterList",overridesResolver:(t,l)=>l.toolbarFilterList})(({theme:t})=>({margin:t.spacing(1,1,.5),padding:t.spacing(0,1)})),$T=Xe(function(l,s){const{slotProps:i={}}=l,c=i.button||{},d=i.tooltip||{},g=i.badge||{},p=Re(),m=we(),x=fe(p,Xh),b=fe(p,fo),C=fe(p,Yr),v=VT(m),D=Ot(),j=Ot(),F=h.useMemo(()=>{if(C.open)return p.current.getLocaleText("toolbarFiltersTooltipHide");if(x.length===0)return p.current.getLocaleText("toolbarFiltersTooltipShow");const T=V=>b[V.field].filterOperators.find(R=>R.value===V.operator).label||p.current.getLocaleText(`filterOperator${Qa(V.operator)}`).toString(),z=V=>{const{getValueAsString:R}=b[V.field].filterOperators.find($=>$.value===V.operator);return R?R(V.value):V.value};return r.jsxs("div",{children:[p.current.getLocaleText("toolbarFiltersTooltipActive")(x.length),r.jsx(UT,{className:v.root,ownerState:m,children:x.map((V,R)=>w({},b[V.field]&&r.jsx("li",{children:`${b[V.field].headerName||V.field}
                  ${T(V)}
                  ${V.value!=null?z(V):""}`},R)))})]})},[p,m,C.open,x,b,v]),I=T=>{const{open:z,openedPanelValue:V}=C;z&&V===ql.filters?p.current.hidePreferences():p.current.showPreferences(ql.filters,j,D),c.onClick?.(T)};if(m.disableColumnFilter)return null;const k=C.open&&C.panelId===j;return r.jsx(m.slots.baseTooltip,w({title:F,enterDelay:1e3},m.slotProps?.baseTooltip,d,{children:r.jsx(m.slots.baseButton,w({id:D,size:"small","aria-label":p.current.getLocaleText("toolbarFiltersLabel"),"aria-controls":k?j:void 0,"aria-expanded":k,"aria-haspopup":!0,startIcon:r.jsx(m.slots.baseBadge,w({badgeContent:x.length,color:"primary"},m.slotProps?.baseBadge,g,{children:r.jsx(m.slots.openFilterButtonIcon,{})}))},m.slotProps?.baseButton,c,{onClick:I,onPointerUp:T=>{C.open&&T.stopPropagation(),c.onPointerUp?.(T)},ref:s,children:p.current.getLocaleText("toolbarFilters")}))}))}),WT=Xe(function(l,s){const{children:i,slotProps:c={}}=l,d=c.button||{},g=c.tooltip||{},p=Re(),m=we(),x=Ot(),b=Ot(),[C,v]=h.useState(!1),D=h.useRef(null),j=Po(s,D),F=T=>{v(z=>!z),d.onClick?.(T)},I=()=>v(!1),k=T=>{T.key==="Tab"&&T.preventDefault(),sg(T.key)&&I()};return i==null?null:r.jsxs(h.Fragment,{children:[r.jsx(m.slots.baseTooltip,w({title:p.current.getLocaleText("toolbarExportLabel"),enterDelay:1e3},m.slotProps?.baseTooltip,g,{children:r.jsx(m.slots.baseButton,w({size:"small",startIcon:r.jsx(m.slots.exportIcon,{}),"aria-expanded":C,"aria-label":p.current.getLocaleText("toolbarExportLabel"),"aria-haspopup":"menu","aria-controls":C?b:void 0,id:x},m.slotProps?.baseButton,d,{onClick:F,ref:j,children:p.current.getLocaleText("toolbarExport")}))})),r.jsx(Mu,{open:C,target:D.current,onClose:I,position:"bottom-start",children:r.jsx(wu,{id:b,className:P.menuList,"aria-labelledby":x,onKeyDown:k,autoFocusItem:C,children:h.Children.map(i,T=>h.isValidElement(T)?h.cloneElement(T,{hideMenu:I}):T)})})]})}),qT=["hideMenu","options"],YT=["hideMenu","options"],KT=["csvOptions","printOptions","excelOptions"];function XT(t){const l=Re(),{hideMenu:s,options:i}=t,c=Ee(t,qT);return r.jsx(Ve,w({onClick:()=>{l.current.exportDataAsCsv(i),s?.()}},c,{children:l.current.getLocaleText("toolbarExportCSV")}))}function QT(t){const l=Re(),{hideMenu:s,options:i}=t,c=Ee(t,YT);return r.jsx(Ve,w({onClick:()=>{l.current.exportDataAsPrint(i),s?.()}},c,{children:l.current.getLocaleText("toolbarExportPrint")}))}const ZT=Xe(function(l,s){const i=l,{csvOptions:c={},printOptions:d={},excelOptions:g}=i,p=Ee(i,KT),x=Re().current.unstable_applyPipeProcessors("exportMenu",[],{excelOptions:g,csvOptions:c,printOptions:d}).sort((b,C)=>b.componentName>C.componentName?1:-1);return x.length===0?null:r.jsx(WT,w({},p,{ref:s,children:x.map((b,C)=>h.cloneElement(b.component,{key:C}))}))}),JT=["quickFilterParser","quickFilterFormatter","debounceMs","className"],eI=t=>{const{classes:l}=t;return Ke({root:["toolbarQuickFilter"]},Qe,l)},tI=Ut(_e,{name:"MuiDataGrid",slot:"ToolbarQuickFilter",overridesResolver:(t,l)=>l.toolbarQuickFilter})(({theme:t})=>({width:"auto",paddingBottom:t.spacing(.5),"& input":{marginLeft:t.spacing(.5)},"& .MuiInput-underline:before":{borderBottom:`1px solid ${(t.vars||t).palette.divider}`},'& input[type="search"]::-webkit-search-decoration,\n  & input[type="search"]::-webkit-search-cancel-button,\n  & input[type="search"]::-webkit-search-results-button,\n  & input[type="search"]::-webkit-search-results-decoration':{display:"none"}})),nI=t=>t.split(" ").filter(l=>l!==""),lI=t=>t.join(" ");function oI(t){const l=Re(),s=we(),i=eI(s),c=fe(l,b0),{quickFilterParser:d=nI,quickFilterFormatter:g=lI,debounceMs:p=s.filterDebounceMs,className:m}=t,x=Ee(t,JT),[b,C]=h.useState(()=>g(c??[])),v=h.useRef(c);h.useEffect(()=>{ro(v.current,c)||(v.current=c,C(k=>ro(d(k),c)?k:g(c??[])))},[c,g,d]);const D=h.useCallback(k=>{const T=d(k);v.current=T,l.current.setQuickFilterValues(T)},[l,d]),j=h.useMemo(()=>Kw(D,p),[D,p]);h.useEffect(()=>j.clear,[j]);const F=h.useCallback(k=>{const T=k.target.value;C(T),j(T)},[j]),I=h.useCallback(()=>{C(""),D("")},[D]);return r.jsx(tI,w({as:s.slots.baseTextField,ownerState:s,variant:"standard",value:b,onChange:F,className:lt(i.root,m),placeholder:l.current.getLocaleText("toolbarQuickFilterPlaceholder"),"aria-label":l.current.getLocaleText("toolbarQuickFilterLabel"),type:"search"},x,{InputProps:w({startAdornment:r.jsx(s.slots.quickFilterIcon,{fontSize:"small"}),endAdornment:r.jsx(s.slots.baseIconButton,w({"aria-label":l.current.getLocaleText("toolbarQuickFilterDeleteIconLabel"),size:"small",sx:[b?{visibility:"visible"}:{visibility:"hidden"}],onClick:I},s.slotProps?.baseIconButton,{children:r.jsx(s.slots.quickFilterClearIcon,{fontSize:"small"})}))},x.InputProps)},s.slotProps?.baseTextField))}const rI=["className","csvOptions","printOptions","excelOptions","showQuickFilter","quickFilterProps"],Qn=Xe(function(l,s){const i=l,{csvOptions:c,printOptions:d,excelOptions:g,showQuickFilter:p=!1,quickFilterProps:m={}}=i,x=Ee(i,rI),b=we();return b.disableColumnFilter&&b.disableColumnSelector&&b.disableDensitySelector&&!p?null:r.jsxs(OD,w({},x,{ref:s,children:[r.jsx(BT,{}),r.jsx($T,{}),r.jsx(_T,{}),r.jsx(ZT,{csvOptions:c,printOptions:d,excelOptions:g}),r.jsx("div",{style:{flex:1}}),p&&r.jsx(oI,w({},m))]}))}),aI=["className","selectedRowCount"],sI=t=>{const{classes:l}=t;return Ke({root:["selectedRowCount"]},Qe,l)},iI=Tt("div",{name:"MuiDataGrid",slot:"SelectedRowCount",overridesResolver:(t,l)=>l.selectedRowCount})(({theme:t})=>({alignItems:"center",display:"flex",margin:t.spacing(0,2),visibility:"hidden",width:0,height:0,[t.breakpoints.up("sm")]:{visibility:"visible",width:"auto",height:"auto"}})),cI=Xe(function(l,s){const{className:i,selectedRowCount:c}=l,d=Ee(l,aI),g=Re(),p=we(),m=sI(p),x=g.current.getLocaleText("footerRowSelected")(c);return r.jsx(iI,w({className:lt(m.root,i),ownerState:p},d,{ref:s,children:x}))}),uI=Xe(function(l,s){const i=Re(),c=we(),d=fe(i,m1),g=fe(i,yj),p=fe(i,Kh),m=!c.hideFooterSelectedRowCount&&g>0?r.jsx(cI,{selectedRowCount:g}):r.jsx("div",{}),x=!c.hideFooterRowCount&&!c.pagination?r.jsx(c.slots.footerRowCount,w({},c.slotProps?.footerRowCount,{rowCount:d,visibleRowCount:p})):null,b=c.pagination&&!c.hideFooterPagination&&c.slots.pagination&&r.jsx(c.slots.pagination,w({},c.slotProps?.pagination));return r.jsxs(ED,w({},l,{ref:s,children:[m,x,b]}))}),pi=(t,l,s,i,c,d)=>{let g;switch(t){case et.LEFT:g=i[s];break;case et.RIGHT:g=c-i[s]-l+d;break;default:g=void 0;break}return g},xu=(t,l,s,i,c)=>{const d=l===s-1;return t===et.LEFT&&d?!0:i?t===et.LEFT?!0:t===et.RIGHT?!d:!d||c:!1},Cu=(t,l)=>t===et.RIGHT&&l===0,oi={root:P.scrollbarFiller,header:P["scrollbarFiller--header"],borderTop:P["scrollbarFiller--borderTop"],borderBottom:P["scrollbarFiller--borderBottom"],pinnedRight:P["scrollbarFiller--pinnedRight"]};function ig({header:t,borderTop:l=!0,borderBottom:s,pinnedRight:i}){return r.jsx("div",{role:"presentation",className:lt(oi.root,t&&oi.header,l&&oi.borderTop,s&&oi.borderBottom,i&&oi.pinnedRight)})}const dI=Tt("div",{name:"MuiDataGrid",slot:"SkeletonLoadingOverlay",overridesResolver:(t,l)=>l.skeletonLoadingOverlay})({minWidth:"100%",width:"max-content",height:"100%",overflow:"clip"}),fI=t=>{const{classes:l}=t;return Ke({root:["skeletonLoadingOverlay"]},Qe,l)},tC=t=>parseInt(t.getAttribute("data-colindex"),10),hI=Xe(function(l,s){const i=we(),{slots:c}=i,d=co(),g=fI({classes:i.classes}),p=h.useRef(null),m=Po(p,s),x=Re(),b=fe(x,mn),C=b?.viewportInnerSize.height??0,v=Math.ceil(C/b.rowHeight),D=fe(x,ju),j=fe(x,Cr),F=h.useMemo(()=>j.filter($=>$<=D).length,[D,j]),I=fe(x,qt),k=h.useMemo(()=>I.slice(0,F),[I,F]),T=fe(x,ns),z=h.useCallback($=>{if(T.left.findIndex(_=>_.field===$)!==-1)return et.LEFT;if(T.right.findIndex(_=>_.field===$)!==-1)return et.RIGHT},[T.left,T.right]),V=h.useMemo(()=>{const $=[];for(let _=0;_<v;_+=1){const U=[];for(let A=0;A<k.length;A+=1){const E=k[A],B=z(E.field),N=B===et.LEFT,O=B===et.RIGHT,K=K0(B,d),G=K?T[K].length:k.length-T.left.length-T.right.length,S=K?T[K].findIndex(Ae=>Ae.field===E.field):A-T.left.length,M=b.hasScrollY?b.scrollbarSize:0,L=Hu({},d,B,pi(B,E.computedWidth,A,j,b.columnsTotalWidth,M)),q=b.columnsTotalWidth<b.viewportOuterSize.width,Y=xu(B,S,G,i.showCellVerticalBorder,q),W=Cu(B,S),Q=A===k.length-1,le=O&&S===0,re=le&&q,me=Q&&!le&&q,ce=b.viewportOuterSize.width-b.columnsTotalWidth,ve=Math.max(0,ce),Te=r.jsx(c.skeletonCell,{width:ve,empty:!0},`skeleton-filler-column-${_}`),Se=Q&&M!==0;re&&U.push(Te),U.push(r.jsx(c.skeletonCell,{field:E.field,type:E.type,align:E.align,width:"var(--width)",height:b.rowHeight,"data-colindex":A,className:lt(N&&P["cell--pinnedLeft"],O&&P["cell--pinnedRight"],Y&&P["cell--withRightBorder"],W&&P["cell--withLeftBorder"]),style:w({"--width":`${E.computedWidth}px`},L)},`skeleton-column-${_}-${E.field}`)),me&&U.push(Te),Se&&U.push(r.jsx(ig,{pinnedRight:T.right.length>0},`skeleton-scrollbar-filler-${_}`))}$.push(r.jsx("div",{className:lt(P.row,P.rowSkeleton,_===0&&P["row--firstVisible"]),children:U},`skeleton-row-${_}`))}return $},[c,k,T,v,i.showCellVerticalBorder,b,j,z,d]);return ye(x,"columnResize",$=>{const{colDef:_,width:U}=$,A=p.current?.querySelectorAll(`[data-field="${No(_.field)}"]`);if(!A)throw new Error("MUI X: Expected skeleton cells to be defined with `data-field` attribute.");const E=k.findIndex(S=>S.field===_.field),B=z(_.field),N=B===et.LEFT,O=B===et.RIGHT,K=getComputedStyle(A[0]).getPropertyValue("--width"),G=parseInt(K,10)-U;A&&A.forEach(S=>{S.style.setProperty("--width",`${U}px`)}),N&&p.current?.querySelectorAll(`.${P["cell--pinnedLeft"]}`)?.forEach(M=>{tC(M)>E&&(M.style.left=`${parseInt(getComputedStyle(M).left,10)-G}px`)}),O&&p.current?.querySelectorAll(`.${P["cell--pinnedRight"]}`)?.forEach(M=>{tC(M)<E&&(M.style.right=`${parseInt(getComputedStyle(M).right,10)+G}px`)})}),r.jsx(dI,w({className:g.root},l,{ref:m,children:V}))}),gI=["variant","noRowsVariant","style"],mI={"circular-progress":{component:Bn,style:{}},"linear-progress":{component:Hh,style:{display:"block"}},skeleton:{component:hI,style:{display:"block"}}},pI=Xe(function(l,s){const{variant:i="circular-progress",noRowsVariant:c="circular-progress",style:d}=l,g=Ee(l,gI),p=Re(),m=fe(p,Ti),x=mI[m===0?c:i];return r.jsx(rg,w({style:w({},x.style,d)},g,{ref:s,children:r.jsx(x.component,{})}))}),bI=Xe(function(l,s){const c=Re().current.getLocaleText("noRowsLabel");return r.jsx(rg,w({},l,{ref:s,children:c}))}),xI=Ut(Xw)(({theme:t})=>({maxHeight:"calc(100% + 1px)",flexGrow:1,[`& .${rx.selectLabel}`]:{display:"none",[t.breakpoints.up("sm")]:{display:"block"}},[`& .${rx.input}`]:{display:"none",[t.breakpoints.up("sm")]:{display:"inline-flex"}}})),CI=(t,l)=>({from:s,to:i,count:c,page:d})=>t({from:s,to:i,count:c,page:d,estimated:l}),yI=({from:t,to:l,count:s,estimated:i})=>i?`${t}${l} of ${s!==-1?s:`more than ${i>l?i:l}`}`:`${t}${l} of ${s!==-1?s:`more than ${l}`}`,vI=Xe(function(l,s){const i=Re(),c=we(),d=fe(i,An),g=fe(i,Ba),p=fe(i,I0),{paginationMode:m,loading:x,estimatedRowCount:b}=c,C=h.useMemo(()=>g===-1&&m==="server"&&x?{backIconButtonProps:{disabled:!0},nextIconButtonProps:{disabled:!0}}:{},[x,m,g]),v=h.useMemo(()=>Math.max(0,p-1),[p]),D=h.useMemo(()=>g===-1||d.page<=v?d.page:v,[v,d.page,g]),j=h.useCallback(V=>{const R=Number(V.target.value);i.current.setPageSize(R)},[i]),F=h.useCallback((V,R)=>{i.current.setPage(R)},[i]),k=(V=>{for(let R=0;R<c.pageSizeOptions.length;R+=1){const $=c.pageSizeOptions[R];if(typeof $=="number"){if($===V)return!0}else if($.value===V)return!0}return!1})(d.pageSize)?c.pageSizeOptions:[],T=i.current.getLocaleText("MuiTablePagination"),z=CI(T.labelDisplayedRows||yI,b);return r.jsx(xI,w({component:"div",count:g,page:D,rowsPerPageOptions:k,rowsPerPage:d.pageSize,onPageChange:F,onRowsPerPageChange:j},C,T,{labelDisplayedRows:z},l,{ref:s}))}),wI=["className","rowCount","visibleRowCount"],SI=t=>{const{classes:l}=t;return Ke({root:["rowCount"]},Qe,l)},jI=Tt("div",{name:"MuiDataGrid",slot:"RowCount",overridesResolver:(t,l)=>l.rowCount})(({theme:t})=>({alignItems:"center",display:"flex",margin:t.spacing(0,2)})),MI=Xe(function(l,s){const{className:i,rowCount:c,visibleRowCount:d}=l,g=Ee(l,wI),p=Re(),m=we(),x=SI(m);if(c===0)return null;const b=d<c?p.current.getLocaleText("footerTotalVisibleRows")(d,c):c.toLocaleString();return r.jsxs(jI,w({className:lt(x.root,i),ownerState:m},g,{ref:s,children:[p.current.getLocaleText("footerTotalRows")," ",b]}))});function EI(t){for(const l in t)return!1;return!0}function DI(t,l){return Ke(l,Qe,t)}const TI=["selected","rowId","row","index","style","rowHeight","className","visibleColumns","pinnedColumns","offsetLeft","columnsTotalWidth","firstColumnIndex","lastColumnIndex","focusedColumnIndex","isFirstVisible","isLastVisible","isNotVisible","showBottomBorder","scrollbarWidth","gridHasFiller","onClick","onDoubleClick","onMouseEnter","onMouseLeave","onMouseOut","onMouseOver"],II=Di(gn,(t,l)=>l?!!EI(t):!1),FI=Xe(function(l,s){const{selected:i,rowId:c,row:d,index:g,style:p,rowHeight:m,className:x,visibleColumns:b,pinnedColumns:C,offsetLeft:v,columnsTotalWidth:D,firstColumnIndex:j,lastColumnIndex:F,focusedColumnIndex:I,isFirstVisible:k,isLastVisible:T,isNotVisible:z,showBottomBorder:V,scrollbarWidth:R,gridHasFiller:$,onClick:_,onDoubleClick:U,onMouseEnter:A,onMouseLeave:E,onMouseOut:B,onMouseOver:N}=l,O=Ee(l,TI),K=zl(),G=lg(),S=h.useRef(null),M=we(),L=tg(K),q=fe(K,_l),Y=fe(K,Qr),W=fe(K,Cr),Q=M.rowReordering,le=Ci(K,II,Q),re=Po(S,s),me=K.current.getRowNode(c),ce=Ci(K,q0,{rowId:c,editMode:M.editMode}),ve=M.editMode===so.Row,Te=I!==void 0,Se=Te&&I>=C.left.length&&I<j,Ae=Te&&I<b.length-C.right.length&&I>=F,Ne=DI(M.classes,{root:["row",i&&"selected",ve&&"row--editable",ce&&"row--editing",k&&"row--firstVisible",T&&"row--lastVisible",V&&"row--borderBottom",m==="auto"&&"row--dynamicHeight"]}),be=G.hooks.useGridRowAriaAttributes();h.useLayoutEffect(()=>{if(L.range){const Fe=K.current.getRowIndexRelativeToVisibleRows(c);Fe!==void 0&&K.current.unstable_setLastMeasuredRowIndex(Fe)}if(S.current&&m==="auto")return K.current.observeRowHeight(S.current,c)},[K,L.range,m,c]);const Me=h.useCallback((Fe,Ze)=>Le=>{Hi(Le)||K.current.getRow(c)&&(K.current.publishEvent(Fe,K.current.getRowParams(c),Le),Ze&&Ze(Le))},[K,c]),ze=h.useCallback(Fe=>{const Le=pu(Fe.target,P.cell)?.getAttribute("data-field");Le&&(Le===rs.field||Le===Tu||Le==="__reorder__"||K.current.getCellMode(c,Le)===Ct.Edit||K.current.getColumn(Le)?.type===Eu)||Me("rowClick",_)(Fe)},[K,_,Me,c]),{slots:Ce,slotProps:$e,disableColumnReorder:Be}=M,Ge=fe(K,()=>w({},K.current.getRowHeightEntry(c)),Bh),It=h.useMemo(()=>{if(z)return{opacity:0,width:0,height:0};const Fe=w({},p,{maxHeight:m==="auto"?"none":m,minHeight:m,"--height":typeof m=="number"?`${m}px`:m});if(Ge.spacingTop){const Ze=M.rowSpacingType==="border"?"borderTopWidth":"marginTop";Fe[Ze]=Ge.spacingTop}if(Ge.spacingBottom){const Ze=M.rowSpacingType==="border"?"borderBottomWidth":"marginBottom";let Le=Fe[Ze];typeof Le!="number"&&(Le=parseInt(Le||"0",10)),Le+=Ge.spacingBottom,Fe[Ze]=Le}return Fe},[z,m,p,Ge,M.rowSpacingType]),St=K.current.unstable_applyPipeProcessors("rowClassName",[],c),jt=be(me,g);if(typeof M.getRowClassName=="function"){const Fe=g-(L.range?.firstRowIndex||0),Ze=w({},K.current.getRowParams(c),{isFirstVisible:Fe===0,isLastVisible:Fe===L.rows.length-1,indexRelativeToCurrentPage:Fe});St.push(M.getRowClassName(Ze))}const ut=(Fe,Ze,Le,We,pt=et.NONE)=>{const bt=K.current.unstable_getCellColSpanInfo(c,Le);if(bt?.spannedByColSpan)return null;const vt=bt?.cellProps.width??Fe.computedWidth,yn=bt?.cellProps.colSpan??1,nn=pi(pt,Fe.computedWidth,Le,W,D,R);if(me.type==="skeletonRow")return r.jsx(Ce.skeletonCell,{type:Fe.type,width:vt,height:m,field:Fe.field,align:Fe.align},Fe.field);const Ol=Fe.field==="__reorder__",_n=!(Be||Fe.disableReorder),ho=le&&!q.length&&Y<=1,Xl=!(_n||Ol&&ho),Ql=pt===et.VIRTUAL,kl=Cu(pt,Ze),On=xu(pt,Ze,We,M.showCellVerticalBorder,$);return r.jsx(Ce.cell,w({column:Fe,width:vt,rowId:c,align:Fe.align||"left",colIndex:Le,colSpan:yn,disableDragEvents:Xl,isNotVisible:Ql,pinnedOffset:nn,pinnedPosition:pt,showLeftBorder:kl,showRightBorder:On,row:d,rowNode:me},$e?.cell),Fe.field)},Mt=C.left.map((Fe,Ze)=>ut(Fe,Ze,Ze,C.left.length,et.LEFT)),tt=C.right.map((Fe,Ze)=>{const Le=b.length-C.right.length+Ze;return ut(Fe,Ze,Le,C.right.length,et.RIGHT)}),gt=b.length-C.left.length-C.right.length,mt=[];Se&&mt.push(ut(b[I],I-C.left.length,I,gt,et.VIRTUAL));for(let Fe=j;Fe<F;Fe+=1){const Ze=b[Fe],Le=Fe-C.left.length;Ze&&mt.push(ut(Ze,Le,Fe,gt))}Ae&&mt.push(ut(b[I],I-C.left.length,I,gt,et.VIRTUAL));const Ht=d?{onClick:ze,onDoubleClick:Me("rowDoubleClick",U),onMouseEnter:Me("rowMouseEnter",A),onMouseLeave:Me("rowMouseLeave",E),onMouseOut:Me("rowMouseOut",B),onMouseOver:Me("rowMouseOver",N)}:null;return r.jsxs("div",w({"data-id":c,"data-rowindex":g,role:"row",className:lt(...St,Ne.root,x),style:It},jt,Ht,O,{ref:re,children:[Mt,r.jsx("div",{role:"presentation",className:P.cellOffsetLeft,style:{width:v}}),mt,r.jsx("div",{role:"presentation",className:lt(P.cell,P.cellEmpty)}),tt,R!==0&&r.jsx(ig,{pinnedRight:C.right.length>0,borderTop:!k})]}))}),AI=Ro(FI),zI=()=>{const t=zl(),l=we(),s=fe(t,qt),i=fe(t,Yh),c=fe(t,Oi),d=fe(t,KC);return{role:"grid","aria-colcount":s.length,"aria-rowcount":c+1+d+i,"aria-multiselectable":Qh(l)}},OI=()=>{const t=zl(),l=fe(t,mr),s=fe(t,Oi);return h.useCallback((i,c)=>{const d={},g=c+s+2;return d["aria-rowindex"]=g,t.current.isRowSelectable(i.id)&&(d["aria-selected"]=l[i.id]!==void 0),d},[t,l,s])};function kI({privateApiRef:t,configuration:l,props:s,children:i}){const c=h.useRef(t.current.getPublicApi());return r.jsx($0.Provider,{value:l,children:r.jsx(BC.Provider,{value:s,children:r.jsx(G0.Provider,{value:t,children:r.jsx(LC.Provider,{value:c,children:i})})})})}const HI=t=>{const l=h.useRef(null),s=h.useRef(null),i=h.useRef(null),c=h.useRef(null),d=h.useRef(null),g=h.useRef(null);t.current.register("public",{rootElementRef:l}),t.current.register("private",{mainElementRef:s,virtualScrollerRef:i,virtualScrollbarVerticalRef:c,virtualScrollbarHorizontalRef:d,columnHeadersContainerRef:g})},PI=t=>{const l=co();t.current.state.isRtl===void 0&&(t.current.state.isRtl=l);const s=h.useRef(!0);h.useEffect(()=>{s.current?s.current=!1:t.current.setState(i=>w({},i,{isRtl:l}))},[t,l])},RI=T1()&&window.localStorage.getItem("DEBUG")!=null,hi=()=>{},NI={debug:hi,info:hi,warn:hi,error:hi},nC=["debug","info","warn","error"];function lC(t,l,s=console){const i=nC.indexOf(l);if(i===-1)throw new Error(`MUI X: Log level ${l} not recognized.`);return nC.reduce((d,g,p)=>(p>=i?d[g]=(...m)=>{const[x,...b]=m;s[g](`MUI X: ${t} - ${x}`,...b)}:d[g]=hi,d),{})}const GI=(t,l)=>{const s=h.useCallback(i=>RI?lC(i,"debug",l.logger):l.logLevel?lC(i,l.logLevel.toString(),l.logger):NI,[l.logLevel,l.logger]);Ue(t,{getLogger:s},"private")};class LI{constructor(){this.maxListeners=20,this.warnOnce=!1,this.events={}}on(l,s,i={}){let c=this.events[l];c||(c={highPriority:new Map,regular:new Map},this.events[l]=c),i.isFirst?c.highPriority.set(s,!0):c.regular.set(s,!0)}removeListener(l,s){this.events[l]&&(this.events[l].regular.delete(s),this.events[l].highPriority.delete(s))}removeAllListeners(){this.events={}}emit(l,...s){const i=this.events[l];if(!i)return;const c=Array.from(i.highPriority.keys()),d=Array.from(i.regular.keys());for(let g=c.length-1;g>=0;g-=1){const p=c[g];i.highPriority.has(p)&&p.apply(this,s)}for(let g=0;g<d.length;g+=1){const p=d[g];i.regular.has(p)&&p.apply(this,s)}}once(l,s){const i=this;this.on(l,function c(...d){i.removeListener(l,c),s.apply(i,d)})}}class cg{static create(l){return new cg(l)}constructor(l){this.value=void 0,this.listeners=void 0,this.subscribe=s=>(this.listeners.add(s),()=>{this.listeners.delete(s)}),this.getSnapshot=()=>this.value,this.update=s=>{this.value=s,this.listeners.forEach(i=>i(s))},this.value=l,this.listeners=new Set}}const ry=Symbol("mui.api_private"),BI=t=>t.isPropagationStopped!==void 0;let oC=0;function _I(t){const l=t.current?.[ry];if(l)return l;const s={},i={state:s,store:cg.create(s),instanceId:{id:oC}};return oC+=1,i.getPublicApi=()=>t.current,i.register=(c,d)=>{Object.keys(d).forEach(g=>{const p=d[g],m=i[g];if(m?.spying===!0?m.target=p:i[g]=p,c==="public"){const x=t.current,b=x[g];b?.spying===!0?b.target=p:x[g]=p}})},i.register("private",{caches:{},eventManager:new LI}),i}function VI(t){return{get state(){return t.current.state},get store(){return t.current.store},get instanceId(){return t.current.instanceId},[ry]:t.current}}function UI(t,l){const s=h.useRef(null),i=h.useRef(null);i.current||(i.current=_I(s)),s.current||(s.current=VI(i));const c=h.useCallback((...g)=>{const[p,m,x={}]=g;if(x.defaultMuiPrevented=!1,BI(x)&&x.isPropagationStopped())return;const b=l.signature===Il.DataGridPro||l.signature===Il.DataGridPremium?{api:i.current.getPublicApi()}:{};i.current.eventManager.emit(p,m,x,b)},[i,l.signature]),d=h.useCallback((g,p,m)=>{i.current.eventManager.on(g,p,m);const x=i.current;return()=>{x.eventManager.removeListener(g,p)}},[i]);return Ue(i,{subscribeEvent:d,publishEvent:c},"public"),t&&!t.current?.state&&(t.current=s.current),h.useImperativeHandle(t,()=>s.current,[s]),h.useEffect(()=>{const g=i.current;return()=>{g.publishEvent("unmount")}},[i]),i}const $I=(t,l)=>{const s=h.useCallback(i=>{if(l.localeText[i]==null)throw new Error(`Missing translation for key ${i}.`);return l.localeText[i]},[l.localeText]);t.current.register("public",{getLocaleText:s})};function wi(t){"@babel/helpers - typeof";return wi=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(l){return typeof l}:function(l){return l&&typeof Symbol=="function"&&l.constructor===Symbol&&l!==Symbol.prototype?"symbol":typeof l},wi(t)}function WI(t,l){if(wi(t)!="object"||!t)return t;var s=t[Symbol.toPrimitive];if(s!==void 0){var i=s.call(t,l);if(wi(i)!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function Si(t){var l=WI(t,"string");return wi(l)=="symbol"?l:l+""}const qI=t=>{const l=h.useRef({}),s=h.useRef(!1),i=h.useCallback(b=>{s.current||!b||(s.current=!0,Object.values(b.appliers).forEach(C=>{C()}),s.current=!1)},[]),c=h.useCallback((b,C,v)=>{l.current[b]||(l.current[b]={processors:new Map,processorsAsArray:[],appliers:{}});const D=l.current[b];return D.processors.get(C)!==v&&(D.processors.set(C,v),D.processorsAsArray=Array.from(l.current[b].processors.values()).filter(F=>F!==null),i(D)),()=>{l.current[b].processors.set(C,null),l.current[b].processorsAsArray=Array.from(l.current[b].processors.values()).filter(F=>F!==null)}},[i]),d=h.useCallback((b,C,v)=>(l.current[b]||(l.current[b]={processors:new Map,processorsAsArray:[],appliers:{}}),l.current[b].appliers[C]=v,()=>{const D=l.current[b].appliers,j=Ee(D,[C].map(Si));l.current[b].appliers=j}),[]),g=h.useCallback(b=>{i(l.current[b])},[i]),p=h.useCallback((...b)=>{const[C,v,D]=b;if(!l.current[C])return v;const j=l.current[C].processorsAsArray;let F=v;for(let I=0;I<j.length;I+=1)F=j[I](F,D);return F},[]),m={registerPipeProcessor:c,registerPipeApplier:d,requestPipeProcessorsApplication:g},x={unstable_applyPipeProcessors:p};Ue(t,m,"private"),Ue(t,x,"public")},Vt=(t,l,s,i=!0)=>{const c=h.useRef(null),d=h.useRef(`mui-${Math.round(Math.random()*1e9)}`),g=h.useCallback(()=>{c.current=t.current.registerPipeProcessor(l,d.current,s)},[t,s,l]);Ii(()=>{i&&g()});const p=h.useRef(!0);h.useEffect(()=>(p.current?p.current=!1:i&&g(),()=>{c.current&&(c.current(),c.current=null)}),[g,i])},ug=(t,l,s)=>{const i=h.useRef(null),c=h.useRef(`mui-${Math.round(Math.random()*1e9)}`),d=h.useCallback(()=>{i.current=t.current.registerPipeApplier(l,c.current,s)},[t,s,l]);Ii(()=>{d()});const g=h.useRef(!0);h.useEffect(()=>(g.current?g.current=!1:d(),()=>{i.current&&(i.current(),i.current=null)}),[d])},yu=(t,l,s,i)=>{const c=h.useCallback(()=>{t.current.registerStrategyProcessor(l,s,i)},[t,i,s,l]);Ii(()=>{c()});const d=h.useRef(!0);h.useEffect(()=>{d.current?d.current=!1:c()},[c])},Kr="none",rC={rowTreeCreation:"rowTree",filtering:"rowTree",sorting:"rowTree",visibleRowsLookupCreation:"rowTree"},YI=t=>{const l=h.useRef(new Map),s=h.useRef({}),i=h.useCallback((m,x,b)=>{const C=()=>{const j=s.current[x],F=Ee(j,[m].map(Si));s.current[x]=F};s.current[x]||(s.current[x]={});const v=s.current[x],D=v[m];return v[m]=b,!D||D===b||m===t.current.getActiveStrategy(rC[x])&&t.current.publishEvent("activeStrategyProcessorChange",x),C},[t]),c=h.useCallback((m,x)=>{const b=t.current.getActiveStrategy(rC[m]);if(b==null)throw new Error("Can't apply a strategy processor before defining an active strategy");const C=s.current[m];if(!C||!C[b])throw new Error(`No processor found for processor "${m}" on strategy "${b}"`);const v=C[b];return v(x)},[t]),d=h.useCallback(m=>Array.from(l.current.entries()).find(([,C])=>C.group!==m?!1:C.isAvailable())?.[0]??Kr,[]),g=h.useCallback((m,x,b)=>{l.current.set(x,{group:m,isAvailable:b}),t.current.publishEvent("strategyAvailabilityChange")},[t]);Ue(t,{registerStrategyProcessor:i,applyStrategyProcessor:c,getActiveStrategy:d,setStrategyAvailability:g},"private")},KI=t=>{const l=h.useRef({}),s=h.useCallback(m=>{l.current[m.stateId]=m},[]),i=h.useCallback((m,x)=>{let b;if(D1(m)?b=m(t.current.state):b=m,t.current.state===b)return!1;let C=!1;const v=[];if(Object.keys(l.current).forEach(D=>{const j=l.current[D],F=j.stateSelector(t.current.state,t.current.instanceId),I=j.stateSelector(b,t.current.instanceId);I!==F&&(v.push({stateId:j.stateId,hasPropChanged:I!==j.propModel}),j.propModel!==void 0&&I!==j.propModel&&(C=!0))}),v.length>1)throw new Error(`You're not allowed to update several sub-state in one transaction. You already updated ${v[0].stateId}, therefore, you're not allowed to update ${v.map(D=>D.stateId).join(", ")} in the same transaction.`);if(C||(t.current.state=b,t.current.publishEvent("stateChange",b),t.current.store.update(b)),v.length===1){const{stateId:D,hasPropChanged:j}=v[0],F=l.current[D],I=F.stateSelector(b,t.current.instanceId);F.propOnChange&&j&&F.propOnChange(I,{reason:x,api:t.current}),C||t.current.publishEvent(F.changeEvent,I,{reason:x})}return!C},[t]),c=h.useCallback((m,x,b)=>t.current.setState(C=>w({},C,{[m]:x(C[m])}),b),[t]),d=h.useCallback(()=>{},[]),g={setState:i,forceUpdate:d},p={updateControlState:c,registerControlState:s};Ue(t,g,"public"),Ue(t,p,"private")},XI=(t,l)=>w({},t,{props:{getRowId:l.getRowId}}),QI=(t,l)=>{h.useEffect(()=>{t.current.setState(s=>w({},s,{props:{getRowId:l.getRowId}}))},[t,l.getRowId])},ZI=(t,l)=>{const s=UI(t,l);return HI(s),QI(s,l),PI(s),GI(s,l),KI(s),qI(s),YI(s),$I(s,l),s.current.register("private",{rootProps:l}),s},hn=(t,l,s)=>{const i=h.useRef(!1);i.current||(l.current.state=t(l.current.state,s,l),i.current=!0)};function jh(t,l){if(t==null)return"";const s=typeof t=="string"?t:`${t}`;if(l.shouldAppendQuotes||l.escapeFormulas){const i=s.replace(/"/g,'""');return l.escapeFormulas&&["=","+","-","@","	","\r"].includes(i[0])?`"'${i}"`:[l.delimiter,`
`,"\r",'"'].some(c=>s.includes(c))?`"${i}"`:i}return s}const ay=(t,l)=>{const{csvOptions:s,ignoreValueFormatter:i}=l;let c;if(i){const d=t.colDef.type;d==="number"?c=String(t.value):d==="date"||d==="dateTime"?c=t.value?.toISOString():typeof t.value?.toString=="function"?c=t.value.toString():c=t.value}else c=t.formattedValue;return jh(c,s)};class Mh{constructor(l){this.options=void 0,this.rowString="",this.isEmpty=!0,this.options=l}addValue(l){this.isEmpty||(this.rowString+=this.options.csvOptions.delimiter),typeof this.options.sanitizeCellValue=="function"?this.rowString+=this.options.sanitizeCellValue(l,this.options.csvOptions):this.rowString+=l,this.isEmpty=!1}getRowString(){return this.rowString}}const JI=({id:t,columns:l,getCellParams:s,csvOptions:i,ignoreValueFormatter:c})=>{const d=new Mh({csvOptions:i});return l.forEach(g=>{const p=s(t,g.field);d.addValue(ay(p,{ignoreValueFormatter:c,csvOptions:i}))}),d.getRowString()};function eF(t){const{columns:l,rowIds:s,csvOptions:i,ignoreValueFormatter:c,apiRef:d}=t,g=s.reduce((C,v)=>`${C}${JI({id:v,columns:l,getCellParams:d.current.getCellParams,ignoreValueFormatter:c,csvOptions:i})}\r
`,"").trim();if(!i.includeHeaders)return g;const p=l.filter(C=>C.field!==rs.field),m=[];if(i.includeColumnGroupsHeaders){const C=d.current.getAllGroupDetails();let v=0;const D=p.reduce((j,F)=>{const I=d.current.getColumnGroupPath(F.field);return j[F.field]=I,v=Math.max(v,I.length),j},{});for(let j=0;j<v;j+=1){const F=new Mh({csvOptions:i,sanitizeCellValue:jh});m.push(F),p.forEach(I=>{const k=(D[I.field]||[])[j],T=C[k];F.addValue(T?T.headerName||T.groupId:"")})}}const x=new Mh({csvOptions:i,sanitizeCellValue:jh});return p.forEach(C=>{x.addValue(C.headerName||C.field)}),m.push(x),`${`${m.map(C=>C.getRowString()).join(`\r
`)}\r
`}${g}`.trim()}function aC(t){const l=document.createElement("span");l.style.whiteSpace="pre",l.style.userSelect="all",l.style.opacity="0px",l.textContent=t,document.body.appendChild(l);const s=document.createRange();s.selectNode(l);const i=window.getSelection();i.removeAllRanges(),i.addRange(s);try{document.execCommand("copy")}finally{document.body.removeChild(l)}}function tF(t){navigator.clipboard?navigator.clipboard.writeText(t).catch(()=>{aC(t)}):aC(t)}function nF(t){return!!(window.getSelection()?.toString()||t&&(t.selectionEnd||0)-(t.selectionStart||0)>0)}const lF=(t,l)=>{const s=l.ignoreValueFormatterDuringExport,i=(typeof s=="object"?s?.clipboardExport:s)||!1,c=l.clipboardCopyCellDelimiter,d=h.useCallback(g=>{if(!L2(g)||nF(g.target))return;let p="";if(t.current.getSelectedRows().size>0)p=t.current.getDataAsCsv({includeHeaders:!1,delimiter:c,shouldAppendQuotes:!1,escapeFormulas:!1});else{const x=el(t);if(x){const b=t.current.getCellParams(x.id,x.field);p=ay(b,{csvOptions:{delimiter:c,shouldAppendQuotes:!1,escapeFormulas:!1},ignoreValueFormatter:i})}}p=t.current.unstable_applyPipeProcessors("clipboardCopy",p),p&&(tF(p),t.current.publishEvent("clipboardCopy",p))},[t,i,c]);S0(t,()=>t.current.rootElementRef.current,"keydown",d),yt(t,"clipboardCopy",l.onClipboardCopy)},oF=t=>w({},t,{columnMenu:{open:!1}}),rF=t=>{const l=pn(t,"useGridColumnMenu"),s=h.useCallback(g=>{const p=su(t.current.state),m={open:!0,field:g};(m.open!==p.open||m.field!==p.field)&&(t.current.setState(b=>b.columnMenu.open&&b.columnMenu.field===g?b:(l.debug("Opening Column Menu"),w({},b,{columnMenu:{open:!0,field:g}}))),t.current.hidePreferences())},[t,l]),i=h.useCallback(()=>{const g=su(t.current.state);if(g.field){const x=fo(t),b=Tl(t),C=Ho(t);let v=g.field;if(x[v]||(v=C[0]),b[v]===!1){const D=C.filter(F=>F===v?!0:b[F]!==!1),j=D.indexOf(v);v=D[j+1]||D[j-1]}t.current.setColumnHeaderFocus(v)}const p={open:!1,field:void 0};(p.open!==g.open||p.field!==g.field)&&t.current.setState(x=>(l.debug("Hiding Column Menu"),w({},x,{columnMenu:p})))},[t,l]),c=h.useCallback(g=>{l.debug("Toggle Column Menu");const p=su(t.current.state);!p.open||p.field!==g?s(g):i()},[t,l,s,i]);Ue(t,{showColumnMenu:s,hideColumnMenu:i,toggleColumnMenu:c},"public"),ye(t,"columnResizeStart",i),ye(t,"virtualScrollerWheel",t.current.hideColumnMenu),ye(t,"virtualScrollerTouchMove",t.current.hideColumnMenu)},aF=(t,l,s)=>{const i=Ga({apiRef:s,columnsToUpsert:l.columns,initialState:l.initialState?.columns,columnVisibilityModel:l.columnVisibilityModel??l.initialState?.columns?.columnVisibilityModel??{},keepOnlyColumnsToUpsert:!0});return w({},t,{columns:i,pinnedColumns:t.pinnedColumns??du})};function sF(t,l){const s=pn(t,"useGridColumns"),i=h.useRef(l.columns);t.current.registerControlState({stateId:"visibleColumns",propModel:l.columnVisibilityModel,propOnChange:l.onColumnVisibilityModelChange,stateSelector:Tl,changeEvent:"columnVisibilityModelChange"});const c=h.useCallback(E=>{s.debug("Updating columns state."),t.current.setState(sC(E)),t.current.publishEvent("columnsChange",E.orderedFields)},[s,t]),d=h.useCallback(E=>fo(t)[E],[t]),g=h.useCallback(()=>Fl(t),[t]),p=h.useCallback(()=>qt(t),[t]),m=h.useCallback((E,B=!0)=>(B?qt(t):Fl(t)).findIndex(O=>O.field===E),[t]),x=h.useCallback(E=>{const B=m(E);return Cr(t)[B]},[t,m]),b=h.useCallback(E=>{Tl(t)!==E&&(t.current.setState(N=>w({},N,{columns:Ga({apiRef:t,columnsToUpsert:[],initialState:void 0,columnVisibilityModel:E,keepOnlyColumnsToUpsert:!1})})),t.current.updateRenderContext?.(),t.current.forceUpdate())},[t]),C=h.useCallback(E=>{const B=Ga({apiRef:t,columnsToUpsert:E,initialState:void 0,keepOnlyColumnsToUpsert:!1});c(B)},[t,c]),v=h.useCallback((E,B)=>{const N=Tl(t),O=N[E]??!0;if(B!==O){const K=w({},N,{[E]:B});t.current.setColumnVisibilityModel(K)}},[t]),D=h.useCallback(E=>Ho(t).findIndex(N=>N===E),[t]),j=h.useCallback((E,B)=>{const N=Ho(t),O=D(E);if(O===B)return;s.debug(`Moving column ${E} to index ${B}`);const K=[...N],G=K.splice(O,1)[0];K.splice(B,0,G),c(w({},ao(t.current.state),{orderedFields:K}));const S={column:t.current.getColumn(E),targetIndex:t.current.getColumnIndexRelativeToVisibleColumns(E),oldIndex:O};t.current.publishEvent("columnIndexChange",S)},[t,s,c,D]),F=h.useCallback((E,B)=>{s.debug(`Updating column ${E} width to ${B}`);const N=ao(t.current.state),O=N.lookup[E],K=w({},O,{width:B,hasBeenResized:!0});c(vh(w({},N,{lookup:w({},N.lookup,{[E]:K})}),t.current.getRootDimensions())),t.current.publishEvent("columnWidthChange",{element:t.current.getColumnHeaderElement(E),colDef:K,width:B})},[t,s,c]),I={getColumn:d,getAllColumns:g,getColumnIndex:m,getColumnPosition:x,getVisibleColumns:p,getColumnIndexRelativeToVisibleColumns:D,updateColumns:C,setColumnVisibilityModel:b,setColumnVisibility:v,setColumnWidth:F},k={setColumnIndex:j};Ue(t,I,"public"),Ue(t,k,l.signature===Il.DataGrid?"private":"public");const T=h.useCallback((E,B)=>{const N={},O=Tl(t);(!B.exportOnlyDirtyModels||l.columnVisibilityModel!=null||Object.keys(l.initialState?.columns?.columnVisibilityModel??{}).length>0||Object.keys(O).length>0)&&(N.columnVisibilityModel=O),N.orderedFields=Ho(t);const G=Fl(t),S={};return G.forEach(M=>{if(M.hasBeenResized){const L={};P0.forEach(q=>{let Y=M[q];Y===1/0&&(Y=-1),L[q]=Y}),S[M.field]=L}}),Object.keys(S).length>0&&(N.dimensions=S),w({},E,{columns:N})},[t,l.columnVisibilityModel,l.initialState?.columns]),z=h.useCallback((E,B)=>{const N=B.stateToRestore.columns?.columnVisibilityModel,O=B.stateToRestore.columns;if(N==null&&O==null)return E;const K=Ga({apiRef:t,columnsToUpsert:[],initialState:O,columnVisibilityModel:N,keepOnlyColumnsToUpsert:!1});return t.current.setState(sC(K)),O!=null&&t.current.publishEvent("columnsChange",K.orderedFields),E},[t]),V=h.useCallback((E,B)=>{if(B===ql.columns){const N=l.slots.columnsPanel;return r.jsx(N,w({},l.slotProps?.columnsPanel))}return E},[l.slots.columnsPanel,l.slotProps?.columnsPanel]),R=h.useCallback(E=>l.disableColumnSelector?E:[...E,"columnMenuColumnsItem"],[l.disableColumnSelector]);Vt(t,"columnMenu",R),Vt(t,"exportState",T),Vt(t,"restoreState",z),Vt(t,"preferencePanel",V);const $=h.useRef(null);ye(t,"viewportInnerSizeChange",E=>{if($.current!==E.width){if($.current=E.width,!qt(t).some(N=>N.flex&&N.flex>0))return;c(vh(ao(t.current.state),t.current.getRootDimensions()))}});const U=h.useCallback(()=>{s.info("Columns pipe processing have changed, regenerating the columns");const E=Ga({apiRef:t,columnsToUpsert:[],initialState:void 0,keepOnlyColumnsToUpsert:!1});c(E)},[t,s,c]);ug(t,"hydrateColumns",U);const A=h.useRef(!0);h.useEffect(()=>{if(A.current){A.current=!1;return}if(s.info(`GridColumns have changed, new length ${l.columns.length}`),i.current===l.columns)return;const E=Ga({apiRef:t,initialState:void 0,columnsToUpsert:l.columns,keepOnlyColumnsToUpsert:!0});i.current=l.columns,c(E)},[s,t,c,l.columns]),h.useEffect(()=>{l.columnVisibilityModel!==void 0&&t.current.setColumnVisibilityModel(l.columnVisibilityModel)},[t,s,l.columnVisibilityModel])}function sC(t){return l=>w({},l,{columns:t})}const iF=(t,l)=>w({},t,{density:l.initialState?.density??l.density??"standard"}),cF=(t,l)=>{const s=pn(t,"useDensity");t.current.registerControlState({stateId:"density",propModel:l.density,propOnChange:l.onDensityChange,stateSelector:Ur,changeEvent:"densityChange"});const c={setDensity:Nt(p=>{Ur(t.current.state)!==p&&(s.debug(`Set grid density to ${p}`),t.current.setState(x=>w({},x,{density:p})))})};Ue(t,c,"public");const d=h.useCallback((p,m)=>{const x=Ur(t.current.state);return!m.exportOnlyDirtyModels||l.density!=null||l.initialState?.density!=null?w({},p,{density:x}):p},[t,l.density,l.initialState?.density]),g=h.useCallback((p,m)=>{const x=m.stateToRestore?.density?m.stateToRestore.density:Ur(t.current.state);return t.current.setState(b=>w({},b,{density:x})),p},[t]);Vt(t,"exportState",d),Vt(t,"restoreState",g),h.useEffect(()=>{l.density&&t.current.setDensity(l.density)},[t,l.density])};function uF(t,l="csv",s=document.title||"untitled"){const i=`${s}.${l}`;if("download"in HTMLAnchorElement.prototype){const c=URL.createObjectURL(t),d=document.createElement("a");d.href=c,d.download=i,d.click(),setTimeout(()=>{URL.revokeObjectURL(c)});return}throw new Error("MUI X: exportAs not supported.")}const sy=({apiRef:t,options:l})=>{const s=Fl(t);return l.fields?l.fields.reduce((c,d)=>{const g=s.find(p=>p.field===d);return g&&c.push(g),c},[]):(l.allColumns?s:qt(t)).filter(c=>!c.disableExport)},iy=({apiRef:t})=>{const l=C0(t),s=sn(t),i=t.current.getSelectedRows(),c=l.filter(m=>s[m].type!=="footer"),d=es(t),g=d?.top?.map(m=>m.id)||[],p=d?.bottom?.map(m=>m.id)||[];return c.unshift(...g),c.push(...p),i.size>0?c.filter(m=>i.has(m)):c},dF=(t,l)=>{const s=pn(t,"useGridCsvExport"),i=l.ignoreValueFormatterDuringExport,c=(typeof i=="object"?i?.csvExport:i)||!1,d=h.useCallback((x={})=>{s.debug("Get data as CSV");const b=sy({apiRef:t,options:x}),v=(x.getRowsToExport??iy)({apiRef:t});return eF({columns:b,rowIds:v,csvOptions:{delimiter:x.delimiter||",",shouldAppendQuotes:x.shouldAppendQuotes??!0,includeHeaders:x.includeHeaders??!0,includeColumnGroupsHeaders:x.includeColumnGroupsHeaders??!0,escapeFormulas:x.escapeFormulas??!0},ignoreValueFormatter:c,apiRef:t})},[s,t,c]),g=h.useCallback(x=>{s.debug("Export data as CSV");const b=d(x),C=new Blob([x?.utf8WithBom?new Uint8Array([239,187,191]):"",b],{type:"text/csv"});uF(C,"csv",x?.fileName)},[s,d]);Ue(t,{getDataAsCsv:d,exportDataAsCsv:g},"public");const m=h.useCallback((x,b)=>b.csvOptions?.disableToolbarButton?x:[...x,{component:r.jsx(XT,{options:b.csvOptions}),componentName:"csvExport"}],[]);Vt(t,"exportMenu",m)},iu=(t,l,s)=>{let i=t.paginationModel;const c=t.rowCount,d=s?.pageSize??i.pageSize,g=s?.page??i.page,p=j0(c,d,g);s&&(s?.page!==i.page||s?.pageSize!==i.pageSize)&&(i=s);const m=d===-1?0:Hj(i.page,p);return m!==i.page&&(i=w({},i,{page:m})),E0(i.pageSize,l),i},fF=(t,l)=>{const s=pn(t,"useGridPaginationModel"),i=fe(t,Ja),c=h.useRef(xn(t)),d=Math.floor(l.rowHeight*i);t.current.registerControlState({stateId:"paginationModel",propModel:l.paginationModel,propOnChange:l.onPaginationModelChange,stateSelector:An,changeEvent:"paginationModelChange"});const g=h.useCallback(T=>{const z=An(t);T!==z.page&&(s.debug(`Setting page to ${T}`),t.current.setPaginationModel({page:T,pageSize:z.pageSize}))},[t,s]),p=h.useCallback(T=>{const z=An(t);T!==z.pageSize&&(s.debug(`Setting page size to ${T}`),t.current.setPaginationModel({pageSize:T,page:z.page}))},[t,s]),m=h.useCallback(T=>{const z=An(t);T!==z&&(s.debug("Setting 'paginationModel' to",T),t.current.setState(V=>w({},V,{pagination:w({},V.pagination,{paginationModel:iu(V.pagination,l.signature,T)})}),"setPaginationModel"))},[t,s,l.signature]);Ue(t,{setPage:g,setPageSize:p,setPaginationModel:m},"public");const b=h.useCallback((T,z)=>{const V=An(t);return!z.exportOnlyDirtyModels||l.paginationModel!=null||l.initialState?.pagination?.paginationModel!=null||V.page!==0&&V.pageSize!==kj(l.autoPageSize)?w({},T,{pagination:w({},T.pagination,{paginationModel:V})}):T},[t,l.paginationModel,l.initialState?.pagination?.paginationModel,l.autoPageSize]),C=h.useCallback((T,z)=>{const V=z.stateToRestore.pagination?.paginationModel?w({},M0(l.autoPageSize),z.stateToRestore.pagination?.paginationModel):An(t);return t.current.setState(R=>w({},R,{pagination:w({},R.pagination,{paginationModel:iu(R.pagination,l.signature,V)})}),"stateRestorePreProcessing"),T},[t,l.autoPageSize,l.signature]);Vt(t,"exportState",b),Vt(t,"restoreState",C);const v=()=>{const T=An(t);t.current.virtualScrollerRef?.current&&t.current.scrollToIndexes({rowIndex:T.page*T.pageSize})},D=h.useCallback(()=>{if(!l.autoPageSize)return;const T=t.current.getRootDimensions(),z=Math.max(1,Math.floor(T.viewportInnerSize.height/d));t.current.setPageSize(z)},[t,l.autoPageSize,d]),j=h.useCallback(T=>{if(T==null)return;const z=An(t);if(z.page===0)return;const V=I0(t);z.page>V-1&&t.current.setPage(Math.max(0,V-1))},[t]),F=h.useCallback(()=>{An(t).page!==0&&t.current.setPage(0),t.current.getScrollPosition().top!==0&&t.current.scroll({top:0})},[t]),I=h.useCallback(T=>{const z=w({},T,{items:Xh(t)});ro(z,c.current)||(c.current=z,F())},[t,F]);ye(t,"viewportInnerSizeChange",D),ye(t,"paginationModelChange",v),ye(t,"rowCountChange",j),ye(t,"sortModelChange",Lr(l.resetPageOnSortFilter,F)),ye(t,"filterModelChange",Lr(l.resetPageOnSortFilter,I));const k=h.useRef(!0);h.useEffect(()=>{if(k.current){k.current=!1;return}l.pagination&&t.current.setState(T=>w({},T,{pagination:w({},T.pagination,{paginationModel:iu(T.pagination,l.signature,l.paginationModel)})}))},[t,l.paginationModel,l.signature,l.pagination]),h.useEffect(()=>{t.current.setState(T=>{const z=l.pagination===!0;return T.pagination.paginationMode===l.paginationMode||T.pagination.enabled===z?T:w({},T,{pagination:w({},T.pagination,{paginationMode:l.paginationMode,enabled:l.pagination===!0})})})},[t,l.paginationMode,l.pagination]),h.useEffect(D,[D])};function hF(){return new Promise(t=>{requestAnimationFrame(()=>{t()})})}function gF(t){const l=document.createElement("iframe");return l.style.position="absolute",l.style.width="0px",l.style.height="0px",l.title=t||document.title,l}const mF=(t,l)=>{const s=t.current.rootElementRef.current!==null,i=pn(t,"useGridPrintExport"),c=h.useRef(null),d=h.useRef(null),g=h.useRef({}),p=h.useRef([]),m=h.useRef(null);h.useEffect(()=>{c.current=$r(t.current.rootElementRef.current)},[t,s]);const x=h.useCallback((I,k,T)=>new Promise(z=>{const V=sy({apiRef:t,options:{fields:I,allColumns:k}}).map(_=>_.field),R=Fl(t),$={};R.forEach(_=>{$[_.field]=V.includes(_.field)}),T&&($[rs.field]=!0),t.current.setColumnVisibilityModel($),z()}),[t]),b=h.useCallback(I=>{const T=I({apiRef:t}).reduce((z,V)=>{const R=t.current.getRow(V);return R[qa]||z.push(R),z},[]);t.current.setRows(T)},[t]),C=h.useCallback((I,k)=>{const T=w({copyStyles:!0,hideToolbar:!1,hideFooter:!1,includeCheckboxes:!1},k),z=I.contentDocument;if(!z)return;const V=as(t.current.state),R=t.current.rootElementRef.current,$=R.cloneNode(!0),_=$.querySelector(`.${P.main}`);_.style.overflow="visible",$.style.contain="size";let U=R.querySelector(`.${P.toolbarContainer}`)?.offsetHeight||0,A=R.querySelector(`.${P.footerContainer}`)?.offsetHeight||0;const E=$.querySelector(`.${P.footerContainer}`);T.hideToolbar&&($.querySelector(`.${P.toolbarContainer}`)?.remove(),U=0),T.hideFooter&&E&&(E.remove(),A=0);const B=V.currentPageTotalHeight+Ou(t,l)+U+A;$.style.height=`${B}px`,$.style.boxSizing="content-box",!T.hideFooter&&E&&(E.style.position="absolute",E.style.width="100%",E.style.top=`${B-A}px`);const N=document.createElement("div");N.appendChild($),z.body.style.marginTop="0px",z.body.innerHTML=N.innerHTML;const O=typeof T.pageStyle=="function"?T.pageStyle():T.pageStyle;if(typeof O=="string"){const G=z.createElement("style");G.appendChild(z.createTextNode(O)),z.head.appendChild(G)}T.bodyClassName&&z.body.classList.add(...T.bodyClassName.split(" "));const K=[];if(T.copyStyles){const G=R.getRootNode(),M=(G.constructor.name==="ShadowRoot"?G:c.current).querySelectorAll("style, link[rel='stylesheet']");for(let L=0;L<M.length;L+=1){const q=M[L];if(q.tagName==="STYLE"){const Y=z.createElement(q.tagName),W=q.sheet;if(W){let Q="";for(let le=0;le<W.cssRules.length;le+=1)typeof W.cssRules[le].cssText=="string"&&(Q+=`${W.cssRules[le].cssText}\r
`);Y.appendChild(z.createTextNode(Q)),z.head.appendChild(Y)}}else if(q.getAttribute("href")){const Y=z.createElement(q.tagName);for(let W=0;W<q.attributes.length;W+=1){const Q=q.attributes[W];Q&&Y.setAttribute(Q.nodeName,Q.nodeValue||"")}K.push(new Promise(W=>{Y.addEventListener("load",()=>W())})),z.head.appendChild(Y)}}}Promise.all(K).then(()=>{I.contentWindow.print()})},[t,c,l]),v=h.useCallback(I=>{c.current.body.removeChild(I),t.current.restoreState(d.current||{}),d.current?.columns?.columnVisibilityModel||t.current.setColumnVisibilityModel(g.current),t.current.setState(k=>w({},k,{virtualization:m.current})),t.current.setRows(p.current),d.current=null,g.current={},p.current=[]},[t]),j={exportDataAsPrint:h.useCallback(async I=>{if(i.debug("Export data as Print"),!t.current.rootElementRef.current)throw new Error("MUI X: No grid root element available.");if(d.current=t.current.exportState(),g.current=Tl(t),p.current=t.current.getSortedRows().filter(T=>!T[qa]),l.pagination){const z={page:0,pageSize:Yh(t)};t.current.setState(V=>w({},V,{pagination:w({},V.pagination,{paginationModel:iu(V.pagination,"DataGridPro",z)})}))}m.current=t.current.state.virtualization,t.current.unstable_setVirtualization(!1),await x(I?.fields,I?.allColumns,I?.includeCheckboxes),b(I?.getRowsToExport??iy),await hF();const k=gF(I?.fileName);k.onload=()=>{C(k,I),k.contentWindow.matchMedia("print").addEventListener("change",z=>{z.matches===!1&&v(k)})},c.current.body.appendChild(k)},[l,i,t,C,v,x,b])};Ue(t,j,"public");const F=h.useCallback((I,k)=>k.printOptions?.disableToolbarButton?I:[...I,{component:r.jsx(QT,{options:k.printOptions}),componentName:"printExport"}],[]);Vt(t,"exportMenu",F)},pF=(t,l,s)=>{const i=l.filterModel??l.initialState?.filter?.filterModel??yi();return w({},t,{filter:w({filterModel:$h(i,l.disableMultipleColumnsFiltering,s)},n0),visibleRowsLookup:{}})},bF=t=>t.filteredRowsLookup;function iC(t,l){return t.current.applyStrategyProcessor("visibleRowsLookupCreation",{tree:l.rows.tree,filteredRowsLookup:l.filter.filteredRowsLookup})}function xF(){return NC(Object.values)}const CF=(t,l)=>{const s=pn(t,"useGridFilter");t.current.registerControlState({stateId:"filter",propModel:l.filterModel,propOnChange:l.onFilterModelChange,stateSelector:xn,changeEvent:"filterModelChange"});const i=h.useCallback(()=>{t.current.setState(A=>{const E=xn(A,t.current.instanceId),B=t.current.getFilterState(E),N=w({},A,{filter:w({},A.filter,B)}),O=iC(t,N);return w({},N,{visibleRowsLookup:O})}),t.current.publishEvent("filteredRowsSet")},[t]),c=h.useCallback((A,E)=>E==null||E.filterable===!1||l.disableColumnFilter?A:[...A,"columnMenuFilterItem"],[l.disableColumnFilter]),d=h.useCallback(()=>{i(),t.current.forceUpdate()},[t,i]),g=h.useCallback(A=>{const E=xn(t),B=[...E.items],N=B.findIndex(O=>O.id===A.id);N===-1?B.push(A):B[N]=A,t.current.setFilterModel(w({},E,{items:B}),"upsertFilterItem")},[t]),p=h.useCallback(A=>{const E=xn(t),B=[...E.items];A.forEach(N=>{const O=B.findIndex(K=>K.id===N.id);O===-1?B.push(N):B[O]=N}),t.current.setFilterModel(w({},E,{items:B}),"upsertFilterItems")},[t]),m=h.useCallback(A=>{const E=xn(t),B=E.items.filter(N=>N.id!==A.id);B.length!==E.items.length&&t.current.setFilterModel(w({},E,{items:B}),"deleteFilterItem")},[t]),x=h.useCallback((A,E,B)=>{if(s.debug("Displaying filter panel"),A){const N=xn(t),O=N.items.filter(M=>{if(M.value!==void 0)return!(Array.isArray(M.value)&&M.value.length===0);const q=t.current.getColumn(M.field).filterOperators?.find(W=>W.value===M.operator);return!(typeof q?.requiresFilterValue>"u"?!0:q?.requiresFilterValue)});let K;const G=O.find(M=>M.field===A),S=t.current.getColumn(A);G?K=O:l.disableMultipleColumnsFiltering?K=[yh({field:A,operator:S.filterOperators[0].value},t)]:K=[...O,yh({field:A,operator:S.filterOperators[0].value},t)],t.current.setFilterModel(w({},N,{items:K}))}t.current.showPreferences(ql.filters,E,B)},[t,s,l.disableMultipleColumnsFiltering]),b=h.useCallback(()=>{s.debug("Hiding filter panel"),t.current.hidePreferences()},[t,s]),C=h.useCallback(A=>{const E=xn(t);E.logicOperator!==A&&t.current.setFilterModel(w({},E,{logicOperator:A}),"changeLogicOperator")},[t]),v=h.useCallback(A=>{const E=xn(t);ro(E.quickFilterValues,A)||t.current.setFilterModel(w({},E,{quickFilterValues:[...A]}))},[t]),D=h.useCallback((A,E)=>{xn(t)!==A&&(s.debug("Setting filter model"),t.current.updateControlState("filter",Cx(A,l.disableMultipleColumnsFiltering,t),E),t.current.unstable_applyFilters())},[t,s,l.disableMultipleColumnsFiltering]),j=h.useCallback(A=>{const E=$h(A,l.disableMultipleColumnsFiltering,t),B=l.filterMode==="client"?N1(E,t,l.disableEval):null,N=t.current.applyStrategyProcessor("filtering",{isRowMatchingFilters:B,filterModel:E??yi()});return w({},N,{filterModel:E})},[l.disableMultipleColumnsFiltering,l.filterMode,l.disableEval,t]),F={setFilterLogicOperator:C,unstable_applyFilters:d,deleteFilterItem:m,upsertFilterItem:g,upsertFilterItems:p,setFilterModel:D,showFilterPanel:x,hideFilterPanel:b,setQuickFilterValues:v,ignoreDiacritics:l.ignoreDiacritics,getFilterState:j};Ue(t,F,"public");const I=h.useCallback((A,E)=>{const B=xn(t);return B.items.forEach(O=>{delete O.fromInput}),!E.exportOnlyDirtyModels||l.filterModel!=null||l.initialState?.filter?.filterModel!=null||!ro(B,yi())?w({},A,{filter:{filterModel:B}}):A},[t,l.filterModel,l.initialState?.filter?.filterModel]),k=h.useCallback((A,E)=>{const B=E.stateToRestore.filter?.filterModel;return B==null?A:(t.current.updateControlState("filter",Cx(B,l.disableMultipleColumnsFiltering,t),"restoreState"),w({},A,{callbacks:[...A.callbacks,t.current.unstable_applyFilters]}))},[t,l.disableMultipleColumnsFiltering]),T=h.useCallback((A,E)=>{if(E===ql.filters){const B=l.slots.filterPanel;return r.jsx(B,w({},l.slotProps?.filterPanel))}return A},[l.slots.filterPanel,l.slotProps?.filterPanel]),{getRowId:z}=l,V=io(xF),R=h.useCallback(A=>{if(l.filterMode!=="client"||!A.isRowMatchingFilters||!A.filterModel.items.length&&!A.filterModel.quickFilterValues?.length)return n0;const E=Dl(t),B={},{isRowMatchingFilters:N}=A,O={},K={passingFilterItems:null,passingQuickFilterValues:null},G=V.current(t.current.state.rows.dataRowIdToModelLookup);for(let L=0;L<G.length;L+=1){const q=G[L],Y=z?z(q):q.id;N(q,void 0,K);const W=L1([K.passingFilterItems],[K.passingQuickFilterValues],A.filterModel,t,O);B[Y]=W}const S="auto-generated-group-footer-root";return E[S]&&(B[S]=!0),{filteredRowsLookup:B,filteredChildrenCountLookup:{},filteredDescendantCountLookup:{}}},[t,l.filterMode,z,V]);Vt(t,"columnMenu",c),Vt(t,"exportState",I),Vt(t,"restoreState",k),Vt(t,"preferencePanel",T),yu(t,Kr,"filtering",R),yu(t,Kr,"visibleRowsLookupCreation",bF);const $=h.useCallback(()=>{s.debug("onColUpdated - GridColumns changed, applying filters");const A=xn(t),E=fo(t),B=A.items.filter(N=>N.field&&E[N.field]);B.length<A.items.length&&t.current.setFilterModel(w({},A,{items:B}))},[t,s]),_=h.useCallback(A=>{A==="filtering"&&t.current.unstable_applyFilters()},[t]),U=h.useCallback(()=>{t.current.setState(A=>w({},A,{visibleRowsLookup:iC(t,A)})),t.current.forceUpdate()},[t]);ye(t,"rowsSet",i),ye(t,"columnsChange",$),ye(t,"activeStrategyProcessorChange",_),ye(t,"rowExpansionChange",U),ye(t,"columnVisibilityModelChange",()=>{const A=xn(t);A.quickFilterValues&&c0(A)&&t.current.unstable_applyFilters()}),Ii(()=>{t.current.unstable_applyFilters()}),zn(()=>{l.filterModel!==void 0&&t.current.setFilterModel(l.filterModel)},[t,s,l.filterModel])},yF=t=>w({},t,{focus:{cell:null,columnHeader:null,columnHeaderFilter:null,columnGroupHeader:null},tabIndex:{cell:null,columnHeader:null,columnHeaderFilter:null,columnGroupHeader:null}}),vF=(t,l)=>{const s=pn(t,"useGridFocus"),i=h.useRef(null),c=t.current.rootElementRef.current!==null,d=h.useCallback((U,A)=>{U&&t.current.getRow(U.id)&&t.current.publishEvent("cellFocusOut",t.current.getCellParams(U.id,U.field),A)},[t]),g=h.useCallback((U,A)=>{const E=el(t);E?.id===U&&E?.field===A||(t.current.setState(B=>(s.debug(`Focusing on cell with id=${U} and field=${A}`),w({},B,{tabIndex:{cell:{id:U,field:A},columnHeader:null,columnHeaderFilter:null,columnGroupHeader:null},focus:{cell:{id:U,field:A},columnHeader:null,columnHeaderFilter:null,columnGroupHeader:null}}))),t.current.forceUpdate(),t.current.getRow(U)&&(E&&d(E,{}),t.current.publishEvent("cellFocusIn",t.current.getCellParams(U,A))))},[t,s,d]),p=h.useCallback((U,A={})=>{const E=el(t);d(E,A),t.current.setState(B=>(s.debug(`Focusing on column header with colIndex=${U}`),w({},B,{tabIndex:{columnHeader:{field:U},columnHeaderFilter:null,cell:null,columnGroupHeader:null},focus:{columnHeader:{field:U},columnHeaderFilter:null,cell:null,columnGroupHeader:null}}))),t.current.forceUpdate()},[t,s,d]),m=h.useCallback((U,A={})=>{const E=el(t);d(E,A),t.current.setState(B=>(s.debug(`Focusing on column header filter with colIndex=${U}`),w({},B,{tabIndex:{columnHeader:null,columnHeaderFilter:{field:U},cell:null,columnGroupHeader:null},focus:{columnHeader:null,columnHeaderFilter:{field:U},cell:null,columnGroupHeader:null}}))),t.current.forceUpdate()},[t,s,d]),x=h.useCallback((U,A,E={})=>{const B=el(t);B&&t.current.publishEvent("cellFocusOut",t.current.getCellParams(B.id,B.field),E),t.current.setState(N=>w({},N,{tabIndex:{columnGroupHeader:{field:U,depth:A},columnHeader:null,columnHeaderFilter:null,cell:null},focus:{columnGroupHeader:{field:U,depth:A},columnHeader:null,columnHeaderFilter:null,cell:null}})),t.current.forceUpdate()},[t]),b=h.useCallback(()=>fu(t),[t]),C=h.useCallback((U,A,E)=>{let B=t.current.getColumnIndex(A);const N=qt(t),O=pr(t,{pagination:l.pagination,paginationMode:l.paginationMode}),K=es(t),G=[].concat(K.top||[],O.rows,K.bottom||[]);let S=G.findIndex(Y=>Y.id===U);E==="right"?B+=1:E==="left"?B-=1:S+=1,B>=N.length?(S+=1,S<G.length&&(B=0)):B<0&&(S-=1,S>=0&&(B=N.length-1)),S=dl(S,0,G.length-1);const M=G[S];if(!M)return;const L=t.current.unstable_getCellColSpanInfo(M.id,B);L&&L.spannedByColSpan&&(E==="left"||E==="below"?B=L.leftVisibleCellIndex:E==="right"&&(B=L.rightVisibleCellIndex)),B=dl(B,0,N.length-1);const q=N[B];t.current.setCellFocus(M.id,q.field)},[t,l.pagination,l.paginationMode]),v=h.useCallback(({id:U,field:A})=>{t.current.setCellFocus(U,A)},[t]),D=h.useCallback((U,A)=>{A.key==="Enter"||A.key==="Tab"||A.key==="Shift"||bu(A.key)||t.current.setCellFocus(U.id,U.field)},[t]),j=h.useCallback(({field:U},A)=>{A.target===A.currentTarget&&t.current.setColumnHeaderFocus(U,A)},[t]),F=h.useCallback(({fields:U,depth:A},E)=>{if(E.target!==E.currentTarget)return;const B=fu(t);B!==null&&B.depth===A&&U.includes(B.field)||t.current.setColumnGroupHeaderFocus(U[0],A,E)},[t]),I=h.useCallback((U,A)=>{A.relatedTarget?.getAttribute("class")?.includes(P.columnHeader)||(s.debug("Clearing focus"),t.current.setState(E=>w({},E,{focus:{cell:null,columnHeader:null,columnHeaderFilter:null,columnGroupHeader:null}})))},[s,t]),k=h.useCallback(U=>{i.current=U},[]),T=h.useCallback(U=>{const A=i.current;i.current=null;const E=el(t);if(!t.current.unstable_applyPipeProcessors("canUpdateFocus",!0,{event:U,cell:A}))return;if(!E){A&&t.current.setCellFocus(A.id,A.field);return}A?.id===E.id&&A?.field===E.field||t.current.getCellElement(E.id,E.field)?.contains(U.target)||(A?t.current.setCellFocus(A.id,A.field):(t.current.setState(O=>w({},O,{focus:{cell:null,columnHeader:null,columnHeaderFilter:null,columnGroupHeader:null}})),t.current.forceUpdate(),d(E,U)))},[t,d]),z=h.useCallback(U=>{if(U.cellMode==="view")return;const A=el(t);(A?.id!==U.id||A?.field!==U.field)&&t.current.setCellFocus(U.id,U.field)},[t]),V=h.useCallback(()=>{const U=el(t);if(U&&!t.current.getRow(U.id)){const A=U.id;let E=null;if(typeof A<"u"){const B=t.current.getRowElement(A),N=B?.dataset.rowindex?Number(B?.dataset.rowindex):0,O=pr(t,{pagination:l.pagination,paginationMode:l.paginationMode});E=O.rows[dl(N,0,O.rows.length-1)]?.id??null}t.current.setState(B=>w({},B,{focus:{cell:E===null?null:{id:E,field:U.field},columnHeader:null,columnHeaderFilter:null,columnGroupHeader:null}}))}},[t,l.pagination,l.paginationMode]),R=Nt(()=>{const U=el(t);if(!U)return;const A=pr(t,{pagination:l.pagination,paginationMode:l.paginationMode});if(A.rows.find(N=>N.id===U.id))return;const B=qt(t);t.current.setState(N=>w({},N,{tabIndex:{cell:{id:A.rows[0].id,field:B[0].field},columnGroupHeader:null,columnHeader:null,columnHeaderFilter:null}}))}),$={setCellFocus:g,setColumnHeaderFocus:p,setColumnHeaderFilterFocus:m},_={moveFocusToRelativeCell:C,setColumnGroupHeaderFocus:x,getColumnGroupHeaderFocus:b};Ue(t,$,"public"),Ue(t,_,"private"),h.useEffect(()=>{const U=$r(t.current.rootElementRef.current);return U.addEventListener("mouseup",T),()=>{U.removeEventListener("mouseup",T)}},[t,c,T]),ye(t,"columnHeaderBlur",I),ye(t,"cellDoubleClick",v),ye(t,"cellMouseDown",k),ye(t,"cellKeyDown",D),ye(t,"cellModeChange",z),ye(t,"columnHeaderFocus",j),ye(t,"columnGroupHeaderFocus",F),ye(t,"rowsSet",V),ye(t,"paginationModelChange",R)},ah=({currentColIndex:t,firstColIndex:l,lastColIndex:s,isRtl:i})=>{if(i){if(t<s)return t+1}else if(!i&&t>l)return t-1;return null},sh=({currentColIndex:t,firstColIndex:l,lastColIndex:s,isRtl:i})=>{if(i){if(t>l)return t-1}else if(!i&&t<s)return t+1;return null};function wF(t,l,s,i){const c=B0(t);if(!c[l]?.[s])return l;const d=C0(t);let g=d.indexOf(l)+(i==="down"?1:-1);for(;g>=0&&g<d.length;){const p=d[g];if(!c[p]?.[s])return p;g+=i==="down"?1:-1}return l}const SF=dt(Ai,es,(t,l)=>(l.top||[]).concat(t.rows,l.bottom||[])),jF=(t,l)=>{const s=pn(t,"useGridKeyboardNavigation"),i=co(),c=l.unstable_listView,d=h.useCallback(()=>SF(t),[t]),g=l.signature!=="DataGrid"&&l.headerFilters,p=h.useCallback((k,T,z="left",V="up")=>{const R=yr(t),$=t.current.unstable_getCellColSpanInfo(T,k);$&&$.spannedByColSpan&&(z==="left"?k=$.leftVisibleCellIndex:z==="right"&&(k=$.rightVisibleCellIndex));const _=c?Xa(t.current.state).field:ts(t)[k],U=wF(t,T,_,V),A=R.findIndex(E=>E.id===U);s.debug(`Navigating to cell row ${A}, col ${k}`),t.current.scrollToIndexes({colIndex:k,rowIndex:A}),t.current.setCellFocus(U,_)},[t,s,c]),m=h.useCallback((k,T)=>{s.debug(`Navigating to header col ${k}`),t.current.scrollToIndexes({colIndex:k});const z=t.current.getVisibleColumns()[k].field;t.current.setColumnHeaderFocus(z,T)},[t,s]),x=h.useCallback((k,T)=>{s.debug(`Navigating to header filter col ${k}`),t.current.scrollToIndexes({colIndex:k});const z=t.current.getVisibleColumns()[k].field;t.current.setColumnHeaderFilterFocus(z,T)},[t,s]),b=h.useCallback((k,T,z)=>{s.debug(`Navigating to header col ${k}`),t.current.scrollToIndexes({colIndex:k});const{field:V}=t.current.getVisibleColumns()[k];t.current.setColumnGroupHeaderFocus(V,T,z)},[t,s]),C=h.useCallback(k=>d()[k]?.id,[d]),v=h.useCallback((k,T)=>{const z=T.currentTarget.querySelector(`.${P.columnHeaderTitleContainerContent}`);if(!!z&&z.contains(T.target)&&k.field!==rs.field)return;const R=d(),$=t.current.getViewportPageSize(),_=k.field?t.current.getColumnIndex(k.field):0,U=R.length>0?0:null,A=R.length-1,E=0,B=qt(t).length-1,N=Oi(t);let O=!0;switch(T.key){case"ArrowDown":{g?x(_,T):U!==null&&p(_,C(U));break}case"ArrowRight":{const K=sh({currentColIndex:_,firstColIndex:E,lastColIndex:B,isRtl:i});K!==null&&m(K,T);break}case"ArrowLeft":{const K=ah({currentColIndex:_,firstColIndex:E,lastColIndex:B,isRtl:i});K!==null&&m(K,T);break}case"ArrowUp":{N>0&&b(_,N-1,T);break}case"PageDown":{U!==null&&A!==null&&p(_,C(Math.min(U+$,A)));break}case"Home":{m(E,T);break}case"End":{m(B,T);break}case"Enter":{(T.ctrlKey||T.metaKey)&&t.current.toggleColumnMenu(k.field);break}case" ":break;default:O=!1}O&&T.preventDefault()},[t,d,g,x,p,C,i,m,b]),D=h.useCallback((k,T)=>{const z=yM(t)===k.field,V=vM(t)===k.field;if(z||V||!bu(T.key))return;const R=d(),$=t.current.getViewportPageSize(),_=k.field?t.current.getColumnIndex(k.field):0,U=0,A=R.length-1,E=0,B=qt(t).length-1;let N=!0;switch(T.key){case"ArrowDown":{const O=C(U);O!=null&&p(_,O);break}case"ArrowRight":{const O=sh({currentColIndex:_,firstColIndex:E,lastColIndex:B,isRtl:i});O!==null&&x(O,T);break}case"ArrowLeft":{const O=ah({currentColIndex:_,firstColIndex:E,lastColIndex:B,isRtl:i});O!==null?x(O,T):t.current.setColumnHeaderFilterFocus(k.field,T);break}case"ArrowUp":{m(_,T);break}case"PageDown":{A!==null&&p(_,C(Math.min(U+$,A)));break}case"Home":{x(E,T);break}case"End":{x(B,T);break}case" ":break;default:N=!1}N&&T.preventDefault()},[t,d,x,i,m,p,C]),j=h.useCallback((k,T)=>{const z=fu(t);if(z===null)return;const{field:V,depth:R}=z,{fields:$,depth:_,maxDepth:U}=k,A=d(),E=t.current.getViewportPageSize(),B=t.current.getColumnIndex(V),N=V?t.current.getColumnIndex(V):0,O=0,K=A.length-1,G=0,S=qt(t).length-1;let M=!0;switch(T.key){case"ArrowDown":{_===U-1?m(B,T):b(B,R+1,T);break}case"ArrowUp":{_>0&&b(B,R-1,T);break}case"ArrowRight":{const L=$.length-$.indexOf(V)-1;B+L+1<=S&&b(B+L+1,R,T);break}case"ArrowLeft":{const L=$.indexOf(V);B-L-1>=G&&b(B-L-1,R,T);break}case"PageDown":{K!==null&&p(N,C(Math.min(O+E,K)));break}case"Home":{b(G,R,T);break}case"End":{b(S,R,T);break}case" ":break;default:M=!1}M&&T.preventDefault()},[t,d,m,b,p,C]),F=h.useCallback((k,T)=>{if(Hi(T))return;const z=t.current.getCellParams(k.id,k.field);if(z.cellMode===Ct.Edit||!bu(T.key)||!t.current.unstable_applyPipeProcessors("canUpdateFocus",!0,{event:T,cell:z}))return;const R=d();if(R.length===0)return;const $=t.current.getViewportPageSize(),_=c?()=>0:t.current.getColumnIndex,U=k.field?_(k.field):0,A=R.findIndex(S=>S.id===k.id),E=0,B=R.length-1,N=0,K=(c?[Xa(t.current.state)]:qt(t)).length-1;let G=!0;switch(T.key){case"ArrowDown":{A<B&&p(U,C(A+1),i?"right":"left","down");break}case"ArrowUp":{A>E?p(U,C(A-1)):g?x(U,T):m(U,T);break}case"ArrowRight":{const S=sh({currentColIndex:U,firstColIndex:N,lastColIndex:K,isRtl:i});S!==null&&p(S,C(A),i?"left":"right");break}case"ArrowLeft":{const S=ah({currentColIndex:U,firstColIndex:N,lastColIndex:K,isRtl:i});S!==null&&p(S,C(A),i?"right":"left");break}case"Tab":{T.shiftKey&&U>N?p(U-1,C(A),"left"):!T.shiftKey&&U<K&&p(U+1,C(A),"right");break}case" ":{if(k.field===Tu)break;const M=k.colDef;if(M&&(M.field===ej||UE(M.field)))break;!T.shiftKey&&A<B&&p(U,C(Math.min(A+$,B)));break}case"PageDown":{A<B&&p(U,C(Math.min(A+$,B)));break}case"PageUp":{const S=Math.max(A-$,E);S!==A&&S>=E?p(U,C(S)):m(U,T);break}case"Home":{T.ctrlKey||T.metaKey||T.shiftKey?p(N,C(E)):p(N,C(A));break}case"End":{T.ctrlKey||T.metaKey||T.shiftKey?p(K,C(B)):p(K,C(A));break}default:G=!1}G&&T.preventDefault()},[t,d,i,p,C,g,x,m,c]),I=h.useCallback((k,{event:T})=>T.key===" "?!1:k,[]);Vt(t,"canStartEditing",I),ye(t,"columnHeaderKeyDown",v),ye(t,"headerFilterKeyDown",D),ye(t,"columnGroupHeaderKeyDown",j),ye(t,"cellKeyDown",F)},MF=(t,l)=>{const s=pn(t,"useGridRowCount"),i=fe(t,Kh),c=fe(t,Ba),d=fe(t,fi),g=fe(t,An),p=io(()=>An(t).pageSize);t.current.registerControlState({stateId:"paginationRowCount",propModel:l.rowCount,propOnChange:l.onRowCountChange,stateSelector:Ba,changeEvent:"rowCountChange"});const x={setRowCount:h.useCallback(j=>{c!==j&&(s.debug("Setting 'rowCount' to",j),t.current.setState(F=>w({},F,{pagination:w({},F.pagination,{rowCount:j})})))},[t,s,c])};Ue(t,x,"public");const b=h.useCallback((j,F)=>{const I=Ba(t);return!F.exportOnlyDirtyModels||l.rowCount!=null||l.initialState?.pagination?.rowCount!=null?w({},j,{pagination:w({},j.pagination,{rowCount:I})}):j},[t,l.rowCount,l.initialState?.pagination?.rowCount]),C=h.useCallback((j,F)=>{const I=F.stateToRestore.pagination?.rowCount?F.stateToRestore.pagination.rowCount:Ba(t);return t.current.setState(k=>w({},k,{pagination:w({},k.pagination,{rowCount:I})})),j},[t]);Vt(t,"exportState",b),Vt(t,"restoreState",C);const v=h.useCallback(j=>{l.paginationMode==="client"||!p.current||j.pageSize!==p.current&&(p.current=j.pageSize,c===-1&&t.current.setPage(0))},[l.paginationMode,p,c,t]);ye(t,"paginationModelChange",v),h.useEffect(()=>{l.paginationMode==="client"?t.current.setRowCount(i):l.rowCount!=null&&t.current.setRowCount(l.rowCount)},[t,l.paginationMode,i,l.rowCount]);const D=d.hasNextPage===!1;h.useEffect(()=>{D&&c===-1&&t.current.setRowCount(g.pageSize*g.page+i)},[t,i,D,c,g])},EF=(t,l)=>{const s=pn(t,"useGridPaginationMeta"),i=fe(t,fi);t.current.registerControlState({stateId:"paginationMeta",propModel:l.paginationMeta,propOnChange:l.onPaginationMetaChange,stateSelector:fi,changeEvent:"paginationMetaChange"});const d={setPaginationMeta:h.useCallback(m=>{i!==m&&(s.debug("Setting 'paginationMeta' to",m),t.current.setState(x=>w({},x,{pagination:w({},x.pagination,{meta:m})})))},[t,s,i])};Ue(t,d,"public");const g=h.useCallback((m,x)=>{const b=fi(t);return!x.exportOnlyDirtyModels||l.paginationMeta!=null||l.initialState?.pagination?.meta!=null?w({},m,{pagination:w({},m.pagination,{meta:b})}):m},[t,l.paginationMeta,l.initialState?.pagination?.meta]),p=h.useCallback((m,x)=>{const b=x.stateToRestore.pagination?.meta?x.stateToRestore.pagination.meta:fi(t);return t.current.setState(C=>w({},C,{pagination:w({},C.pagination,{meta:b})})),m},[t]);Vt(t,"exportState",g),Vt(t,"restoreState",p),h.useEffect(()=>{l.paginationMeta&&t.current.setPaginationMeta(l.paginationMeta)},[t,l.paginationMeta])},DF=(t,l)=>{const s=w({},M0(l.autoPageSize),l.paginationModel??l.initialState?.pagination?.paginationModel);E0(s.pageSize,l.signature);const i=l.rowCount??l.initialState?.pagination?.rowCount??(l.paginationMode==="client"?t.rows?.totalRowCount:void 0),c=l.paginationMeta??l.initialState?.pagination?.meta??{};return w({},t,{pagination:w({},t.pagination,{paginationModel:s,rowCount:i,meta:c,enabled:l.pagination===!0,paginationMode:l.paginationMode})})},TF=(t,l)=>{EF(t,l),fF(t,l),MF(t,l)},IF=(t,l)=>w({},t,{preferencePanel:l.initialState?.preferencePanel??{open:!1}}),FF=(t,l)=>{const s=pn(t,"useGridPreferencesPanel"),i=h.useCallback(()=>{t.current.setState(p=>{if(!p.preferencePanel.open)return p;s.debug("Hiding Preferences Panel");const m=Yr(p);return t.current.publishEvent("preferencePanelClose",{openedPanelValue:m.openedPanelValue}),w({},p,{preferencePanel:{open:!1}})})},[t,s]),c=h.useCallback((p,m,x)=>{s.debug("Opening Preferences Panel"),t.current.setState(b=>w({},b,{preferencePanel:w({},b.preferencePanel,{open:!0,openedPanelValue:p,panelId:m,labelId:x})})),t.current.publishEvent("preferencePanelOpen",{openedPanelValue:p})},[s,t]);Ue(t,{showPreferences:c,hidePreferences:i},"public");const d=h.useCallback((p,m)=>{const x=Yr(t.current.state);return!m.exportOnlyDirtyModels||l.initialState?.preferencePanel!=null||x.open?w({},p,{preferencePanel:x}):p},[t,l.initialState?.preferencePanel]),g=h.useCallback((p,m)=>{const x=m.stateToRestore.preferencePanel;return x!=null&&t.current.setState(b=>w({},b,{preferencePanel:x})),p},[t]);Vt(t,"exportState",d),Vt(t,"restoreState",g)},Eh=t=>{switch(t.type){case"boolean":return!1;case"date":case"dateTime":case"number":return;case"singleSelect":return null;default:return""}},AF=["id","field"],zF=["id","field"],OF=(t,l)=>{const[s,i]=h.useState({}),c=h.useRef(s),d=h.useRef({}),{processRowUpdate:g,onProcessRowUpdateError:p,cellModesModel:m,onCellModesModelChange:x}=l,b=G=>(...S)=>{l.editMode===so.Cell&&G(...S)},C=h.useCallback((G,S)=>{const M=t.current.getCellParams(G,S);if(!t.current.isCellEditable(M))throw new Error(`MUI X: The cell with id=${G} and field=${S} is not editable.`)},[t]),v=h.useCallback((G,S,M)=>{if(t.current.getCellMode(G,S)!==M)throw new Error(`MUI X: The cell with id=${G} and field=${S} is not in ${M} mode.`)},[t]),D=h.useCallback((G,S)=>{if(!G.isEditable||G.cellMode===Ct.Edit)return;const M=w({},G,{reason:ko.cellDoubleClick});t.current.publishEvent("cellEditStart",M,S)},[t]),j=h.useCallback((G,S)=>{if(G.cellMode===Ct.View||t.current.getCellMode(G.id,G.field)===Ct.View)return;const M=w({},G,{reason:Bl.cellFocusOut});t.current.publishEvent("cellEditStop",M,S)},[t]),F=h.useCallback((G,S)=>{if(G.cellMode===Ct.Edit){if(S.which===229)return;let M;if(S.key==="Escape"?M=Bl.escapeKeyDown:S.key==="Enter"?M=Bl.enterKeyDown:S.key==="Tab"&&(M=S.shiftKey?Bl.shiftTabKeyDown:Bl.tabKeyDown,S.preventDefault()),M){const L=w({},G,{reason:M});t.current.publishEvent("cellEditStop",L,S)}}else if(G.isEditable){let M;if(!t.current.unstable_applyPipeProcessors("canStartEditing",!0,{event:S,cellParams:G,editMode:"cell"}))return;if(ny(S)?M=ko.printableKeyDown:ly(S)?M=ko.pasteKeyDown:S.key==="Enter"?M=ko.enterKeyDown:(S.key==="Backspace"||S.key==="Delete")&&(M=ko.deleteKeyDown),M){const q=w({},G,{reason:M,key:S.key});t.current.publishEvent("cellEditStart",q,S)}}},[t]),I=h.useCallback(G=>{const{id:S,field:M,reason:L}=G,q={id:S,field:M};(L===ko.printableKeyDown||L===ko.deleteKeyDown||L===ko.pasteKeyDown)&&(q.deleteValue=!0),t.current.startCellEditMode(q)},[t]),k=h.useCallback(G=>{const{id:S,field:M,reason:L}=G;t.current.runPendingEditCellValueMutation(S,M);let q;L===Bl.enterKeyDown?q="below":L===Bl.tabKeyDown?q="right":L===Bl.shiftTabKeyDown&&(q="left");const Y=L==="escapeKeyDown";t.current.stopCellEditMode({id:S,field:M,ignoreModifications:Y,cellToFocusAfter:q})},[t]),T=G=>async(...S)=>{if(G){const{id:M,field:L}=S[0];t.current.state.editRows[M][L]?.error||G(...S)}};ye(t,"cellDoubleClick",b(D)),ye(t,"cellFocusOut",b(j)),ye(t,"cellKeyDown",b(F)),ye(t,"cellEditStart",b(I)),ye(t,"cellEditStop",b(k)),yt(t,"cellEditStart",l.onCellEditStart),yt(t,"cellEditStop",T(l.onCellEditStop));const z=h.useCallback((G,S)=>{const M=gn(t.current.state);return M[G]&&M[G][S]?Ct.Edit:Ct.View},[t]),V=Nt(G=>{const S=G!==l.cellModesModel;x&&S&&x(G,{api:t.current}),!(l.cellModesModel&&S)&&(i(G),c.current=G,t.current.publishEvent("cellModesModelChange",G))}),R=h.useCallback((G,S,M)=>{const L=w({},c.current);if(M!==null)L[G]=w({},L[G],{[S]:w({},M)});else{const q=L[G],Y=Ee(q,[S].map(Si));L[G]=Y,Object.keys(L[G]).length===0&&delete L[G]}V(L)},[V]),$=h.useCallback((G,S,M)=>{t.current.setState(L=>{const q=w({},L.editRows);return M!==null?q[G]=w({},q[G],{[S]:w({},M)}):(delete q[G][S],Object.keys(q[G]).length===0&&delete q[G]),w({},L,{editRows:q})}),t.current.forceUpdate()},[t]),_=h.useCallback(G=>{const{id:S,field:M}=G,L=Ee(G,AF);C(S,M),v(S,M,Ct.View),R(S,M,w({mode:Ct.Edit},L))},[C,v,R]),U=Nt(async G=>{const{id:S,field:M,deleteValue:L,initialValue:q}=G,Y=t.current.getCellValue(S,M);let W=Y;L?W=Eh(t.current.getColumn(M)):q&&(W=q);const Q=t.current.getColumn(M),le=!!Q.preProcessEditCellProps&&L;let re={value:W,error:!1,isProcessingProps:le};if($(S,M,re),t.current.setCellFocus(S,M),le&&(re=await Promise.resolve(Q.preProcessEditCellProps({id:S,row:t.current.getRow(S),props:re,hasChanged:W!==Y})),t.current.getCellMode(S,M)===Ct.Edit)){const me=gn(t.current.state);$(S,M,w({},re,{value:me[S][M].value,isProcessingProps:!1}))}}),A=h.useCallback(G=>{const{id:S,field:M}=G,L=Ee(G,zF);v(S,M,Ct.Edit),R(S,M,w({mode:Ct.View},L))},[v,R]),E=Nt(async G=>{const{id:S,field:M,ignoreModifications:L,cellToFocusAfter:q="none"}=G;v(S,M,Ct.Edit),t.current.runPendingEditCellValueMutation(S,M);const Y=()=>{$(S,M,null),R(S,M,null),q!=="none"&&t.current.moveFocusToRelativeCell(S,M,q)};if(L){Y();return}const W=gn(t.current.state),{error:Q,isProcessingProps:le}=W[S][M];if(Q||le){d.current[S][M].mode=Ct.Edit,R(S,M,{mode:Ct.Edit});return}const re=t.current.getRowWithUpdatedValuesFromCellEditing(S,M);if(g){const me=ce=>{d.current[S][M].mode=Ct.Edit,R(S,M,{mode:Ct.Edit}),p&&p(ce)};try{const ce=t.current.getRow(S);Promise.resolve(g(re,ce,{rowId:S})).then(ve=>{t.current.updateRows([ve]),Y()}).catch(me)}catch(ce){me(ce)}}else t.current.updateRows([re]),Y()}),B=h.useCallback(async G=>{const{id:S,field:M,value:L,debounceMs:q,unstable_skipValueParser:Y}=G;C(S,M),v(S,M,Ct.Edit);const W=t.current.getColumn(M),Q=t.current.getRow(S);let le=L;W.valueParser&&!Y&&(le=W.valueParser(L,Q,W,t));let re=gn(t.current.state),me=w({},re[S][M],{value:le,changeReason:q?"debouncedSetEditCellValue":"setEditCellValue"});if(W.preProcessEditCellProps){const ce=L!==re[S][M].value;me=w({},me,{isProcessingProps:!0}),$(S,M,me),me=await Promise.resolve(W.preProcessEditCellProps({id:S,row:Q,props:me,hasChanged:ce}))}return t.current.getCellMode(S,M)===Ct.View?!1:(re=gn(t.current.state),me=w({},me,{isProcessingProps:!1}),me.value=W.preProcessEditCellProps?re[S][M].value:le,$(S,M,me),re=gn(t.current.state),!re[S]?.[M]?.error)},[t,C,v,$]),N=h.useCallback((G,S)=>{const M=t.current.getColumn(S),L=gn(t.current.state),q=t.current.getRow(G);if(!L[G]||!L[G][S])return t.current.getRow(G);const{value:Y}=L[G][S];return M.valueSetter?M.valueSetter(Y,q,M,t):w({},q,{[S]:Y})},[t]),O={getCellMode:z,startCellEditMode:_,stopCellEditMode:A},K={setCellEditingEditCellValue:B,getRowWithUpdatedValuesFromCellEditing:N};Ue(t,O,"public"),Ue(t,K,"private"),h.useEffect(()=>{m&&V(m)},[m,V]),zn(()=>{const G=Dl(t),S=d.current;d.current=JC(s),Object.entries(s).forEach(([M,L])=>{Object.entries(L).forEach(([q,Y])=>{const W=S[M]?.[q]?.mode||Ct.View,Q=G[M]?t.current.getRowId(G[M]):M;Y.mode===Ct.Edit&&W===Ct.View?U(w({id:Q,field:q},Y)):Y.mode===Ct.View&&W===Ct.Edit&&E(w({id:Q,field:q},Y))})})},[t,s,U,E])},kF=["id"],HF=["id"],PF=(t,l)=>{const[s,i]=h.useState({}),c=h.useRef(s),d=h.useRef({}),g=h.useRef({}),p=h.useRef(void 0),m=h.useRef(null),{processRowUpdate:x,onProcessRowUpdateError:b,rowModesModel:C,onRowModesModelChange:v}=l,D=Y=>(...W)=>{l.editMode===so.Row&&Y(...W)},j=h.useCallback((Y,W)=>{const Q=t.current.getCellParams(Y,W);if(!t.current.isCellEditable(Q))throw new Error(`MUI X: The cell with id=${Y} and field=${W} is not editable.`)},[t]),F=h.useCallback((Y,W)=>{if(t.current.getRowMode(Y)!==W)throw new Error(`MUI X: The row with id=${Y} is not in ${W} mode.`)},[t]),I=h.useCallback(Y=>{const W=gn(t.current.state);return Object.values(W[Y]).some(Q=>Q.error)},[t]),k=h.useCallback((Y,W)=>{if(!Y.isEditable||t.current.getRowMode(Y.id)===Rt.Edit)return;const Q=t.current.getRowParams(Y.id),le=w({},Q,{field:Y.field,reason:cr.cellDoubleClick});t.current.publishEvent("rowEditStart",le,W)},[t]),T=h.useCallback(Y=>{m.current=Y},[]),z=h.useCallback((Y,W)=>{Y.isEditable&&t.current.getRowMode(Y.id)!==Rt.View&&(m.current=null,p.current=setTimeout(()=>{if(m.current?.id!==Y.id){if(!t.current.getRow(Y.id)||t.current.getRowMode(Y.id)===Rt.View||I(Y.id))return;const Q=t.current.getRowParams(Y.id),le=w({},Q,{field:Y.field,reason:lo.rowFocusOut});t.current.publishEvent("rowEditStop",le,W)}}))},[t,I]);h.useEffect(()=>()=>{clearTimeout(p.current)},[]);const V=h.useCallback((Y,W)=>{if(Y.cellMode===Rt.Edit){if(W.which===229)return;let Q;if(W.key==="Escape")Q=lo.escapeKeyDown;else if(W.key==="Enter")Q=lo.enterKeyDown;else if(W.key==="Tab"){const le=ts(t).filter(re=>t.current.getColumn(re).type===Eu?!0:t.current.isCellEditable(t.current.getCellParams(Y.id,re)));if(W.shiftKey?Y.field===le[0]&&(Q=lo.shiftTabKeyDown):Y.field===le[le.length-1]&&(Q=lo.tabKeyDown),W.preventDefault(),!Q){const re=le.findIndex(ce=>ce===Y.field),me=le[W.shiftKey?re-1:re+1];t.current.setCellFocus(Y.id,me)}}if(Q){if(Q!==lo.escapeKeyDown&&I(Y.id))return;const le=w({},t.current.getRowParams(Y.id),{reason:Q,field:Y.field});t.current.publishEvent("rowEditStop",le,W)}}else if(Y.isEditable){let Q;if(!t.current.unstable_applyPipeProcessors("canStartEditing",!0,{event:W,cellParams:Y,editMode:"row"}))return;if(ny(W)||ly(W)?Q=cr.printableKeyDown:W.key==="Enter"?Q=cr.enterKeyDown:(W.key==="Backspace"||W.key==="Delete")&&(Q=cr.deleteKeyDown),Q){const re=t.current.getRowParams(Y.id),me=w({},re,{field:Y.field,reason:Q});t.current.publishEvent("rowEditStart",me,W)}}},[t,I]),R=h.useCallback(Y=>{const{id:W,field:Q,reason:le}=Y,re={id:W,fieldToFocus:Q};(le===cr.printableKeyDown||le===cr.deleteKeyDown)&&(re.deleteValue=!!Q),t.current.startRowEditMode(re)},[t]),$=h.useCallback(Y=>{const{id:W,reason:Q,field:le}=Y;t.current.runPendingEditCellValueMutation(W);let re;Q===lo.enterKeyDown?re="below":Q===lo.tabKeyDown?re="right":Q===lo.shiftTabKeyDown&&(re="left");const me=Q==="escapeKeyDown";t.current.stopRowEditMode({id:W,ignoreModifications:me,field:le,cellToFocusAfter:re})},[t]);ye(t,"cellDoubleClick",D(k)),ye(t,"cellFocusIn",D(T)),ye(t,"cellFocusOut",D(z)),ye(t,"cellKeyDown",D(V)),ye(t,"rowEditStart",D(R)),ye(t,"rowEditStop",D($)),yt(t,"rowEditStart",l.onRowEditStart),yt(t,"rowEditStop",l.onRowEditStop);const _=h.useCallback(Y=>q0(t,{rowId:Y,editMode:l.editMode})?Rt.Edit:Rt.View,[t,l.editMode]),U=Nt(Y=>{const W=Y!==l.rowModesModel;v&&W&&v(Y,{api:t.current}),!(l.rowModesModel&&W)&&(i(Y),c.current=Y,t.current.publishEvent("rowModesModelChange",Y))}),A=h.useCallback((Y,W)=>{const Q=w({},c.current);W!==null?Q[Y]=w({},W):delete Q[Y],U(Q)},[U]),E=h.useCallback((Y,W)=>{t.current.setState(Q=>{const le=w({},Q.editRows);return W!==null?le[Y]=W:delete le[Y],w({},Q,{editRows:le})}),t.current.forceUpdate()},[t]),B=h.useCallback((Y,W,Q)=>{t.current.setState(le=>{const re=w({},le.editRows);return Q!==null?re[Y]=w({},re[Y],{[W]:w({},Q)}):(delete re[Y][W],Object.keys(re[Y]).length===0&&delete re[Y]),w({},le,{editRows:re})}),t.current.forceUpdate()},[t]),N=h.useCallback(Y=>{const{id:W}=Y,Q=Ee(Y,kF);F(W,Rt.View),A(W,w({mode:Rt.Edit},Q))},[F,A]),O=Nt(Y=>{const{id:W,fieldToFocus:Q,deleteValue:le,initialValue:re}=Y,me=t.current.getRow(W),ce=Fl(t),ve=ce.reduce((Te,Se)=>{const Ae=Se.field;if(!t.current.getCellParams(W,Ae).isEditable)return Te;const be=t.current.getColumn(Ae);let Me=t.current.getCellValue(W,Ae);return Q===Ae&&(le||re)&&(le?Me=Eh(be):re&&(Me=re)),Te[Ae]={value:Me,error:!1,isProcessingProps:be.editable&&!!be.preProcessEditCellProps&&le},Te},{});g.current[W]=me,E(W,ve),Q&&t.current.setCellFocus(W,Q),ce.filter(Te=>t.current.getCellParams(W,Te.field).isEditable&&Te.editable&&!!Te.preProcessEditCellProps&&le).forEach(Te=>{const Se=Te.field,Ae=t.current.getCellValue(W,Se),Ne=le?Eh(Te):re??Ae;Promise.resolve(Te.preProcessEditCellProps({id:W,row:me,props:ve[Se],hasChanged:Ne!==Ae})).then(be=>{if(t.current.getRowMode(W)===Rt.Edit){const Me=gn(t.current.state);B(W,Se,w({},be,{value:Me[W][Se].value,isProcessingProps:!1}))}})})}),K=h.useCallback(Y=>{const{id:W}=Y,Q=Ee(Y,HF);F(W,Rt.Edit),A(W,w({mode:Rt.View},Q))},[F,A]),G=Nt(Y=>{const{id:W,ignoreModifications:Q,field:le,cellToFocusAfter:re="none"}=Y;t.current.runPendingEditCellValueMutation(W);const me=()=>{re!=="none"&&le&&t.current.moveFocusToRelativeCell(W,le,re),E(W,null),A(W,null),delete g.current[W]};if(Q){me();return}const ce=gn(t.current.state),ve=g.current[W];if(Object.values(ce[W]).some(Ae=>Ae.isProcessingProps)){d.current[W].mode=Rt.Edit;return}if(I(W)){d.current[W].mode=Rt.Edit,A(W,{mode:Rt.Edit});return}const Se=t.current.getRowWithUpdatedValuesFromRowEditing(W);if(x){const Ae=Ne=>{d.current[W]&&(d.current[W].mode=Rt.Edit,A(W,{mode:Rt.Edit})),b&&b(Ne)};try{Promise.resolve(x(Se,ve,{rowId:W})).then(Ne=>{t.current.updateRows([Ne]),me()}).catch(Ae)}catch(Ne){Ae(Ne)}}else t.current.updateRows([Se]),me()}),S=h.useCallback(Y=>{const{id:W,field:Q,value:le,debounceMs:re,unstable_skipValueParser:me}=Y;j(W,Q);const ce=t.current.getColumn(Q),ve=t.current.getRow(W);let Te=le;ce.valueParser&&!me&&(Te=ce.valueParser(le,ve,ce,t));let Se=gn(t.current.state),Ae=w({},Se[W][Q],{value:Te,changeReason:re?"debouncedSetEditCellValue":"setEditCellValue"});return ce.preProcessEditCellProps||B(W,Q,Ae),new Promise(Ne=>{const be=[];if(ce.preProcessEditCellProps){const Me=Ae.value!==Se[W][Q].value;Ae=w({},Ae,{isProcessingProps:!0}),B(W,Q,Ae);const ze=Se[W],Ce=Ee(ze,[Q].map(Si)),$e=Promise.resolve(ce.preProcessEditCellProps({id:W,row:ve,props:Ae,hasChanged:Me,otherFieldsProps:Ce})).then(Be=>{if(t.current.getRowMode(W)===Rt.View){Ne(!1);return}Se=gn(t.current.state),Be=w({},Be,{isProcessingProps:!1}),Be.value=ce.preProcessEditCellProps?Se[W][Q].value:Te,B(W,Q,Be)});be.push($e)}Object.entries(Se[W]).forEach(([Me,ze])=>{if(Me===Q)return;const Ce=t.current.getColumn(Me);if(!Ce.preProcessEditCellProps)return;ze=w({},ze,{isProcessingProps:!0}),B(W,Me,ze),Se=gn(t.current.state);const $e=Se[W],Be=Ee($e,[Me].map(Si)),Ge=Promise.resolve(Ce.preProcessEditCellProps({id:W,row:ve,props:ze,hasChanged:!1,otherFieldsProps:Be})).then(It=>{if(t.current.getRowMode(W)===Rt.View){Ne(!1);return}It=w({},It,{isProcessingProps:!1}),B(W,Me,It)});be.push(Ge)}),Promise.all(be).then(()=>{t.current.getRowMode(W)===Rt.Edit?(Se=gn(t.current.state),Ne(!Se[W][Q].error)):Ne(!1)})})},[t,j,B]),M=h.useCallback(Y=>{const W=gn(t.current.state),Q=t.current.getRow(Y);if(!W[Y])return t.current.getRow(Y);let le=w({},g.current[Y],Q);return Object.entries(W[Y]).forEach(([re,me])=>{const ce=t.current.getColumn(re);ce?.valueSetter?le=ce.valueSetter(me.value,le,ce,t):le[re]=me.value}),le},[t]),L={getRowMode:_,startRowEditMode:N,stopRowEditMode:K},q={setRowEditingEditCellValue:S,getRowWithUpdatedValuesFromRowEditing:M};Ue(t,L,"public"),Ue(t,q,"private"),h.useEffect(()=>{C&&U(C)},[C,U]),zn(()=>{const Y=Dl(t),W=d.current;d.current=JC(s);const Q=new Set([...Object.keys(s),...Object.keys(W)]);Array.from(Q).forEach(le=>{const re=s[le]??{mode:Rt.View},me=W[le]?.mode||Rt.View,ce=Y[le]?t.current.getRowId(Y[le]):le;re.mode===Rt.Edit&&me===Rt.View?O(w({id:ce},re)):re.mode===Rt.View&&me===Rt.Edit&&G(w({id:ce},re))})},[t,s,O,G])},RF=t=>w({},t,{editRows:{}}),NF=(t,l)=>{OF(t,l),PF(t,l);const s=h.useRef({}),{isCellEditable:i}=l,c=h.useCallback(v=>Ya(v.rowNode)||!v.colDef.editable||!v.colDef.renderEditCell?!1:i?i(v):!0,[i]),d=(v,D,j,F)=>{if(!j){F();return}if(s.current[v]||(s.current[v]={}),s.current[v][D]){const[T]=s.current[v][D];clearTimeout(T)}const I=()=>{const[T]=s.current[v][D];clearTimeout(T),F(),delete s.current[v][D]},k=setTimeout(()=>{F(),delete s.current[v][D]},j);s.current[v][D]=[k,I]};h.useEffect(()=>{const v=s.current;return()=>{Object.entries(v).forEach(([D,j])=>{Object.keys(j).forEach(F=>{const[I]=v[D][F];clearTimeout(I),delete v[D][F]})})}},[]);const g=h.useCallback((v,D)=>{if(s.current[v]){if(!D)Object.keys(s.current[v]).forEach(j=>{const[,F]=s.current[v][j];F()});else if(s.current[v][D]){const[,j]=s.current[v][D];j()}}},[]),p=h.useCallback(v=>{const{id:D,field:j,debounceMs:F}=v;return new Promise(I=>{d(D,j,F,async()=>{const k=l.editMode===so.Row?t.current.setRowEditingEditCellValue:t.current.setCellEditingEditCellValue;if(t.current.getCellMode(D,j)===Ct.Edit){const T=await k(v);I(T)}})})},[t,l.editMode]),m=h.useCallback((v,D)=>l.editMode===so.Cell?t.current.getRowWithUpdatedValuesFromCellEditing(v,D):t.current.getRowWithUpdatedValuesFromRowEditing(v),[t,l.editMode]),x=h.useCallback((v,D)=>gn(t.current.state)[v]?.[D]??null,[t]),b={isCellEditable:c,setEditCellValue:p,getRowWithUpdatedValues:m,unstable_getEditCellMeta:x},C={runPendingEditCellValueMutation:g};Ue(t,b,"public"),Ue(t,C,"private")},GF=(t,l,s)=>{const i=!!l.unstable_dataSource;return s.current.caches.rows=ru({rows:i?[]:l.rows,getRowId:l.getRowId,loading:l.loading,rowCount:l.rowCount}),w({},t,{rows:d0({apiRef:s,rowCountProp:l.rowCount,loadingProp:i?!0:l.loading,previousTree:null,previousTreeDepths:null})})},LF=(t,l)=>{const s=pn(t,"useGridRows"),i=h.useRef(Date.now()),c=h.useRef(l.rowCount),d=Xr(),g=h.useCallback(G=>{const S=Dl(t)[G];if(S)return S;const M=t.current.getRowNode(G);return M&&Ya(M)?{[qa]:G}:null},[t]),p=h.useCallback(G=>zi(t.current.state,G),[t]),m=h.useCallback(({cache:G,throttle:S})=>{const M=()=>{i.current=Date.now(),t.current.setState(q=>w({},q,{rows:d0({apiRef:t,rowCountProp:l.rowCount,loadingProp:l.loading,previousTree:sn(t),previousTreeDepths:mx(t),previousGroupsToFetch:p1(t)})})),t.current.publishEvent("rowsSet"),t.current.forceUpdate()};if(d.clear(),t.current.caches.rows=G,!S){M();return}const L=l.throttleRowsMs-(Date.now()-i.current);if(L>0){d.start(L,M);return}M()},[l.throttleRowsMs,l.rowCount,l.loading,t,d]),x=h.useCallback(G=>{s.debug(`Updating all rows, new length ${G.length}`);const S=ru({rows:G,getRowId:l.getRowId,loading:l.loading,rowCount:l.rowCount}),M=t.current.caches.rows;S.rowsBeforePartialUpdates=M.rowsBeforePartialUpdates,m({cache:S,throttle:!0})},[s,l.getRowId,l.loading,l.rowCount,m,t]),b=h.useCallback(G=>{if(l.signature===Il.DataGrid&&G.length>1)throw new Error(["MUI X: You cannot update several rows at once in `apiRef.current.updateRows` on the DataGrid.","You need to upgrade to DataGridPro or DataGridPremium component to unlock this feature."].join(`
`));const S=Ex(t,G,l.getRowId),M=Mx({updates:S,getRowId:l.getRowId,previousCache:t.current.caches.rows});m({cache:M,throttle:!0})},[l.signature,l.getRowId,m,t]),C=h.useCallback((G,S)=>{const M=Ex(t,G,l.getRowId),L=Mx({updates:M,getRowId:l.getRowId,previousCache:t.current.caches.rows,groupKeys:S??[]});m({cache:L,throttle:!1})},[l.getRowId,m,t]),v=h.useCallback(G=>{G!==l.loading&&(s.debug(`Setting loading to ${G}`),t.current.setState(S=>w({},S,{rows:w({},S.rows,{loading:G})})),t.current.caches.rows.loadingPropBeforePartialUpdates=G)},[l.loading,t,s]),D=h.useCallback(()=>{const G=di(t),S=Dl(t);return new Map(G.map(M=>[M,S[M]??{}]))},[t]),j=h.useCallback(()=>Ti(t),[t]),F=h.useCallback(()=>di(t),[t]),I=h.useCallback(G=>{const S=t.current.getRow(G),{rowToIndexMap:M}=pr(t);return M.get(S)},[t]),k=h.useCallback((G,S)=>{const M=t.current.getRowNode(G);if(!M)throw new Error(`MUI X: No row with id #${G} found.`);if(M.type!=="group")throw new Error("MUI X: Only group nodes can be expanded or collapsed.");const L=w({},M,{childrenExpanded:S});t.current.setState(q=>w({},q,{rows:w({},q.rows,{tree:w({},q.rows.tree,{[G]:L})})})),t.current.forceUpdate(),t.current.publishEvent("rowExpansionChange",L)},[t]),T=h.useCallback(G=>sn(t)[G]??null,[t]),z=h.useCallback(({skipAutoGeneratedRows:G=!0,groupId:S,applySorting:M,applyFiltering:L})=>{const q=sn(t);let Y;if(M){const W=q[S];if(!W)return[];const Q=ls(t);Y=[];const le=Q.findIndex(re=>re===S)+1;for(let re=le;re<Q.length&&q[Q[re]].depth>W.depth;re+=1){const me=Q[re];(!G||!Ya(q[me]))&&Y.push(me)}}else Y=Wh(q,S,G);if(L){const W=os(t);Y=Y.filter(Q=>W[Q]!==!1)}return Y},[t]),V=h.useCallback((G,S)=>{const M=t.current.getRowNode(G);if(!M)throw new Error(`MUI X: No row with id #${G} found.`);if(M.parent!==Mn)throw new Error("MUI X: The row reordering do not support reordering of grouped rows yet.");if(M.type!=="leaf")throw new Error("MUI X: The row reordering do not support reordering of footer or grouping rows.");t.current.setState(L=>{const q=sn(L,t.current.instanceId)[Mn],Y=q.children,W=Y.findIndex(le=>le===G);if(W===-1||W===S)return L;s.debug(`Moving row ${G} to index ${S}`);const Q=[...Y];return Q.splice(S,0,Q.splice(W,1)[0]),w({},L,{rows:w({},L.rows,{tree:w({},L.rows.tree,{[Mn]:w({},q,{children:Q})})})})}),t.current.publishEvent("rowsSet")},[t,s]),R=h.useCallback((G,S)=>{if(l.signature===Il.DataGrid&&S.length>1)throw new Error(["MUI X: You cannot replace rows using `apiRef.current.unstable_replaceRows` on the DataGrid.","You need to upgrade to DataGridPro or DataGridPremium component to unlock this feature."].join(`
`));if(S.length===0)return;if(Qr(t)>1)throw new Error("`apiRef.current.unstable_replaceRows` is not compatible with tree data and row grouping");const L=w({},sn(t)),q=w({},Dl(t)),Y=w({},gx(t)),W=L[Mn],Q=[...W.children],le=new Set;for(let me=0;me<S.length;me+=1){const ce=S[me],ve=Du(ce,l.getRowId,"A row was provided without id when calling replaceRows()."),[Te]=Q.splice(G+me,1,ve);le.has(Te)||(delete q[Te],delete Y[Te],delete L[Te]);const Se={id:ve,depth:0,parent:Mn,type:"leaf",groupingKey:null};q[ve]=ce,Y[ve]=ve,L[ve]=Se,le.add(ve)}L[Mn]=w({},W,{children:Q});const re=Q.filter(me=>L[me]?.type==="leaf");t.current.caches.rows.dataRowIdToModelLookup=q,t.current.caches.rows.dataRowIdToIdLookup=Y,t.current.setState(me=>w({},me,{rows:w({},me.rows,{dataRowIdToModelLookup:q,dataRowIdToIdLookup:Y,dataRowIds:re,tree:L})})),t.current.publishEvent("rowsSet")},[t,l.signature,l.getRowId]),$={getRow:g,setLoading:v,getRowId:p,getRowModels:D,getRowsCount:j,getAllRowIds:F,setRows:x,updateRows:b,getRowNode:T,getRowIndexRelativeToVisibleRows:I,unstable_replaceRows:R},_={setRowIndex:V,setRowChildrenExpansion:k,getRowGroupChildren:z},U={updateServerRows:C},A=h.useCallback(()=>{s.info("Row grouping pre-processing have changed, regenerating the row tree");let G;t.current.caches.rows.rowsBeforePartialUpdates===l.rows?G=w({},t.current.caches.rows,{updates:{type:"full",rows:di(t)}}):G=ru({rows:l.rows,getRowId:l.getRowId,loading:l.loading,rowCount:l.rowCount}),m({cache:G,throttle:!1})},[s,t,l.rows,l.getRowId,l.loading,l.rowCount,m]),E=io(()=>l.unstable_dataSource),B=h.useCallback(G=>{if(l.unstable_dataSource&&l.unstable_dataSource!==E.current){E.current=l.unstable_dataSource;return}G==="rowTreeCreation"&&A()},[A,E,l.unstable_dataSource]),N=h.useCallback(()=>{t.current.getActiveStrategy("rowTree")!==b1(t)&&A()},[t,A]);ye(t,"activeStrategyProcessorChange",B),ye(t,"strategyAvailabilityChange",N);const O=h.useCallback(()=>{t.current.setState(G=>{const S=t.current.unstable_applyPipeProcessors("hydrateRows",{tree:sn(G,t.current.instanceId),treeDepths:mx(G,t.current.instanceId),dataRowIds:di(G,t.current.instanceId),dataRowIdToModelLookup:Dl(G,t.current.instanceId),dataRowIdToIdLookup:gx(G,t.current.instanceId)});return w({},G,{rows:w({},G.rows,S,{totalTopLevelRowCount:u0({tree:S.tree,rowCountProp:l.rowCount})})})}),t.current.publishEvent("rowsSet"),t.current.forceUpdate()},[t,l.rowCount]);ug(t,"hydrateRows",O),Ue(t,$,"public"),Ue(t,_,l.signature===Il.DataGrid?"private":"public"),Ue(t,U,"private");const K=h.useRef(!0);h.useEffect(()=>{if(K.current){K.current=!1;return}let G=!1;l.rowCount!==c.current&&(G=!0,c.current=l.rowCount);const S=t.current.caches.rows.rowsBeforePartialUpdates===l.rows,M=t.current.caches.rows.loadingPropBeforePartialUpdates===l.loading,L=t.current.caches.rows.rowCountPropBeforePartialUpdates===l.rowCount;S&&(M||(t.current.setState(q=>w({},q,{rows:w({},q.rows,{loading:l.loading})})),t.current.caches.rows.loadingPropBeforePartialUpdates=l.loading,t.current.forceUpdate()),L||(t.current.setState(q=>w({},q,{rows:w({},q.rows,{totalRowCount:Math.max(l.rowCount||0,q.rows.totalRowCount),totalTopLevelRowCount:Math.max(l.rowCount||0,q.rows.totalTopLevelRowCount)})})),t.current.caches.rows.rowCountPropBeforePartialUpdates=l.rowCount,t.current.forceUpdate()),!G)||(s.debug(`Updating all rows, new length ${l.rows?.length}`),m({cache:ru({rows:l.rows,getRowId:l.getRowId,loading:l.loading,rowCount:l.rowCount}),throttle:!1}))},[l.rows,l.rowCount,l.getRowId,l.loading,s,m,t])},BF=t=>{const l={[Mn]:w({},Z1(),{children:t})};for(let s=0;s<t.length;s+=1){const i=t[s];l[i]={id:i,depth:0,parent:Mn,type:"leaf",groupingKey:null}}return{groupingName:Kr,tree:l,treeDepths:{0:t.length},dataRowIds:t}},_F=({previousTree:t,actions:l})=>{const s=w({},t),i={};for(let g=0;g<l.remove.length;g+=1){const p=l.remove[g];i[p]=!0,delete s[p]}for(let g=0;g<l.insert.length;g+=1){const p=l.insert[g];s[p]={id:p,depth:0,parent:Mn,type:"leaf",groupingKey:null}}const c=s[Mn];let d=[...c.children,...l.insert];return Object.values(i).length&&(d=d.filter(g=>!i[g])),s[Mn]=w({},c,{children:d}),{groupingName:Kr,tree:s,treeDepths:{0:d.length},dataRowIds:d}},VF=t=>t.updates.type==="full"?BF(t.updates.rows):_F({previousTree:t.previousTree,actions:t.updates.actions}),UF=t=>{yu(t,Kr,"rowTreeCreation",VF)};class ih extends Error{}function $F(t,l){const s=h.useCallback(j=>({field:j,colDef:t.current.getColumn(j)}),[t]),i=h.useCallback(j=>{const F=t.current.getRow(j);if(!F)throw new ih(`No row with id #${j} found`);return{id:j,columns:t.current.getAllColumns(),row:F}},[t]),c=h.useCallback((j,F,I,{cellMode:k,colDef:T,hasFocus:z,rowNode:V,tabIndex:R})=>{const $=I[F],_=T?.valueGetter?T.valueGetter($,I,T,t):$,U={id:j,field:F,row:I,rowNode:V,colDef:T,cellMode:k,hasFocus:z,tabIndex:R,value:_,formattedValue:_,isEditable:!1,api:t.current};return T&&T.valueFormatter&&(U.formattedValue=T.valueFormatter(_,I,T,t)),U.isEditable=T&&t.current.isCellEditable(U),U},[t]),d=h.useCallback((j,F)=>{const I=t.current.getRow(j),k=t.current.getRowNode(j);if(!I||!k)throw new ih(`No row with id #${j} found`);const T=el(t),z=Zh(t),V=t.current.getCellMode(j,F);return t.current.getCellParamsForRow(j,F,I,{colDef:l.unstable_listView&&l.unstable_listColumn?.field===F?Xa(t.current.state):t.current.getColumn(F),rowNode:k,hasFocus:T!==null&&T.field===F&&T.id===j,tabIndex:z&&z.field===F&&z.id===j?0:-1,cellMode:V})},[t,l.unstable_listView,l.unstable_listColumn?.field]),g=h.useCallback((j,F)=>{const I=t.current.getColumn(F),k=t.current.getRow(j);if(!k)throw new ih(`No row with id #${j} found`);return!I||!I.valueGetter?k[F]:I.valueGetter(k[I.field],k,I,t)},[t]),p=h.useCallback((j,F)=>{const I=F.field;if(!F||!F.valueGetter)return j[I];const k=j[F.field];return F.valueGetter(k,j,F,t)},[t]),m=h.useCallback((j,F)=>{const I=p(j,F);return!F||!F.valueFormatter?I:F.valueFormatter(I,j,F,t)},[t,p]),x=h.useCallback(j=>t.current.rootElementRef.current?ND(t.current.rootElementRef.current,j):null,[t]),b=h.useCallback(j=>t.current.rootElementRef.current?GD(t.current.rootElementRef.current,j):null,[t]),C=h.useCallback((j,F)=>t.current.rootElementRef.current?LD(t.current.rootElementRef.current,{id:j,field:F}):null,[t]),v={getCellValue:g,getCellParams:d,getCellElement:C,getRowValue:p,getRowFormattedValue:m,getRowParams:i,getRowElement:b,getColumnHeaderParams:s,getColumnHeaderElement:x},D={getCellParamsForRow:c};Ue(t,v,"public"),Ue(t,D,"private")}const cy=(t,l)=>t==null||Array.isArray(t)?t:l&&l[0]===t?l:[t],WF=(t,l)=>w({},t,{rowSelection:l.rowSelection?cy(l.rowSelectionModel)??[]:[]}),qF=(t,l)=>{const s=pn(t,"useGridSelection"),i=h.useCallback(L=>(...q)=>{l.rowSelection&&L(...q)},[l.rowSelection]),c=l.signature!==Il.DataGrid&&(l.rowSelectionPropagation?.parents||l.rowSelectionPropagation?.descendants),d=h.useMemo(()=>cy(l.rowSelectionModel,ul(t.current.state)),[t,l.rowSelectionModel]),g=h.useRef(null);t.current.registerControlState({stateId:"rowSelection",propModel:d,propOnChange:l.onRowSelectionModelChange,stateSelector:ul,changeEvent:"rowSelectionChange"});const{checkboxSelection:p,disableRowSelectionOnClick:m,isRowSelectable:x}=l,b=Qh(l),C=fe(t,sn),v=fe(t,Qr)>1,D=h.useCallback(L=>{let q=L;const Y=g.current??L,W=t.current.isRowSelected(L);if(W){const Q=Ua(t),le=Q.findIndex(me=>me===Y),re=Q.findIndex(me=>me===q);if(le===re)return;le>re?q=Q[re+1]:q=Q[re-1]}g.current=L,t.current.selectRowRange({startId:Y,endId:q},!W)},[t]),j=h.useCallback(L=>{if(l.signature===Il.DataGrid&&!b&&Array.isArray(L)&&L.length>1)throw new Error(["MUI X: `rowSelectionModel` can only contain 1 item in DataGrid.","You need to upgrade to DataGridPro or DataGridPremium component to unlock multiple selection."].join(`
`));ul(t.current.state)!==L&&(s.debug("Setting selection model"),t.current.setState(Y=>w({},Y,{rowSelection:l.rowSelection?L:[]})),t.current.forceUpdate())},[t,s,l.rowSelection,l.signature,b]),F=h.useCallback(L=>ul(t.current.state).includes(L),[t]),I=h.useCallback(L=>{if(l.rowSelection===!1||x&&!x(t.current.getRowParams(L)))return!1;const q=sn(t)[L];return!(q?.type==="footer"||q?.type==="pinnedRow")},[t,l.rowSelection,x]),k=h.useCallback(()=>vj(t),[t]),T=h.useCallback((L,q=!0,Y=!1)=>{if(t.current.isRowSelectable(L))if(g.current=L,Y){s.debug(`Setting selection for row ${L}`);const W=[],Q=le=>{W.push(le)};q&&(Q(L),c&&ti(t,C,L,l.rowSelectionPropagation?.descendants??!1,l.rowSelectionPropagation?.parents??!1,Q)),t.current.setRowSelectionModel(W)}else{s.debug(`Toggling selection for row ${L}`);const W=ul(t.current.state),Q=new Set(W);Q.delete(L);const le=ce=>{Q.add(ce)},re=ce=>{Q.delete(ce)};q?(le(L),c&&ti(t,C,L,l.rowSelectionPropagation?.descendants??!1,l.rowSelectionPropagation?.parents??!1,le)):c&&Dx(t,C,L,l.rowSelectionPropagation?.descendants??!1,l.rowSelectionPropagation?.parents??!1,re),(Q.size<2||b)&&t.current.setRowSelectionModel(Array.from(Q))}},[t,s,c,C,l.rowSelectionPropagation?.descendants,l.rowSelectionPropagation?.parents,b]),z=h.useCallback((L,q=!0,Y=!1)=>{s.debug("Setting selection for several rows");const W=L.filter(re=>t.current.isRowSelectable(re));let Q;if(Y){if(q){if(Q=new Set(W),c){const me=ce=>{Q.add(ce)};W.forEach(ce=>{ti(t,C,ce,l.rowSelectionPropagation?.descendants??!1,l.rowSelectionPropagation?.parents??!1,me)})}}else Q=new Set;const re=mr(t);if(Q.size===Object.keys(re).length&&Array.from(Q).every(me=>re[me]===me))return}else{Q=new Set(Object.values(mr(t)));const re=ce=>{Q.add(ce)},me=ce=>{Q.delete(ce)};W.forEach(ce=>{q?(Q.add(ce),c&&ti(t,C,ce,l.rowSelectionPropagation?.descendants??!1,l.rowSelectionPropagation?.parents??!1,re)):(me(ce),c&&Dx(t,C,ce,l.rowSelectionPropagation?.descendants??!1,l.rowSelectionPropagation?.parents??!1,me))})}(Q.size<2||b)&&t.current.setRowSelectionModel(Array.from(Q))},[s,c,b,t,C,l.rowSelectionPropagation?.descendants,l.rowSelectionPropagation?.parents]),V=h.useCallback(L=>{if(!v||!c||L.length===0)return L;const q=new Set(L),Y=W=>{q.add(W)};for(const W of L)ti(t,C,W,l.rowSelectionPropagation?.descendants??!1,l.rowSelectionPropagation?.parents??!1,Y,q);return Array.from(q)},[t,C,l.rowSelectionPropagation?.descendants,l.rowSelectionPropagation?.parents,v,c]),R=h.useCallback(({startId:L,endId:q},Y=!0,W=!1)=>{if(!t.current.getRow(L)||!t.current.getRow(q))return;s.debug(`Expanding selection from row ${L} to row ${q}`);const Q=Ua(t),le=Q.indexOf(L),re=Q.indexOf(q),[me,ce]=le>re?[re,le]:[le,re],ve=Q.slice(me,ce+1);t.current.selectRows(ve,Y,W)},[t,s]),$={selectRow:T,setRowSelectionModel:j,getSelectedRows:k,isRowSelected:F,isRowSelectable:I},_={selectRows:z,selectRowRange:R,getPropagatedRowSelectionModel:V};Ue(t,$,"public"),Ue(t,_,l.signature===Il.DataGrid?"private":"public");const U=h.useRef(!0),A=h.useCallback((L=!1)=>{if(U.current)return;const q=ul(t.current.state),Y=Dl(t),W=os(t),Q=w({},mr(t)),le=ce=>l.filterMode==="server"?!Y[ce]:!Y[ce]||W[ce]===!1;let re=!1;q.forEach(ce=>{if(le(ce)){if(l.keepNonExistentRowsSelected)return;delete Q[ce],re=!0;return}if(!l.rowSelectionPropagation?.parents)return;const ve=C[ce];if(ve.type==="group"){if(ve.isAutoGenerated){delete Q[ce],re=!0;return}ve.children.every(Se=>W[Se]===!1)||(delete Q[ce],re=!0)}});const me=v&&l.rowSelectionPropagation?.parents&&Object.keys(Q).length>0;if(re||me&&!L){const ce=Object.values(Q);me?t.current.selectRows(ce,!0,!0):t.current.setRowSelectionModel(ce)}},[t,v,l.rowSelectionPropagation?.parents,l.keepNonExistentRowsSelected,l.filterMode,C]),E=h.useCallback((L,q)=>{const Y=q.metaKey||q.ctrlKey,W=!p&&!Y&&!G2(q),Q=!b||W,le=t.current.isRowSelected(L);Q?t.current.selectRow(L,W?!0:!le,!0):t.current.selectRow(L,!le,!1)},[t,b,p]),B=h.useCallback((L,q)=>{if(m)return;const Y=q.target.closest(`.${P.cell}`)?.getAttribute("data-field");Y===rs.field||Y===Tu||Y&&t.current.getColumn(Y)?.type===Eu||sn(t)[L.id].type==="pinnedRow"||(q.shiftKey&&b?D(L.id):E(L.id,q))},[m,b,t,D,E]),N=h.useCallback((L,q)=>{b&&q.shiftKey&&window.getSelection()?.removeAllRanges()},[b]),O=h.useCallback((L,q)=>{b&&q.nativeEvent.shiftKey?D(L.id):t.current.selectRow(L.id,L.value,!b)},[t,D,b]),K=h.useCallback(L=>{const q=l.pagination&&l.checkboxSelectionVisibleOnly&&l.paginationMode==="client"?F0(t):Ua(t);t.current.selectRows(q,L.value)},[t,l.checkboxSelectionVisibleOnly,l.pagination,l.paginationMode]),G=h.useCallback((L,q)=>{if(t.current.getCellMode(L.id,L.field)!==Ct.Edit&&!Hi(q)){if(bu(q.key)&&q.shiftKey){const Y=el(t);if(Y&&Y.id!==L.id){q.preventDefault();const W=t.current.isRowSelected(Y.id);if(!b){t.current.selectRow(Y.id,!W,!0);return}const Q=t.current.getRowIndexRelativeToVisibleRows(Y.id),le=t.current.getRowIndexRelativeToVisibleRows(L.id);let re,me;Q>le?W?(re=le,me=Q-1):(re=le,me=Q):W?(re=Q+1,me=le):(re=Q,me=le);const ve=pr(t).rows.slice(re,me+1).map(Te=>Te.id);t.current.selectRows(ve,!W);return}}if(q.key===" "&&q.shiftKey){q.preventDefault(),E(L.id,q);return}String.fromCharCode(q.keyCode)==="A"&&(q.ctrlKey||q.metaKey)&&(q.preventDefault(),z(t.current.getAllRowIds(),!0))}},[t,E,z,b]),S=Nt(()=>{if(!l.rowSelection){t.current.setRowSelectionModel([]);return}if(d===void 0)return;if(!c||!v||d.length===0){t.current.setRowSelectionModel(d);return}const L=t.current.getPropagatedRowSelectionModel(d);if(L.length!==d.length||!L.every(q=>d.includes(q))){t.current.setRowSelectionModel(L);return}t.current.setRowSelectionModel(d)});ye(t,"sortedRowsSet",i(()=>A(!0))),ye(t,"filteredRowsSet",i(()=>A())),ye(t,"rowClick",i(B)),ye(t,"rowSelectionCheckboxChange",i(O)),ye(t,"headerSelectionCheckboxChange",K),ye(t,"cellMouseDown",i(N)),ye(t,"cellKeyDown",i(G)),h.useEffect(()=>{S()},[t,d,l.rowSelection,S]);const M=d!=null;h.useEffect(()=>{if(M||!l.rowSelection)return;const L=ul(t.current.state);if(I){const q=L.filter(Y=>I(Y));q.length<L.length&&t.current.setRowSelectionModel(q)}},[t,I,M,l.rowSelection]),h.useEffect(()=>{if(!l.rowSelection||M)return;const L=ul(t.current.state);!b&&L.length>1&&t.current.setRowSelectionModel([])},[t,b,p,M,l.rowSelection]),h.useEffect(()=>{i(A)},[A,i]),h.useEffect(()=>{U.current&&(U.current=!1)},[])},YF=t=>{const{classes:l}=t;return h.useMemo(()=>Ke({cellCheckbox:["cellCheckbox"],columnHeaderCheckbox:["columnHeaderCheckbox"]},Qe,l),[l])},KF=(t,l)=>{const s={classes:l.classes},i=YF(s),c=h.useCallback(d=>{const g=w({},rs,{cellClassName:i.cellCheckbox,headerClassName:i.columnHeaderCheckbox,headerName:t.current.getLocaleText("checkboxSelectionHeaderName")}),p=l.checkboxSelection,m=d.lookup[jl]!=null;return p&&!m?(d.lookup[jl]=g,d.orderedFields=[jl,...d.orderedFields]):!p&&m?(delete d.lookup[jl],d.orderedFields=d.orderedFields.filter(x=>x!==jl)):p&&m&&(d.lookup[jl]=w({},g,d.lookup[jl]),l.columns.some(x=>x.field===jl)||(d.orderedFields=[jl,...d.orderedFields.filter(x=>x!==jl)])),d},[t,i,l.columns,l.checkboxSelection]);Vt(t,"hydrateColumns",c)},XF=(t,l)=>{const s=l.sortModel??l.initialState?.sorting?.sortModel??[];return w({},t,{sorting:{sortModel:XC(s,l.disableMultipleColumnsSorting),sortedRows:[]}})},QF=(t,l)=>{const s=pn(t,"useGridSorting");t.current.registerControlState({stateId:"sortModel",propModel:l.sortModel,propOnChange:l.onSortModelChange,stateSelector:_l,changeEvent:"sortModelChange"});const i=h.useCallback((R,$)=>{const _=_l(t),U=_.findIndex(E=>E.field===R);let A=[..._];return U>-1?$?.sort==null?A.splice(U,1):A.splice(U,1,$):A=[..._,$],A},[t]),c=h.useCallback((R,$)=>{const U=_l(t).find(A=>A.field===R.field);if(U){const A=$===void 0?bx(R.sortingOrder??l.sortingOrder,U.sort):$;return A===void 0?void 0:w({},U,{sort:A})}return{field:R.field,sort:$===void 0?bx(R.sortingOrder??l.sortingOrder):$}},[t,l.sortingOrder]),d=h.useCallback((R,$)=>$==null||$.sortable===!1||l.disableColumnSorting?R:($.sortingOrder||l.sortingOrder).some(U=>!!U)?[...R,"columnMenuSortItem"]:R,[l.sortingOrder,l.disableColumnSorting]),g=h.useCallback(()=>{t.current.setState(R=>{if(l.sortingMode==="server")return s.debug("Skipping sorting rows as sortingMode = server"),w({},R,{sorting:w({},R.sorting,{sortedRows:Wh(sn(t),Mn,!1)})});const $=_l(R,t.current.instanceId),_=w1($,t),U=t.current.applyStrategyProcessor("sorting",{sortRowList:_});return w({},R,{sorting:w({},R.sorting,{sortedRows:U})})}),t.current.publishEvent("sortedRowsSet"),t.current.forceUpdate()},[t,s,l.sortingMode]),p=h.useCallback(R=>{_l(t)!==R&&(s.debug("Setting sort model"),t.current.setState(px(R,l.disableMultipleColumnsSorting)),t.current.forceUpdate(),t.current.applySorting())},[t,s,l.disableMultipleColumnsSorting]),m=h.useCallback((R,$,_)=>{const U=t.current.getColumn(R),A=c(U,$);let E;!_||l.disableMultipleColumnsSorting?E=A?.sort==null?[]:[A]:E=i(U.field,A),t.current.setSortModel(E)},[t,i,c,l.disableMultipleColumnsSorting]),x=h.useCallback(()=>_l(t),[t]),b=h.useCallback(()=>qh(t).map($=>$.model),[t]),C=h.useCallback(()=>ls(t),[t]),v=h.useCallback(R=>t.current.getSortedRowIds()[R],[t]);Ue(t,{getSortModel:x,getSortedRows:b,getSortedRowIds:C,getRowIdFromRowIndex:v,setSortModel:p,sortColumn:m,applySorting:g},"public");const j=h.useCallback((R,$)=>{const _=_l(t);return!$.exportOnlyDirtyModels||l.sortModel!=null||l.initialState?.sorting?.sortModel!=null||_.length>0?w({},R,{sorting:{sortModel:_}}):R},[t,l.sortModel,l.initialState?.sorting?.sortModel]),F=h.useCallback((R,$)=>{const _=$.stateToRestore.sorting?.sortModel;return _==null?R:(t.current.setState(px(_,l.disableMultipleColumnsSorting)),w({},R,{callbacks:[...R.callbacks,t.current.applySorting]}))},[t,l.disableMultipleColumnsSorting]),I=h.useCallback(R=>{const $=sn(t),_=$[Mn],U=R.sortRowList?R.sortRowList(_.children.map(A=>$[A])):[..._.children];return _.footerId!=null&&U.push(_.footerId),U},[t]);Vt(t,"exportState",j),Vt(t,"restoreState",F),yu(t,Kr,"sorting",I);const k=h.useCallback(({field:R,colDef:$},_)=>{if(!$.sortable||l.disableColumnSorting)return;const U=_.shiftKey||_.metaKey||_.ctrlKey;m(R,void 0,U)},[m,l.disableColumnSorting]),T=h.useCallback(({field:R,colDef:$},_)=>{!$.sortable||l.disableColumnSorting||_.key==="Enter"&&!_.ctrlKey&&!_.metaKey&&m(R,void 0,_.shiftKey)},[m,l.disableColumnSorting]),z=h.useCallback(()=>{const R=_l(t),$=fo(t);if(R.length>0){const _=R.filter(U=>$[U.field]);_.length<R.length&&t.current.setSortModel(_)}},[t]),V=h.useCallback(R=>{R==="sorting"&&t.current.applySorting()},[t]);Vt(t,"columnMenu",d),ye(t,"columnHeaderClick",k),ye(t,"columnHeaderKeyDown",T),ye(t,"rowsSet",t.current.applySorting),ye(t,"columnsChange",z),ye(t,"activeStrategyProcessorChange",V),Ii(()=>{t.current.applySorting()}),zn(()=>{l.sortModel!==void 0&&t.current.setSortModel(l.sortModel)},[t,l.sortModel])};function cC(t){const{containerSize:l,scrollPosition:s,elementSize:i,elementOffset:c}=t,d=c+i;if(i>l)return c;if(d-l>s)return d-l;if(c<s)return c}const ZF=(t,l)=>{const s=co(),i=pn(t,"useGridScroll"),c=t.current.columnHeadersContainerRef,d=t.current.virtualScrollerRef,g=fe(t,yr),p=h.useCallback(C=>{const v=mn(t.current.state),D=Ti(t),j=l.unstable_listView?[Xa(t.current.state)]:qt(t);if(!(C.rowIndex==null)&&D===0||j.length===0)return!1;i.debug(`Scrolling to cell at row ${C.rowIndex}, col: ${C.colIndex} `);let I={};if(C.colIndex!==void 0){const k=Cr(t);let T;if(typeof C.rowIndex<"u"){const z=g[C.rowIndex]?.id,V=t.current.unstable_getCellColSpanInfo(z,C.colIndex);V&&!V.spannedByColSpan&&(T=V.cellProps.width)}typeof T>"u"&&(T=j[C.colIndex].computedWidth),I.left=cC({containerSize:v.viewportOuterSize.width,scrollPosition:Math.abs(d.current.scrollLeft),elementSize:T,elementOffset:k[C.colIndex]})}if(C.rowIndex!==void 0){const k=as(t.current.state),T=Rj(t),z=T0(t),V=l.pagination?C.rowIndex-T*z:C.rowIndex,R=k.positions[V+1]?k.positions[V+1]-k.positions[V]:k.currentPageTotalHeight-k.positions[V];I.top=cC({containerSize:v.viewportInnerSize.height,scrollPosition:d.current.scrollTop,elementSize:R,elementOffset:k.positions[V]})}return I=t.current.unstable_applyPipeProcessors("scrollToIndexes",I,C),typeof I.left!==void 0||typeof I.top!==void 0?(t.current.scroll(I),!0):!1},[i,t,d,l.pagination,g,l.unstable_listView]),m=h.useCallback(C=>{if(d.current&&C.left!==void 0&&c.current){const v=s?-1:1;c.current.scrollLeft=C.left,d.current.scrollLeft=v*C.left,i.debug(`Scrolling left: ${C.left}`)}d.current&&C.top!==void 0&&(d.current.scrollTop=C.top,i.debug(`Scrolling top: ${C.top}`)),i.debug("Scrolling, updating container, and viewport")},[d,s,c,i]),x=h.useCallback(()=>d?.current?{top:d.current.scrollTop,left:d.current.scrollLeft}:{top:0,left:0},[d]);Ue(t,{scroll:m,scrollToIndexes:p,getScrollPosition:x},"public")};function JF(t,l){yt(t,"columnHeaderClick",l.onColumnHeaderClick),yt(t,"columnHeaderContextMenu",l.onColumnHeaderContextMenu),yt(t,"columnHeaderDoubleClick",l.onColumnHeaderDoubleClick),yt(t,"columnHeaderOver",l.onColumnHeaderOver),yt(t,"columnHeaderOut",l.onColumnHeaderOut),yt(t,"columnHeaderEnter",l.onColumnHeaderEnter),yt(t,"columnHeaderLeave",l.onColumnHeaderLeave),yt(t,"cellClick",l.onCellClick),yt(t,"cellDoubleClick",l.onCellDoubleClick),yt(t,"cellKeyDown",l.onCellKeyDown),yt(t,"preferencePanelClose",l.onPreferencePanelClose),yt(t,"preferencePanelOpen",l.onPreferencePanelOpen),yt(t,"menuOpen",l.onMenuOpen),yt(t,"menuClose",l.onMenuClose),yt(t,"rowDoubleClick",l.onRowDoubleClick),yt(t,"rowClick",l.onRowClick),yt(t,"stateChange",l.onStateChange)}function eA(t,l=166){let s,i;const c=()=>{s=void 0,t(...i)};function d(...g){i=g,s===void 0&&(s=setTimeout(c,l))}return d.clear=()=>{clearTimeout(s),s=void 0},d}const Dh={autoHeight:!1,autoPageSize:!1,autosizeOnMount:!1,checkboxSelection:!1,checkboxSelectionVisibleOnly:!1,clipboardCopyCellDelimiter:"	",columnBufferPx:150,columnHeaderHeight:56,disableAutosize:!1,disableColumnFilter:!1,disableColumnMenu:!1,disableColumnReorder:!1,disableColumnResize:!1,disableColumnSelector:!1,disableColumnSorting:!1,disableDensitySelector:!1,disableEval:!1,disableMultipleColumnsFiltering:!1,disableMultipleColumnsSorting:!1,disableMultipleRowSelection:!1,disableRowSelectionOnClick:!1,disableVirtualization:!1,editMode:so.Cell,filterDebounceMs:150,filterMode:"client",hideFooter:!1,hideFooterPagination:!1,hideFooterRowCount:!1,hideFooterSelectedRowCount:!1,ignoreDiacritics:!1,ignoreValueFormatterDuringExport:!1,indeterminateCheckboxAction:"deselect",keepColumnPositionIfDraggedOutside:!1,keepNonExistentRowsSelected:!1,loading:!1,logger:console,logLevel:"error",pageSizeOptions:[25,50,100],pagination:!1,paginationMode:"client",resetPageOnSortFilter:!1,resizeThrottleMs:60,rowBufferPx:150,rowHeight:52,rowPositionsDebounceMs:166,rows:[],rowSelection:!0,rowSpacingType:"margin",showCellVerticalBorder:!1,showColumnVerticalBorder:!1,sortingMode:"client",sortingOrder:["asc","desc",null],throttleRowsMs:0,unstable_rowSpanning:!1,virtualizeColumnsWithAutoRowHeight:!1},La={width:0,height:0},tA={isReady:!1,root:La,viewportOuterSize:La,viewportInnerSize:La,contentSize:La,minimumSize:La,hasScrollX:!1,hasScrollY:!1,scrollbarSize:0,headerHeight:0,groupHeaderHeight:0,headerFilterHeight:0,rowWidth:0,rowHeight:0,columnsTotalWidth:0,leftPinnedWidth:0,rightPinnedWidth:0,headersTotalHeight:0,topContainerHeight:0,bottomContainerHeight:0},nA=(t,l,s)=>{const i=tA,c=Ja(s);return w({},t,{dimensions:w({},i,dy(l,s,c,ns(s)))})},uy=ke(qt,Cr,(t,l)=>{const s=t.length;return s===0?0:_a(l[s-1]+t[s-1].computedWidth,1)});function lA(t,l){const s=pn(t,"useResizeContainer"),i=h.useRef(!1),c=h.useRef(La),d=fe(t,ns),g=fe(t,Ja),p=fe(t,uy),m=h.useRef(!0),{rowHeight:x,headerHeight:b,groupHeaderHeight:C,headerFilterHeight:v,headersTotalHeight:D,leftPinnedWidth:j,rightPinnedWidth:F}=dy(l,t,g,d),I=h.useRef(void 0),k=h.useCallback(()=>mn(t.current.state),[t]),T=h.useCallback(N=>{t.current.setState(O=>w({},O,{dimensions:N})),t.current.rootElementRef.current&&uC(t.current.rootElementRef.current,mn(t.current.state))},[t]),z=h.useCallback(()=>{const N=t.current.mainElementRef.current;if(!N)return;const O=Qw(N).getComputedStyle(N),K={width:parseFloat(O.width)||0,height:parseFloat(O.height)||0};(!I.current||!fC(I.current,K))&&(t.current.publishEvent("resize",K),I.current=K)},[t]),V=h.useCallback(()=>{const N=mn(t.current.state);if(!N.isReady)return 0;const O=pr(t);if(l.getRowHeight){const G=ki(t),S=G.lastRowIndex-G.firstRowIndex;return Math.min(S-1,O.rows.length)}const K=Math.floor(N.viewportInnerSize.height/x);return Math.min(K,O.rows.length)},[t,l.getRowHeight,x]),R=h.useCallback(()=>{if(m.current)return;const N=oA(t.current.mainElementRef.current,l.scrollbarSize),O=as(t.current.state),K=D+O.pinnedTopRowsTotalHeight,G=O.pinnedBottomRowsTotalHeight,M={width:p-j-F,height:_a(O.currentPageTotalHeight,1)};let L,q,Y=!1,W=!1;if(l.autoHeight)W=!1,Y=Math.round(p)>Math.round(c.current.width),L={width:c.current.width,height:K+G+M.height},q={width:Math.max(0,L.width-(W?N:0)),height:Math.max(0,L.height-(Y?N:0))};else{L={width:c.current.width,height:c.current.height},q={width:Math.max(0,L.width-j-F),height:Math.max(0,L.height-K-G)};const ce=M,ve=q,Te=ce.width>ve.width,Se=ce.height>ve.height;(Te||Se)&&(W=Se,Y=ce.width+(W?N:0)>ve.width,Y&&(W=ce.height+N>ve.height)),W&&(q.width-=N),Y&&(q.height-=N)}const Q=Math.max(L.width,p+(W?N:0)),le={width:p,height:K+M.height+G},re={isReady:!0,root:c.current,viewportOuterSize:L,viewportInnerSize:q,contentSize:M,minimumSize:le,hasScrollX:Y,hasScrollY:W,scrollbarSize:N,headerHeight:b,groupHeaderHeight:C,headerFilterHeight:v,rowWidth:Q,rowHeight:x,columnsTotalWidth:p,leftPinnedWidth:j,rightPinnedWidth:F,headersTotalHeight:D,topContainerHeight:K,bottomContainerHeight:G},me=t.current.state.dimensions;ro(me,re)||(T(re),fC(re.viewportInnerSize,me.viewportInnerSize)||t.current.publishEvent("viewportInnerSizeChange",re.viewportInnerSize),t.current.updateRenderContext?.())},[t,T,l.scrollbarSize,l.autoHeight,x,b,C,v,p,D,j,F]),$=Nt(R),_=h.useMemo(()=>l.resizeThrottleMs>0?eA(()=>{$(),t.current.publishEvent("debouncedResize",c.current)},l.resizeThrottleMs):void 0,[t,l.resizeThrottleMs,$]);h.useEffect(()=>_?.clear,[_]);const U={resize:z,getRootDimensions:k},A={updateDimensions:R,getViewportPageSize:V};zn(R,[R]),Ue(t,U,"public"),Ue(t,A,"private");const E=h.useCallback(N=>{uC(N,mn(t.current.state))},[t]),B=h.useCallback(N=>{if(c.current=N,N.height===0&&!i.current&&!l.autoHeight&&!mu&&(s.error(["The parent DOM element of the Data Grid has an empty height.","Please make sure that this element has an intrinsic height.","The grid displays with a height of 0px.","","More details: https://mui.com/r/x-data-grid-no-dimensions."].join(`
`)),i.current=!0),N.width===0&&!i.current&&!mu&&(s.error(["The parent DOM element of the Data Grid has an empty width.","Please make sure that this element has an intrinsic width.","The grid displays with a width of 0px.","","More details: https://mui.com/r/x-data-grid-no-dimensions."].join(`
`)),i.current=!0),m.current||!_){m.current=!1,R();return}_()},[R,l.autoHeight,_,s]);yt(t,"rootMount",E),yt(t,"resize",B),yt(t,"debouncedResize",l.onResize)}function uC(t,l){const s=(i,c)=>t.style.setProperty(i,c);s("--DataGrid-hasScrollX",`${Number(l.hasScrollX)}`),s("--DataGrid-hasScrollY",`${Number(l.hasScrollY)}`),s("--DataGrid-scrollbarSize",`${l.scrollbarSize}px`),s("--DataGrid-rowWidth",`${l.rowWidth}px`),s("--DataGrid-columnsTotalWidth",`${l.columnsTotalWidth}px`),s("--DataGrid-leftPinnedWidth",`${l.leftPinnedWidth}px`),s("--DataGrid-rightPinnedWidth",`${l.rightPinnedWidth}px`),s("--DataGrid-headerHeight",`${l.headerHeight}px`),s("--DataGrid-headersTotalHeight",`${l.headersTotalHeight}px`),s("--DataGrid-topContainerHeight",`${l.topContainerHeight}px`),s("--DataGrid-bottomContainerHeight",`${l.bottomContainerHeight}px`),s("--height",`${l.rowHeight}px`)}function dy(t,l,s,i){const c=h0(t.rowHeight,Dh.rowHeight);return{rowHeight:Math.floor(c*s),headerHeight:Math.floor(t.columnHeaderHeight*s),groupHeaderHeight:Math.floor((t.columnGroupHeaderHeight??t.columnHeaderHeight)*s),headerFilterHeight:Math.floor((t.headerFilterHeight??t.columnHeaderHeight)*s),columnsTotalWidth:uy(l),headersTotalHeight:Ou(l,t),leftPinnedWidth:i.left.reduce((d,g)=>d+g.computedWidth,0),rightPinnedWidth:i.right.reduce((d,g)=>d+g.computedWidth,0)}}const dC=new WeakMap;function oA(t,l){if(l!==void 0)return l;if(t===null)return 0;const s=dC.get(t);if(s!==void 0)return s;const c=$r(t).createElement("div");c.style.width="99px",c.style.height="99px",c.style.position="absolute",c.style.overflow="scroll",c.className="scrollDiv",t.appendChild(c);const d=c.offsetWidth-c.clientWidth;return t.removeChild(c),dC.set(t,d),d}function fC(t,l){return t.width===l.width&&t.height===l.height}const rA=typeof globalThis.ResizeObserver<"u"?globalThis.ResizeObserver:class{observe(){}unobserve(){}disconnect(){}},aA=(t,l,s)=>{s.current.caches.rowsMeta={heights:new Map};const i=_h(s.current.state),c=Ti(s),d=Fi(s.current.state),g=Math.min(d.enabled?d.paginationModel.pageSize:c,c);return w({},t,{rowsMeta:{currentPageTotalHeight:g*i,positions:Array.from({length:g},(p,m)=>m*i),pinnedTopRowsTotalHeight:0,pinnedBottomRowsTotalHeight:0}})},sA=(t,l)=>{const{getRowHeight:s,getRowSpacing:i,getEstimatedRowHeight:c}=l,d=t.current.caches.rowsMeta.heights,g=h.useRef(-1),p=h.useRef(!1),m=h.useRef(!1),x=fe(t,Ja),b=tg(t),C=fe(t,es),v=fe(t,_h),D=E=>{let B=d.get(E);return B===void 0&&(B={content:v,spacingTop:0,spacingBottom:0,detail:0,autoHeight:!1,needsFirstMeasurement:!0},d.set(E,B)),B},j=h.useCallback(E=>{const B=mn(t.current.state).rowHeight,N=t.current.getRowHeightEntry(E.id);if(!s)N.content=B,N.needsFirstMeasurement=!1;else{const O=s(w({},E,{densityFactor:x}));if(O==="auto"){if(N.needsFirstMeasurement){const K=c?c(w({},E,{densityFactor:x})):B;N.content=K??B}p.current=!0,N.autoHeight=!0}else N.content=h0(O,B),N.needsFirstMeasurement=!1,N.autoHeight=!1}if(i){const O=t.current.getRowIndexRelativeToVisibleRows(E.id),K=i(w({},E,{isFirstVisible:O===0,isLastVisible:O===b.rows.length-1,indexRelativeToCurrentPage:O}));N.spacingTop=K.top??0,N.spacingBottom=K.bottom??0}else N.spacingTop=0,N.spacingBottom=0;return t.current.unstable_applyPipeProcessors("rowHeight",N,E),N},[t,b.rows,s,c,v,i,x]),F=h.useCallback(()=>{p.current=!1;const E=C.top.reduce((S,M)=>{const L=j(M);return S+L.content+L.spacingTop+L.spacingBottom+L.detail},0),B=C.bottom.reduce((S,M)=>{const L=j(M);return S+L.content+L.spacingTop+L.spacingBottom+L.detail},0),N=[],O=b.rows.reduce((S,M)=>{N.push(S);const L=j(M),q=L.content+L.spacingTop+L.spacingBottom+L.detail;return S+q},0);p.current||(g.current=1/0);const K=E!==t.current.state.rowsMeta.pinnedTopRowsTotalHeight||B!==t.current.state.rowsMeta.pinnedBottomRowsTotalHeight||O!==t.current.state.rowsMeta.currentPageTotalHeight,G={currentPageTotalHeight:O,positions:N,pinnedTopRowsTotalHeight:E,pinnedBottomRowsTotalHeight:B};t.current.setState(S=>w({},S,{rowsMeta:G})),K&&t.current.updateDimensions(),m.current=!0},[t,C,b.rows,j]),I=E=>d.get(E)?.content??v,k=(E,B)=>{const N=t.current.getRowHeightEntry(E),O=N.content!==B;N.needsFirstMeasurement=!1,N.content=B,m.current&&=!O},T=E=>d.get(E)?.autoHeight??!1,z=()=>g.current,V=E=>{p.current&&E>g.current&&(g.current=E)},R=()=>{d.clear(),F()},$=io(()=>new rA(E=>{for(let B=0;B<E.length;B+=1){const N=E[B],O=N.borderBoxSize&&N.borderBoxSize.length>0?N.borderBoxSize[0].blockSize:N.contentRect.height,K=N.target.__mui_id;if(_0(t)?.id===K&&O===0)return;t.current.unstable_storeRowHeightMeasurement(K,O)}m.current||requestAnimationFrame(()=>{t.current.requestPipeProcessorsApplication("rowHeight")})})).current,_=(E,B)=>(E.__mui_id=B,$.observe(E),()=>$.unobserve(E));ug(t,"rowHeight",F),zn(()=>{F()},[F]);const U={unstable_getRowHeight:I,unstable_setLastMeasuredRowIndex:V,unstable_storeRowHeightMeasurement:k,resetRowHeights:R},A={hydrateRowsMeta:F,observeRowHeight:_,rowHasAutoHeight:T,getRowHeightEntry:D,getLastMeasuredRowIndex:z};Ue(t,U,"public"),Ue(t,A,"private")},iA=t=>{const l=h.useCallback((c={})=>t.current.unstable_applyPipeProcessors("exportState",{},c),[t]),s=h.useCallback(c=>{t.current.unstable_applyPipeProcessors("restoreState",{callbacks:[]},{stateToRestore:c}).callbacks.forEach(g=>{g()}),t.current.forceUpdate()},[t]);Ue(t,{exportState:l,restoreState:s},"public")},cA=t=>{const l=h.useRef({}),s=(p,m)=>l.current[p]?.[m],i=()=>{l.current={}},c=h.useCallback(({rowId:p,minFirstColumn:m,maxLastColumn:x,columns:b})=>{for(let C=m;C<x;C+=1){const v=uA({apiRef:t,lookup:l.current,columnIndex:C,rowId:p,minFirstColumnIndex:m,maxLastColumnIndex:x,columns:b});v.colSpan>1&&(C+=v.colSpan-1)}},[t]),d={unstable_getCellColSpanInfo:s},g={resetColSpan:i,calculateColSpan:c};Ue(t,d,"public"),Ue(t,g,"private"),ye(t,"columnOrderChange",i)};function uA(t){const{apiRef:l,lookup:s,columnIndex:i,rowId:c,minFirstColumnIndex:d,maxLastColumnIndex:g,columns:p}=t,m=p.length,x=p[i],b=l.current.getRow(c),C=l.current.getRowValue(b,x),v=typeof x.colSpan=="function"?x.colSpan(C,b,x,l):x.colSpan;if(!v||v===1)return ch(s,c,i,{spannedByColSpan:!1,cellProps:{colSpan:1,width:x.computedWidth}}),{colSpan:1};let D=x.computedWidth;for(let j=1;j<v;j+=1){const F=i+j;if(F>=d&&F<g){const I=p[F];D+=I.computedWidth,ch(s,c,i+j,{spannedByColSpan:!0,rightVisibleCellIndex:Math.min(i+v,m-1),leftVisibleCellIndex:i})}ch(s,c,i,{spannedByColSpan:!1,cellProps:{colSpan:v,width:D}})}return{colSpan:v}}function ch(t,l,s,i){t[l]||(t[l]={}),t[l][s]=i}const fy=(t,l,s)=>{if(t0(t)){if(s[t.field]!==void 0)throw new Error(["MUI X: columnGroupingModel contains duplicated field",`column field ${t.field} occurs two times in the grouping model:`,`- ${s[t.field].join(" > ")}`,`- ${l.join(" > ")}`].join(`
`));s[t.field]=l;return}const{groupId:i,children:c}=t;c.forEach(d=>{fy(d,[...l,i],s)})},Th=t=>{if(!t)return{};const l={};return t.forEach(s=>{fy(s,[],l)}),l},Ih=(t,l,s)=>{const i=m=>l[m]??[],c=[],d=Math.max(...t.map(m=>i(m).length)),g=(m,x,b)=>ro(i(m).slice(0,b+1),i(x).slice(0,b+1)),p=(m,x)=>!!(s?.left&&s.left.includes(m)&&!s.left.includes(x)||s?.right&&!s.right.includes(m)&&s.right.includes(x));for(let m=0;m<d;m+=1){const x=t.reduce((b,C)=>{const v=i(C)[m]??null;if(b.length===0)return[{columnFields:[C],groupId:v}];const D=b[b.length-1],j=D.columnFields[D.columnFields.length-1];return D.groupId!==v||!g(j,C,m)||p(j,C)?[...b,{columnFields:[C],groupId:v}]:[...b.slice(0,b.length-1),{columnFields:[...D.columnFields,C],groupId:v}]},[]);c.push(x)}return c},dA=["groupId","children"],dg=t=>{let l={};return t.forEach(s=>{if(t0(s))return;const{groupId:i,children:c}=s,d=Ee(s,dA);if(!i)throw new Error("MUI X: An element of the columnGroupingModel does not have either `field` or `groupId`.");const g=w({},d,{groupId:i}),p=dg(c);if(p[i]!==void 0||l[i]!==void 0)throw new Error(`MUI X: The groupId ${i} is used multiple times in the columnGroupingModel.`);l=w({},l,p,{[i]:g})}),w({},l)},fA=(t,l,s)=>{if(!l.columnGroupingModel)return t;const i=Ho(s),c=ts(s),d=dg(l.columnGroupingModel??[]),g=Th(l.columnGroupingModel??[]),p=Ih(i,g,s.current.state.pinnedColumns??{}),m=c.length===0?0:Math.max(...c.map(x=>g[x]?.length??0));return w({},t,{columnGrouping:{lookup:d,unwrappedGroupingModel:g,headerStructure:p,maxDepth:m}})},hA=(t,l)=>{const s=h.useCallback(p=>k0(t)[p]??[],[t]),i=h.useCallback(()=>H0(t),[t]);Ue(t,{getColumnGroupPath:s,getAllGroupDetails:i},"public");const d=h.useCallback(()=>{const p=Th(l.columnGroupingModel??[]);t.current.setState(m=>{const x=m.columns?.orderedFields??[],b=m.pinnedColumns??{},C=Ih(x,p,b);return w({},m,{columnGrouping:w({},m.columnGrouping,{headerStructure:C})})})},[t,l.columnGroupingModel]),g=h.useCallback(p=>{const m=t.current.getPinnedColumns?.()??{},x=Ho(t),b=ts(t),C=dg(p??[]),v=Th(p??[]),D=Ih(x,v,m),j=b.length===0?0:Math.max(...b.map(F=>v[F]?.length??0));t.current.setState(F=>w({},F,{columnGrouping:{lookup:C,unwrappedGroupingModel:v,headerStructure:D,maxDepth:j}}))},[t]);ye(t,"columnIndexChange",d),ye(t,"columnsChange",()=>{g(l.columnGroupingModel)}),ye(t,"columnVisibilityModelChange",()=>{g(l.columnGroupingModel)}),h.useEffect(()=>{g(l.columnGroupingModel)},[g,l.columnGroupingModel])};function gA(){let t,l;const s=new Promise((i,c)=>{t=i,l=c});return s.resolve=t,s.reject=l,s}function hC(t,l){if(l!==void 0&&t.changedTouches){for(let s=0;s<t.changedTouches.length;s+=1){const i=t.changedTouches[s];if(i.identifier===l)return{x:i.clientX,y:i.clientY}}return!1}return{x:t.clientX,y:t.clientY}}function gC(t,l,s,i){let c=t;return i==="Right"?c+=l-s.left:c+=s.right-l,c}function mA(t,l,s){return s==="Left"?t-l.left:l.right-t}function pA(t){return t==="Right"?"Left":"Right"}function bA(t,l){const s=t.classList.contains(P["columnSeparator--sideRight"])?"Right":"Left";return l?pA(s):s}function mC(t){t.preventDefault(),t.stopImmediatePropagation()}function xA(t){const l=h.useRef(void 0),s=()=>L0(t),i=fe(t,s);return h.useEffect(()=>{l.current&&i===!1&&(l.current.resolve(),l.current=void 0)}),()=>{if(!l.current){if(s()===!1)return Promise.resolve();l.current=gA()}return l.current}}function CA(t,l){if(t.length<4)return t;const s=t.slice();s.sort((p,m)=>p-m);const i=s[Math.floor(s.length*.25)],c=s[Math.floor(s.length*.75)-1],d=c-i,g=d<5?5:d*l;return s.filter(p=>p>i-g&&p<c+g)}function yA(t,l,s){const i={},c=t.current.rootElementRef.current;return c.classList.add(P.autosizing),s.forEach(d=>{const p=QD(t.current,d.field).map(j=>j.getBoundingClientRect().width??0),m=l.includeOutliers?p:CA(p,l.outliersFactor);if(l.includeHeaders){const j=XD(t.current,d.field);if(j){const F=j.querySelector(`.${P.columnHeaderTitle}`),I=j.querySelector(`.${P.columnHeaderTitleContainerContent}`),k=j.querySelector(`.${P.iconButtonContainer}`),T=j.querySelector(`.${P.menuIcon}`),z=F??I,V=window.getComputedStyle(j,null),R=parseInt(V.paddingLeft,10)+parseInt(V.paddingRight,10),_=z.scrollWidth+1+R+(k?.clientWidth??0)+(T?.clientWidth??0);m.push(_)}}const x=d.minWidth!==-1/0&&d.minWidth!==void 0,b=d.maxWidth!==1/0&&d.maxWidth!==void 0,C=x?d.minWidth:0,v=b?d.maxWidth:1/0,D=m.length===0?0:Math.max(...m);i[d.field]=dl(D,C,v)}),c.classList.remove(P.autosizing),i}const vA=t=>w({},t,{columnResize:{resizingColumnField:""}});function wA(){return{colDef:void 0,initialColWidth:0,initialTotalWidth:0,previousMouseClickEvent:void 0,columnHeaderElement:void 0,headerFilterElement:void 0,groupHeaderElements:[],cellElements:[],leftPinnedCellsAfter:[],rightPinnedCellsBefore:[],fillerLeft:void 0,fillerRight:void 0,leftPinnedHeadersAfter:[],rightPinnedHeadersBefore:[]}}const SA=(t,l)=>{const s=co(),i=pn(t,"useGridColumnResize"),c=io(wA).current,d=h.useRef(null),g=h.useRef(null),p=Xr(),m=h.useRef(void 0),x=A=>{i.debug(`Updating width to ${A} for col ${c.colDef.field}`);const E=c.columnHeaderElement.offsetWidth,B=A-E,N=A-c.initialColWidth;if(N>0){const G=c.initialTotalWidth+N;t.current.rootElementRef?.current?.style.setProperty("--DataGrid-rowWidth",`${G}px`)}c.colDef.computedWidth=A,c.colDef.width=A,c.colDef.flex=0,c.columnHeaderElement.style.width=`${A}px`;const O=c.headerFilterElement;O&&(O.style.width=`${A}px`),c.groupHeaderElements.forEach(G=>{const S=G;let M;S.getAttribute("aria-colspan")==="1"?M=`${A}px`:M=`${S.offsetWidth+B}px`,S.style.width=M}),c.cellElements.forEach(G=>{const S=G;let M;S.getAttribute("aria-colspan")==="1"?M=`${A}px`:M=`${S.offsetWidth+B}px`,S.style.setProperty("--width",M)});const K=t.current.unstable_applyPipeProcessors("isColumnPinned",!1,c.colDef.field);K===ur.LEFT&&(Na(c.fillerLeft,"width",B),c.leftPinnedCellsAfter.forEach(G=>{Na(G,"left",B)}),c.leftPinnedHeadersAfter.forEach(G=>{Na(G,"left",B)})),K===ur.RIGHT&&(Na(c.fillerRight,"width",B),c.rightPinnedCellsBefore.forEach(G=>{Na(G,"right",B)}),c.rightPinnedHeadersBefore.forEach(G=>{Na(G,"right",B)}))},b=A=>{if(k(),c.previousMouseClickEvent){const E=c.previousMouseClickEvent,B=E.timeStamp,N=E.clientX,O=E.clientY;if(A.timeStamp-B<300&&A.clientX===N&&A.clientY===O){c.previousMouseClickEvent=void 0,t.current.publishEvent("columnResizeStop",null,A);return}}if(c.colDef){t.current.setColumnWidth(c.colDef.field,c.colDef.width),i.debug(`Updating col ${c.colDef.field} with new width: ${c.colDef.width}`);const E=ao(t.current.state);c.groupHeaderElements.forEach(B=>{const N=VD(B),O=B,G=`${N.reduce((S,M)=>E.columnVisibilityModel[M]!==!1?S+E.lookup[M].computedWidth:S,0)}px`;O.style.width=G})}p.start(0,()=>{t.current.publishEvent("columnResizeStop",null,A)})},C=(A,E,B)=>{const N=t.current.rootElementRef.current;c.initialColWidth=A.computedWidth,c.initialTotalWidth=t.current.getRootDimensions().rowWidth,c.colDef=A,c.columnHeaderElement=_D(t.current.columnHeadersContainerRef.current,A.field);const O=N.querySelector(`.${P.headerFilterRow} [data-field="${No(A.field)}"]`);O&&(c.headerFilterElement=O),c.groupHeaderElements=UD(t.current.columnHeadersContainerRef?.current,A.field),c.cellElements=$D(c.columnHeaderElement,t.current),c.fillerLeft=Vx(t.current,s?"filler--pinnedRight":"filler--pinnedLeft"),c.fillerRight=Vx(t.current,s?"filler--pinnedLeft":"filler--pinnedRight");const K=t.current.unstable_applyPipeProcessors("isColumnPinned",!1,c.colDef.field);c.leftPinnedCellsAfter=K!==ur.LEFT?[]:WD(t.current,c.columnHeaderElement,s),c.rightPinnedCellsBefore=K!==ur.RIGHT?[]:qD(t.current,c.columnHeaderElement,s),c.leftPinnedHeadersAfter=K!==ur.LEFT?[]:YD(t.current,c.columnHeaderElement,s),c.rightPinnedHeadersBefore=K!==ur.RIGHT?[]:KD(t.current,c.columnHeaderElement,s),g.current=bA(E,s),d.current=mA(B,c.columnHeaderElement.getBoundingClientRect(),g.current)},v=Nt(b),D=Nt(A=>{if(A.buttons===0){v(A);return}let E=gC(d.current,A.clientX,c.columnHeaderElement.getBoundingClientRect(),g.current);E=dl(E,c.colDef.minWidth,c.colDef.maxWidth),x(E);const B={element:c.columnHeaderElement,colDef:c.colDef,width:E};t.current.publishEvent("columnResize",B,A)}),j=Nt(A=>{hC(A,m.current)&&b(A)}),F=Nt(A=>{const E=hC(A,m.current);if(!E)return;if(A.type==="mousemove"&&A.buttons===0){j(A);return}let B=gC(d.current,E.x,c.columnHeaderElement.getBoundingClientRect(),g.current);B=dl(B,c.colDef.minWidth,c.colDef.maxWidth),x(B);const N={element:c.columnHeaderElement,colDef:c.colDef,width:B};t.current.publishEvent("columnResize",N,A)}),I=Nt(A=>{const E=pu(A.target,P["columnSeparator--resizable"]);if(!E)return;const B=A.changedTouches[0];B!=null&&(m.current=B.identifier);const N=pu(A.target,P.columnHeader),O=BD(N),K=t.current.getColumn(O);i.debug(`Start Resize on col ${K.field}`),t.current.publishEvent("columnResizeStart",{field:O},A),C(K,E,B.clientX);const G=$r(A.currentTarget);G.addEventListener("touchmove",F),G.addEventListener("touchend",j)}),k=h.useCallback(()=>{const A=$r(t.current.rootElementRef.current);A.body.style.removeProperty("cursor"),A.removeEventListener("mousemove",D),A.removeEventListener("mouseup",v),A.removeEventListener("touchmove",F),A.removeEventListener("touchend",j),setTimeout(()=>{A.removeEventListener("click",mC,!0)},100),c.columnHeaderElement&&(c.columnHeaderElement.style.pointerEvents="unset")},[t,c,D,v,F,j]),T=h.useCallback(({field:A})=>{t.current.setState(E=>w({},E,{columnResize:w({},E.columnResize,{resizingColumnField:A})})),t.current.forceUpdate()},[t]),z=h.useCallback(()=>{t.current.setState(A=>w({},A,{columnResize:w({},A.columnResize,{resizingColumnField:""})})),t.current.forceUpdate()},[t]),V=Nt(({colDef:A},E)=>{if(E.button!==0||!E.currentTarget.classList.contains(P["columnSeparator--resizable"]))return;E.preventDefault(),i.debug(`Start Resize on col ${A.field}`),t.current.publishEvent("columnResizeStart",{field:A.field},E),C(A,E.currentTarget,E.clientX);const B=$r(t.current.rootElementRef.current);B.body.style.cursor="col-resize",c.previousMouseClickEvent=E.nativeEvent,B.addEventListener("mousemove",D),B.addEventListener("mouseup",v),B.addEventListener("click",mC,!0)}),R=Nt((A,E)=>{if(l.disableAutosize||E.button!==0)return;const B=t.current.state.columns.lookup[A.field];B.resizable!==!1&&t.current.autosizeColumns(w({},l.autosizeOptions,{disableColumnVirtualization:!1,columns:[B.field]}))}),$=xA(t),_=h.useRef(!1),U=h.useCallback(async A=>{if(!t.current.rootElementRef?.current||_.current)return;_.current=!0;const B=ao(t.current.state),N=w({},IE,A,{columns:A?.columns??B.orderedFields});N.columns=N.columns.filter(K=>B.columnVisibilityModel[K]!==!1);const O=N.columns.map(K=>t.current.state.columns.lookup[K]);try{!l.disableVirtualization&&N.disableColumnVirtualization&&(t.current.unstable_setColumnVirtualization(!1),await $());const K=yA(t,N,O),G=O.map(S=>w({},S,{width:K[S.field],computedWidth:K[S.field],flex:0}));if(N.expand){const M=B.orderedFields.map(W=>B.lookup[W]).filter(W=>B.columnVisibilityModel[W.field]!==!1).reduce((W,Q)=>W+(K[Q.field]??Q.computedWidth??Q.width),0),Y=t.current.getRootDimensions().viewportInnerSize.width-M;if(Y>0){const W=Y/(G.length||1);G.forEach(Q=>{Q.width+=W,Q.computedWidth+=W})}}t.current.updateColumns(G),G.forEach((S,M)=>{if(S.width!==O[M].width){const L=S.width;t.current.publishEvent("columnWidthChange",{element:t.current.getColumnHeaderElement(S.field),colDef:S,width:L})}})}finally{l.disableVirtualization||t.current.unstable_setColumnVirtualization(!0),_.current=!1}},[t,$,l.disableVirtualization]);h.useEffect(()=>k,[k]),TC(()=>{l.autosizeOnMount&&Promise.resolve().then(()=>{t.current.autosizeColumns(l.autosizeOptions)})}),S0(t,()=>t.current.columnHeadersContainerRef?.current,"touchstart",I,{passive:!0}),Ue(t,{autosizeColumns:U},"public"),ye(t,"columnResizeStop",z),ye(t,"columnResizeStart",T),ye(t,"columnSeparatorMouseDown",V),ye(t,"columnSeparatorDoubleClick",R),yt(t,"columnResize",l.onColumnResize),yt(t,"columnWidthChange",l.onColumnWidthChange)};function Na(t,l,s){t&&(t.style[l]=`${parseInt(t.style[l],10)+s}px`)}function jA(t,l){return t.firstRowIndex>=l.firstRowIndex&&t.lastRowIndex<=l.lastRowIndex?null:t.firstRowIndex>=l.firstRowIndex&&t.lastRowIndex>l.lastRowIndex?{firstRowIndex:l.lastRowIndex,lastRowIndex:t.lastRowIndex}:t.firstRowIndex<l.firstRowIndex&&t.lastRowIndex<=l.lastRowIndex?{firstRowIndex:t.firstRowIndex,lastRowIndex:l.firstRowIndex-1}:t}function pC(t){return t.firstRowIndex!==0||t.lastRowIndex!==0}const uh=(t,l,s)=>{if(!t)return null;let i=t[l.field];const c=l.rowSpanValueGetter??l.valueGetter;return c&&(i=c(i,t,l,s)),i},Va={spannedCells:{},hiddenCells:{},hiddenCellOriginMap:{}},vu={firstRowIndex:0,lastRowIndex:0},MA=new Set([jl,"__reorder__",Tu]),bC=20,hy=(t,l,s,i,c,d,g)=>{const p=d?{}:w({},t.current.state.rowSpanning.spannedCells),m=d?{}:w({},t.current.state.rowSpanning.hiddenCells),x=d?{}:w({},t.current.state.rowSpanning.hiddenCellOriginMap);return d&&(g=vu),l.forEach(b=>{if(!MA.has(b.field)){for(let C=c.firstRowIndex;C<c.lastRowIndex;C+=1){const v=s[C];if(m[v.id]?.[b.field])continue;const D=uh(v.model,b,t);if(D==null)continue;let j=v.id,F=C,I=0;const k=[];if(C===c.firstRowIndex){let z=C-1,V=s[z];for(;z>=i.firstRowIndex&&V&&uh(V.model,b,t)===D;){const R=s[z+1];m[R.id]?m[R.id][b.field]=!0:m[R.id]={[b.field]:!0},k.push(C),I+=1,j=V.id,F=z,z-=1,V=s[z]}}k.forEach(z=>{x[z]?x[z][b.field]=F:x[z]={[b.field]:F}});let T=C+1;for(;T<=i.lastRowIndex&&s[T]&&uh(s[T].model,b,t)===D;){const z=s[T];m[z.id]?m[z.id][b.field]=!0:m[z.id]={[b.field]:!0},x[T]?x[T][b.field]=F:x[T]={[b.field]:F},T+=1,I+=1}I>0&&(p[j]?p[j][b.field]=I+1:p[j]={[b.field]:I+1})}g={firstRowIndex:Math.min(g.firstRowIndex,c.firstRowIndex),lastRowIndex:Math.max(g.lastRowIndex,c.lastRowIndex)}}}),{spannedCells:p,hiddenCells:m,hiddenCellOriginMap:x,processedRange:g}},gy=(t,l)=>{const s=di(l).length;if(t.pagination){const i=T0(l);let c=bC;return i>0&&(c=i-1),{firstRowIndex:0,lastRowIndex:Math.min(c,s)}}return{firstRowIndex:0,lastRowIndex:Math.min(bC,s)}},EA=(t,l,s)=>{if(!l.unstable_rowSpanning)return w({},t,{rowSpanning:Va});const i=t.rows.dataRowIds||[],c=t.columns.orderedFields||[],d=t.rows.dataRowIdToModelLookup,g=t.columns.lookup,p=!!t.filter.filterModel.items.length||!!t.filter.filterModel.quickFilterValues?.length;if(!i.length||!c.length||!d||!g||p)return w({},t,{rowSpanning:Va});const m=gy(l,s),x=i.map(j=>({id:j,model:d[j]})),b=c.map(j=>g[j]),{spannedCells:C,hiddenCells:v,hiddenCellOriginMap:D}=hy(s,b,x,m,m,!0,vu);return w({},t,{rowSpanning:{spannedCells:C,hiddenCells:v,hiddenCellOriginMap:D}})},DA=(t,l)=>{const s=io(()=>t.current.state.rowSpanning!==Va?gy(l,t):vu),i=h.useCallback((d,g=!1)=>{const{range:p,rows:m}=pr(t,{pagination:l.pagination,paginationMode:l.paginationMode});if(p===null||!pC(d))return;g&&(s.current=vu);const x=jA({firstRowIndex:d.firstRowIndex,lastRowIndex:Math.min(d.lastRowIndex,p.lastRowIndex+1)},s.current);if(x===null)return;const b=qt(t),{spannedCells:C,hiddenCells:v,hiddenCellOriginMap:D,processedRange:j}=hy(t,b,m,p,x,g,s.current);s.current=j;const F=Object.keys(C).length,I=Object.keys(v).length,k=Object.keys(t.current.state.rowSpanning.spannedCells).length,T=Object.keys(t.current.state.rowSpanning.hiddenCells).length;!(g||F!==k||I!==T)||F===0&&k===0||t.current.setState(R=>w({},R,{rowSpanning:{spannedCells:C,hiddenCells:v,hiddenCellOriginMap:D}}))},[t,s,l.pagination,l.paginationMode]),c=h.useCallback(()=>{const d=ki(t);pC(d)&&i(d,!0)},[t,i]);ye(t,"renderedRowsIntervalChange",Lr(l.unstable_rowSpanning,i)),ye(t,"sortedRowsSet",Lr(l.unstable_rowSpanning,c)),ye(t,"paginationModelChange",Lr(l.unstable_rowSpanning,c)),ye(t,"filteredRowsSet",Lr(l.unstable_rowSpanning,c)),ye(t,"columnsChange",Lr(l.unstable_rowSpanning,c)),h.useEffect(()=>{l.unstable_rowSpanning?t.current.state.rowSpanning===Va&&c():t.current.state.rowSpanning!==Va&&t.current.setState(d=>w({},d,{rowSpanning:Va}))},[t,c,l.unstable_rowSpanning])},TA=(t,l,s)=>w({},t,{listViewColumn:l.unstable_listColumn?w({},l.unstable_listColumn,{computedWidth:Fh(s)}):void 0});function IA(t,l){const s=()=>{t.current.setState(d=>d.listViewColumn?w({},d,{listViewColumn:w({},d.listViewColumn,{computedWidth:Fh(t)})}):d)},i=h.useRef(null);ye(t,"viewportInnerSizeChange",d=>{i.current!==d.width&&(i.current=d.width,s())}),ye(t,"columnVisibilityModelChange",s),zn(()=>{const d=l.unstable_listColumn;d&&t.current.setState(g=>w({},g,{listViewColumn:w({},d,{computedWidth:Fh(t)})}))},[t,l.unstable_listColumn]),h.useEffect(()=>{l.unstable_listView&&l.unstable_listColumn},[l.unstable_listView,l.unstable_listColumn])}function Fh(t){return mn(t.current.state).viewportInnerSize.width}const FA=(t,l)=>{const s=ZI(t,l);return KF(s,l),UF(s),hn(XI,s,l),hn(WF,s,l),hn(aF,s,l),hn(GF,s,l),hn(DF,s,l),hn(RF,s,l),hn(yF,s,l),hn(XF,s,l),hn(IF,s,l),hn(pF,s,l),hn(EA,s,l),hn(iF,s,l),hn(vA,s,l),hn(oF,s,l),hn(fA,s,l),hn(BM,s,l),hn(nA,s,l),hn(aA,s,l),hn(TA,s,l),jF(s,l),qF(s,l),sF(s,l),LF(s,l),DA(s,l),$F(s,l),cA(s),hA(s,l),NF(s,l),vF(s,l),FF(s,l),CF(s,l),QF(s,l),cF(s,l),SA(s,l),TF(s,l),sA(s,l),ZF(s,l),rF(s),dF(s,l),mF(s,l),lF(s,l),lA(s,l),JF(s,l),iA(s),_M(s,l),IA(s,l),s},AA=t=>{const{classes:l,headerAlign:s,isDragging:i,isLastColumn:c,showLeftBorder:d,showRightBorder:g,groupId:p,pinnedPosition:m}=t,x={root:["columnHeader",s==="left"&&"columnHeader--alignLeft",s==="center"&&"columnHeader--alignCenter",s==="right"&&"columnHeader--alignRight",i&&"columnHeader--moving",g&&"columnHeader--withRightBorder",d&&"columnHeader--withLeftBorder","withBorderColor",p===null?"columnHeader--emptyGroup":"columnHeader--filledGroup",m===et.LEFT&&"columnHeader--pinnedLeft",m===et.RIGHT&&"columnHeader--pinnedRight",c&&"columnHeader--last"],draggableContainer:["columnHeaderDraggableContainer"],titleContainer:["columnHeaderTitleContainer","withBorderColor"],titleContainerContent:["columnHeaderTitleContainerContent"]};return Ke(x,Qe,l)};function zA(t){const{groupId:l,width:s,depth:i,maxDepth:c,fields:d,height:g,colIndex:p,hasFocus:m,tabIndex:x,isLastColumn:b,pinnedPosition:C,pinnedOffset:v}=t,D=we(),j=co(),F=h.useRef(null),I=Re(),k=fe(I,H0),T=l?k[l]:{},{headerName:z=l??"",description:V="",headerAlign:R=void 0}=T;let $;const _=l&&k[l]?.renderHeaderGroup,U=h.useMemo(()=>({groupId:l,headerName:z,description:V,depth:i,maxDepth:c,fields:d,colIndex:p,isLastColumn:b}),[l,z,V,i,c,d,p,b]);l&&_&&($=_(U));const A=w({},t,{classes:D.classes,headerAlign:R,depth:i,isDragging:!1}),E=z??l,B=Ot(),N=l===null?`empty-group-cell-${B}`:l,O=AA(A);h.useLayoutEffect(()=>{if(m){const q=F.current.querySelector('[tabindex="0"]')||F.current;if(!q)return;if(og())q.focus({preventScroll:!0});else{const Y=I.current.getScrollPosition();q.focus(),I.current.scroll(Y)}}},[I,m]);const K=h.useCallback(L=>q=>{Hi(q)||I.current.publishEvent(L,U,q)},[I,U]),G=h.useMemo(()=>({onKeyDown:K("columnGroupHeaderKeyDown"),onFocus:K("columnGroupHeaderFocus"),onBlur:K("columnGroupHeaderBlur")}),[K]),S=typeof T.headerClassName=="function"?T.headerClassName(U):T.headerClassName,M=h.useMemo(()=>Hu(w({},t.style),j,C,v),[C,v,t.style,j]);return r.jsx(ey,w({ref:F,classes:O,columnMenuOpen:!1,colIndex:p,height:g,isResizing:!1,sortDirection:null,hasFocus:!1,tabIndex:x,isDraggable:!1,headerComponent:$,headerClassName:S,description:V,elementId:N,width:s,columnMenuIconButton:null,columnTitleIconButtons:null,resizable:!1,label:E,"aria-colspan":d.length,"data-fields":`|-${d.join("-|-")}-|`,style:M},G))}const xC=Ut("div",{name:"MuiDataGrid",slot:"ColumnHeaderRow",overridesResolver:(t,l)=>l.columnHeaderRow})({display:"flex"}),OA=t=>{const{visibleColumns:l,sortColumnLookup:s,filterColumnLookup:i,columnHeaderTabIndexState:c,columnGroupHeaderTabIndexState:d,columnHeaderFocus:g,columnGroupHeaderFocus:p,headerGroupingMaxDepth:m,columnMenuState:x,columnVisibility:b,columnGroupsHeaderStructure:C,hasOtherElementInTabSequence:v}=t,[D,j]=h.useState(""),[F,I]=h.useState(""),k=zl(),T=we(),z=fe(k,k0),V=fe(k,Cr),R=fe(k,LM),$=fe(k,ns),_=fe(k,fo),U=V0(V,R,$.left.length),A=fe(k,ju),E=fe(k,qC),B=fe(k,XS),N=fe(k,QS),O=fe(k,YC),K=h.useCallback(ce=>I(ce.field),[]),G=h.useCallback(()=>I(""),[]),S=h.useCallback(ce=>j(ce.field),[]),M=h.useCallback(()=>j(""),[]),L=h.useMemo(()=>$.left.length?{firstColumnIndex:0,lastColumnIndex:$.left.length}:null,[$.left.length]),q=h.useMemo(()=>$.right.length?{firstColumnIndex:l.length-$.right.length,lastColumnIndex:l.length}:null,[$.right.length,l.length]);ye(k,"columnResizeStart",K),ye(k,"columnResizeStop",G),ye(k,"columnHeaderDragStart",S),ye(k,"columnHeaderDragEnd",M);const Y=ce=>{const{renderContext:ve=R}=ce||{},Te=ve.firstColumnIndex,Se=ve.lastColumnIndex;return{renderedColumns:l.slice(Te,Se),firstColumnToRender:Te,lastColumnToRender:Se}},W=(ce,ve,Te,Se=!1)=>{const Ae=ce?.position===et.RIGHT,Ne=ce?.position===void 0,be=$.right.length>0&&Ae||$.right.length===0&&Ne,Me=U-Te;return r.jsxs(h.Fragment,{children:[Ne&&r.jsx("div",{role:"presentation",style:{width:Me}}),ve,Ne&&r.jsx("div",{role:"presentation",className:lt(P.filler,Se&&P["filler--borderBottom"])}),be&&r.jsx(ig,{header:!0,pinnedRight:Ae,borderBottom:Se,borderTop:!1})]})},Q=(ce,ve={})=>{const{renderedColumns:Te,firstColumnToRender:Se}=Y(ce),Ae=[];for(let Ne=0;Ne<Te.length;Ne+=1){const be=Te[Ne],Me=Se+Ne,ze=Me===0,Ce=c!==null&&c.field===be.field||ze&&!v?0:-1,$e=g!==null&&g.field===be.field,Be=x.open&&x.field===be.field,Ge=ce?.position,It=pi(Ge,be.computedWidth,Me,V,A,O),St=Ge===et.RIGHT?Te[Ne-1]:Te[Ne+1],jt=St?g!==null&&g.field===St.field:!1,ut=Me+1===V.length-$.right.length,Mt=Ne,tt=Te.length,gt=Cu(Ge,Mt),mt=xu(Ge,Mt,tt,T.showColumnVerticalBorder,E);Ae.push(r.jsx(u2,w({},s[be.field],{columnMenuOpen:Be,filterItemsCounter:i[be.field]&&i[be.field].length,headerHeight:B,isDragging:be.field===D,colDef:be,colIndex:Me,isResizing:F===be.field,isLast:Me===V.length-1,hasFocus:$e,tabIndex:Ce,pinnedPosition:Ge,pinnedOffset:It,isLastUnpinned:ut,isSiblingFocused:jt,showLeftBorder:gt,showRightBorder:mt},ve),be.field))}return W(ce,Ae,0)},le=()=>r.jsxs(xC,{role:"row","aria-rowindex":m+1,ownerState:T,className:P["row--borderBottom"],children:[L&&Q({position:et.LEFT,renderContext:L},{disableReorder:!0}),Q({renderContext:R}),q&&Q({position:et.RIGHT,renderContext:q},{disableReorder:!0,separatorSide:ag.Left})]}),re=({depth:ce,params:ve})=>{const Te=Y(ve);if(Te.renderedColumns.length===0)return null;const{firstColumnToRender:Se,lastColumnToRender:Ae}=Te,Ne=C[ce],be=l[Se].field,Me=z[be]?.[ce]??null,ze=Ne.findIndex(({groupId:tt,columnFields:gt})=>tt===Me&&gt.includes(be)),Ce=l[Ae-1].field,$e=z[Ce]?.[ce]??null,Be=Ne.findIndex(({groupId:tt,columnFields:gt})=>tt===$e&&gt.includes(Ce)),Ge=Ne.slice(ze,Be+1).map(tt=>w({},tt,{columnFields:tt.columnFields.filter(gt=>b[gt]!==!1)})).filter(tt=>tt.columnFields.length>0),It=Ge[0].columnFields.indexOf(be),jt=Ge[0].columnFields.slice(0,It).reduce((tt,gt)=>{const mt=_[gt];return tt+(mt.computedWidth??0)},0);let ut=Se;const Mt=Ge.map(({groupId:tt,columnFields:gt},mt)=>{const Ht=p!==null&&p.depth===ce&&gt.includes(p.field),Fe=d!==null&&d.depth===ce&&gt.includes(d.field)?0:-1,Ze={width:gt.reduce((bt,vt)=>bt+_[vt].computedWidth,0),fields:gt,colIndex:ut},Le=ve.position,We=pi(Le,Ze.width,ut,V,A,O);ut+=gt.length;let pt=mt;return Le===et.LEFT&&(pt=ut-1),r.jsx(zA,{groupId:tt,width:Ze.width,fields:Ze.fields,colIndex:Ze.colIndex,depth:ce,isLastColumn:mt===Ge.length-1,maxDepth:m,height:N,hasFocus:Ht,tabIndex:Fe,pinnedPosition:Le,pinnedOffset:We,showLeftBorder:Cu(Le,pt),showRightBorder:xu(Le,pt,Ge.length,T.showColumnVerticalBorder,E)},mt)});return W(ve,Mt,jt)};return{renderContext:R,leftRenderContext:L,rightRenderContext:q,pinnedColumns:$,visibleColumns:l,columnPositions:V,getFillers:W,getColumnHeadersRow:le,getColumnsToRender:Y,getColumnGroupHeadersRows:()=>{if(m===0)return null;const ce=[];for(let ve=0;ve<m;ve+=1)ce.push(r.jsxs(xC,{role:"row","aria-rowindex":ve+1,ownerState:T,children:[L&&re({depth:ve,params:{position:et.LEFT,renderContext:L,maxLastColumn:L.lastColumnIndex}}),re({depth:ve,params:{renderContext:R}}),q&&re({depth:ve,params:{position:et.RIGHT,renderContext:q,maxLastColumn:q.lastColumnIndex}})]},ve));return ce},getPinnedCellOffset:pi,isDragging:!!D,getInnerProps:()=>({role:"rowgroup"})}},kA=["className"],HA=t=>{const{classes:l}=t;return Ke({root:["columnHeaders"]},Qe,l)},PA=Tt("div",{name:"MuiDataGrid",slot:"ColumnHeaders",overridesResolver:(t,l)=>l.columnHeaders})({display:"flex",flexDirection:"column",borderTopLeftRadius:"var(--unstable_DataGrid-radius)",borderTopRightRadius:"var(--unstable_DataGrid-radius)"}),RA=Xe(function(l,s){const{className:i}=l,c=Ee(l,kA),d=we(),g=HA(d);return r.jsx(PA,w({className:lt(g.root,i),ownerState:d},c,{role:"presentation",ref:s}))}),NA=["className","visibleColumns","sortColumnLookup","filterColumnLookup","columnHeaderTabIndexState","columnGroupHeaderTabIndexState","columnHeaderFocus","columnGroupHeaderFocus","headerGroupingMaxDepth","columnMenuState","columnVisibility","columnGroupsHeaderStructure","hasOtherElementInTabSequence"],GA=Xe(function(l,s){const{visibleColumns:i,sortColumnLookup:c,filterColumnLookup:d,columnHeaderTabIndexState:g,columnGroupHeaderTabIndexState:p,columnHeaderFocus:m,columnGroupHeaderFocus:x,headerGroupingMaxDepth:b,columnMenuState:C,columnVisibility:v,columnGroupsHeaderStructure:D,hasOtherElementInTabSequence:j}=l,F=Ee(l,NA),{getInnerProps:I,getColumnHeadersRow:k,getColumnGroupHeadersRows:T}=OA({visibleColumns:i,sortColumnLookup:c,filterColumnLookup:d,columnHeaderTabIndexState:g,columnGroupHeaderTabIndexState:p,columnHeaderFocus:m,columnGroupHeaderFocus:x,headerGroupingMaxDepth:b,columnMenuState:C,columnVisibility:v,columnGroupsHeaderStructure:D,hasOtherElementInTabSequence:j});return r.jsxs(RA,w({},F,I(),{ref:s,children:[T(),k()]}))}),LA=Ro(GA);function BA(t){return null}function _A(t){return null}const VA=Xe(function(l,s){const c=Re().current.getLocaleText("noResultsOverlayLabel");return r.jsx(rg,w({},l,{ref:s,children:c}))}),UA=["sortingOrder"],$A=h.memo(function(l){const{sortingOrder:s}=l,i=Ee(l,UA),c=we(),[d]=s,g=d==="asc"?c.slots.columnSortedAscendingIcon:c.slots.columnSortedDescendingIcon;return g?r.jsx(g,w({},i)):null}),WA=["native"];function qA(t){let{native:l}=t,s=Ee(t,WA);return l?r.jsx("option",w({},s)):r.jsx(Ve,w({},s))}const YA={booleanCellTrueIcon:O2,booleanCellFalseIcon:rh,columnMenuIcon:I2,openFilterButtonIcon:w2,filterPanelDeleteIcon:rh,columnFilteredIcon:Yx,columnSelectorIcon:j2,columnUnsortedIcon:$A,columnSortedAscendingIcon:Ux,columnSortedDescendingIcon:$x,columnResizeIcon:M2,densityCompactIcon:E2,densityStandardIcon:D2,densityComfortableIcon:T2,exportIcon:z2,moreActionsIcon:k2,treeDataCollapseIcon:qx,treeDataExpandIcon:Wx,groupingCriteriaCollapseIcon:qx,groupingCriteriaExpandIcon:Wx,detailPanelExpandIcon:Kx,detailPanelCollapseIcon:F2,rowReorderIcon:Xx,quickFilterIcon:S2,quickFilterClearIcon:rh,columnMenuHideIcon:H2,columnMenuSortAscendingIcon:Ux,columnMenuSortDescendingIcon:$x,columnMenuFilterIcon:Yx,columnMenuManageColumnsIcon:P2,columnMenuClearIcon:R2,loadIcon:A2,filterPanelAddIcon:Kx,filterPanelRemoveAllIcon:N2,columnReorderIcon:Xx},KA=w({},YA,{baseBadge:Zw,baseCheckbox:Ph,baseDivider:Ah,baseTextField:_e,baseFormControl:Wa,baseSelect:$a,baseButton:xe,baseIconButton:$l,baseInputAdornment:IC,baseTooltip:fr,basePopper:kh,baseInputLabel:xi,baseSelectOption:qA,baseChip:Gt}),XA=w({},KA,{cell:KE,skeletonCell:oD,columnHeaderFilterIconButton:y2,columnHeaderSortIcon:x2,columnMenu:tT,columnHeaders:LA,detailPanels:BA,footer:uI,footerRowCount:MI,toolbar:null,pinnedRows:_A,loadingOverlay:pI,noResultsOverlay:VA,noRowsOverlay:bI,pagination:vI,filterPanel:AT,columnsPanel:aT,columnsManagement:HT,panel:dT,row:AI}),QA={disableMultipleColumnsFiltering:!0,disableMultipleColumnsSorting:!0,throttleRowsMs:void 0,hideFooterRowCount:!1,pagination:!0,checkboxSelectionVisibleOnly:!1,disableColumnReorder:!0,keepColumnPositionIfDraggedOutside:!1,signature:"DataGrid",unstable_listView:!1},ZA=XA,JA=t=>{const l=SC(),s=_E(h.useMemo(()=>Jw({props:t,theme:l,name:"MuiDataGrid"}),[l,t])),i=h.useMemo(()=>w({},JS,s.localeText),[s.localeText]),c=h.useMemo(()=>LE({defaultSlots:ZA,slots:s.slots}),[s.slots]),d=h.useMemo(()=>Object.keys(Dh).reduce((g,p)=>(g[p]=s[p]??Dh[p],g),{}),[s]);return h.useMemo(()=>w({},s,d,{localeText:i,slots:c},QA),[s,i,c,d])},ez={hooks:{useGridAriaAttributes:zI,useGridRowAriaAttributes:OI,useCellAggregationResult:()=>null}},my=Xe(function(l,s){const i=JA(l),c=FA(i.apiRef,i);return r.jsx(kI,{privateApiRef:c,configuration:ez,props:i,children:r.jsx(wD,w({className:i.className,style:i.style,sx:i.sx},i.forwardedProps,i.slotProps?.root,{ref:s}))})}),Zn=h.memo(my);my.propTypes={apiRef:ee.shape({current:ee.object.isRequired}),"aria-label":ee.string,"aria-labelledby":ee.string,autoHeight:ee.bool,autoPageSize:ee.bool,autosizeOnMount:ee.bool,autosizeOptions:ee.shape({columns:ee.arrayOf(ee.string),disableColumnVirtualization:ee.bool,expand:ee.bool,includeHeaders:ee.bool,includeOutliers:ee.bool,outliersFactor:ee.number}),cellModesModel:ee.object,checkboxSelection:ee.bool,classes:ee.object,clipboardCopyCellDelimiter:ee.string,columnBufferPx:ee.number,columnGroupHeaderHeight:ee.number,columnGroupingModel:ee.arrayOf(ee.object),columnHeaderHeight:ee.number,columns:ee.arrayOf(ee.object).isRequired,columnVisibilityModel:ee.object,density:ee.oneOf(["comfortable","compact","standard"]),disableAutosize:ee.bool,disableColumnFilter:ee.bool,disableColumnMenu:ee.bool,disableColumnResize:ee.bool,disableColumnSelector:ee.bool,disableColumnSorting:ee.bool,disableDensitySelector:ee.bool,disableEval:ee.bool,disableMultipleRowSelection:ee.bool,disableRowSelectionOnClick:ee.bool,disableVirtualization:ee.bool,editMode:ee.oneOf(["cell","row"]),estimatedRowCount:ee.number,experimentalFeatures:ee.shape({warnIfFocusStateIsNotSynced:ee.bool}),filterDebounceMs:ee.number,filterMode:ee.oneOf(["client","server"]),filterModel:ee.shape({items:ee.arrayOf(ee.shape({field:ee.string.isRequired,id:ee.oneOfType([ee.number,ee.string]),operator:ee.string.isRequired,value:ee.any})).isRequired,logicOperator:ee.oneOf(["and","or"]),quickFilterExcludeHiddenColumns:ee.bool,quickFilterLogicOperator:ee.oneOf(["and","or"]),quickFilterValues:ee.array}),forwardedProps:ee.object,getCellClassName:ee.func,getDetailPanelContent:ee.func,getEstimatedRowHeight:ee.func,getRowClassName:ee.func,getRowHeight:ee.func,getRowId:ee.func,getRowSpacing:ee.func,hideFooter:ee.bool,hideFooterPagination:ee.bool,hideFooterSelectedRowCount:ee.bool,ignoreDiacritics:ee.bool,ignoreValueFormatterDuringExport:ee.oneOfType([ee.shape({clipboardExport:ee.bool,csvExport:ee.bool}),ee.bool]),indeterminateCheckboxAction:ee.oneOf(["deselect","select"]),initialState:ee.object,isCellEditable:ee.func,isRowSelectable:ee.func,keepNonExistentRowsSelected:ee.bool,loading:ee.bool,localeText:ee.object,logger:ee.shape({debug:ee.func.isRequired,error:ee.func.isRequired,info:ee.func.isRequired,warn:ee.func.isRequired}),logLevel:ee.oneOf(["debug","error","info","warn",!1]),nonce:ee.string,onCellClick:ee.func,onCellDoubleClick:ee.func,onCellEditStart:ee.func,onCellEditStop:ee.func,onCellKeyDown:ee.func,onCellModesModelChange:ee.func,onClipboardCopy:ee.func,onColumnHeaderClick:ee.func,onColumnHeaderContextMenu:ee.func,onColumnHeaderDoubleClick:ee.func,onColumnHeaderEnter:ee.func,onColumnHeaderLeave:ee.func,onColumnHeaderOut:ee.func,onColumnHeaderOver:ee.func,onColumnOrderChange:ee.func,onColumnResize:ee.func,onColumnVisibilityModelChange:ee.func,onColumnWidthChange:ee.func,onDensityChange:ee.func,onFilterModelChange:ee.func,onMenuClose:ee.func,onMenuOpen:ee.func,onPaginationMetaChange:ee.func,onPaginationModelChange:ee.func,onPreferencePanelClose:ee.func,onPreferencePanelOpen:ee.func,onProcessRowUpdateError:ee.func,onResize:ee.func,onRowClick:ee.func,onRowCountChange:ee.func,onRowDoubleClick:ee.func,onRowEditStart:ee.func,onRowEditStop:ee.func,onRowModesModelChange:ee.func,onRowSelectionModelChange:ee.func,onSortModelChange:ee.func,onStateChange:ee.func,pageSizeOptions:ee.arrayOf(ee.oneOfType([ee.number,ee.shape({label:ee.string.isRequired,value:ee.number.isRequired})]).isRequired),pagination:ee.oneOf([!0]),paginationMeta:ee.shape({hasNextPage:ee.bool}),paginationMode:ee.oneOf(["client","server"]),paginationModel:ee.shape({page:ee.number.isRequired,pageSize:ee.number.isRequired}),processRowUpdate:ee.func,resetPageOnSortFilter:ee.bool,resizeThrottleMs:ee.number,rowBufferPx:ee.number,rowCount:ee.number,rowHeight:ee.number,rowModesModel:ee.object,rowPositionsDebounceMs:ee.number,rows:ee.arrayOf(ee.object),rowSelection:ee.bool,rowSelectionModel:ee.oneOfType([ee.arrayOf(ee.oneOfType([ee.number,ee.string]).isRequired),ee.number,ee.string]),rowSpacingType:ee.oneOf(["border","margin"]),scrollbarSize:ee.number,showCellVerticalBorder:ee.bool,showColumnVerticalBorder:ee.bool,slotProps:ee.object,slots:ee.object,sortingMode:ee.oneOf(["client","server"]),sortingOrder:ee.arrayOf(ee.oneOf(["asc","desc"])),sortModel:ee.arrayOf(ee.shape({field:ee.string.isRequired,sort:ee.oneOf(["asc","desc"])})),sx:ee.oneOfType([ee.arrayOf(ee.oneOfType([ee.func,ee.object,ee.bool])),ee.func,ee.object]),unstable_rowSpanning:ee.bool,virtualizeColumnsWithAutoRowHeight:ee.bool};const tz=[{value:"uid",label:"UID (Unique ID)"},{value:"parentUid",label:"Parent UID"},{value:"description",label:"Service Description"},{value:"tower",label:"Tower"},{value:"budgetHead",label:"Budget Head"},{value:"vendor",label:"Vendor Name"},{value:"startDate",label:"Start Date"},{value:"endDate",label:"End Date"},{value:"renewalDate",label:"Renewal Date"},{value:"contractId",label:"Contract/PO ID"},{value:"poEntity",label:"PO Entity"},{value:"allocationBasis",label:"Allocation Basis"},{value:"allocationType",label:"Allocation Type"},{value:"serviceType",label:"Service Type"},{value:"initiativeType",label:"Initiative Type"},{value:"priority",label:"Priority"},{value:"total",label:"Total Budget"},{value:"month_Apr",label:"April"},{value:"month_May",label:"May"},{value:"month_Jun",label:"June"},{value:"month_Jul",label:"July"},{value:"month_Aug",label:"August"},{value:"month_Sep",label:"September"},{value:"month_Oct",label:"October"},{value:"month_Nov",label:"November"},{value:"month_Dec",label:"December"},{value:"month_Jan",label:"January"},{value:"month_Feb",label:"February"},{value:"month_Mar",label:"March"}],nz=({open:t,onClose:l,onSuccess:s})=>{const[i,c]=h.useState(null),[d,g]=h.useState(!1),[p,m]=h.useState(null),[x,b]=h.useState(null),[C,v]=h.useState(0),[D,j]=h.useState({}),F=_=>{const U=_.target.files[0];U&&(c(U),m(null),b(null))},I=_=>{_.preventDefault()},k=_=>{_.preventDefault();const U=_.dataTransfer.files[0];U&&(c(U),m(null),b(null))},T=async(_=D)=>{if(i){g(!0),b(null);try{const U=new FormData;U.append("file",i),U.append("dryRun","true"),U.append("customMapping",JSON.stringify(_));const A=localStorage.getItem("token"),E=await Wr.post("/api/budgets/import",U,{headers:{Authorization:`Bearer ${A}`,"Content-Type":"multipart/form-data"}});m(E.data),(C===0||C===1)&&(Object.keys(_).length===0&&E.data.headerMapping?.fieldMap&&j(E.data.headerMapping.fieldMap),v(B=>B+1))}catch(U){b(U.response?.data?.message||"Error processing file")}finally{g(!1)}}},z=async()=>{if(i){g(!0),b(null);try{const _=new FormData;_.append("file",i),_.append("dryRun","false"),_.append("customMapping",JSON.stringify(D));const U=localStorage.getItem("token"),A=await Wr.post("/api/budgets/import",_,{headers:{Authorization:`Bearer ${U}`,"Content-Type":"multipart/form-data"}});s(A.data),R()}catch(_){b(_.response?.data?.message||"Error importing data")}finally{g(!1)}}},V=()=>{if(!p?.report?.rejected)return;const _=[["Row","UID","Errors"].join(","),...p.report.rejected.map(B=>[B.rowIndex,B.uid||"N/A",B.errors.join("; ")].join(","))].join(`
`),U=new Blob([_],{type:"text/csv"}),A=window.URL.createObjectURL(U),E=document.createElement("a");E.href=A,E.download="rejected_rows.csv",E.click(),window.URL.revokeObjectURL(A)},R=()=>{c(null),m(null),b(null),v(0),j({}),l()},$=(_,U)=>{j(A=>({...A,[_]:U}))};return r.jsxs(Dn,{open:t,onClose:R,maxWidth:"lg",fullWidth:!0,children:[r.jsx(Tn,{children:r.jsxs(ie,{display:"flex",justifyContent:"space-between",alignItems:"center",children:[r.jsx(pe,{variant:"h6",children:"Import Budget Data"}),r.jsx($l,{onClick:R,size:"small",children:r.jsx(eS,{})})]})}),r.jsxs(In,{dividers:!0,children:[d&&r.jsx(Hh,{sx:{mb:2}}),r.jsxs(tS,{activeStep:C,sx:{mb:4},children:[r.jsx(Wf,{children:r.jsx(qf,{children:"Upload"})}),r.jsx(Wf,{children:r.jsx(qf,{children:"Field Mapping"})}),r.jsx(Wf,{children:r.jsx(qf,{children:"Preview"})})]}),x&&r.jsx(cn,{severity:"error",sx:{mb:2},children:x}),C===0&&r.jsxs(ie,{onDragOver:I,onDrop:k,sx:{border:"2px dashed",borderColor:i?"primary.main":"grey.300",borderRadius:2,p:6,textAlign:"center",backgroundColor:i?"primary.50":"grey.50",cursor:"pointer",transition:"all 0.3s ease","&:hover":{borderColor:"primary.main",backgroundColor:"primary.50"}},children:[r.jsx("input",{type:"file",accept:".xlsx,.xls",onChange:F,style:{display:"none"},id:"file-upload"}),r.jsxs("label",{htmlFor:"file-upload",style:{cursor:"pointer"},children:[r.jsx(ph,{sx:{fontSize:64,color:"primary.main",mb:2}}),r.jsx(pe,{variant:"h6",gutterBottom:!0,children:i?i.name:"Drop Excel file here or click to browse"}),r.jsx(pe,{variant:"body2",color:"text.secondary",children:"Please upload the budget Excel file with header row."}),i&&r.jsxs(pe,{variant:"caption",color:"primary",sx:{display:"block",mt:1},children:["File selected: ",(i.size/1024).toFixed(1)," KB"]})]})]}),C===1&&p&&r.jsxs(ie,{children:[r.jsx(pe,{variant:"subtitle1",gutterBottom:!0,fontWeight:"bold",children:"Map Excel Headers to Application Fields"}),r.jsx(pe,{variant:"body2",color:"text.secondary",sx:{mb:3},children:"We detected the following headers in your Excel file. Please verify or adjust the mapping."}),r.jsx(Rn,{component:nt,variant:"outlined",sx:{maxHeight:400},children:r.jsxs(Nn,{size:"small",stickyHeader:!0,children:[r.jsx(Gn,{children:r.jsxs(it,{children:[r.jsx(ue,{sx:{fontWeight:"bold",width:"40%"},children:"Excel Header"}),r.jsx(ue,{sx:{fontWeight:"bold",width:"50%"},children:"Application Field"}),r.jsx(ue,{sx:{fontWeight:"bold",width:"10%"},children:"Status"})]})}),r.jsx(Ln,{children:p.headerMapping.rawHeaders.map((_,U)=>r.jsxs(it,{hover:!0,children:[r.jsx(ue,{children:r.jsx(pe,{variant:"body2",children:_})}),r.jsx(ue,{children:r.jsx(Wa,{fullWidth:!0,size:"small",children:r.jsxs($a,{value:D[_]||"",onChange:A=>$(_,A.target.value),displayEmpty:!0,children:[r.jsx(Ve,{value:"",children:r.jsx("em",{children:"Skip this column"})}),r.jsx(Ah,{}),tz.map(A=>r.jsx(Ve,{value:A.value,children:A.label},A.value))]})})}),r.jsx(ue,{children:D[_]?r.jsx(gi,{color:"success",fontSize:"small"}):r.jsx(fr,{title:"This column will be ignored",children:r.jsx(Rh,{color:"action",fontSize:"small"})})})]},U))})]})})]}),C===2&&p&&r.jsxs(ie,{children:[r.jsxs(wt,{container:!0,spacing:2,sx:{mb:3},children:[r.jsx(wt,{item:!0,xs:12,sm:4,children:r.jsxs(nt,{variant:"outlined",sx:{p:2,textAlign:"center",bgcolor:"grey.50"},children:[r.jsx(pe,{variant:"caption",color:"text.secondary",children:"Total Rows"}),r.jsx(pe,{variant:"h5",children:p.report.totalRows})]})}),r.jsx(wt,{item:!0,xs:12,sm:4,children:r.jsxs(nt,{variant:"outlined",sx:{p:2,textAlign:"center",bgcolor:"success.50"},children:[r.jsx(pe,{variant:"caption",color:"success.main",children:"Accepted"}),r.jsx(pe,{variant:"h5",color:"success.main",children:p.report.accepted.length})]})}),r.jsx(wt,{item:!0,xs:12,sm:4,children:r.jsxs(nt,{variant:"outlined",sx:{p:2,textAlign:"center",bgcolor:"error.50"},children:[r.jsx(pe,{variant:"caption",color:"error.main",children:"Rejected"}),r.jsx(pe,{variant:"h5",color:"error.main",children:p.report.rejected.length})]})})]}),p.report.rejected.length>0&&r.jsxs(ie,{sx:{mb:4},children:[r.jsxs(ie,{display:"flex",justifyContent:"space-between",alignItems:"center",mb:1,children:[r.jsx(pe,{variant:"subtitle2",color:"error",fontWeight:"bold",children:"Rejected Rows (Review requested)"}),r.jsx(xe,{size:"small",startIcon:r.jsx(FC,{}),onClick:V,color:"error",children:"Download All Errors"})]}),r.jsx(Rn,{component:nt,variant:"outlined",sx:{maxHeight:250},children:r.jsxs(Nn,{size:"small",stickyHeader:!0,children:[r.jsx(Gn,{children:r.jsxs(it,{children:[r.jsx(ue,{children:"Row"}),r.jsx(ue,{children:"UID"}),r.jsx(ue,{children:"Errors"})]})}),r.jsx(Ln,{children:p.report.rejected.slice(0,10).map((_,U)=>r.jsxs(it,{children:[r.jsx(ue,{children:_.rowIndex}),r.jsx(ue,{children:_.uid||"N/A"}),r.jsx(ue,{children:_.errors.map((A,E)=>r.jsx(Gt,{label:A,size:"small",color:"error",variant:"outlined",sx:{mr:.5,mb:.5}},E))})]},U))})]})})]}),p.report.accepted.length>0&&r.jsxs(ie,{children:[r.jsx(pe,{variant:"subtitle2",color:"success.main",fontWeight:"bold",gutterBottom:!0,children:"Summary of Accepted Rows"}),r.jsx(Rn,{component:nt,variant:"outlined",sx:{maxHeight:250},children:r.jsxs(Nn,{size:"small",stickyHeader:!0,children:[r.jsx(Gn,{children:r.jsxs(it,{children:[r.jsx(ue,{children:"UID"}),r.jsx(ue,{children:"Description"}),r.jsx(ue,{align:"right",children:"Amount"}),r.jsx(ue,{children:"Vendor"}),r.jsx(ue,{children:"Status"})]})}),r.jsx(Ln,{children:p.report.accepted.slice(0,5).map((_,U)=>r.jsxs(it,{children:[r.jsx(ue,{children:_.uid}),r.jsx(ue,{sx:{maxWidth:200,overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},children:_.description}),r.jsx(ue,{align:"right",children:_.totalBudget?.toLocaleString()}),r.jsx(ue,{children:_.vendor||"-"}),r.jsx(ue,{children:r.jsx(Gt,{label:"OK",size:"small",color:"success",variant:"outlined"})})]},U))})]})})]})]})]}),r.jsxs(Fn,{sx:{px:3,py:2,bgcolor:"grey.50"},children:[r.jsx(xe,{onClick:R,disabled:d,children:"Cancel"}),C>0&&r.jsx(xe,{disabled:d,onClick:()=>v(_=>_-1),variant:"outlined",children:"Back"}),C===0&&r.jsx(xe,{variant:"contained",onClick:()=>T({}),disabled:!i||d,startIcon:r.jsx(gi,{}),children:"Initialize Mapping"}),C===1&&r.jsx(xe,{variant:"contained",onClick:()=>T(D),disabled:d,startIcon:r.jsx(gi,{}),children:"Update Preview"}),C===2&&r.jsxs(xe,{variant:"contained",onClick:z,disabled:d||p.report.accepted.length===0,startIcon:r.jsx(ph,{}),color:"success",children:["Commit Import (",p.report.accepted.length," rows)"]})]})]})},Zr=({open:t,onClose:l,onExport:s})=>{const[i,c]=Gh.useState("xlsx"),d=()=>{s(i),l()};return r.jsxs(Dn,{open:t,onClose:l,maxWidth:"xs",fullWidth:!0,children:[r.jsx(Tn,{children:"Export Data"}),r.jsx(In,{children:r.jsxs(ie,{sx:{pt:1},children:[r.jsx(pe,{width:"100%",gutterBottom:!0,children:"Please select the export format:"}),r.jsxs(nS,{value:i,onChange:g=>c(g.target.value),children:[r.jsx(bi,{value:"xlsx",control:r.jsx(ax,{}),label:"Excel Workbook (.xlsx)"}),r.jsx(bi,{value:"csv",control:r.jsx(ax,{}),label:"CSV (.csv)"})]})]})}),r.jsxs(Fn,{children:[r.jsx(xe,{onClick:l,children:"Cancel"}),r.jsx(xe,{onClick:d,variant:"contained",startIcon:r.jsx(xr,{}),color:"primary",children:"Export"})]})]})},ri=t=>t?new Date(t).toLocaleDateString("en-GB",{day:"2-digit",month:"short",year:"numeric"}).replace(/ /g,"-"):"-",dh=t=>t==null?"-":new Intl.NumberFormat("en-IN",{style:"currency",currency:"INR",maximumFractionDigits:0}).format(t),lz=()=>{const[t,l]=h.useState([]),[s,i]=h.useState(0),[c,d]=h.useState({page:0,pageSize:25}),[g,p]=h.useState(!0),[m,x]=h.useState(!1),[b,C]=h.useState(!1),[v,D]=h.useState(!1),[j,F]=h.useState({open:!1,message:"",severity:"success"}),[I,k]=h.useState([]),[T,z]=h.useState({uid:"",vendor_id:""}),[V,R]=h.useState(()=>{const M=localStorage.getItem("budgetListColumnVisibility");return M?JSON.parse(M):{}});h.useEffect(()=>{$(),_()},[c]);const $=async()=>{p(!0);try{const{page:M,pageSize:L}=c,q=await je.get(`/budgets/tracker?page=${M}&pageSize=${L}`);q.rows&&typeof q.totalRowCount=="number"?(l(q.rows),i(q.totalRowCount)):(l(q),i(q.length))}catch(M){console.error("Error fetching budgets:",M),E("Error fetching budget data","error")}finally{p(!1)}},_=async()=>{try{const M=await je.get("/master/vendors");k(M)}catch(M){console.error("Error fetching master data:",M)}},U=M=>{const{name:L,value:q}=M.target;z(Y=>({...Y,[L]:q}))},A=async()=>{try{await je.post("/budgets",T),E("Line item added successfully","success"),x(!1),z({uid:"",vendor_id:""}),$()}catch(M){console.error("Error adding line item:",M),E("Error adding line item","error")}},E=(M,L)=>{F({open:!0,message:M,severity:L})},B=async M=>{try{if(M==="xlsx"){const L=await je.get("/budgets/export?template=upload",{responseType:"blob"}),q=window.URL.createObjectURL(new Blob([L])),Y=document.createElement("a");Y.href=q,Y.setAttribute("download","budget_export.xlsx"),document.body.appendChild(Y),Y.click(),Y.remove()}else{const L=t.map(re=>({FY:re.fiscal_year_name||"FY25",UID:re.uid,Vendor:re.vendor_name,"Service Description":re.service_description,Contract:re.contract_id,"Start Date":ri(re.service_start_date),"End Date":ri(re.service_end_date),"Budget Head":re.budget_head_name,Tower:re.tower_name,Budget:re.fy25_budget})),q=un.json_to_sheet(L),Y=un.sheet_to_csv(q),W=new Blob([Y],{type:"text/csv;charset=utf-8;"}),Q=URL.createObjectURL(W),le=document.createElement("a");le.setAttribute("href",Q),le.setAttribute("download","budget_export_page.csv"),le.style.visibility="hidden",document.body.appendChild(le),le.click(),document.body.removeChild(le),E("Exported current page to CSV","success")}}catch(L){console.error("Export error:",L),E("Error exporting data","error")}},N=h.useCallback(M=>{R(M),localStorage.setItem("budgetListColumnVisibility",JSON.stringify(M))},[]),O=async(M,L)=>{try{const q={...M};return await je.put(`/budgets/line-items/${M.id}`,q),E("Row updated successfully","success"),M}catch(q){return console.error("Update error:",q),E("Error updating row: "+(q.message||"Unknown error"),"error"),L}},K=M=>{E("Error processing row update","error"),console.error("Process row update error:",M)},G=h.useMemo(()=>{const M=new Set;return t.forEach(L=>{L.customFields&&Object.keys(L.customFields).forEach(q=>M.add(q))}),Array.from(M).map(L=>({field:`custom_${L}`,headerName:L,width:150,editable:!0,valueGetter:(q,Y)=>Y.customFields?.[L]}))},[t]),S=h.useMemo(()=>[{field:"fiscal_year_name",headerName:"FY",width:90,valueGetter:(M,L)=>L?.fiscal_year_name||"FY25"},{field:"uid",headerName:"UID",width:150,editable:!0},{field:"parent_uid",headerName:"Parent UID",width:150,editable:!0},{field:"vendor_name",headerName:"Vendor",width:180},{field:"service_description",headerName:"Service Description",width:250,editable:!0},{field:"contract_id",headerName:"Contract",width:120,editable:!0},{field:"service_start_date",headerName:"Service Start Date",width:130,valueFormatter:M=>ri(M),type:"date",valueGetter:M=>M?new Date(M):null,editable:!0},{field:"service_end_date",headerName:"Service End Date",width:130,valueFormatter:M=>ri(M),type:"date",valueGetter:M=>M?new Date(M):null,editable:!0},{field:"renewal_date",headerName:"Renewal Date",width:130,valueFormatter:M=>ri(M),type:"date",valueGetter:M=>M?new Date(M):null,editable:!0},{field:"budget_head_name",headerName:"Budget Head",width:150},{field:"tower_name",headerName:"Tower",width:120},{field:"po_entity_name",headerName:"PO Entity",width:120},{field:"allocation_type",headerName:"Allocation Type",width:150,editable:!0},{field:"allocation_basis_name",headerName:"Allocation Basis",width:150},{field:"initiative_type",headerName:"Initiative Type",width:150,editable:!0},{field:"service_type_name",headerName:"Service Type",width:150},{field:"priority",headerName:"Priority",width:120,editable:!0},{field:"cost_optimization_lever",headerName:"Cost Opt. Lever",width:180,editable:!0},...G,{field:"fy25_budget",headerName:"FY25 Budget",width:140,type:"number",valueFormatter:M=>M==null?"-":dh(M)},{field:"total_actual",headerName:"Actual",width:140,type:"number",valueFormatter:M=>M==null?"-":dh(M)},{field:"variance",headerName:"Variance",width:140,type:"number",valueGetter:(M,L)=>{const q=L?.fy25_budget||0,Y=L?.total_actual||0;return q-Y},valueFormatter:M=>M==null?"-":dh(M),cellClassName:M=>M.value<0?"variance-negative":"variance-positive"},{field:"remarks",headerName:"Remarks",width:200,editable:!0}],[G]);return g&&t.length===0?r.jsx(ie,{sx:{display:"flex",justifyContent:"center",alignItems:"center",height:"80vh"},children:r.jsx(Bn,{})}):r.jsxs(ie,{sx:tl,children:[r.jsxs(ie,{sx:Yl,children:[r.jsx(pe,{sx:Kl,children:"Net Budget"}),r.jsxs(ie,{sx:{display:"flex",gap:1},children:[r.jsx(xe,{variant:"outlined",color:"success",startIcon:r.jsx(xr,{}),onClick:()=>D(!0),children:"Export"}),r.jsx(xe,{variant:"outlined",startIcon:r.jsx(AC,{}),onClick:()=>C(!0),children:"Upload Budget"}),r.jsx(xe,{variant:"contained",startIcon:r.jsx(Xn,{}),onClick:()=>x(!0),children:"Add Line Item"})]})]}),r.jsx(nt,{elevation:0,sx:{width:"100%",height:600,border:"1px solid #d0d7de",borderRadius:"6px"},children:r.jsx(Zn,{rows:t,columns:S,getRowId:M=>M.id||M.tempId||Math.random(),columnVisibilityModel:V,onColumnVisibilityModelChange:N,processRowUpdate:O,onProcessRowUpdateError:K,rowCount:s,loading:g,pageSizeOptions:[25,50,100],paginationModel:c,paginationMode:"server",onPaginationModelChange:d,checkboxSelection:!0,disableRowSelectionOnClick:!0,density:"compact",slots:{toolbar:Qn},sx:{fontSize:"9px","& .MuiDataGrid-columnHeaders":{backgroundColor:"#f6f8fa",color:"#24292f",fontWeight:"bold",fontSize:"9px"},"& .MuiDataGrid-cell":{borderRight:"1px solid #e0e0e0",fontSize:"9px"},"& .MuiDataGrid-row:hover":{backgroundColor:"#f5f5f5"},"& .variance-positive":{color:"#2e7d32",fontWeight:"bold"},"& .variance-negative":{color:"#d32f2f",fontWeight:"bold"}}})}),r.jsxs(Dn,{open:m,onClose:()=>x(!1),maxWidth:"md",fullWidth:!0,children:[r.jsx(Tn,{children:"Add New Line Item"}),r.jsx(In,{dividers:!0,children:r.jsxs(wt,{container:!0,spacing:2,children:[r.jsx(wt,{item:!0,xs:12,sm:6,children:r.jsx(_e,{fullWidth:!0,size:"small",label:"UID",name:"uid",value:T.uid,onChange:U})}),r.jsx(wt,{item:!0,xs:12,sm:6,children:r.jsx(_e,{fullWidth:!0,size:"small",select:!0,label:"Vendor",name:"vendor_id",value:T.vendor_id,onChange:U,children:I.map(M=>r.jsx(Ve,{value:M.id,children:M.name},M.id))})}),r.jsx(wt,{item:!0,xs:12,children:r.jsx(pe,{variant:"caption",children:"Form simplified for stability. Use Edit for more details."})})]})}),r.jsxs(Fn,{children:[r.jsx(xe,{onClick:()=>x(!1),children:"Cancel"}),r.jsx(xe,{onClick:A,variant:"contained",children:"Add"})]})]}),r.jsx(nz,{open:b,onClose:()=>C(!1),onSuccess:()=>{$(),E("Budget imported successfully","success")}}),r.jsx(Zr,{open:v,onClose:()=>D(!1),onExport:B}),r.jsx(Mi,{open:j.open,autoHideDuration:6e3,onClose:()=>F(M=>({...M,open:!1})),children:r.jsx(cn,{severity:j.severity,children:j.message})})]})},ai=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],oz=({lineItems:t,onUpdate:l})=>{const[s,i]=h.useState(null),[c,d]=h.useState({}),[g,p]=h.useState(!1),m=I=>{i(I.id);const k={};ai.forEach(T=>{const z=I.months?.find(V=>V.month===T);k[T]=z?parseFloat(z.amount):0}),d({...I,monthData:k})},x=()=>{i(null),d({})},b=(I,k)=>{const T=parseFloat(k)||0;d(z=>({...z,monthData:{...z.monthData,[I]:T}}))},C=I=>Object.values(I).reduce((k,T)=>k+(parseFloat(T)||0),0),v=async()=>{p(!0);try{const I=localStorage.getItem("token");await Wr.put(`/api/line-items/${s}/months`,{monthlyData:c.monthData},{headers:{Authorization:`Bearer ${I}`}}),l(),i(null),d({})}catch(I){console.error("Error saving:",I),alert("Error saving changes")}finally{p(!1)}},D=I=>{const k={};ai.forEach(z=>{const V=I.months?.find(R=>R.month===z);k[z]=V?parseFloat(V.amount):0});const T=[I.uid,I.description,...ai.map(z=>k[z]),C(k)].join("	");navigator.clipboard.writeText(T)},j=(I,k)=>{if(s===I.id)return c.monthData?.[k]||0;const T=I.months?.find(z=>z.month===k);return T?parseFloat(T.amount):0},F=I=>s===I.id?C(c.monthData||{}):parseFloat(I.totalBudget)||0;return r.jsx(Rn,{component:nt,sx:{maxHeight:600,overflow:"auto"},children:r.jsxs(Nn,{stickyHeader:!0,size:"small",children:[r.jsx(Gn,{children:r.jsxs(it,{children:[r.jsx(ue,{sx:{fontWeight:600,backgroundColor:"primary.main",color:"white",position:"sticky",left:0,zIndex:3},children:"Actions"}),r.jsx(ue,{sx:{fontWeight:600,backgroundColor:"primary.main",color:"white",position:"sticky",left:80,zIndex:3,minWidth:150},children:"UID"}),r.jsx(ue,{sx:{fontWeight:600,backgroundColor:"primary.main",color:"white",position:"sticky",left:230,zIndex:3,minWidth:200},children:"Description"}),r.jsx(ue,{sx:{fontWeight:600,backgroundColor:"primary.main",color:"white",minWidth:120},children:"Tower"}),r.jsx(ue,{sx:{fontWeight:600,backgroundColor:"primary.main",color:"white",minWidth:120},children:"Budget Head"}),ai.map(I=>r.jsx(ue,{sx:{fontWeight:600,backgroundColor:"primary.main",color:"white",minWidth:100,textAlign:"right"},children:I},I)),r.jsx(ue,{sx:{fontWeight:600,backgroundColor:"success.main",color:"white",minWidth:120,textAlign:"right"},children:"Total"})]})}),r.jsx(Ln,{children:t.map(I=>{const k=s===I.id,T=F(I);return r.jsxs(it,{sx:{backgroundColor:k?"action.selected":"inherit","&:hover":{backgroundColor:"action.hover"}},children:[r.jsx(ue,{sx:{position:"sticky",left:0,backgroundColor:"inherit",zIndex:2},children:k?r.jsxs(ie,{sx:{display:"flex",gap:.5},children:[r.jsx(fr,{title:"Save",children:r.jsx($l,{size:"small",color:"success",onClick:v,disabled:g,children:g?r.jsx(Bn,{size:20}):r.jsx(Su,{fontSize:"small"})})}),r.jsx(fr,{title:"Cancel",children:r.jsx($l,{size:"small",color:"error",onClick:x,children:r.jsx(Nh,{fontSize:"small"})})})]}):r.jsxs(ie,{sx:{display:"flex",gap:.5},children:[r.jsx(fr,{title:"Edit",children:r.jsx($l,{size:"small",onClick:()=>m(I),children:r.jsx(Jn,{fontSize:"small"})})}),r.jsx(fr,{title:"Copy Row",children:r.jsx($l,{size:"small",onClick:()=>D(I),children:r.jsx(lS,{fontSize:"small"})})})]})}),r.jsx(ue,{sx:{position:"sticky",left:80,backgroundColor:"inherit",zIndex:2,fontWeight:500},children:I.uid}),r.jsx(ue,{sx:{position:"sticky",left:230,backgroundColor:"inherit",zIndex:2},children:I.description}),r.jsx(ue,{children:I.tower?.name||"-"}),r.jsx(ue,{children:I.budgetHead?.name||"-"}),ai.map(z=>{const V=j(I,z);return r.jsx(ue,{sx:{textAlign:"right"},children:k?r.jsx(_e,{type:"number",value:V,onChange:R=>b(z,R.target.value),size:"small",sx:{width:90,"& input":{textAlign:"right"}},inputProps:{step:.01}}):r.jsx(pe,{variant:"body2",children:V>0?V.toLocaleString("en-IN",{minimumFractionDigits:2}):"-"})},z)}),r.jsx(ue,{sx:{textAlign:"right",fontWeight:600,backgroundColor:"success.50"},children:r.jsx(Gt,{label:T.toLocaleString("en-IN",{minimumFractionDigits:2}),color:"success",size:"small",variant:k?"filled":"outlined"})})]},I.id)})})]})})},rz=()=>{const[t,l]=h.useState([]),[s,i]=h.useState(!0),[c,d]=h.useState(null),[g,p]=h.useState({tower:"",budgetHead:"",fiscalYear:""}),[m,x]=h.useState([]),[b,C]=h.useState([]);h.useEffect(()=>{v(),D()},[]);const v=async()=>{try{const[F,I]=await Promise.all([je.get("/master/towers"),je.get("/master/budget-heads")]);x(F),C(I)}catch(F){console.error("Error fetching master data:",F)}},D=async()=>{i(!0),d(null);try{const F=await je.get("/line-items",{params:{include_months:!0,...g}});l(F)}catch(F){console.error("Error fetching line items:",F),d("Failed to load budget data")}finally{i(!1)}},j=async()=>{try{const F=await je.get("/budgets/export?template=upload",{responseType:"blob"}),I=window.URL.createObjectURL(new Blob([F])),k=document.createElement("a");k.href=I,k.setAttribute("download",`budget_monthly_${new Date().toISOString().split("T")[0]}.xlsx`),document.body.appendChild(k),k.click(),k.remove()}catch(F){console.error("Error exporting:",F),alert("Failed to export data")}};return s?r.jsx(ie,{sx:{...tl,display:"flex",justifyContent:"center",alignItems:"center"},children:r.jsx(Bn,{})}):r.jsxs(ie,{sx:{...tl,...uo},children:[r.jsxs(ie,{sx:Yl,children:[r.jsxs(ie,{children:[r.jsx(pe,{sx:Kl,children:"Monthly Budget Editor"}),r.jsx(pe,{variant:"body2",color:"text.secondary",children:"Edit monthly budget allocations with Excel-like interface"})]}),r.jsxs(ie,{sx:{display:"flex",gap:1},children:[r.jsx(xe,{variant:"outlined",startIcon:r.jsx(wC,{}),onClick:D,children:"Refresh"}),r.jsx(xe,{variant:"outlined",startIcon:r.jsx(FC,{}),onClick:j,color:"success",children:"Export"})]})]}),r.jsxs(ie,{sx:{mb:3,display:"flex",gap:2,flexWrap:"wrap"},children:[r.jsxs(Wa,{size:"small",sx:{minWidth:200},children:[r.jsx(xi,{children:"Tower"}),r.jsxs($a,{value:g.tower,onChange:F=>p({...g,tower:F.target.value}),label:"Tower",children:[r.jsx(Ve,{value:"",children:"All"}),m.map(F=>r.jsx(Ve,{value:F.id,children:F.name},F.id))]})]}),r.jsxs(Wa,{size:"small",sx:{minWidth:200},children:[r.jsx(xi,{children:"Budget Head"}),r.jsxs($a,{value:g.budgetHead,onChange:F=>p({...g,budgetHead:F.target.value}),label:"Budget Head",children:[r.jsx(Ve,{value:"",children:"All"}),b.map(F=>r.jsx(Ve,{value:F.id,children:F.name},F.id))]})]}),r.jsx(xe,{variant:"contained",onClick:D,size:"small",children:"Apply Filters"})]}),c&&r.jsx(cn,{severity:"error",sx:{mb:2},children:c}),r.jsxs(ie,{sx:{mb:2,display:"flex",gap:2},children:[r.jsx(Gt,{label:`Total Line Items: ${t.length}`,color:"primary",variant:"outlined"}),r.jsx(Gt,{label:`Total Budget: ${t.reduce((F,I)=>F+parseFloat(I.totalBudget||0),0).toLocaleString("en-IN")}`,color:"success",variant:"outlined"})]}),t.length>0?r.jsx(oz,{lineItems:t,onUpdate:D}):r.jsx(cn,{severity:"info",children:"No line items found. Try adjusting your filters or import budget data."})]})},az=({value:t,data:l,onRefresh:s})=>{const{lineItem:i,monthlyActuals:c,variance:d,auditHistory:g}=l,{token:p}=fl(),[m,x]=h.useState(!1),[b,C]=h.useState(""),[v,D]=h.useState(null),j=async()=>{try{await Wr.post(`/api/api/budget-detail/${i.uid}/notes`,{note:b,actualId:v},{headers:{Authorization:`Bearer ${p}`}}),x(!1),C(""),D(null),s()}catch(I){console.error("Error adding note:",I),alert("Failed to add note")}},F=(I=null)=>{D(I),x(!0)};if(t===0){const I=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];return r.jsx(Rn,{children:r.jsxs(Nn,{size:"small",children:[r.jsx(Gn,{children:r.jsxs(it,{sx:{bgcolor:"#f5f5f5"},children:[r.jsx(ue,{children:"Month"}),r.jsx(ue,{align:"right",children:"Budget"}),r.jsx(ue,{align:"right",children:"Actuals"}),r.jsx(ue,{align:"right",children:"Variance"}),r.jsx(ue,{align:"center",children:"%"}),r.jsx(ue,{align:"center",children:"Status"})]})}),r.jsxs(Ln,{children:[I.map(k=>{const T=d.monthly[k]||{budget:0,actual:0,variance:0,variancePercentage:0};return r.jsxs(it,{hover:!0,children:[r.jsx(ue,{component:"th",scope:"row",sx:{fontWeight:500},children:k}),r.jsx(ue,{align:"right",children:new Intl.NumberFormat("en-IN").format(T.budget)}),r.jsx(ue,{align:"right",children:new Intl.NumberFormat("en-IN").format(T.actual)}),r.jsx(ue,{align:"right",sx:{color:T.variance<0?"error.main":"success.main",fontWeight:500},children:new Intl.NumberFormat("en-IN").format(T.variance)}),r.jsx(ue,{align:"center",children:T.budget>0?`${T.variancePercentage.toFixed(1)}%`:"-"}),r.jsx(ue,{align:"center",children:T.actual>T.budget&&T.budget>0?r.jsx(Gt,{label:"Over Budget",color:"error",size:"small",variant:"outlined"}):T.actual>0?r.jsx(Gt,{label:"On Track",color:"success",size:"small",variant:"outlined"}):r.jsx(Gt,{label:"Pending",size:"small",variant:"outlined"})})]},k)}),r.jsxs(it,{sx:{bgcolor:"#e3f2fd"},children:[r.jsx(ue,{sx:{fontWeight:700},children:"Total"}),r.jsx(ue,{align:"right",sx:{fontWeight:700},children:new Intl.NumberFormat("en-IN").format(d.cumulative.budget)}),r.jsx(ue,{align:"right",sx:{fontWeight:700},children:new Intl.NumberFormat("en-IN").format(d.cumulative.actual)}),r.jsx(ue,{align:"right",sx:{fontWeight:700,color:d.cumulative.variance<0?"error.main":"success.main"},children:new Intl.NumberFormat("en-IN").format(d.cumulative.variance)}),r.jsxs(ue,{align:"center",sx:{fontWeight:700},children:[d.cumulative.variancePercentage.toFixed(1),"%"]}),r.jsx(ue,{})]})]})]})})}return t===1?r.jsx(ie,{children:i.pos&&i.pos.length>0?r.jsx(Rn,{children:r.jsxs(Nn,{children:[r.jsx(Gn,{children:r.jsxs(it,{sx:{bgcolor:"#f5f5f5"},children:[r.jsx(ue,{children:"PO Number"}),r.jsx(ue,{children:"Date"}),r.jsx(ue,{children:"Vendor"}),r.jsx(ue,{align:"right",children:"Value"}),r.jsx(ue,{children:"Status"})]})}),r.jsx(Ln,{children:i.pos.map(I=>r.jsxs(it,{hover:!0,children:[r.jsx(ue,{sx:{fontWeight:500},children:I.poNumber}),r.jsx(ue,{children:new Date(I.poDate).toLocaleDateString()}),r.jsx(ue,{children:I.vendor?.name||"N/A"}),r.jsx(ue,{align:"right",children:new Intl.NumberFormat("en-IN",{style:"currency",currency:I.currency}).format(I.poValue)}),r.jsx(ue,{children:r.jsx(Gt,{label:I.status||"Draft",color:I.status==="Approved"?"success":"default",size:"small"})})]},I.id))})]})}):r.jsxs(ie,{sx:{textAlign:"center",py:4},children:[r.jsx(pe,{color:"text.secondary",children:"No Purchase Orders linked to this line item."}),r.jsx(xe,{variant:"outlined",startIcon:r.jsx(Xn,{}),sx:{mt:2},children:"Create PO"})]})}):t===2?r.jsxs(ie,{children:[r.jsx(ie,{sx:{display:"flex",justifyContent:"flex-end",mb:2},children:r.jsx(xe,{startIcon:r.jsx(Xn,{}),variant:"contained",size:"small",children:"Add Actual"})}),i.actuals&&i.actuals.length>0?r.jsx(Rn,{children:r.jsxs(Nn,{children:[r.jsx(Gn,{children:r.jsxs(it,{sx:{bgcolor:"#f5f5f5"},children:[r.jsx(ue,{children:"Invoice Date"}),r.jsx(ue,{children:"Invoice No"}),r.jsx(ue,{children:"Vendor"}),r.jsx(ue,{children:"Month"}),r.jsx(ue,{align:"right",children:"Amount"}),r.jsx(ue,{align:"center",children:"Actions"})]})}),r.jsx(Ln,{children:i.actuals.map(I=>r.jsxs(it,{hover:!0,children:[r.jsx(ue,{children:new Date(I.invoiceDate).toLocaleDateString()}),r.jsx(ue,{children:I.invoiceNo||"-"}),r.jsx(ue,{children:I.vendor?.name||"-"}),r.jsx(ue,{children:I.month||"-"}),r.jsx(ue,{align:"right",children:new Intl.NumberFormat("en-IN",{style:"currency",currency:I.currency}).format(I.amount)}),r.jsx(ue,{align:"center",children:r.jsx($l,{size:"small",onClick:()=>F(I.id),title:"Add Reconciliation Note",children:r.jsx(oS,{fontSize:"small"})})})]},I.id))})]})}):r.jsx(ie,{sx:{textAlign:"center",py:4},children:r.jsx(pe,{color:"text.secondary",children:"No actuals recorded for this line item."})}),i.reconciliationNotes&&i.reconciliationNotes.length>0&&r.jsxs(ie,{sx:{mt:4},children:[r.jsx(pe,{variant:"h6",sx:{mb:2},children:"Reconciliation Notes"}),i.reconciliationNotes.map(I=>r.jsxs(nt,{sx:{p:2,mb:2,bgcolor:"#fffde7"},children:[r.jsx(pe,{variant:"body2",children:I.note}),r.jsxs(ie,{sx:{display:"flex",justifyContent:"space-between",mt:1},children:[r.jsxs(pe,{variant:"caption",color:"text.secondary",children:["By: ",I.user?.name||"Unknown"]}),r.jsx(pe,{variant:"caption",color:"text.secondary",children:new Date(I.createdAt).toLocaleString()})]})]},I.id))]}),r.jsxs(Dn,{open:m,onClose:()=>x(!1),children:[r.jsx(Tn,{children:"Add Reconciliation Note"}),r.jsx(In,{children:r.jsx(_e,{autoFocus:!0,margin:"dense",label:"Note",fullWidth:!0,multiline:!0,rows:4,value:b,onChange:I=>C(I.target.value)})}),r.jsxs(Fn,{children:[r.jsx(xe,{onClick:()=>x(!1),children:"Cancel"}),r.jsx(xe,{onClick:j,variant:"contained",children:"Save"})]})]})]}):t===3?r.jsx(Rn,{children:r.jsxs(Nn,{children:[r.jsx(Gn,{children:r.jsxs(it,{sx:{bgcolor:"#f5f5f5"},children:[r.jsx(ue,{children:"Date"}),r.jsx(ue,{children:"User"}),r.jsx(ue,{children:"Action"}),r.jsx(ue,{children:"Details"})]})}),r.jsx(Ln,{children:g&&g.length>0?g.map(I=>r.jsxs(it,{hover:!0,children:[r.jsx(ue,{children:new Date(I.createdAt).toLocaleString()}),r.jsx(ue,{children:I.user?.name||"System"}),r.jsx(ue,{children:r.jsx(Gt,{label:I.action,size:"small"})}),r.jsx(ue,{sx:{maxWidth:300,overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},children:I.diff?JSON.stringify(I.diff):"-"})]},I.id)):r.jsx(it,{children:r.jsx(ue,{colSpan:4,align:"center",children:"No audit history found"})})})]})}):null},sz=({data:t})=>{const l=Object.keys(t).map(i=>({month:i,Budget:t[i].budget,Actual:t[i].actual,Variance:t[i].variance})),s=({active:i,payload:c,label:d})=>i&&c&&c.length?r.jsxs("div",{style:{backgroundColor:"#fff",padding:"10px",border:"1px solid #ccc",borderRadius:"4px"},children:[r.jsx("p",{style:{fontWeight:"bold",margin:"0 0 5px 0"},children:d}),c.map((g,p)=>r.jsxs("p",{style:{color:g.color,margin:"3px 0"},children:[g.name,": ",new Intl.NumberFormat("en-IN").format(g.value)]},p))]}):null;return r.jsx(ii,{width:"100%",height:"100%",children:r.jsxs(Ch,{data:l,margin:{top:20,right:30,left:20,bottom:5},children:[r.jsx(tu,{strokeDasharray:"3 3",vertical:!1}),r.jsx(nu,{dataKey:"month"}),r.jsx(lu,{}),r.jsx(ci,{content:r.jsx(s,{})}),r.jsx(ou,{}),r.jsx(jS,{y:0,stroke:"#000"}),r.jsx(mi,{dataKey:"Budget",fill:"#1976d2",name:"Budget"}),r.jsx(mi,{dataKey:"Actual",fill:"#ed6c02",name:"Actuals"})]})})},iz=()=>{const{uid:t}=RC(),l=Ei(),{token:s}=fl(),[i,c]=h.useState(!0),[d,g]=h.useState(null),[p,m]=h.useState(null),[x,b]=h.useState(0),C=async()=>{try{c(!0);const F=await je.get(`/budget-detail/${t}`);m(F),g(null)}catch(F){console.error("Error fetching budget detail:",F),g(F.message||"Failed to fetch budget detail")}finally{c(!1)}};h.useEffect(()=>{t&&s&&C()},[t,s]);const v=(F,I)=>{b(I)};if(i)return r.jsx(ie,{sx:{display:"flex",justifyContent:"center",alignItems:"center",height:"100vh"},children:r.jsx(Bn,{})});if(d)return r.jsxs(ie,{sx:tl,children:[r.jsx(cn,{severity:"error",sx:{mb:2},children:d}),r.jsx(xe,{startIcon:r.jsx(bh,{}),onClick:()=>l("/budgets"),children:"Back to Budgets"})]});if(!p)return null;const{lineItem:D,variance:j}=p;return r.jsxs(ie,{sx:{...tl,...uo},children:[r.jsxs(ie,{sx:{mb:3},children:[r.jsx(xe,{startIcon:r.jsx(bh,{}),onClick:()=>l("/budgets"),sx:{mb:2},children:"Back to Budgets"}),r.jsxs(ie,{sx:{display:"flex",justifyContent:"space-between",alignItems:"flex-start"},children:[r.jsxs(ie,{children:[r.jsx(pe,{variant:"h4",sx:{fontWeight:700,color:"#1a237e",mb:1},children:D.uid}),r.jsx(pe,{variant:"h6",color:"text.secondary",sx:{mb:1},children:D.description}),r.jsxs(ie,{sx:{display:"flex",gap:1,flexWrap:"wrap"},children:[r.jsx(Gt,{label:D.tower?.name||"No Tower",color:"primary",variant:"outlined",size:"small"}),r.jsx(Gt,{label:D.budgetHead?.name||"No Budget Head",color:"secondary",variant:"outlined",size:"small"}),r.jsx(Gt,{label:D.fiscalYear?.name||"FY25",color:"default",variant:"outlined",size:"small"})]})]}),r.jsxs(ie,{sx:{textAlign:"right"},children:[r.jsx(pe,{variant:"subtitle2",color:"text.secondary",children:"Total Budget"}),r.jsx(pe,{variant:"h5",sx:{fontWeight:600,color:"#2e7d32"},children:new Intl.NumberFormat("en-IN",{style:"currency",currency:D.currency}).format(D.totalBudget)}),r.jsx(ie,{sx:{mt:1},children:r.jsx(Gt,{label:`${j.cumulative.variancePercentage.toFixed(1)}% Variance`,color:j.cumulative.variance>=0?"success":"error",size:"small"})})]})]})]}),r.jsxs(wt,{container:!0,spacing:3,sx:{mb:4},children:[r.jsx(wt,{item:!0,xs:12,md:4,children:r.jsxs(nt,{sx:{p:2,height:"100%",borderLeft:"4px solid #1976d2"},children:[r.jsxs(ie,{sx:{display:"flex",alignItems:"center",mb:1},children:[r.jsx(rS,{color:"primary",sx:{mr:1}}),r.jsx(pe,{variant:"subtitle1",color:"text.secondary",children:"YTD Budget"})]}),r.jsx(pe,{variant:"h4",children:new Intl.NumberFormat("en-IN",{style:"currency",currency:D.currency,maximumFractionDigits:0}).format(j.cumulative.budget)})]})}),r.jsx(wt,{item:!0,xs:12,md:4,children:r.jsxs(nt,{sx:{p:2,height:"100%",borderLeft:"4px solid #ed6c02"},children:[r.jsxs(ie,{sx:{display:"flex",alignItems:"center",mb:1},children:[r.jsx(mh,{color:"warning",sx:{mr:1}}),r.jsx(pe,{variant:"subtitle1",color:"text.secondary",children:"YTD Actuals"})]}),r.jsx(pe,{variant:"h4",children:new Intl.NumberFormat("en-IN",{style:"currency",currency:D.currency,maximumFractionDigits:0}).format(j.cumulative.actual)})]})}),r.jsx(wt,{item:!0,xs:12,md:4,children:r.jsxs(nt,{sx:{p:2,height:"100%",borderLeft:`4px solid ${j.cumulative.variance>=0?"#2e7d32":"#d32f2f"}`},children:[r.jsxs(ie,{sx:{display:"flex",alignItems:"center",mb:1},children:[r.jsx(aS,{color:j.cumulative.variance>=0?"success":"error",sx:{mr:1}}),r.jsx(pe,{variant:"subtitle1",color:"text.secondary",children:"Remaining"})]}),r.jsx(pe,{variant:"h4",color:j.cumulative.variance>=0?"success.main":"error.main",children:new Intl.NumberFormat("en-IN",{style:"currency",currency:D.currency,maximumFractionDigits:0}).format(j.cumulative.variance)})]})})]}),r.jsxs(nt,{sx:{p:3,mb:4},children:[r.jsx(pe,{variant:"h6",sx:{mb:2},children:"Monthly Variance Analysis"}),r.jsx(ie,{sx:{height:300},children:r.jsx(sz,{data:j.monthly})})]}),r.jsxs(nt,{sx:{width:"100%",mb:2},children:[r.jsxs(ji,{value:x,onChange:v,indicatorColor:"primary",textColor:"primary",variant:"fullWidth",children:[r.jsx(Cn,{label:"Monthly Breakdown"}),r.jsx(Cn,{label:"Linked POs"}),r.jsx(Cn,{label:"Actuals History"}),r.jsx(Cn,{label:"Audit Log"})]}),r.jsx(ie,{sx:{p:3},children:r.jsx(az,{value:x,data:p,onRefresh:C})})]})]})},cz=()=>{const{user:t}=fl();return!t||!t.roles?!1:t.roles.some(l=>l==="Admin"||l.name==="Admin")},uz=()=>{const[t,l]=h.useState([]),[s,i]=h.useState(!0),[c,d]=h.useState({open:!1,message:"",severity:"success"}),g=Ei(),p=cz(),[m,x]=h.useState(["FY25","FY26"]),[b,C]=h.useState(["FY25","FY26"]),[v,D]=h.useState(!1);h.useEffect(()=>{j(),F()},[]);const j=async()=>{try{const E=await je.get("/pos?limit=1000"),B=E.data||E;l(B)}catch(E){console.error("Error fetching POs:",E),I("Error fetching purchase orders","error")}finally{i(!1)}},F=async()=>{try{const E=await je.get("/fiscal-years");if(E&&E.length>0){const B=E.filter(N=>N.is_active).map(N=>N.label);B.length>0&&C(B)}}catch(E){console.error("Error fetching fiscal years:",E)}},I=h.useCallback((E,B="success")=>{d({open:!0,message:E,severity:B})},[]),k=h.useCallback(()=>{d(E=>({...E,open:!1}))},[]),T=h.useCallback((E,B="INR")=>E==null||isNaN(E)?"-":new Intl.NumberFormat("en-IN",{style:"currency",currency:B,maximumFractionDigits:0}).format(E),[]),z=h.useCallback(E=>E?new Date(E).toLocaleDateString("en-GB",{day:"2-digit",month:"short",year:"numeric"}).replace(/ /g,"-"):"-",[]),V=h.useCallback(E=>{const{target:{value:B}}=E,N=typeof B=="string"?B.split(","):B;N.length>0&&x(N)},[]),R=h.useCallback(E=>{try{const B=t.map(M=>({FY:`FY${new Date(M.poDate).getFullYear()%100}`,UID:M.lineItems&&M.lineItems.length>0?M.lineItems[0].uid:"-","Service Description":M.lineItems&&M.lineItems.length>0?M.lineItems[0].description:"-","Budget Head":M.budgetHead?.name||"-",Entity:M.poEntity?.name||"-","PR Number":M.prNumber||"-","PR Date":z(M.prDate),"PR Amount":M.prAmount||0,Currency:M.currency,"PO Number":M.poNumber,"PO Date":z(M.poDate),Vendor:M.vendor?.name||"-","PO Value":M.poValue,"Common Currency Value (INR)":M.commonCurrencyValue||M.poValue,Status:M.status})),N=un.json_to_sheet(B),O=un.book_new();un.book_append_sheet(O,N,"PO Tracker");const S=`PO_Tracker_${new Date().toISOString().split("T")[0]}.${E==="csv"?"csv":"xlsx"}`;Za(O,S,{bookType:E==="csv"?"csv":"xlsx"}),I(`PO data exported as ${E.toUpperCase()} successfully!`,"success")}catch(B){console.error("Error exporting data:",B),d({open:!0,message:"Error exporting data",severity:"error"})}},[t,z,I]),$=async(E,B)=>{try{const N={...E};return N.poDate&&(N.poDate=new Date(N.poDate).toISOString()),N.prDate&&(N.prDate=new Date(N.prDate).toISOString()),await je.put(`/pos/${E.id}`,N),d({open:!0,message:"PO updated successfully",severity:"success"}),E}catch(N){return console.error("Update error:",N),d({open:!0,message:"Error updating PO: "+(N.message||"Unknown error"),severity:"error"}),B}},_=E=>{d({open:!0,message:"Error processing update",severity:"error"}),console.error("Process row update error:",E)},U=E=>({Draft:"default",Submitted:"info",Approved:"success",Rejected:"error",Closed:"secondary"})[E]||"default",A=h.useMemo(()=>[{field:"actions",type:"actions",headerName:"Actions",width:100,getActions:E=>[r.jsx(Qt,{icon:r.jsx(xh,{}),label:"View",onClick:()=>g(`/pos/${E.id}`)}),...p?[r.jsx(Qt,{icon:r.jsx(Jn,{}),label:"Edit",onClick:()=>g(`/pos/${E.id}/edit`),showInMenu:!1})]:[]]},{field:"fy",headerName:"FY",width:70,valueGetter:(E,B)=>B?.poDate?`FY${new Date(B.poDate).getFullYear()%100}`:"-"},{field:"uid",headerName:"UID",width:150,valueGetter:(E,B)=>B?.lineItems?.[0]?.uid||"-"},{field:"service_description",headerName:"Service",width:200,valueGetter:(E,B)=>B?.lineItems?.[0]?.description||"-"},{field:"budgetHeadName",headerName:"Budget Head",width:150,valueGetter:(E,B)=>B?.budgetHead?.name||"-"},{field:"poEntityName",headerName:"PO Entity",width:120,valueGetter:(E,B)=>B?.poEntity?.name||"-"},{field:"prNumber",headerName:"PR Number",width:130,editable:!0},{field:"prDate",headerName:"PR Date",width:110,valueFormatter:E=>z(E),type:"date",valueGetter:E=>E?new Date(E):null,editable:!0},{field:"prAmount",headerName:"PR Amount",width:120,type:"number",valueFormatter:E=>T(E),editable:!0},{field:"currency",headerName:"Currency",width:80,editable:!0},{field:"poNumber",headerName:"PO Number",width:130,editable:!0},{field:"poDate",headerName:"PO Date",width:110,valueFormatter:E=>z(E),type:"date",valueGetter:E=>E?new Date(E):null,editable:!0},{field:"vendorName",headerName:"Vendor",width:150,valueGetter:(E,B)=>B?.vendor?.name||"-"},{field:"poValue",headerName:"PO Value",width:120,type:"number",valueFormatter:(E,B)=>T(E,B?.currency),editable:!0},{field:"commonCurrencyValue",headerName:"Common Currency Value (INR)",width:180,type:"number",valueGetter:(E,B)=>B?.commonCurrencyValue||B?.poValue,valueFormatter:E=>T(E)},{field:"valueInLac",headerName:"Value in Lac",width:120,valueFormatter:E=>E?`${E.toFixed(2)}L`:"-"},{field:"status",headerName:"Status",width:120,renderCell:E=>r.jsx(Gt,{label:E.value,color:U(E.value),size:"small",sx:{borderRadius:"4px"}})},{field:"actions",type:"actions",headerName:"Actions",width:100,getActions:E=>[r.jsx(Qt,{icon:r.jsx(xh,{}),label:"View",onClick:()=>g(`/pos/${E.id}`)}),...p?[r.jsx(Qt,{icon:r.jsx(Jn,{}),label:"Edit",onClick:()=>g(`/pos/${E.id}/edit`),showInMenu:!1})]:[]]}],[p,g,z,T]);return s?r.jsx(ie,{sx:{display:"flex",justifyContent:"center",alignItems:"center",height:"80vh"},children:r.jsx(Bn,{})}):r.jsxs(ie,{sx:{...tl,...uo},children:[r.jsxs(ie,{sx:Yl,children:[r.jsx(pe,{sx:Kl,children:"PO"}),r.jsxs(ie,{sx:{display:"flex",gap:1},children:[r.jsx(xe,{size:"small",variant:"outlined",startIcon:r.jsx(xr,{}),onClick:()=>D(!0),color:"success",children:"Export"}),r.jsx(xe,{size:"small",variant:"contained",startIcon:r.jsx(Xn,{}),onClick:()=>g("/pos/new"),children:"Create PO"})]})]}),r.jsxs(ie,{sx:{mb:3,display:"flex",alignItems:"center",gap:2},children:[r.jsxs(Wa,{sx:{m:1,width:300},size:"small",children:[r.jsx(xi,{id:"fiscal-year-select-label",children:"View Fiscal Years"}),r.jsx($a,{labelId:"fiscal-year-select-label",id:"fiscal-year-select",multiple:!0,value:m,onChange:V,input:r.jsx(zC,{label:"View Fiscal Years"}),renderValue:E=>E.join(", "),children:b.map(E=>r.jsxs(Ve,{value:E,children:[r.jsx(Ph,{checked:m.indexOf(E)>-1}),r.jsx(gr,{primary:E})]},E))})]}),r.jsx(pe,{variant:"caption",sx:{color:"text.secondary",fontStyle:"italic"},children:"Select one or more fiscal years to display"})]}),r.jsx(nt,{elevation:0,sx:{width:"100%",height:600,border:"1px solid #d0d7de",borderRadius:"6px"},children:r.jsx(Zn,{rows:t,columns:A,getRowId:E=>E.id,processRowUpdate:$,onProcessRowUpdateError:_,initialState:{pagination:{paginationModel:{pageSize:25}}},pageSizeOptions:[25,50,100],checkboxSelection:!0,disableRowSelectionOnClick:!0,density:"compact",slots:{toolbar:Qn},sx:{fontSize:"9px","& .MuiDataGrid-columnHeaders":{backgroundColor:"#f6f8fa",color:"#24292f",fontWeight:"bold",fontSize:"9px"},"& .MuiDataGrid-cell":{borderRight:"1px solid #e0e0e0",fontSize:"9px"},"& .MuiDataGrid-row:hover":{backgroundColor:"#f5f5f5"}}})}),r.jsx(Zr,{open:v,onClose:()=>D(!1),onExport:R}),r.jsx(Mi,{open:c.open,autoHideDuration:6e3,onClose:k,anchorOrigin:{vertical:"bottom",horizontal:"right"},children:r.jsx(cn,{onClose:k,severity:c.severity,sx:{width:"100%"},children:c.message})})]})},dz=({selectedItems:t,onChange:l})=>{const{token:s}=fl(),[i,c]=h.useState([]),[d,g]=h.useState(!1),[p,m]=h.useState("");h.useEffect(()=>{const D=setTimeout(async()=>{if(!(p.length<2)){g(!0);try{const j=await Wr.get(`/api/api/line-items?uid=${p}&limit=20`,{headers:{Authorization:`Bearer ${s}`}});c(j.data.data)}catch(j){console.error("Error searching line items:",j)}finally{g(!1)}}},500);return()=>clearTimeout(D)},[p,s]);const x=(v,D)=>{D&&!t.find(j=>j.id===D.id)&&l([...t,{...D,allocatedAmount:0}]),m("")},b=v=>{l(t.filter(D=>D.id!==v))},C=(v,D)=>{l(t.map(j=>j.id===v?{...j,allocatedAmount:D}:j))};return r.jsxs(ie,{children:[r.jsx(pe,{variant:"subtitle1",sx:{mb:1},children:"Link Line Items"}),r.jsx(Oh,{options:i,getOptionLabel:v=>`${v.uid} - ${v.service_description}`,loading:d,onInputChange:(v,D)=>m(D),onChange:x,renderInput:v=>r.jsx(_e,{...v,label:"Search by UID",variant:"outlined",size:"small",fullWidth:!0,InputProps:{...v.InputProps,endAdornment:r.jsxs(r.Fragment,{children:[d?r.jsx(pe,{variant:"caption",children:"Loading..."}):null,v.InputProps.endAdornment]})}}),sx:{mb:2}}),t.length>0&&r.jsx(Rn,{component:nt,variant:"outlined",children:r.jsxs(Nn,{size:"small",children:[r.jsx(Gn,{children:r.jsxs(it,{sx:{bgcolor:"#f5f5f5"},children:[r.jsx(ue,{children:"UID"}),r.jsx(ue,{children:"Description"}),r.jsx(ue,{align:"right",children:"Allocated Amount"}),r.jsx(ue,{align:"center",children:"Action"})]})}),r.jsx(Ln,{children:t.map(v=>r.jsxs(it,{children:[r.jsx(ue,{children:v.uid}),r.jsx(ue,{children:v.service_description}),r.jsx(ue,{align:"right",sx:{width:200},children:r.jsx(_e,{type:"number",size:"small",value:v.allocatedAmount,onChange:D=>C(v.id,D.target.value),InputProps:{startAdornment:r.jsx(IC,{position:"start",children:""})}})}),r.jsx(ue,{align:"center",children:r.jsx($l,{size:"small",color:"error",onClick:()=>b(v.id),children:r.jsx(oo,{fontSize:"small"})})})]},v.id))})]})})]})},CC=()=>{const{id:t}=RC(),l=Ei(),{token:s}=fl(),i=!!t,[c,d]=h.useState({poNumber:"",poDate:new Date().toISOString().split("T")[0],vendorId:"",currency:"INR",poValue:"",exchangeRate:"1.0",prNumber:"",prDate:"",towerId:"",budgetHeadId:"",status:"Draft"}),[g,p]=h.useState([]),[m,x]=h.useState(!1),[b,C]=h.useState(i),[v,D]=h.useState(null),[j,F]=h.useState({vendors:[],towers:[],budgetHeads:[],currencyRates:[]}),I=h.useMemo(()=>{const V=parseFloat(c.poValue)||0,R=parseFloat(c.exchangeRate)||1,$=V*R,_=g.reduce((A,E)=>A+(parseFloat(E.allocatedAmount)||0),0),U=$-_;return{poValue:V,exchangeRate:R,commonCurrencyValue:$,totalAllocated:_,unallocated:U,allocationPercentage:$>0?_/$*100:0,lineItemCount:g.length}},[c,g]);h.useEffect(()=>{s&&(async()=>{try{const[R,$,_,U]=await Promise.all([je.get("/master/vendors"),je.get("/master/towers"),je.get("/master/budget-heads"),je.get("/currency-rates")]);if(F({vendors:R,towers:$,budgetHeads:_,currencyRates:U}),i){const A=await je.get(`/pos/${t}`);d({poNumber:A.poNumber,poDate:A.poDate.split("T")[0],vendorId:A.vendorId||"",currency:A.currency,poValue:A.poValue,exchangeRate:A.exchangeRate||"1.0",prNumber:A.prNumber||"",prDate:A.prDate?A.prDate.split("T")[0]:"",towerId:A.towerId||"",budgetHeadId:A.budgetHeadId||"",status:A.status}),A.poLineItems&&p(A.poLineItems.map(E=>({...E.lineItem,allocatedAmount:E.allocated_amount})))}}catch(R){console.error("Error fetching data:",R),D("Failed to load data")}finally{C(!1)}})()},[s,t,i]),h.useEffect(()=>{if(c.currency==="INR")d(V=>({...V,exchangeRate:"1.0"}));else{const V=j.currencyRates.find(R=>R.from_currency===c.currency&&R.to_currency==="INR");if(V)d(R=>({...R,exchangeRate:V.rate.toString()}));else{const R=j.currencyRates.find($=>$.from_currency==="INR"&&$.to_currency===c.currency);R&&R.rate>0&&d($=>({...$,exchangeRate:(1/R.rate).toFixed(4)}))}}},[c.currency,j.currencyRates]);const k=V=>{const{name:R,value:$}=V.target;d(_=>({..._,[R]:$}))},T=async V=>{V.preventDefault(),x(!0),D(null);try{const R={...c,linkedLineItems:g.map($=>({id:$.id,allocatedAmount:$.allocatedAmount}))};i?await je.put(`/pos/${t}`,R):await je.post("/pos",R),l("/pos")}catch(R){console.error("Error saving PO:",R),D(R.response?.data?.message||"Failed to save PO")}finally{x(!1)}},z=V=>({Draft:"default","Pending Approval":"info",Approved:"success",Rejected:"error",Closed:"warning"})[V]||"default";return b?r.jsx(ie,{sx:{display:"flex",justifyContent:"center",alignItems:"center",height:"100vh"},children:r.jsx(Bn,{})}):r.jsxs(ie,{sx:{...tl,...uo,p:2,minHeight:"auto"},children:[r.jsxs(ie,{sx:{...Yl,mb:2},children:[r.jsx(pe,{sx:{...Kl,fontSize:{xs:"1.5rem",sm:"1.75rem"}},children:i?"Edit Purchase Order":"Create Purchase Order"}),r.jsxs(ie,{sx:{display:"flex",gap:1},children:[r.jsx(xe,{startIcon:r.jsx(bh,{}),onClick:()=>l("/pos"),size:"small",sx:{px:2},children:"Back"}),r.jsx(xe,{variant:"contained",type:"submit",form:"po-form",disabled:m,startIcon:m?r.jsx(Bn,{size:18,sx:{color:"#FFFFFF"}}):r.jsx(Su,{}),size:"medium",sx:{px:4,py:1,fontWeight:700,fontSize:"0.95rem",background:"#78BE20",color:"#FFFFFF",boxShadow:"0 4px 12px rgba(120, 190, 32, 0.4)","&:hover":{background:"#A3E635",boxShadow:"0 6px 16px rgba(120, 190, 32, 0.6)",transform:"translateY(-2px)"},"&:disabled":{background:"rgba(120, 190, 32, 0.3)",color:"rgba(255, 255, 255, 0.5)"},transition:"all 0.3s ease"},children:i?" UPDATE PO":" CREATE PO"})]})]}),v&&r.jsx(cn,{severity:"error",sx:{mb:2},children:v}),r.jsx("form",{id:"po-form",onSubmit:T,children:r.jsxs(wt,{container:!0,spacing:2,children:[r.jsx(wt,{item:!0,xs:12,lg:3.5,children:r.jsxs(nt,{sx:{p:2,height:"100%"},children:[r.jsx(pe,{variant:"subtitle2",sx:{fontWeight:700,color:"#003399",mb:1.5,fontSize:"0.75rem"},children:"SUMMARY"}),r.jsxs(Zc,{spacing:1.5,sx:{fontSize:"0.7rem"},children:[r.jsxs(ie,{children:[r.jsx(pe,{variant:"caption",sx:{color:"#B8C5D0",fontSize:"0.7rem"},children:"PO Number"}),r.jsx(pe,{variant:"body2",sx:{fontWeight:600,fontSize:"0.75rem"},children:c.poNumber||""})]}),r.jsxs(ie,{children:[r.jsx(pe,{variant:"caption",sx:{color:"#B8C5D0",fontSize:"0.7rem"},children:"Status"}),r.jsx(ie,{children:r.jsx(Gt,{label:c.status,color:z(c.status),size:"small",sx:{height:20,fontSize:"0.7rem",fontWeight:600}})})]}),r.jsxs(ie,{sx:{borderTop:"1px solid rgba(0, 51, 153, 0.2)",pt:1.5},children:[r.jsx(pe,{variant:"caption",sx:{color:"#B8C5D0",fontSize:"0.7rem",mb:.5,display:"block"},children:"Financial"}),r.jsxs(Zc,{spacing:.5,children:[r.jsxs(ie,{sx:{display:"flex",justifyContent:"space-between"},children:[r.jsxs(pe,{variant:"caption",sx:{fontSize:"0.7rem"},children:["Value (",c.currency,")"]}),r.jsx(pe,{variant:"caption",sx:{fontWeight:600,fontSize:"0.7rem"},children:new Intl.NumberFormat("en-IN").format(I.poValue)})]}),r.jsxs(ie,{sx:{display:"flex",justifyContent:"space-between"},children:[r.jsx(pe,{variant:"caption",sx:{fontSize:"0.7rem",color:"#78BE20"},children:"INR Value"}),r.jsxs(pe,{variant:"caption",sx:{fontWeight:700,fontSize:"0.7rem",color:"#78BE20"},children:["",new Intl.NumberFormat("en-IN").format(I.commonCurrencyValue.toFixed(0))]})]})]})]}),r.jsxs(ie,{sx:{borderTop:"1px solid rgba(0, 51, 153, 0.2)",pt:1.5},children:[r.jsx(pe,{variant:"caption",sx:{color:"#B8C5D0",fontSize:"0.7rem",mb:.5,display:"block"},children:"Allocation"}),r.jsxs(Zc,{spacing:.5,children:[r.jsxs(ie,{sx:{display:"flex",justifyContent:"space-between"},children:[r.jsx(pe,{variant:"caption",sx:{fontSize:"0.7rem"},children:"Items"}),r.jsx(pe,{variant:"caption",sx:{fontWeight:600,fontSize:"0.7rem"},children:I.lineItemCount})]}),r.jsxs(ie,{sx:{display:"flex",justifyContent:"space-between"},children:[r.jsx(pe,{variant:"caption",sx:{fontSize:"0.7rem"},children:"Allocated"}),r.jsxs(pe,{variant:"caption",sx:{fontWeight:600,fontSize:"0.7rem",color:"#00FF88"},children:["",new Intl.NumberFormat("en-IN").format(I.totalAllocated.toFixed(0))]})]}),r.jsxs(ie,{sx:{display:"flex",justifyContent:"space-between"},children:[r.jsx(pe,{variant:"caption",sx:{fontSize:"0.7rem"},children:"Remaining"}),r.jsxs(pe,{variant:"caption",sx:{fontWeight:600,fontSize:"0.7rem",color:I.unallocated>0?"#FFA726":"#00FF88"},children:["",new Intl.NumberFormat("en-IN").format(I.unallocated.toFixed(0))]})]}),r.jsxs(ie,{sx:{mt:.5},children:[r.jsxs(ie,{sx:{display:"flex",justifyContent:"space-between",mb:.3},children:[r.jsx(pe,{variant:"caption",sx:{fontSize:"0.65rem",color:"#B8C5D0"},children:"Progress"}),r.jsxs(pe,{variant:"caption",sx:{fontSize:"0.65rem",color:"#003399",fontWeight:600},children:[I.allocationPercentage.toFixed(0),"%"]})]}),r.jsx(ie,{sx:{height:6,borderRadius:1,background:"rgba(0, 51, 153, 0.1)",overflow:"hidden"},children:r.jsx(ie,{sx:{height:"100%",width:`${Math.min(I.allocationPercentage,100)}%`,background:"linear-gradient(90deg, #003399 0%, #78BE20 100%)",transition:"width 0.3s ease"}})})]})]})]})]})]})}),r.jsx(wt,{item:!0,xs:12,lg:8.5,children:r.jsxs(Zc,{spacing:2,children:[r.jsx(nt,{sx:{p:2},children:r.jsx(dz,{selectedItems:g,onChange:p})}),r.jsx(Rn,{component:nt,children:r.jsxs(Nn,{size:"small",children:[r.jsx(Gn,{children:r.jsx(it,{children:r.jsx(ue,{colSpan:4,sx:{background:"#003399",color:"#FFFFFF",fontWeight:700,fontSize:"0.75rem",textTransform:"uppercase",letterSpacing:"0.5px",borderBottom:"2px solid #78BE20",py:1},children:"Classification & PR Details"})})}),r.jsxs(Ln,{children:[r.jsxs(it,{children:[r.jsx(ue,{sx:{fontWeight:600,width:"15%",bgcolor:"rgba(0, 51, 153, 0.05)",fontSize:"0.7rem"},children:"Tower"}),r.jsx(ue,{sx:{width:"35%"},children:r.jsxs(_e,{select:!0,name:"towerId",value:c.towerId,onChange:k,fullWidth:!0,size:"small",variant:"standard",sx:{"& .MuiInputBase-input":{fontSize:"0.75rem"}},children:[r.jsx(Ve,{value:"",children:"Select Tower"}),j.towers.map(V=>r.jsx(Ve,{value:V.id,children:V.name},V.id))]})}),r.jsx(ue,{sx:{fontWeight:600,width:"15%",bgcolor:"rgba(0, 51, 153, 0.05)",fontSize:"0.7rem"},children:"Budget Head"}),r.jsx(ue,{sx:{width:"35%"},children:r.jsxs(_e,{select:!0,name:"budgetHeadId",value:c.budgetHeadId,onChange:k,fullWidth:!0,size:"small",variant:"standard",sx:{"& .MuiInputBase-input":{fontSize:"0.75rem"}},children:[r.jsx(Ve,{value:"",children:"Select Budget Head"}),j.budgetHeads.map(V=>r.jsx(Ve,{value:V.id,children:V.name},V.id))]})})]}),r.jsxs(it,{children:[r.jsx(ue,{sx:{fontWeight:600,bgcolor:"rgba(0, 51, 153, 0.05)",fontSize:"0.7rem"},children:"PR Number"}),r.jsx(ue,{children:r.jsx(_e,{name:"prNumber",value:c.prNumber,onChange:k,fullWidth:!0,size:"small",variant:"standard",placeholder:"Optional",sx:{"& .MuiInputBase-input":{fontSize:"0.75rem"}}})}),r.jsx(ue,{sx:{fontWeight:600,bgcolor:"rgba(0, 51, 153, 0.05)",fontSize:"0.7rem"},children:"PR Date"}),r.jsx(ue,{children:r.jsx(_e,{name:"prDate",type:"date",value:c.prDate,onChange:k,fullWidth:!0,size:"small",variant:"standard",sx:{"& .MuiInputBase-input":{fontSize:"0.75rem"}}})})]})]})]})}),r.jsx(Rn,{component:nt,children:r.jsxs(Nn,{size:"small",children:[r.jsx(Gn,{children:r.jsx(it,{children:r.jsx(ue,{colSpan:4,sx:{background:"#003399",color:"#FFFFFF",fontWeight:700,fontSize:"0.75rem",textTransform:"uppercase",letterSpacing:"0.5px",borderBottom:"2px solid #78BE20",py:1},children:"Financial Details"})})}),r.jsxs(Ln,{children:[r.jsxs(it,{children:[r.jsx(ue,{sx:{fontWeight:600,width:"15%",bgcolor:"rgba(0, 51, 153, 0.05)",fontSize:"0.7rem"},children:"Currency"}),r.jsx(ue,{sx:{width:"35%"},children:r.jsxs(_e,{select:!0,name:"currency",value:c.currency,onChange:k,fullWidth:!0,size:"small",variant:"standard",sx:{"& .MuiInputBase-input":{fontSize:"0.75rem"}},children:[r.jsx(Ve,{value:"INR",children:"INR"}),r.jsx(Ve,{value:"USD",children:"USD"}),r.jsx(Ve,{value:"EUR",children:"EUR"}),r.jsx(Ve,{value:"GBP",children:"GBP"}),r.jsx(Ve,{value:"CAD",children:"CAD"})]})}),r.jsx(ue,{sx:{fontWeight:600,width:"15%",bgcolor:"rgba(0, 51, 153, 0.05)",fontSize:"0.7rem"},children:"PO Value *"}),r.jsx(ue,{sx:{width:"35%"},children:r.jsx(_e,{name:"poValue",type:"number",value:c.poValue,onChange:k,fullWidth:!0,required:!0,size:"small",variant:"standard",inputProps:{step:"0.01",min:"0"},sx:{"& .MuiInputBase-input":{fontSize:"0.75rem"}}})})]}),r.jsxs(it,{children:[r.jsx(ue,{sx:{fontWeight:600,bgcolor:"rgba(0, 51, 153, 0.05)",fontSize:"0.7rem"},children:"Exchange Rate (Auto)"}),r.jsx(ue,{colSpan:3,children:r.jsx(_e,{name:"exchangeRate",type:"number",value:c.exchangeRate,onChange:k,fullWidth:!0,size:"small",variant:"standard",disabled:!0,inputProps:{step:"0.0001",min:"0"},sx:{"& .MuiInputBase-input":{fontSize:"0.75rem"},"& .Mui-disabled":{WebkitTextFillColor:"#78BE20 !important",fontWeight:600}},helperText:c.currency!=="INR"?"Auto-fetched from master data":""})})]})]})]})}),r.jsx(Rn,{component:nt,children:r.jsxs(Nn,{size:"small",children:[r.jsx(Gn,{children:r.jsx(it,{children:r.jsx(ue,{colSpan:4,sx:{background:"#003399",color:"#FFFFFF",fontWeight:700,fontSize:"0.75rem",textTransform:"uppercase",letterSpacing:"0.5px",borderBottom:"2px solid #78BE20",py:1},children:"PO Details"})})}),r.jsxs(Ln,{children:[r.jsxs(it,{children:[r.jsx(ue,{sx:{fontWeight:600,width:"15%",bgcolor:"rgba(0, 51, 153, 0.05)",fontSize:"0.7rem"},children:"PO Number *"}),r.jsx(ue,{sx:{width:"35%"},children:r.jsx(_e,{name:"poNumber",value:c.poNumber,onChange:k,fullWidth:!0,required:!0,disabled:i,size:"small",variant:"standard",sx:{"& .MuiInputBase-input":{fontSize:"0.75rem"}}})}),r.jsx(ue,{sx:{fontWeight:600,width:"15%",bgcolor:"rgba(0, 51, 153, 0.05)",fontSize:"0.7rem"},children:"PO Date *"}),r.jsx(ue,{sx:{width:"35%"},children:r.jsx(_e,{name:"poDate",type:"date",value:c.poDate,onChange:k,fullWidth:!0,required:!0,size:"small",variant:"standard",sx:{"& .MuiInputBase-input":{fontSize:"0.75rem"}}})})]}),r.jsxs(it,{children:[r.jsx(ue,{sx:{fontWeight:600,bgcolor:"rgba(0, 51, 153, 0.05)",fontSize:"0.7rem"},children:"Vendor *"}),r.jsx(ue,{children:r.jsxs(_e,{select:!0,name:"vendorId",value:c.vendorId,onChange:k,fullWidth:!0,required:!0,size:"small",variant:"standard",sx:{"& .MuiInputBase-input":{fontSize:"0.75rem"}},children:[r.jsx(Ve,{value:"",children:"Select Vendor"}),j.vendors.map(V=>r.jsx(Ve,{value:V.id,children:V.name},V.id))]})}),r.jsx(ue,{sx:{fontWeight:600,bgcolor:"rgba(0, 51, 153, 0.05)",fontSize:"0.7rem"},children:"Status"}),r.jsx(ue,{children:r.jsxs(_e,{select:!0,name:"status",value:c.status,onChange:k,fullWidth:!0,size:"small",variant:"standard",sx:{"& .MuiInputBase-input":{fontSize:"0.75rem"}},children:[r.jsx(Ve,{value:"Draft",children:"Draft"}),r.jsx(Ve,{value:"Pending Approval",children:"Pending Approval"}),r.jsx(Ve,{value:"Approved",children:"Approved"}),r.jsx(Ve,{value:"Rejected",children:"Rejected"}),r.jsx(Ve,{value:"Closed",children:"Closed"})]})})]})]})]})})]})})]})})]})},fz=({open:t,onClose:l,onSuccess:s})=>{const{token:i}=fl(),[c,d]=h.useState(null),[g,p]=h.useState(!1),[m,x]=h.useState(null),[b,C]=h.useState(null),v=F=>{const I=F.target.files[0];I&&(d(I),C(null),x(null))},D=async(F=!0)=>{if(!c)return;const I=new FormData;I.append("file",c),p(!0),x(null);try{const k=await Wr.post(`/api/api/actuals/import?dryRun=${F}`,I,{headers:{Authorization:`Bearer ${i}`,"Content-Type":"multipart/form-data"}});F?C(k.data):(s(k.data),j())}catch(k){console.error("Import error:",k),x(k.response?.data?.message||"Import failed")}finally{p(!1)}},j=()=>{d(null),C(null),x(null),l()};return r.jsxs(Dn,{open:t,onClose:j,maxWidth:"md",fullWidth:!0,children:[r.jsx(Tn,{children:"Import Actuals"}),r.jsxs(In,{children:[r.jsxs(ie,{sx:{mb:3,mt:1},children:[r.jsx("input",{accept:".xlsx, .xls",style:{display:"none"},id:"actuals-file-upload",type:"file",onChange:v}),r.jsx("label",{htmlFor:"actuals-file-upload",children:r.jsx(xe,{variant:"outlined",component:"span",startIcon:r.jsx(ph,{}),fullWidth:!0,sx:{height:100,borderStyle:"dashed"},children:c?c.name:"Click to upload Excel file"})})]}),g&&r.jsx(Hh,{sx:{mb:2}}),m&&r.jsx(cn,{severity:"error",sx:{mb:2},children:m}),b&&r.jsxs(ie,{children:[r.jsxs(ie,{sx:{display:"flex",gap:2,mb:2},children:[r.jsx(Gt,{icon:r.jsx(gi,{}),label:`${b.report.accepted.length} Accepted`,color:"success",variant:"outlined"}),r.jsx(Gt,{icon:r.jsx(Rh,{}),label:`${b.report.rejected.length} Rejected`,color:"error",variant:"outlined"})]}),b.report.rejected.length>0&&r.jsx(cn,{severity:"warning",sx:{mb:2},children:"Some rows have errors and will be skipped."}),r.jsx(Rn,{component:nt,sx:{maxHeight:300},children:r.jsxs(Nn,{size:"small",stickyHeader:!0,children:[r.jsx(Gn,{children:r.jsxs(it,{children:[r.jsx(ue,{children:"Row"}),r.jsx(ue,{children:"Invoice No"}),r.jsx(ue,{children:"Date"}),r.jsx(ue,{children:"Amount"}),r.jsx(ue,{children:"Status"})]})}),r.jsxs(Ln,{children:[b.report.rejected.map((F,I)=>r.jsxs(it,{children:[r.jsx(ue,{children:F.rowIndex}),r.jsx(ue,{children:F.invoiceNo}),r.jsx(ue,{children:F.invoiceDate}),r.jsx(ue,{children:F.amount}),r.jsx(ue,{children:r.jsx(pe,{variant:"caption",color:"error",children:F.errors.join(", ")})})]},`rej-${I}`)),b.report.accepted.slice(0,5).map((F,I)=>r.jsxs(it,{children:[r.jsx(ue,{children:F.rowIndex}),r.jsx(ue,{children:F.invoiceNo}),r.jsx(ue,{children:new Date(F.invoiceDate).toLocaleDateString()}),r.jsx(ue,{children:F.amount}),r.jsx(ue,{children:r.jsx(pe,{variant:"caption",color:"success",children:"OK"})})]},`acc-${I}`))]})]})})]})]}),r.jsxs(Fn,{children:[r.jsx(xe,{onClick:j,children:"Cancel"}),b?r.jsx(xe,{onClick:()=>D(!1),variant:"contained",color:"success",disabled:g||b.report.accepted.length===0,children:"Commit Import"}):r.jsx(xe,{onClick:()=>D(!0),variant:"contained",disabled:!c||g,children:"Preview"})]})]})},si=t=>t?new Date(t).toLocaleDateString("en-GB",{day:"2-digit",month:"short",year:"numeric"}).replace(/ /g,"-"):"-",yC=t=>t==null?"-":new Intl.NumberFormat("en-IN",{style:"currency",currency:"INR",maximumFractionDigits:0}).format(t),hz=()=>{const[t,l]=h.useState([]),[s,i]=h.useState(!0),[c,d]=h.useState({open:!1,message:"",severity:"success"}),[g,p]=h.useState(!1),[m,x]=h.useState(!1),[b,C]=h.useState(()=>{const z=localStorage.getItem("actualsListColumnVisibility");return z?JSON.parse(z):{}}),v=async()=>{try{const z=await je.get("/budgets/tracker");l(z)}catch(z){console.error("Error fetching actuals:",z),d({open:!0,message:"Error fetching actuals data",severity:"error"})}finally{i(!1)}};h.useEffect(()=>{v()},[]);const D=async z=>{try{const V=t.map(E=>({FY:E.fiscal_year_name||"FY25",UID:E.uid,Vendor:E.vendor_name,Description:E.service_description,Contract:E.contract_id,"Start Date":si(E.service_start_date),"End Date":si(E.service_end_date),"Budget Head":E.budget_head_name,Tower:E.tower_name,Actuals:E.fy25_actuals})),R=un.json_to_sheet(V),$=un.book_new();un.book_append_sheet($,R,"Actuals");const A=`Actuals_Report_${new Date().toISOString().split("T")[0]}.${z==="csv"?"csv":"xlsx"}`;Za($,A,{bookType:z==="csv"?"csv":"xlsx"}),d({open:!0,message:`Data exported as ${z.toUpperCase()} successfully!`,severity:"success"})}catch(V){console.error("Export error:",V),d({open:!0,message:"Error exporting data",severity:"error"})}},j=h.useCallback(z=>{C(z),localStorage.setItem("actualsListColumnVisibility",JSON.stringify(z))},[]),F=async(z,V)=>{try{const R={...z};return await je.put(`/budgets/line-items/${z.id}`,R),d({open:!0,message:"Row updated successfully",severity:"success"}),z}catch(R){return console.error("Update error:",R),d({open:!0,message:"Error updating row: "+(R.message||"Unknown error"),severity:"error"}),V}},I=z=>{d({open:!0,message:"Error processing row update",severity:"error"}),console.error("Process row update error:",z)},k=h.useMemo(()=>{const z=new Set;return t.forEach(V=>{V.customFields&&Object.keys(V.customFields).forEach(R=>z.add(R))}),Array.from(z).map(V=>({field:`custom_${V}`,headerName:V,width:150,editable:!0,valueGetter:(R,$)=>$.customFields?.[V]}))},[t]),T=h.useMemo(()=>[{field:"fiscal_year_name",headerName:"FY",width:90,valueGetter:(z,V)=>V?.fiscal_year_name||"FY25"},{field:"uid",headerName:"UID",width:150,editable:!0},{field:"parent_uid",headerName:"Parent UID",width:150,editable:!0},{field:"vendor_name",headerName:"Vendor",width:180},{field:"service_description",headerName:"Service Description",width:250,editable:!0},{field:"contract_id",headerName:"Contract",width:120,editable:!0},{field:"service_start_date",headerName:"Service Start Date",width:130,valueFormatter:z=>si(z),type:"date",valueGetter:z=>z?new Date(z):null,editable:!0},{field:"service_end_date",headerName:"Service End Date",width:130,valueFormatter:z=>si(z),type:"date",valueGetter:z=>z?new Date(z):null,editable:!0},{field:"renewal_date",headerName:"Renewal Date",width:130,valueFormatter:z=>si(z),type:"date",valueGetter:z=>z?new Date(z):null,editable:!0},{field:"budget_head_name",headerName:"Budget Head",width:150},{field:"tower_name",headerName:"Tower",width:120},{field:"po_entity_name",headerName:"PO Entity",width:120},{field:"allocation_type",headerName:"Allocation Type",width:150,editable:!0},{field:"allocation_basis_name",headerName:"Allocation Basis",width:150},{field:"initiative_type",headerName:"Initiative Type",width:150,editable:!0},{field:"service_type_name",headerName:"Service Type",width:150},{field:"priority",headerName:"Priority",width:120,editable:!0},{field:"cost_optimization_lever",headerName:"Cost Opt. Lever",width:180,editable:!0},...k,{field:"fy25_budget",headerName:"FY25 Budget",width:140,type:"number",valueFormatter:z=>z==null?"-":yC(z)},{field:"fy25_actuals",headerName:"FY 25 Actuals",width:140,type:"number",valueFormatter:z=>z==null?"-":new Intl.NumberFormat("en-IN",{style:"currency",currency:"INR",maximumFractionDigits:0}).format(z)},{field:"variance",headerName:"Variance",width:140,type:"number",valueGetter:(z,V)=>{const R=V?.fy25_budget||0,$=V?.fy25_actuals||0;return R-$},valueFormatter:z=>z==null?"-":yC(z),cellClassName:z=>z.value<0?"variance-negative":"variance-positive"},{field:"remarks",headerName:"Remarks",width:200,editable:!0}],[]);return s?r.jsx(ie,{sx:{p:4},children:r.jsx(Bn,{})}):r.jsxs(ie,{sx:tl,children:[r.jsxs(ie,{sx:Yl,children:[r.jsx(pe,{sx:Kl,children:"Net Actual"}),r.jsxs(ie,{sx:{display:"flex",gap:1},children:[r.jsx(xe,{variant:"outlined",color:"success",startIcon:r.jsx(xr,{}),onClick:()=>x(!0),children:"Export"}),r.jsx(xe,{variant:"outlined",startIcon:r.jsx(AC,{}),onClick:()=>p(!0),children:"Upload Actuals"})]})]}),r.jsx(nt,{elevation:0,sx:{width:"100%",height:600,border:"1px solid #d0d7de",borderRadius:"6px"},children:r.jsx(Zn,{rows:t,columns:T,getRowId:z=>z.id||Math.random(),columnVisibilityModel:b,onColumnVisibilityModelChange:j,processRowUpdate:F,onProcessRowUpdateError:I,initialState:{pagination:{paginationModel:{pageSize:25}}},pageSizeOptions:[25,50,100],checkboxSelection:!0,disableRowSelectionOnClick:!0,density:"compact",slots:{toolbar:Qn},sx:{fontSize:"9px","& .MuiDataGrid-columnHeaders":{backgroundColor:"#f6f8fa",color:"#24292f",fontWeight:"bold",fontSize:"9px"},"& .MuiDataGrid-cell":{fontSize:"9px"},"& .variance-positive":{color:"#2e7d32",fontWeight:"bold"},"& .variance-negative":{color:"#d32f2f",fontWeight:"bold"}}})}),r.jsx(fz,{open:g,onClose:()=>p(!1),onSuccess:()=>{v(),d({open:!0,message:"Actuals imported successfully",severity:"success"})}}),r.jsx(Zr,{open:m,onClose:()=>x(!1),onExport:D}),r.jsx(Mi,{open:c.open,autoHideDuration:6e3,onClose:()=>d(z=>({...z,open:!1})),children:r.jsx(cn,{severity:c.severity,children:c.message})})]})},gz=()=>{const{token:t}=fl(),[l,s]=h.useState([]),[i,c]=h.useState(!0),[d,g]=h.useState(null);h.useEffect(()=>{p()},[]);const p=async()=>{try{const x=await je.get("/imports");s(x),c(!1)}catch(x){console.error("Error fetching import history:",x),g("Failed to load import history"),c(!1)}},m=h.useMemo(()=>[{field:"createdAt",headerName:"Date",width:180,valueFormatter:x=>new Date(x.value).toLocaleString()},{field:"importType",headerName:"Type",width:120,renderCell:x=>r.jsx(Gt,{label:x.value==="budgets"?"Budget":"Actuals",color:x.value==="budgets"?"primary":"secondary",size:"small",variant:"outlined"})},{field:"filename",headerName:"Filename",width:250},{field:"user",headerName:"User",width:150,valueGetter:x=>x.row.user?.name||"Unknown"},{field:"rowsTotal",headerName:"Rows",width:100,type:"number",align:"center",headerAlign:"center"},{field:"rowsAccepted",headerName:"Accepted",width:100,type:"number",align:"center",headerAlign:"center",cellClassName:"success-cell"},{field:"rowsRejected",headerName:"Rejected",width:100,type:"number",align:"center",headerAlign:"center",cellClassName:x=>x.value>0?"error-cell":""},{field:"status",headerName:"Status",width:140,align:"center",headerAlign:"center",renderCell:x=>x.value==="Completed"?r.jsx(Gt,{icon:r.jsx(gi,{}),label:"Completed",color:"success",size:"small"}):x.value==="Failed"?r.jsx(Gt,{icon:r.jsx(Rh,{}),label:"Failed",color:"error",size:"small"}):r.jsx(Gt,{icon:r.jsx(sS,{}),label:x.value,color:"default",size:"small"})}],[]);return i?r.jsx(ie,{sx:{display:"flex",justifyContent:"center",alignItems:"center",height:"80vh"},children:r.jsx(Bn,{})}):r.jsxs(ie,{sx:{...tl,...uo},children:[r.jsx(ie,{sx:Yl,children:r.jsx(pe,{sx:Kl,children:"Import History"})}),d&&r.jsx(cn,{severity:"error",sx:{mb:2},children:d}),r.jsx(nt,{elevation:0,sx:{width:"100%",height:600,border:"1px solid #d0d7de",borderRadius:"6px"},children:r.jsx(Zn,{rows:l,columns:m,getRowId:x=>x.id,initialState:{pagination:{paginationModel:{pageSize:25}},sorting:{sortModel:[{field:"createdAt",sort:"desc"}]}},pageSizeOptions:[25,50,100],disableRowSelectionOnClick:!0,density:"compact",slots:{toolbar:Qn},sx:{"& .MuiDataGrid-columnHeaders":{backgroundColor:"#f6f8fa",color:"#24292f",fontWeight:"bold"},"& .success-cell":{color:"success.main",fontWeight:500},"& .error-cell":{color:"error.main",fontWeight:700}}})})]})},mz=()=>{const{user:t}=fl(),l=t?.roles?.includes("Admin"),[s,i]=h.useState(0),[c,d]=h.useState([]),[g,p]=h.useState([]),[m,x]=h.useState([]),[b,C]=h.useState([]),[v,D]=h.useState([]),[j,F]=h.useState([]),[I,k]=h.useState([]),[T,z]=h.useState([]),[V,R]=h.useState(!1),[$,_]=h.useState({open:!1,message:"",severity:"success"}),[U,A]=h.useState(!1),[E,B]=h.useState({id:null,name:""}),N=async()=>{try{const Z="/master/towers"+(E.id?`/${E.id}`:"");E.id?await je.put(Z,E):await je.post(Z,E),_({open:!0,message:"Tower saved",severity:"success"}),A(!1),Zt()}catch(Z){_({open:!0,message:Z.message||"Error saving tower",severity:"error"})}},O=async Z=>{if(window.confirm("Delete Tower?"))try{await je.delete(`/master/towers/${Z}`),_({open:!0,message:"Deleted",severity:"success"}),Zt()}catch{_({open:!0,message:"Error deleting",severity:"error"})}},K=()=>{B({id:null,name:""}),A(!0)},G=Z=>{B(Z),A(!0)},[S,M]=h.useState(!1),[L,q]=h.useState({id:null,name:"",tower_id:""}),Y=async()=>{try{const Z="/master/budget-heads"+(L.id?`/${L.id}`:"");L.id?await je.put(Z,L):await je.post(Z,L),_({open:!0,message:"Budget Head saved",severity:"success"}),M(!1),Zt()}catch(Z){_({open:!0,message:Z.message||"Error saving budget head",severity:"error"})}},W=async Z=>{if(window.confirm("Delete Budget Head?"))try{await je.delete(`/master/budget-heads/${Z}`),_({open:!0,message:"Deleted",severity:"success"}),Zt()}catch{_({open:!0,message:"Error deleting",severity:"error"})}},Q=()=>{q({id:null,name:"",tower_id:""}),M(!0)},le=Z=>{q({id:Z.id,name:Z.name,tower_id:Z.tower_id}),M(!0)},[re,me]=h.useState(!1),[ce,ve]=h.useState({id:null,name:"",gst_number:"",contact_person:""}),Te=async()=>{try{const Z="/master/vendors"+(ce.id?`/${ce.id}`:"");ce.id?await je.put(Z,ce):await je.post(Z,ce),_({open:!0,message:"Vendor saved",severity:"success"}),me(!1),Zt()}catch(Z){_({open:!0,message:Z.message||"Error saving vendor",severity:"error"})}},Se=async Z=>{if(window.confirm("Delete Vendor?"))try{await je.delete(`/master/vendors/${Z}`),_({open:!0,message:"Deleted",severity:"success"}),Zt()}catch{_({open:!0,message:"Error deleting",severity:"error"})}},Ae=()=>{ve({id:null,name:"",gst_number:"",contact_person:""}),me(!0)},Ne=Z=>{ve(Z),me(!0)},[be,Me]=h.useState(!1),[ze,Ce]=h.useState({id:null,code:"",description:""}),$e=async()=>{try{const Z="/master/cost-centres"+(ze.id?`/${ze.id}`:"");ze.id?await je.put(Z,ze):await je.post(Z,ze),_({open:!0,message:"Cost Centre saved",severity:"success"}),Me(!1),Zt()}catch(Z){_({open:!0,message:Z.message||"Error saving cost centre",severity:"error"})}},Be=async Z=>{if(window.confirm("Delete Cost Centre?"))try{await je.delete(`/master/cost-centres/${Z}`),_({open:!0,message:"Deleted",severity:"success"}),Zt()}catch{_({open:!0,message:"Error deleting",severity:"error"})}},Ge=()=>{Ce({id:null,code:"",description:""}),Me(!0)},It=Z=>{Ce(Z),Me(!0)},[St,jt]=h.useState(!1),[ut,Mt]=h.useState({id:null,name:""}),tt=async()=>{try{const Z="/master/po-entities"+(ut.id?`/${ut.id}`:"");ut.id?await je.put(Z,ut):await je.post(Z,ut),_({open:!0,message:"PO Entity saved",severity:"success"}),jt(!1),Zt()}catch(Z){_({open:!0,message:Z.message||"Error saving PO entity",severity:"error"})}},gt=async Z=>{if(window.confirm("Delete PO Entity?"))try{await je.delete(`/master/po-entities/${Z}`),_({open:!0,message:"Deleted",severity:"success"}),Zt()}catch{_({open:!0,message:"Error deleting",severity:"error"})}},mt=()=>{Mt({id:null,name:""}),jt(!0)},Ht=Z=>{Mt(Z),jt(!0)},[Fe,Ze]=h.useState(!1),[Le,We]=h.useState({id:null,name:""}),pt=async()=>{try{const Z="/master/service-types"+(Le.id?`/${Le.id}`:"");Le.id?await je.put(Z,Le):await je.post(Z,Le),_({open:!0,message:"Service Type saved",severity:"success"}),Ze(!1),Zt()}catch(Z){_({open:!0,message:Z.message||"Error saving service type",severity:"error"})}},bt=async Z=>{if(window.confirm("Delete Service Type?"))try{await je.delete(`/master/service-types/${Z}`),_({open:!0,message:"Deleted",severity:"success"}),Zt()}catch{_({open:!0,message:"Error deleting",severity:"error"})}},vt=()=>{We({id:null,name:""}),Ze(!0)},yn=Z=>{We(Z),Ze(!0)},[nn,Ol]=h.useState(!1),[_n,ho]=h.useState({id:null,name:""}),Xl=async()=>{try{const Z="/master/allocation-bases"+(_n.id?`/${_n.id}`:"");_n.id?await je.put(Z,_n):await je.post(Z,_n),_({open:!0,message:"Allocation Basis saved",severity:"success"}),Ol(!1),Zt()}catch(Z){_({open:!0,message:Z.message||"Error saving allocation basis",severity:"error"})}},Ql=async Z=>{if(window.confirm("Delete Allocation Basis?"))try{await je.delete(`/master/allocation-bases/${Z}`),_({open:!0,message:"Deleted",severity:"success"}),Zt()}catch{_({open:!0,message:"Error deleting",severity:"error"})}},kl=()=>{ho({id:null,name:""}),Ol(!0)},On=Z=>{ho(Z),Ol(!0)},[go,Hl]=h.useState(!1),[mo,vr]=h.useState({id:null,from_currency:"USD",to_currency:"INR",rate:""}),is=async()=>{try{await je.post("/currency-rates",mo),_({open:!0,message:"Currency Rate saved",severity:"success"}),Hl(!1),Zt()}catch(Z){_({open:!0,message:Z.message||"Error saving rate",severity:"error"})}},wr=async Z=>{if(window.confirm("Delete Rate?"))try{await je.delete(`/currency-rates/${Z}`),_({open:!0,message:"Deleted",severity:"success"}),Zt()}catch{_({open:!0,message:"Error deleting",severity:"error"})}},Pu=()=>{vr({id:null,from_currency:"USD",to_currency:"INR",rate:""}),Hl(!0)},Pi=Z=>{vr(Z),Hl(!0)},[Ri,Sr]=h.useState(!1),[nl,Go]=h.useState({id:null,label:"",start_date:"",end_date:"",is_active:!0}),[cs,Ni]=h.useState([]),Zl=async()=>{try{nl.id?showSnackbar("Editing details not fully supported, primarily for Status Toggle","info"):(await je.post("/fiscal-years",nl),_({open:!0,message:"Fiscal Year created",severity:"success"})),Sr(!1),Zt()}catch(Z){_({open:!0,message:Z.message||"Error saving FY",severity:"error"})}},dn=async(Z,Oe)=>{try{await je.patch(`/fiscal-years/${Z}/status`,{is_active:!Oe}),Zt(),_({open:!0,message:"Status updated",severity:"success"})}catch{_({open:!0,message:"Error updating status",severity:"error"})}},En=()=>{Go({id:null,label:"",start_date:"",end_date:"",is_active:!0}),Sr(!0)},Vn=async(Z,Oe,Lt,Wt)=>{try{return await je.put(`${Lt}/${Z.id}`,Z),_({open:!0,message:`${Wt} updated successfully`,severity:"success"}),Z}catch(Pl){return console.error(`Error updating ${Wt}:`,Pl),_({open:!0,message:`Error updating ${Wt}`,severity:"error"}),Oe}},hl=Z=>{_({open:!0,message:"Error processing update",severity:"error"})},Ru=async(Z,Oe)=>{try{return await je.post("/currency-rates",Z),_({open:!0,message:"Rate updated successfully",severity:"success"}),Z}catch(Lt){return console.error("Error updating rate:",Lt),_({open:!0,message:"Error updating rate",severity:"error"}),Oe}};h.useEffect(()=>{Zt()},[]);const Zt=async()=>{try{const[Z,Oe,Lt,Wt,Pl,Rl,Yt,us,Jr]=await Promise.all([je.get("/master/towers"),je.get("/master/budget-heads"),je.get("/master/vendors"),je.get("/master/cost-centres"),je.get("/master/po-entities"),je.get("/master/service-types"),je.get("/master/allocation-bases"),je.get("/currency-rates"),je.get("/fiscal-years")]);d(Z),p(Oe),x(Lt),C(Wt),D(Pl),F(Rl),k(Yt),z(us),Ni(Jr)}catch(Z){console.error("Error fetching data:",Z)}},Gi=Z=>{try{let Oe=[],Lt="",Wt="";switch(s){case 0:Oe=cs.map(qe=>({Name:qe.label,"Start Date":qe.startDate,"End Date":qe.endDate,Status:qe.isActive?"Active":"Inactive"})),Lt="Fiscal_Years",Wt="FY";break;case 1:Oe=c.map(qe=>({ID:qe.id,Name:qe.name})),Lt="Towers",Wt="Towers";break;case 2:Oe=g.map(qe=>({ID:qe.id,Name:qe.name,Tower:qe.tower?.name})),Lt="Budget_Heads",Wt="BH";break;case 3:Oe=m.map(qe=>({ID:qe.id,Name:qe.name,"GST Number":qe.gst_number,"Contact Person":qe.contact_person})),Lt="Vendors",Wt="Vendors";break;case 4:Oe=b.map(qe=>({ID:qe.id,Code:qe.code,Description:qe.description})),Lt="Cost_Centres",Wt="CC";break;case 5:Oe=v.map(qe=>({ID:qe.id,Name:qe.name})),Lt="PO_Entities",Wt="Entities";break;case 6:Oe=j.map(qe=>({ID:qe.id,Name:qe.name})),Lt="Service_Types",Wt="Types";break;case 7:Oe=I.map(qe=>({ID:qe.id,Name:qe.name})),Lt="Allocation_Bases",Wt="Bases";break;case 8:Oe=T.map(qe=>({From:qe.from_currency,To:qe.to_currency,Rate:qe.rate,"Last Updated":qe.updated_at})),Lt="Currency_Rates",Wt="Rates";break;default:return}const Pl=un.json_to_sheet(Oe),Rl=un.book_new();un.book_append_sheet(Rl,Pl,Wt);const Yt=new Date().toISOString().split("T")[0],Jr=`${Lt}_${Yt}.${Z==="csv"?"csv":"xlsx"}`;Za(Rl,Jr,{bookType:Z==="csv"?"csv":"xlsx"}),_({open:!0,message:`${Lt} exported as ${Z.toUpperCase()} successfully!`,severity:"success"})}catch(Oe){console.error("Export error:",Oe),_({open:!0,message:"Error exporting data",severity:"error"})}};return r.jsxs(ie,{sx:{...tl,...uo},children:[r.jsxs(ie,{sx:Yl,children:[r.jsx(pe,{sx:Kl,children:"Master Data Management"}),r.jsx(xe,{variant:"outlined",color:"success",startIcon:r.jsx(xr,{}),onClick:()=>R(!0),size:"small",children:"Export Current Tab"})]}),r.jsxs(nt,{elevation:2,children:[r.jsxs(ji,{value:s,onChange:(Z,Oe)=>i(Oe),sx:{borderBottom:1,borderColor:"divider"},variant:"scrollable",scrollButtons:"auto",children:[r.jsx(Cn,{label:"Fiscal Years"}),r.jsx(Cn,{label:"Towers"}),r.jsx(Cn,{label:"Budget Heads"}),r.jsx(Cn,{label:"Vendors"}),r.jsx(Cn,{label:"Cost Centres"}),r.jsx(Cn,{label:"PO Entities"}),r.jsx(Cn,{label:"Service Types"}),r.jsx(Cn,{label:"Allocation Bases"}),r.jsx(Cn,{label:"Currency Rates"})]}),s===0&&r.jsxs(ie,{sx:{height:500,width:"100%",p:2},children:[l&&r.jsx(ie,{sx:{mb:2,display:"flex",justifyContent:"flex-end"},children:r.jsx(xe,{variant:"contained",startIcon:r.jsx(Xn,{}),onClick:En,children:"Add Fiscal Year"})}),r.jsx(Zn,{rows:cs,columns:[{field:"label",headerName:"Name",flex:1,valueGetter:(Z,Oe)=>Oe?.label||Oe?.name},{field:"startDate",headerName:"Start Date",width:150,valueFormatter:(Z,Oe)=>new Date(Z||Oe?.start_date).toLocaleDateString()},{field:"endDate",headerName:"End Date",width:150,valueFormatter:(Z,Oe)=>new Date(Z||Oe?.end_date).toLocaleDateString()},{field:"is_active",headerName:"Status",width:120,renderCell:Z=>r.jsx(xe,{variant:Z.value||Z.row.isActive?"contained":"outlined",color:Z.value||Z.row.isActive?"success":"error",size:"small",onClick:()=>dn(Z.row.id,Z.value||Z.row.isActive),children:Z.value||Z.row.isActive?"Active":"Inactive"})}],getRowId:Z=>Z.id,slots:{toolbar:Qn},density:"compact",sx:{border:"none","& .MuiDataGrid-columnHeaders":{backgroundColor:"#f6f8fa",fontWeight:"bold"}}})]}),s===1&&r.jsxs(ie,{sx:{height:500,width:"100%",p:2},children:[l&&r.jsx(ie,{sx:{mb:2,display:"flex",justifyContent:"flex-end"},children:r.jsx(xe,{variant:"contained",startIcon:r.jsx(Xn,{}),onClick:K,children:"Add Tower"})}),r.jsx(Zn,{rows:c,columns:[{field:"id",headerName:"ID",width:90},{field:"name",headerName:"Name",flex:1,editable:!0},{field:"actions",type:"actions",headerName:"Actions",width:100,getActions:Z=>[r.jsx(Qt,{icon:r.jsx(Jn,{}),label:"Edit",onClick:()=>G(Z.row)}),r.jsx(Qt,{icon:r.jsx(oo,{}),label:"Delete",color:"error",onClick:()=>O(Z.id)})]}],getRowId:Z=>Z.id,processRowUpdate:(Z,Oe)=>Vn(Z,Oe,"/master/towers","Tower"),onProcessRowUpdateError:hl,slots:{toolbar:Qn},density:"compact",sx:{border:"none","& .MuiDataGrid-columnHeaders":{backgroundColor:"#f6f8fa",fontWeight:"bold"}}})]}),s===2&&r.jsxs(ie,{sx:{height:500,width:"100%",p:2},children:[l&&r.jsx(ie,{sx:{mb:2,display:"flex",justifyContent:"flex-end"},children:r.jsx(xe,{variant:"contained",startIcon:r.jsx(Xn,{}),onClick:Q,children:"Add Budget Head"})}),r.jsx(Zn,{rows:g,columns:[{field:"id",headerName:"ID",width:90},{field:"name",headerName:"Name",flex:1,editable:!0},{field:"tower_name",headerName:"Tower",flex:1,valueGetter:(Z,Oe)=>Oe?.tower?.name||"N/A"},{field:"actions",type:"actions",headerName:"Actions",width:100,getActions:Z=>[r.jsx(Qt,{icon:r.jsx(Jn,{}),label:"Edit",onClick:()=>le(Z.row)}),r.jsx(Qt,{icon:r.jsx(oo,{}),label:"Delete",color:"error",onClick:()=>W(Z.id)})]}],getRowId:Z=>Z.id,processRowUpdate:(Z,Oe)=>Vn(Z,Oe,"/master/budget-heads","Budget Head"),onProcessRowUpdateError:hl,slots:{toolbar:Qn},density:"compact",sx:{border:"none","& .MuiDataGrid-columnHeaders":{backgroundColor:"#f6f8fa",fontWeight:"bold"}}})]}),s===3&&r.jsxs(ie,{sx:{height:500,width:"100%",p:2},children:[l&&r.jsx(ie,{sx:{mb:2,display:"flex",justifyContent:"flex-end"},children:r.jsx(xe,{variant:"contained",startIcon:r.jsx(Xn,{}),onClick:Ae,children:"Add Vendor"})}),r.jsx(Zn,{rows:m,columns:[{field:"id",headerName:"ID",width:90},{field:"name",headerName:"Name",flex:1,editable:!0},{field:"gst_number",headerName:"GST Number",flex:1,editable:!0},{field:"contact_person",headerName:"Contact Person",flex:1,editable:!0},{field:"actions",type:"actions",headerName:"Actions",width:100,getActions:Z=>[r.jsx(Qt,{icon:r.jsx(Jn,{}),label:"Edit",onClick:()=>Ne(Z.row)}),r.jsx(Qt,{icon:r.jsx(oo,{}),label:"Delete",color:"error",onClick:()=>Se(Z.id)})]}],getRowId:Z=>Z.id,processRowUpdate:(Z,Oe)=>Vn(Z,Oe,"/master/vendors","Vendor"),onProcessRowUpdateError:hl,slots:{toolbar:Qn},density:"compact",sx:{border:"none","& .MuiDataGrid-columnHeaders":{backgroundColor:"#f6f8fa",fontWeight:"bold"}}})]}),s===4&&r.jsxs(ie,{sx:{height:500,width:"100%",p:2},children:[l&&r.jsx(ie,{sx:{mb:2,display:"flex",justifyContent:"flex-end"},children:r.jsx(xe,{variant:"contained",startIcon:r.jsx(Xn,{}),onClick:Ge,children:"Add Cost Centre"})}),r.jsx(Zn,{rows:b,columns:[{field:"id",headerName:"ID",width:90},{field:"code",headerName:"Code",flex:1,editable:!0},{field:"description",headerName:"Description",flex:1,editable:!0},{field:"actions",type:"actions",headerName:"Actions",width:100,getActions:Z=>[r.jsx(Qt,{icon:r.jsx(Jn,{}),label:"Edit",onClick:()=>It(Z.row)}),r.jsx(Qt,{icon:r.jsx(oo,{}),label:"Delete",color:"error",onClick:()=>Be(Z.id)})]}],getRowId:Z=>Z.id,processRowUpdate:(Z,Oe)=>Vn(Z,Oe,"/master/cost-centres","Cost Centre"),onProcessRowUpdateError:hl,slots:{toolbar:Qn},density:"compact",sx:{border:"none","& .MuiDataGrid-columnHeaders":{backgroundColor:"#f6f8fa",fontWeight:"bold"}}})]}),s===5&&r.jsxs(ie,{sx:{height:500,width:"100%",p:2},children:[l&&r.jsx(ie,{sx:{mb:2,display:"flex",justifyContent:"flex-end"},children:r.jsx(xe,{variant:"contained",startIcon:r.jsx(Xn,{}),onClick:mt,children:"Add PO Entity"})}),r.jsx(Zn,{rows:v,columns:[{field:"id",headerName:"ID",width:90},{field:"name",headerName:"Name",flex:1,editable:!0},{field:"actions",type:"actions",headerName:"Actions",width:100,getActions:Z=>[r.jsx(Qt,{icon:r.jsx(Jn,{}),label:"Edit",onClick:()=>Ht(Z.row)}),r.jsx(Qt,{icon:r.jsx(oo,{}),label:"Delete",color:"error",onClick:()=>gt(Z.id)})]}],getRowId:Z=>Z.id,processRowUpdate:(Z,Oe)=>Vn(Z,Oe,"/master/po-entities","PO Entity"),onProcessRowUpdateError:hl,slots:{toolbar:Qn},density:"compact",sx:{border:"none","& .MuiDataGrid-columnHeaders":{backgroundColor:"#f6f8fa",fontWeight:"bold"}}})]}),s===6&&r.jsxs(ie,{sx:{height:500,width:"100%",p:2},children:[l&&r.jsx(ie,{sx:{mb:2,display:"flex",justifyContent:"flex-end"},children:r.jsx(xe,{variant:"contained",startIcon:r.jsx(Xn,{}),onClick:vt,children:"Add Service Type"})}),r.jsx(Zn,{rows:j,columns:[{field:"id",headerName:"ID",width:90},{field:"name",headerName:"Name",flex:1,editable:!0},{field:"actions",type:"actions",headerName:"Actions",width:100,getActions:Z=>[r.jsx(Qt,{icon:r.jsx(Jn,{}),label:"Edit",onClick:()=>yn(Z.row)}),r.jsx(Qt,{icon:r.jsx(oo,{}),label:"Delete",color:"error",onClick:()=>bt(Z.id)})]}],getRowId:Z=>Z.id,processRowUpdate:(Z,Oe)=>Vn(Z,Oe,"/master/service-types","Service Type"),onProcessRowUpdateError:hl,slots:{toolbar:Qn},density:"compact",sx:{border:"none","& .MuiDataGrid-columnHeaders":{backgroundColor:"#f6f8fa",fontWeight:"bold"}}})]}),s===7&&r.jsxs(ie,{sx:{height:500,width:"100%",p:2},children:[l&&r.jsx(ie,{sx:{mb:2,display:"flex",justifyContent:"flex-end"},children:r.jsx(xe,{variant:"contained",startIcon:r.jsx(Xn,{}),onClick:kl,children:"Add Allocation Basis"})}),r.jsx(Zn,{rows:I,columns:[{field:"id",headerName:"ID",width:90},{field:"name",headerName:"Name",flex:1,editable:!0},{field:"actions",type:"actions",headerName:"Actions",width:100,getActions:Z=>[r.jsx(Qt,{icon:r.jsx(Jn,{}),label:"Edit",onClick:()=>On(Z.row)}),r.jsx(Qt,{icon:r.jsx(oo,{}),label:"Delete",color:"error",onClick:()=>Ql(Z.id)})]}],getRowId:Z=>Z.id,processRowUpdate:(Z,Oe)=>Vn(Z,Oe,"/master/allocation-bases","Allocation Basis"),onProcessRowUpdateError:hl,slots:{toolbar:Qn},density:"compact",sx:{border:"none","& .MuiDataGrid-columnHeaders":{backgroundColor:"#f6f8fa",fontWeight:"bold"}}})]}),s===8&&r.jsxs(ie,{sx:{height:500,width:"100%",p:2},children:[l&&r.jsx(ie,{sx:{mb:2,display:"flex",justifyContent:"flex-end"},children:r.jsx(xe,{variant:"contained",startIcon:r.jsx(Xn,{}),onClick:Pu,children:"Add Rate"})}),r.jsx(Zn,{rows:T,columns:[{field:"from_currency",headerName:"From",width:100},{field:"to_currency",headerName:"To",width:100},{field:"rate",headerName:"Rate",width:120,editable:!0,valueFormatter:Z=>Z?Z.toFixed(4):"-"},{field:"updated_at",headerName:"Last Updated",flex:1,valueFormatter:Z=>Z?new Date(Z).toLocaleDateString():"-"},{field:"actions",type:"actions",headerName:"Actions",width:100,getActions:Z=>[r.jsx(Qt,{icon:r.jsx(Jn,{}),label:"Edit",onClick:()=>Pi(Z.row)}),r.jsx(Qt,{icon:r.jsx(oo,{}),label:"Delete",color:"error",onClick:()=>wr(Z.id)})]}],getRowId:Z=>Z.id,processRowUpdate:Ru,onProcessRowUpdateError:hl,slots:{toolbar:Qn},density:"compact",sx:{border:"none","& .MuiDataGrid-columnHeaders":{backgroundColor:"#f6f8fa",fontWeight:"bold"}}})]})]}),r.jsxs(Dn,{open:Ri,onClose:()=>Sr(!1),children:[r.jsx(Tn,{children:nl.id?"Edit Fiscal Year":"Add Fiscal Year"}),r.jsxs(In,{children:[r.jsx(_e,{autoFocus:!0,margin:"dense",label:"Name (e.g., FY26)",fullWidth:!0,value:nl.label,onChange:Z=>Go({...nl,label:Z.target.value}),sx:{mb:2}}),r.jsx(_e,{margin:"dense",type:"date",label:"Start Date",fullWidth:!0,value:nl.start_date,onChange:Z=>Go({...nl,start_date:Z.target.value}),InputLabelProps:{shrink:!0},sx:{mb:2}}),r.jsx(_e,{margin:"dense",type:"date",label:"End Date",fullWidth:!0,value:nl.end_date,onChange:Z=>Go({...nl,end_date:Z.target.value}),InputLabelProps:{shrink:!0},sx:{mb:2}})]}),r.jsxs(Fn,{children:[r.jsx(xe,{onClick:()=>Sr(!1),children:"Cancel"}),r.jsx(xe,{onClick:Zl,variant:"contained",children:"Save"})]})]}),r.jsxs(Dn,{open:U,onClose:()=>A(!1),children:[r.jsx(Tn,{children:E.id?"Edit Tower":"Add Tower"}),r.jsx(In,{children:r.jsx(_e,{autoFocus:!0,margin:"dense",label:"Name",fullWidth:!0,value:E.name,onChange:Z=>B({...E,name:Z.target.value})})}),r.jsxs(Fn,{children:[r.jsx(xe,{onClick:()=>A(!1),children:"Cancel"}),r.jsx(xe,{onClick:N,variant:"contained",children:"Save"})]})]}),r.jsxs(Dn,{open:S,onClose:()=>M(!1),children:[r.jsx(Tn,{children:L.id?"Edit Budget Head":"Add Budget Head"}),r.jsxs(In,{children:[r.jsx(_e,{autoFocus:!0,margin:"dense",label:"Name",fullWidth:!0,value:L.name,onChange:Z=>q({...L,name:Z.target.value}),sx:{mb:2}}),r.jsx(_e,{select:!0,margin:"dense",label:"Tower",fullWidth:!0,value:L.tower_id,onChange:Z=>q({...L,tower_id:Z.target.value}),children:c.map(Z=>r.jsx(Ve,{value:Z.id,children:Z.name},Z.id))})]}),r.jsxs(Fn,{children:[r.jsx(xe,{onClick:()=>M(!1),children:"Cancel"}),r.jsx(xe,{onClick:Y,variant:"contained",children:"Save"})]})]}),r.jsxs(Dn,{open:re,onClose:()=>me(!1),children:[r.jsx(Tn,{children:ce.id?"Edit Vendor":"Add Vendor"}),r.jsxs(In,{children:[r.jsx(_e,{autoFocus:!0,margin:"dense",label:"Name",fullWidth:!0,value:ce.name,onChange:Z=>ve({...ce,name:Z.target.value}),sx:{mb:2}}),r.jsx(_e,{margin:"dense",label:"GST Number",fullWidth:!0,value:ce.gst_number,onChange:Z=>ve({...ce,gst_number:Z.target.value}),sx:{mb:2}}),r.jsx(_e,{margin:"dense",label:"Contact Person",fullWidth:!0,value:ce.contact_person,onChange:Z=>ve({...ce,contact_person:Z.target.value})})]}),r.jsxs(Fn,{children:[r.jsx(xe,{onClick:()=>me(!1),children:"Cancel"}),r.jsx(xe,{onClick:Te,variant:"contained",children:"Save"})]})]}),r.jsxs(Dn,{open:be,onClose:()=>Me(!1),children:[r.jsx(Tn,{children:ze.id?"Edit Cost Centre":"Add Cost Centre"}),r.jsxs(In,{children:[r.jsx(_e,{autoFocus:!0,margin:"dense",label:"Code",fullWidth:!0,value:ze.code,onChange:Z=>Ce({...ze,code:Z.target.value}),sx:{mb:2}}),r.jsx(_e,{margin:"dense",label:"Description",fullWidth:!0,value:ze.description,onChange:Z=>Ce({...ze,description:Z.target.value})})]}),r.jsxs(Fn,{children:[r.jsx(xe,{onClick:()=>Me(!1),children:"Cancel"}),r.jsx(xe,{onClick:$e,variant:"contained",children:"Save"})]})]}),r.jsxs(Dn,{open:St,onClose:()=>jt(!1),children:[r.jsx(Tn,{children:ut.id?"Edit PO Entity":"Add PO Entity"}),r.jsx(In,{children:r.jsx(_e,{autoFocus:!0,margin:"dense",label:"Name",fullWidth:!0,value:ut.name,onChange:Z=>Mt({...ut,name:Z.target.value})})}),r.jsxs(Fn,{children:[r.jsx(xe,{onClick:()=>jt(!1),children:"Cancel"}),r.jsx(xe,{onClick:tt,variant:"contained",children:"Save"})]})]}),r.jsxs(Dn,{open:Fe,onClose:()=>Ze(!1),children:[r.jsx(Tn,{children:Le.id?"Edit Service Type":"Add Service Type"}),r.jsx(In,{children:r.jsx(_e,{autoFocus:!0,margin:"dense",label:"Name",fullWidth:!0,value:Le.name,onChange:Z=>We({...Le,name:Z.target.value})})}),r.jsxs(Fn,{children:[r.jsx(xe,{onClick:()=>Ze(!1),children:"Cancel"}),r.jsx(xe,{onClick:pt,variant:"contained",children:"Save"})]})]}),r.jsxs(Dn,{open:nn,onClose:()=>Ol(!1),children:[r.jsx(Tn,{children:_n.id?"Edit Allocation Basis":"Add Allocation Basis"}),r.jsx(In,{children:r.jsx(_e,{autoFocus:!0,margin:"dense",label:"Name",fullWidth:!0,value:_n.name,onChange:Z=>ho({..._n,name:Z.target.value})})}),r.jsxs(Fn,{children:[r.jsx(xe,{onClick:()=>Ol(!1),children:"Cancel"}),r.jsx(xe,{onClick:Xl,variant:"contained",children:"Save"})]})]}),r.jsxs(Dn,{open:go,onClose:()=>Hl(!1),children:[r.jsx(Tn,{children:mo.id?"Edit Rate":"Add Rate"}),r.jsxs(In,{children:[r.jsxs(_e,{select:!0,margin:"dense",label:"From Currency",fullWidth:!0,value:mo.from_currency,onChange:Z=>vr({...mo,from_currency:Z.target.value}),sx:{mb:2},children:[r.jsx(Ve,{value:"USD",children:"USD"}),r.jsx(Ve,{value:"CAD",children:"CAD"}),r.jsx(Ve,{value:"INR",children:"INR"})]}),r.jsx(_e,{select:!0,margin:"dense",label:"To Currency",fullWidth:!0,value:mo.to_currency,disabled:!0,children:r.jsx(Ve,{value:"INR",children:"INR"})}),r.jsx(_e,{margin:"dense",label:"Rate",type:"number",fullWidth:!0,value:mo.rate,onChange:Z=>vr({...mo,rate:Z.target.value})})]}),r.jsxs(Fn,{children:[r.jsx(xe,{onClick:()=>Hl(!1),children:"Cancel"}),r.jsx(xe,{onClick:is,variant:"contained",children:"Save"})]})]}),r.jsx(Zr,{open:V,onClose:()=>R(!1),onExport:Gi}),r.jsx(Mi,{open:$.open,autoHideDuration:6e3,onClose:()=>_({...$,open:!1}),anchorOrigin:{vertical:"bottom",horizontal:"right"},children:r.jsx(cn,{severity:$.severity,onClose:()=>_({...$,open:!1}),children:$.message})})]})},vC={Admin:"error",Approver:"warning",Editor:"info",Viewer:"default"},pz={"View dashboards":{Viewer:!0,Editor:!0,Approver:!0,Admin:!0},"Create / edit line items":{Viewer:!1,Editor:!0,Approver:!0,Admin:!0},"Create / edit POs":{Viewer:!1,Editor:!0,Approver:!0,Admin:!0},"Submit PO for approval":{Viewer:!1,Editor:!0,Approver:!0,Admin:!0},"Approve / reject PO":{Viewer:!1,Editor:!1,Approver:!0,Admin:!0},"Edit budget BOA":{Viewer:!1,Editor:!0,Approver:!0,Admin:!0},"Approve budget changes":{Viewer:!1,Editor:!1,Approver:!0,Admin:!0},"Upload actuals":{Viewer:!1,Editor:!0,Approver:!0,Admin:!0},"Manage users & roles":{Viewer:!1,Editor:!1,Approver:!1,Admin:!0}},bz=()=>{const[t,l]=h.useState([]),[s,i]=h.useState(["Viewer","Editor","Approver","Admin"]),[c,d]=h.useState(!1),[g,p]=h.useState(!1),[m,x]=h.useState(null),[b,C]=h.useState({name:"",email:"",password:"",roles:["Viewer"],is_active:!0}),[v,D]=h.useState({open:!1,message:"",severity:"success"}),[j,F]=h.useState(!1),[I,k]=h.useState(!1);h.useEffect(()=>{T()},[]);const T=async()=>{try{const N=await je.get("/users");l(N)}catch(N){console.error("Error fetching users:",N),_("Error fetching users","error")}},z=(N=null)=>{N?(x(N),C({name:N.name,email:N.email,password:"",roles:N.roles||["Viewer"],is_active:N.is_active})):(x(null),C({name:"",email:"",password:"",roles:["Viewer"],is_active:!0})),d(!0)},V=()=>{d(!1),x(null)},R=async()=>{try{k(!0);const N=localStorage.getItem("token");m?(await je.put(`/users/${m.id}`,b),_("User updated successfully","success")):(await je.post("/users",b),_("User created successfully","success")),V(),T()}catch(N){console.error("Error saving user:",N),_(N.response?.data?.message||"Error saving user","error")}finally{k(!1)}},$=async N=>{if(window.confirm("Are you sure you want to delete this user?"))try{await je.delete(`/users/${N}`),_("User deleted successfully","success"),T()}catch(O){console.error("Error deleting user:",O),_(O.response?.data?.message||"Error deleting user","error")}},_=(N,O)=>{D({open:!0,message:N,severity:O})},U=N=>{try{const O=t.map(q=>({Name:q.name,Email:q.email,Roles:q.roles?.join(", "),Status:q.is_active?"Active":"Inactive"})),K=un.json_to_sheet(O),G=un.book_new();un.book_append_sheet(G,K,"Users");const L=`User_Management_${new Date().toISOString().split("T")[0]}.${N==="csv"?"csv":"xlsx"}`;Za(G,L,{bookType:N==="csv"?"csv":"xlsx"}),_(`User data exported as ${N.toUpperCase()} successfully!`,"success")}catch(O){console.error("Export error:",O),_("Error exporting data","error")}},A=()=>{D({...v,open:!1})},E=async(N,O)=>{try{return await je.put(`/users/${N.id}`,N),_("User updated successfully","success"),N}catch(K){return console.error("Update error:",K),_("Error updating user: "+(K.message||"Unknown error"),"error"),O}},B=N=>{_("Error processing update","error"),console.error("Process row update error:",N)};return r.jsxs(ie,{sx:{...tl,...uo},children:[r.jsxs(ie,{sx:Yl,children:[r.jsxs(ie,{sx:{display:"flex",alignItems:"center",gap:2},children:[r.jsx(fh,{sx:{fontSize:40,color:"primary.main"}}),r.jsxs(ie,{children:[r.jsx(pe,{sx:Kl,children:"User Management"}),r.jsx(pe,{variant:"body2",color:"text.secondary",children:"Manage users and their role-based permissions"})]})]}),r.jsxs(ie,{sx:{display:"flex",gap:2},children:[r.jsx(xe,{variant:"outlined",color:"success",startIcon:r.jsx(xr,{}),onClick:()=>F(!0),children:"Export"}),r.jsx(xe,{variant:"outlined",startIcon:r.jsx(xh,{}),onClick:()=>p(!0),children:"View Permissions Matrix"}),r.jsx(xe,{variant:"contained",startIcon:r.jsx(Xn,{}),onClick:()=>z(),children:"Add User"})]})]}),r.jsxs(wt,{container:!0,spacing:3,sx:{mb:3},children:[r.jsx(wt,{item:!0,xs:12,sm:6,md:3,children:r.jsx(_r,{children:r.jsxs(Vr,{children:[r.jsx(pe,{color:"text.secondary",gutterBottom:!0,children:"Total Users"}),r.jsx(pe,{variant:"h4",fontWeight:"bold",children:t.length})]})})}),r.jsx(wt,{item:!0,xs:12,sm:6,md:3,children:r.jsx(_r,{children:r.jsxs(Vr,{children:[r.jsx(pe,{color:"text.secondary",gutterBottom:!0,children:"Active Users"}),r.jsx(pe,{variant:"h4",fontWeight:"bold",children:t.filter(N=>N.is_active).length})]})})}),r.jsx(wt,{item:!0,xs:12,sm:6,md:3,children:r.jsx(_r,{children:r.jsxs(Vr,{children:[r.jsx(pe,{color:"text.secondary",gutterBottom:!0,children:"Admins"}),r.jsx(pe,{variant:"h4",fontWeight:"bold",children:t.filter(N=>N.roles?.includes("Admin")).length})]})})}),r.jsx(wt,{item:!0,xs:12,sm:6,md:3,children:r.jsx(_r,{children:r.jsxs(Vr,{children:[r.jsx(pe,{color:"text.secondary",gutterBottom:!0,children:"Approvers"}),r.jsx(pe,{variant:"h4",fontWeight:"bold",children:t.filter(N=>N.roles?.includes("Approver")).length})]})})})]}),r.jsx(nt,{elevation:0,sx:{width:"100%",height:500,border:"1px solid #d0d7de",borderRadius:"6px"},children:r.jsx(Zn,{rows:t,columns:[{field:"name",headerName:"Name",width:200,editable:!0,renderCell:N=>r.jsxs(ie,{sx:{display:"flex",alignItems:"center",gap:1},children:[r.jsx(hh,{color:"action"}),r.jsx(pe,{fontWeight:"medium",children:N.value})]})},{field:"email",headerName:"Email",width:250,editable:!0},{field:"roles",headerName:"Roles",width:300,renderCell:N=>r.jsx(ie,{sx:{display:"flex",gap:.5,flexWrap:"wrap"},children:N.value?.map(O=>r.jsx(Gt,{label:O,size:"small",color:vC[O]||"default"},O))})},{field:"is_active",headerName:"Status",width:120,renderCell:N=>r.jsx(Gt,{label:N.value?"Active":"Inactive",size:"small",color:N.value?"success":"default"})},{field:"actions",headerName:"Actions",width:120,type:"actions",getActions:N=>[r.jsx(Qt,{icon:r.jsx(fr,{title:"Edit",children:r.jsx(Jn,{})}),label:"Edit",onClick:()=>z(N.row)}),r.jsx(Qt,{icon:r.jsx(fr,{title:"Delete",children:r.jsx(oo,{})}),label:"Delete",onClick:()=>$(N.row.id),showInMenu:!1})]}],getRowId:N=>N.id,processRowUpdate:E,onProcessRowUpdateError:B,density:"compact",slots:{toolbar:Qn},initialState:{pagination:{paginationModel:{pageSize:10}}},pageSizeOptions:[10,25,50],disableRowSelectionOnClick:!0,sx:{"& .MuiDataGrid-columnHeaders":{backgroundColor:"#1976d2",color:"white",fontWeight:"bold"},"& .MuiDataGrid-columnHeaderTitle":{fontWeight:"bold"}}})}),r.jsxs(Dn,{open:c,onClose:V,maxWidth:"sm",fullWidth:!0,children:[r.jsx(Tn,{children:m?"Edit User":"Add New User"}),r.jsx(In,{children:r.jsxs(ie,{sx:{display:"flex",flexDirection:"column",gap:2,mt:2},children:[r.jsx(_e,{label:"Name",fullWidth:!0,value:b.name,onChange:N=>C({...b,name:N.target.value}),required:!0}),r.jsx(_e,{label:"Email",type:"email",fullWidth:!0,value:b.email,onChange:N=>C({...b,email:N.target.value}),required:!0}),r.jsx(_e,{label:m?"Password (leave blank to keep current)":"Password",type:"password",fullWidth:!0,value:b.password,onChange:N=>C({...b,password:N.target.value}),required:!m}),r.jsxs(Wa,{fullWidth:!0,children:[r.jsx(xi,{children:"Roles"}),r.jsx($a,{multiple:!0,value:b.roles,onChange:N=>C({...b,roles:N.target.value}),input:r.jsx(zC,{label:"Roles"}),renderValue:N=>r.jsx(ie,{sx:{display:"flex",flexWrap:"wrap",gap:.5},children:N.map(O=>r.jsx(Gt,{label:O,size:"small",color:vC[O]},O))}),children:s.map(N=>r.jsxs(Ve,{value:N,children:[r.jsx(Ph,{checked:b.roles.indexOf(N)>-1}),r.jsx(gr,{primary:N})]},N))})]}),r.jsx(bi,{control:r.jsx(iS,{checked:b.is_active,onChange:N=>C({...b,is_active:N.target.checked})}),label:"Active"})]})}),r.jsxs(Fn,{children:[r.jsx(xe,{onClick:V,children:"Cancel"}),r.jsx(xe,{onClick:R,variant:"contained",disabled:I,children:m?"Update":"Create"})]})]}),r.jsxs(Dn,{open:g,onClose:()=>p(!1),maxWidth:"md",fullWidth:!0,children:[r.jsx(Tn,{children:r.jsxs(ie,{sx:{display:"flex",alignItems:"center",gap:1},children:[r.jsx(fh,{}),r.jsx(pe,{variant:"h6",children:"Role & Permission Matrix"})]})}),r.jsx(In,{children:r.jsx(TableContainer,{children:r.jsxs(Table,{size:"small",children:[r.jsx(TableHead,{children:r.jsxs(TableRow,{children:[r.jsx(TableCell,{sx:{fontWeight:"bold",bgcolor:"grey.100"},children:"Module / Action"}),r.jsx(TableCell,{align:"center",sx:{fontWeight:"bold",bgcolor:"grey.100"},children:"Viewer"}),r.jsx(TableCell,{align:"center",sx:{fontWeight:"bold",bgcolor:"grey.100"},children:"Editor"}),r.jsx(TableCell,{align:"center",sx:{fontWeight:"bold",bgcolor:"grey.100"},children:"Approver"}),r.jsx(TableCell,{align:"center",sx:{fontWeight:"bold",bgcolor:"grey.100"},children:"Admin"})]})}),r.jsx(TableBody,{children:Object.entries(pz).map(([N,O])=>r.jsxs(TableRow,{hover:!0,children:[r.jsx(TableCell,{children:N}),r.jsx(TableCell,{align:"center",children:O.Viewer?"":""}),r.jsx(TableCell,{align:"center",children:O.Editor?"":""}),r.jsx(TableCell,{align:"center",children:O.Approver?"":""}),r.jsx(TableCell,{align:"center",children:O.Admin?"":""})]},N))})]})})}),r.jsx(Fn,{children:r.jsx(xe,{onClick:()=>p(!1),children:"Close"})})]}),r.jsx(Zr,{open:j,onClose:()=>F(!1),onExport:U}),r.jsx(Mi,{open:v.open,autoHideDuration:6e3,onClose:A,anchorOrigin:{vertical:"bottom",horizontal:"right"},children:r.jsx(cn,{onClose:A,severity:v.severity,sx:{width:"100%"},children:v.message})})]})},xz=()=>{const[t,l]=h.useState([]),[s,i]=h.useState(!0),[c,d]=h.useState(null),[g,p]=h.useState(null),[m,x]=h.useState(!1),[b,C]=h.useState(!1),[v,D]=h.useState([]),[j,F]=h.useState(0),{token:I}=fl();h.useRef({});const k=[{id:"vendor_service",label:"Vendor / Service",width:"200px",editable:!1,sticky:!0},{id:"basis_of_allocation",label:"Basis of Allocation",width:"150px",editable:!0},{id:"total_count",label:"Total Count",width:"100px",editable:!0},{id:"jpm_corporate",label:"JPM Corporate",width:"120px",editable:!0},{id:"jphi_corporate",label:"JPHI Corporate",width:"120px",editable:!0},{id:"biosys_bengaluru",label:"Biosys - Bengaluru",width:"140px",editable:!0},{id:"biosys_noida",label:"Biosys - Noida",width:"130px",editable:!0},{id:"biosys_greater_noida",label:"Biosys - Greater Noida",width:"160px",editable:!0},{id:"pharmova_api",label:"Pharmova - API",width:"130px",editable:!0},{id:"jgl_dosage",label:"JGL - Dosage",width:"120px",editable:!0},{id:"jgl_ibp",label:"JGL - IBP",width:"100px",editable:!0},{id:"cadista_dosage",label:"Cadista - Dosage",width:"140px",editable:!0},{id:"jdi_radio_pharmaceuticals",label:"JDI  Radio Pharmaceuticals",width:"180px",editable:!0},{id:"jdi_radiopharmacies",label:"JDI - Radiopharmacies",width:"160px",editable:!0},{id:"jhs_gp_cmo",label:"JHS GP CMO",width:"120px",editable:!0},{id:"jhs_llc_cmo",label:"JHS LLC - CMO",width:"130px",editable:!0},{id:"jhs_llc_allergy",label:"JHS LLC - Allergy",width:"140px",editable:!0},{id:"ingrevia",label:"Ingrevia",width:"100px",editable:!0},{id:"jil_jacpl",label:"JIL - JACPL",width:"110px",editable:!0},{id:"jfl",label:"JFL",width:"80px",editable:!0},{id:"consumer",label:"Consumer",width:"100px",editable:!0},{id:"jti",label:"JTI",width:"80px",editable:!0},{id:"jogpl",label:"JOGPL",width:"90px",editable:!0},{id:"enpro",label:"Enpro",width:"90px",editable:!0}],T={headerCell:{backgroundColor:"#0d47a1",color:"white",fontWeight:600,fontSize:"11px",borderRight:"1px solid #d0d0d0",borderBottom:"2px solid #0d47a1",padding:"4px 8px",height:"30px",position:"sticky",top:0,zIndex:10,whiteSpace:"nowrap"},stickyHeaderCell:{backgroundColor:"#0d47a1",color:"white",fontWeight:600,fontSize:"11px",borderRight:"2px solid #0d47a1",borderBottom:"2px solid #0d47a1",padding:"4px 8px",height:"30px",position:"sticky",left:0,top:0,zIndex:11,whiteSpace:"nowrap"},cell:{borderRight:"1px solid #e0e0e0",borderBottom:"1px solid #e0e0e0",padding:"2px 8px",fontSize:"11px",height:"28px",minWidth:"60px"},stickyCell:{position:"sticky",left:0,backgroundColor:"#fff",borderRight:"2px solid #0d47a1",borderBottom:"1px solid #e0e0e0",padding:"2px 8px",fontSize:"11px",fontWeight:500,height:"28px",zIndex:1},input:{width:"100%",fontSize:"11px",padding:"2px 4px",border:"1px solid #ccc",borderRadius:"2px","&:focus":{outline:"2px solid #1976d2",borderColor:"#1976d2"}}};h.useEffect(()=>{z()},[]);const z=async()=>{i(!0),d(null);try{if(!I)throw new Error("No authentication token found. Please login again.");const O=await fetch("/api/actual-boa",{headers:{Authorization:`Bearer ${I}`,"Content-Type":"application/json"}});if(!O.ok){const G=await O.json().catch(()=>({}));throw new Error(G.error||`Failed to fetch data: ${O.status} ${O.statusText}`)}const K=await O.json();l(K),D(JSON.parse(JSON.stringify(K)))}catch(O){console.error("Error fetching Actual BOA data:",O),d(O.message||"Failed to fetch data. Please try again.")}finally{i(!1)}},V=()=>{x(!0),D(JSON.parse(JSON.stringify(t)))},R=()=>{x(!1),D(JSON.parse(JSON.stringify(t))),d(null)},$=async()=>{try{d(null);const O=v.map(K=>({id:K.id,...K}));for(const K of O)if(!(await fetch(`/api/actual-boa/${K.id}`,{method:"PUT",headers:{Authorization:`Bearer ${I}`,"Content-Type":"application/json"},body:JSON.stringify(K)})).ok)throw new Error(`Failed to update row ${K.id}`);p("Data saved successfully!"),l(v),x(!1),setTimeout(()=>p(null),3e3)}catch(O){d(O.message||"Failed to save data")}},_=(O,K,G)=>{const S=[...v];S[O][K]=G,D(S)},U=(O,K,G)=>{O.preventDefault();const M=O.clipboardData.getData("text").split(`
`).filter(Y=>Y.trim()),L=[...v],q=k.findIndex(Y=>Y.id===G);M.forEach((Y,W)=>{const Q=Y.split("	"),le=K+W;le<L.length&&Q.forEach((re,me)=>{const ce=q+me;if(ce<k.length&&k[ce].editable){const ve=k[ce].id;L[le][ve]=re.trim()}})}),D(L)},A=async()=>{try{if(!(await fetch("/api/actual-boa/seed",{method:"POST",headers:{Authorization:`Bearer ${I}`}})).ok)throw new Error("Failed to seed data");z()}catch(O){d(O.message)}},E=(O,K)=>!K||K===0?0:(O/K*100).toFixed(2),B=O=>{try{const K=t.map(Y=>{const W={};return k.forEach(Q=>{j===1&&Q.editable?W[Q.label]=`${E(Y[Q.id],Y.total_count)}%`:W[Q.label]=Y[Q.id]}),W}),G=un.json_to_sheet(K),S=un.book_new();un.book_append_sheet(S,G,"Actual BOA");const M=new Date().toISOString().split("T")[0],q=`Actual_BOA_${j===0?"Values":"Percentage"}_${M}.${O==="csv"?"csv":"xlsx"}`;Za(S,q,{bookType:O==="csv"?"csv":"xlsx"}),p(`Data exported as ${O.toUpperCase()} successfully!`),setTimeout(()=>p(null),3e3)}catch{d("Error exporting data")}};if(s)return r.jsx(ie,{display:"flex",justifyContent:"center",m:4,children:r.jsx(Bn,{})});const N=m?v:t;return r.jsxs(ie,{sx:{...tl,...uo},children:[r.jsxs(ie,{sx:Yl,children:[r.jsx(pe,{sx:Kl,children:"Actual BOA"}),r.jsxs(ie,{display:"flex",gap:2,children:[r.jsx(xe,{variant:"outlined",color:"success",startIcon:r.jsx(xr,{}),onClick:()=>C(!0),children:"Export"}),t.length===0&&r.jsx(xe,{variant:"contained",color:"primary",onClick:A,children:"Seed Default Data"}),m?r.jsxs(r.Fragment,{children:[r.jsx(xe,{variant:"outlined",startIcon:r.jsx(Nh,{}),onClick:R,children:"Cancel"}),r.jsx(xe,{variant:"contained",color:"success",startIcon:r.jsx(Su,{}),onClick:$,children:"Save Changes"})]}):r.jsx(xe,{variant:"contained",startIcon:r.jsx(Jn,{}),onClick:V,children:"Edit Mode"})]})]}),c&&r.jsx(cn,{severity:"error",onClose:()=>d(null),sx:{mb:2},children:c}),g&&r.jsx(cn,{severity:"success",onClose:()=>p(null),sx:{mb:2},children:g}),r.jsx(nt,{elevation:2,sx:{mb:2},children:r.jsxs(ji,{value:j,onChange:(O,K)=>F(K),sx:{borderBottom:1,borderColor:"divider"},children:[r.jsx(Cn,{label:"Values"}),r.jsx(Cn,{label:"Percentage Allocation"})]})}),r.jsx(Rn,{component:nt,sx:{maxHeight:600,border:"1px solid #d0d0d0"},children:r.jsxs(Nn,{stickyHeader:!0,size:"small",sx:{minWidth:2e3},children:[r.jsx(Gn,{children:r.jsx(it,{children:k.map(O=>r.jsx(ue,{sx:O.sticky?T.stickyHeaderCell:T.headerCell,style:{width:O.width,minWidth:O.width},children:O.label},O.id))})}),r.jsx(Ln,{children:N.map((O,K)=>r.jsx(it,{hover:!0,children:k.map(G=>r.jsx(ue,{sx:G.sticky?T.stickyCell:T.cell,style:{width:G.width,minWidth:G.width},children:m&&G.editable?r.jsx(_e,{size:"small",value:O[G.id]||"",onChange:S=>_(K,G.id,S.target.value),onPaste:S=>U(S,K,G.id),sx:T.input,variant:"outlined"}):j===1&&G.editable?`${E(O[G.id],O.total_count)}%`:O[G.id]||"-"},`${O.id}-${G.id}`))},O.id))})]})}),m&&r.jsxs(cn,{severity:"info",sx:{mt:2},children:[r.jsx("strong",{children:"Excel Paste Supported:"})," You can copy data from Excel and paste it directly into the cells. Use Tab or Ctrl+V to paste multiple cells at once."]}),r.jsx(Zr,{open:b,onClose:()=>C(!1),onExport:B})]})},Cz=()=>{const[t,l]=h.useState([]),[s,i]=h.useState(!0),[c,d]=h.useState(null),[g,p]=h.useState(null),[m,x]=h.useState(!1),[b,C]=h.useState(!1),[v,D]=h.useState([]),[j,F]=h.useState(0),{token:I}=fl();h.useRef({});const k=[{id:"vendor_service",label:"Vendor / Service",width:"200px",editable:!1,sticky:!0},{id:"basis_of_allocation",label:"Basis of Allocation",width:"150px",editable:!0},{id:"total_count",label:"Total Count",width:"100px",editable:!0},{id:"jpm_corporate",label:"JPM Corporate",width:"120px",editable:!0},{id:"jphi_corporate",label:"JPHI Corporate",width:"120px",editable:!0},{id:"biosys_bengaluru",label:"Biosys - Bengaluru",width:"140px",editable:!0},{id:"biosys_noida",label:"Biosys - Noida",width:"130px",editable:!0},{id:"biosys_greater_noida",label:"Biosys - Greater Noida",width:"160px",editable:!0},{id:"pharmova_api",label:"Pharmova - API",width:"130px",editable:!0},{id:"jgl_dosage",label:"JGL - Dosage",width:"120px",editable:!0},{id:"jgl_ibp",label:"JGL - IBP",width:"100px",editable:!0},{id:"cadista_dosage",label:"Cadista - Dosage",width:"140px",editable:!0},{id:"jdi_radio_pharmaceuticals",label:"JDI  Radio Pharmaceuticals",width:"180px",editable:!0},{id:"jdi_radiopharmacies",label:"JDI - Radiopharmacies",width:"160px",editable:!0},{id:"jhs_gp_cmo",label:"JHS GP CMO",width:"120px",editable:!0},{id:"jhs_llc_cmo",label:"JHS LLC - CMO",width:"130px",editable:!0},{id:"jhs_llc_allergy",label:"JHS LLC - Allergy",width:"140px",editable:!0},{id:"ingrevia",label:"Ingrevia",width:"100px",editable:!0},{id:"jil_jacpl",label:"JIL - JACPL",width:"110px",editable:!0},{id:"jfl",label:"JFL",width:"80px",editable:!0},{id:"consumer",label:"Consumer",width:"100px",editable:!0},{id:"jti",label:"JTI",width:"80px",editable:!0},{id:"jogpl",label:"JOGPL",width:"90px",editable:!0},{id:"enpro",label:"Enpro",width:"90px",editable:!0}],T={headerCell:{backgroundColor:"#1565c0",color:"white",fontWeight:600,fontSize:"11px",borderRight:"1px solid #d0d0d0",borderBottom:"2px solid #1565c0",padding:"4px 8px",height:"30px",position:"sticky",top:0,zIndex:10,whiteSpace:"nowrap"},stickyHeaderCell:{backgroundColor:"#1565c0",color:"white",fontWeight:600,fontSize:"11px",borderRight:"2px solid #1565c0",borderBottom:"2px solid #1565c0",padding:"4px 8px",height:"30px",position:"sticky",left:0,top:0,zIndex:11,whiteSpace:"nowrap"},cell:{borderRight:"1px solid #e0e0e0",borderBottom:"1px solid #e0e0e0",padding:"2px 8px",fontSize:"11px",height:"28px",minWidth:"60px"},stickyCell:{position:"sticky",left:0,backgroundColor:"#fff",borderRight:"2px solid #1565c0",borderBottom:"1px solid #e0e0e0",padding:"2px 8px",fontSize:"11px",fontWeight:500,height:"28px",zIndex:1},input:{width:"100%",fontSize:"11px",padding:"2px 4px",border:"1px solid #ccc",borderRadius:"2px","&:focus":{outline:"2px solid #1976d2",borderColor:"#1976d2"}}};h.useEffect(()=>{z()},[]);const z=async()=>{i(!0),d(null);try{if(!I)throw new Error("No authentication token found. Please login again.");const O=await fetch("/api/budget-boa",{headers:{Authorization:`Bearer ${I}`,"Content-Type":"application/json"}});if(!O.ok){const G=await O.json().catch(()=>({}));throw new Error(G.error||`Failed to fetch data: ${O.status} ${O.statusText}`)}const K=await O.json();l(K),D(JSON.parse(JSON.stringify(K)))}catch(O){console.error("Error fetching Budget BOA data:",O),d(O.message||"Failed to fetch data. Please try again.")}finally{i(!1)}},V=()=>{x(!0),D(JSON.parse(JSON.stringify(t)))},R=()=>{x(!1),D(JSON.parse(JSON.stringify(t))),d(null)},$=async()=>{try{d(null);const O=v.map(K=>({id:K.id,...K}));for(const K of O)if(!(await fetch(`/api/budget-boa/${K.id}`,{method:"PUT",headers:{Authorization:`Bearer ${I}`,"Content-Type":"application/json"},body:JSON.stringify(K)})).ok)throw new Error(`Failed to update row ${K.id}`);p("Data saved successfully!"),l(v),x(!1),setTimeout(()=>p(null),3e3)}catch(O){d(O.message||"Failed to save data")}},_=(O,K,G)=>{const S=[...v];S[O][K]=G,D(S)},U=(O,K,G)=>{O.preventDefault();const M=O.clipboardData.getData("text").split(`
`).filter(Y=>Y.trim()),L=[...v],q=k.findIndex(Y=>Y.id===G);M.forEach((Y,W)=>{const Q=Y.split("	"),le=K+W;le<L.length&&Q.forEach((re,me)=>{const ce=q+me;if(ce<k.length&&k[ce].editable){const ve=k[ce].id;L[le][ve]=re.trim()}})}),D(L)},A=async()=>{try{if(!(await fetch("/api/budget-boa/seed",{method:"POST",headers:{Authorization:`Bearer ${I}`}})).ok)throw new Error("Failed to seed data");z()}catch(O){d(O.message)}},E=(O,K)=>!K||K===0?0:(O/K*100).toFixed(2),B=O=>{try{const K=t.map(Y=>{const W={};return k.forEach(Q=>{j===1&&Q.editable?W[Q.label]=`${E(Y[Q.id],Y.total_count)}%`:W[Q.label]=Y[Q.id]}),W}),G=un.json_to_sheet(K),S=un.book_new();un.book_append_sheet(S,G,"Budget BOA");const M=new Date().toISOString().split("T")[0],q=`Budget_BOA_${j===0?"Values":"Percentage"}_${M}.${O==="csv"?"csv":"xlsx"}`;Za(S,q,{bookType:O==="csv"?"csv":"xlsx"}),p(`Data exported as ${O.toUpperCase()} successfully!`),setTimeout(()=>p(null),3e3)}catch{d("Error exporting data")}};if(s)return r.jsx(ie,{display:"flex",justifyContent:"center",m:4,children:r.jsx(Bn,{})});const N=m?v:t;return r.jsxs(ie,{sx:{...tl,...uo},children:[r.jsxs(ie,{sx:Yl,children:[r.jsx(pe,{sx:Kl,children:"Budget BOA"}),r.jsxs(ie,{display:"flex",gap:2,children:[r.jsx(xe,{variant:"outlined",color:"success",startIcon:r.jsx(xr,{}),onClick:()=>C(!0),children:"Export"}),t.length===0&&r.jsx(xe,{variant:"contained",color:"primary",onClick:A,children:"Seed Default Data"}),m?r.jsxs(r.Fragment,{children:[r.jsx(xe,{variant:"outlined",startIcon:r.jsx(Nh,{}),onClick:R,children:"Cancel"}),r.jsx(xe,{variant:"contained",color:"success",startIcon:r.jsx(Su,{}),onClick:$,children:"Save Changes"})]}):r.jsx(xe,{variant:"contained",startIcon:r.jsx(Jn,{}),onClick:V,children:"Edit Mode"})]})]}),c&&r.jsx(cn,{severity:"error",onClose:()=>d(null),sx:{mb:2},children:c}),g&&r.jsx(cn,{severity:"success",onClose:()=>p(null),sx:{mb:2},children:g}),r.jsx(nt,{elevation:2,sx:{mb:2},children:r.jsxs(ji,{value:j,onChange:(O,K)=>F(K),sx:{borderBottom:1,borderColor:"divider"},children:[r.jsx(Cn,{label:"Values"}),r.jsx(Cn,{label:"Percentage Allocation"})]})}),r.jsx(Rn,{component:nt,sx:{maxHeight:600,border:"1px solid #d0d0d0"},children:r.jsxs(Nn,{stickyHeader:!0,size:"small",sx:{minWidth:2e3},children:[r.jsx(Gn,{children:r.jsx(it,{children:k.map(O=>r.jsx(ue,{sx:O.sticky?T.stickyHeaderCell:T.headerCell,style:{width:O.width,minWidth:O.width},children:O.label},O.id))})}),r.jsx(Ln,{children:N.map((O,K)=>r.jsx(it,{hover:!0,children:k.map(G=>r.jsx(ue,{sx:G.sticky?T.stickyCell:T.cell,style:{width:G.width,minWidth:G.width},children:m&&G.editable?r.jsx(_e,{size:"small",value:O[G.id]||"",onChange:S=>_(K,G.id,S.target.value),onPaste:S=>U(S,K,G.id),sx:T.input,variant:"outlined"}):j===1&&G.editable?`${E(O[G.id],O.total_count)}%`:O[G.id]||"-"},`${O.id}-${G.id}`))},O.id))})]})}),m&&r.jsxs(cn,{severity:"info",sx:{mt:2},children:[r.jsx("strong",{children:"Excel Paste Supported:"})," You can copy data from Excel and paste it directly into the cells. Use Tab or Ctrl+V to paste multiple cells at once."]}),r.jsx(Zr,{open:b,onClose:()=>C(!1),onExport:B})]})},yz=({children:t})=>{const{token:l,isLoading:s}=fl();return s?r.jsx(GS,{fullScreen:!0}):l?t:r.jsx(mS,{to:"/login"})};function vz(){return r.jsx(PS,{children:r.jsx(AS,{children:r.jsxs(OC,{theme:ui,children:[r.jsx(kC,{}),r.jsx(hS,{children:r.jsxs(gS,{children:[r.jsx(Hn,{path:"/login",element:r.jsx(LS,{})}),r.jsxs(Hn,{path:"/",element:r.jsx(yz,{children:r.jsx(NS,{})}),children:[r.jsx(Hn,{index:!0,element:r.jsx(BS,{})}),r.jsx(Hn,{path:"budgets",element:r.jsx(lz,{})}),r.jsx(Hn,{path:"budgets/monthly",element:r.jsx(rz,{})}),r.jsx(Hn,{path:"budgets/:uid",element:r.jsx(iz,{})}),r.jsx(Hn,{path:"pos",element:r.jsx(uz,{})}),r.jsx(Hn,{path:"pos/new",element:r.jsx(CC,{})}),r.jsx(Hn,{path:"pos/:id/edit",element:r.jsx(CC,{})}),r.jsx(Hn,{path:"actuals",element:r.jsx(hz,{})}),r.jsx(Hn,{path:"imports",element:r.jsx(gz,{})}),r.jsx(Hn,{path:"master-data",element:r.jsx(mz,{})}),r.jsx(Hn,{path:"users",element:r.jsx(bz,{})}),r.jsx(Hn,{path:"actual-boa",element:r.jsx(xz,{})}),r.jsx(Hn,{path:"budget-boa",element:r.jsx(Cz,{})})]})]})})]})})})}const wz=zh({palette:{mode:"light",primary:{main:"#1976d2"},secondary:{main:"#dc004e"},background:{default:"#f4f7fc",paper:"#ffffff"}},components:{MuiDataGrid:{styleOverrides:{root:{border:"1px solid #e0e0e0",borderRadius:"8px",backgroundColor:"#ffffff","& .MuiDataGrid-columnHeaders":{backgroundColor:"#f8f9fa",color:"#1a237e",fontWeight:"bold",borderBottom:"2px solid #1976d2"},"& .MuiDataGrid-cell":{borderColor:"#f0f0f0"},"& .MuiDataGrid-toolbarContainer":{padding:"12px",borderBottom:"1px solid #e0e0e0",backgroundColor:"#ffffff","& .MuiButton-root":{fontWeight:700,textTransform:"uppercase",fontSize:"0.75rem",color:"#1976d2",marginRight:"8px","& .MuiSvgIcon-root":{fontSize:"1.2rem"}}},"& .MuiDataGrid-footerContainer":{borderTop:"1px solid #e0e0e0"}}}},MuiPaper:{styleOverrides:{root:{borderRadius:"8px",boxShadow:"0 2px 10px rgba(0,0,0,0.05)"}}}}});FS.createRoot(document.getElementById("root")).render(r.jsx(Gh.StrictMode,{children:r.jsxs(OC,{theme:wz,children:[r.jsx(kC,{}),r.jsx(vz,{})]})}));
