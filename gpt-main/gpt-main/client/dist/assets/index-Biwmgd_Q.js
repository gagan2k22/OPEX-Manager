import{j as r,B as se,P as tt,T as pe,a as xe,R as SC,H as Ew,F as Dw,S as ex,I as ql,M as Tw,L as Iw,b as Fw,d as Ne,e as Aw,u as jC,f as zw,A as Ow,g as kw,h as ji,i as Cn,k as hh,l as tx,m as Wf,n as Re,o as Hw,p as nx,q as gh,s as Pw,t as mh,D as zh,v as Rw,w as Nw,x as MC,y as lx,z as Oh,C as _r,E as _n,G as Gw,J as Br,K as Vr,N as cn,O as dt,Q as ph,U as ox,V as io,W as EC,X as Lw,_ as w,Y as Ee,Z as On,$ as Ut,a0 as Ke,a1 as DC,a2 as Xr,a3 as Ot,a4 as kh,c as lt,a5 as TC,a6 as _w,a7 as Hh,a8 as co,a9 as wu,aa as Po,ab as Bw,ac as Vw,ad as Nt,ae as Tt,af as IC,ag as $r,ah as Qa,ai as hr,aj as Uw,ak as $w,al as Ww,am as rx,an as qw,ao as kt,ap as gr,aq as Yw,ar as bi,as as Zs,at as Kw,au as Ph,av as Xw,aw as ax,ax as Qw,ay as Gt,az as xi,aA as fr,aB as FC,aC as $a,aD as Wa,aE as Rh,aF as Zw,aG as Jw,aH as ee,aI as Tn,aJ as In,aK as eS,aL as Fn,aM as tS,aN as qf,aO as Yf,aP as bh,aQ as Rn,aR as Nn,aS as Gn,aT as it,aU as ue,aV as Ln,aW as gi,aX as Nh,aY as AC,aZ as An,a_ as nS,a$ as sx,b0 as xr,b1 as zC,b2 as Qn,b3 as Mi,b4 as Su,b5 as Gh,b6 as el,b7 as lS,b8 as oS,b9 as xh,ba as rS,bb as aS,bc as Ch,bd as OC,be as oo,bf as Zc,bg as sS,bh as iS,bi as kC,bj as HC}from"./ui-B776Ypzx.js";import{d as PC,e as cS,g as RC,r as h,u as Ei,f as uS,a as Lh,O as dS,c as fS,h as NC,B as hS,i as gS,j as Dn,N as mS}from"./vendor-1L_52EHP.js";import{a as Wr,u as un,w as Za}from"./utils-oHQWwQ1d.js";import{R as ii,B as yh,C as tu,X as nu,Y as lu,T as ci,L as ou,a as mi,P as pS,b as bS,c as xS,d as CS,e as yS,r as vS,f as wS,l as GC,g as SS,h as jS}from"./charts-YseVqr04.js";(function(){const l=document.createElement("link").relList;if(l&&l.supports&&l.supports("modulepreload"))return;for(const c of document.querySelectorAll('link[rel="modulepreload"]'))i(c);new MutationObserver(c=>{for(const d of c)if(d.type==="childList")for(const g of d.addedNodes)g.tagName==="LINK"&&g.rel==="modulepreload"&&i(g)}).observe(document,{childList:!0,subtree:!0});function s(c){const d={};return c.integrity&&(d.integrity=c.integrity),c.referrerPolicy&&(d.referrerPolicy=c.referrerPolicy),c.crossOrigin==="use-credentials"?d.credentials="include":c.crossOrigin==="anonymous"?d.credentials="omit":d.credentials="same-origin",d}function i(c){if(c.ep)return;c.ep=!0;const d=s(c);fetch(c.href,d)}})();var Kf={exports:{}},Js={},Xf={exports:{}},Qf={};var ix;function MS(){return ix||(ix=1,(function(t){function l(S,z){var F=S.length;S.push(z);e:for(;0<F;){var q=F-1>>>1,Y=S[q];if(0<c(Y,z))S[q]=z,S[F]=Y,F=q;else break e}}function s(S){return S.length===0?null:S[0]}function i(S){if(S.length===0)return null;var z=S[0],F=S.pop();if(F!==z){S[0]=F;e:for(var q=0,Y=S.length,$=Y>>>1;q<$;){var Q=2*(q+1)-1,oe=S[Q],ae=Q+1,fe=S[ae];if(0>c(oe,F))ae<Y&&0>c(fe,oe)?(S[q]=fe,S[ae]=F,q=ae):(S[q]=oe,S[Q]=F,q=Q);else if(ae<Y&&0>c(fe,F))S[q]=fe,S[ae]=F,q=ae;else break e}}return z}function c(S,z){var F=S.sortIndex-z.sortIndex;return F!==0?F:S.id-z.id}if(t.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var d=performance;t.unstable_now=function(){return d.now()}}else{var g=Date,p=g.now();t.unstable_now=function(){return g.now()-p}}var m=[],x=[],b=1,C=null,v=3,M=!1,j=!1,T=!1,I=!1,O=typeof setTimeout=="function"?setTimeout:null,D=typeof clearTimeout=="function"?clearTimeout:null,P=typeof setImmediate<"u"?setImmediate:null;function B(S){for(var z=s(x);z!==null;){if(z.callback===null)i(x);else if(z.startTime<=S)i(x),z.sortIndex=z.expirationTime,l(m,z);else break;z=s(x)}}function R(S){if(T=!1,B(S),!j)if(s(m)!==null)j=!0,W||(W=!0,G());else{var z=s(x);z!==null&&L(R,z.startTime-S)}}var W=!1,V=-1,U=5,A=-1;function E(){return I?!0:!(t.unstable_now()-A<U)}function _(){if(I=!1,W){var S=t.unstable_now();A=S;var z=!0;try{e:{j=!1,T&&(T=!1,D(V),V=-1),M=!0;var F=v;try{t:{for(B(S),C=s(m);C!==null&&!(C.expirationTime>S&&E());){var q=C.callback;if(typeof q=="function"){C.callback=null,v=C.priorityLevel;var Y=q(C.expirationTime<=S);if(S=t.unstable_now(),typeof Y=="function"){C.callback=Y,B(S),z=!0;break t}C===s(m)&&i(m),B(S)}else i(m);C=s(m)}if(C!==null)z=!0;else{var $=s(x);$!==null&&L(R,$.startTime-S),z=!1}}break e}finally{C=null,v=F,M=!1}z=void 0}}finally{z?G():W=!1}}}var G;if(typeof P=="function")G=function(){P(_)};else if(typeof MessageChannel<"u"){var k=new MessageChannel,K=k.port2;k.port1.onmessage=_,G=function(){K.postMessage(null)}}else G=function(){O(_,0)};function L(S,z){V=O(function(){S(t.unstable_now())},z)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(S){S.callback=null},t.unstable_forceFrameRate=function(S){0>S||125<S?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):U=0<S?Math.floor(1e3/S):5},t.unstable_getCurrentPriorityLevel=function(){return v},t.unstable_next=function(S){switch(v){case 1:case 2:case 3:var z=3;break;default:z=v}var F=v;v=z;try{return S()}finally{v=F}},t.unstable_requestPaint=function(){I=!0},t.unstable_runWithPriority=function(S,z){switch(S){case 1:case 2:case 3:case 4:case 5:break;default:S=3}var F=v;v=S;try{return z()}finally{v=F}},t.unstable_scheduleCallback=function(S,z,F){var q=t.unstable_now();switch(typeof F=="object"&&F!==null?(F=F.delay,F=typeof F=="number"&&0<F?q+F:q):F=q,S){case 1:var Y=-1;break;case 2:Y=250;break;case 5:Y=1073741823;break;case 4:Y=1e4;break;default:Y=5e3}return Y=F+Y,S={id:b++,callback:z,priorityLevel:S,startTime:F,expirationTime:Y,sortIndex:-1},F>q?(S.sortIndex=F,l(x,S),s(m)===null&&S===s(x)&&(T?(D(V),V=-1):T=!0,L(R,F-q))):(S.sortIndex=Y,l(m,S),j||M||(j=!0,W||(W=!0,G()))),S},t.unstable_shouldYield=E,t.unstable_wrapCallback=function(S){var z=v;return function(){var F=v;v=z;try{return S.apply(this,arguments)}finally{v=F}}}})(Qf)),Qf}var cx;function ES(){return cx||(cx=1,Xf.exports=MS()),Xf.exports}var ux;function DS(){if(ux)return Js;ux=1;var t=ES(),l=PC(),s=cS();function i(e){var n="https://react.dev/errors/"+e;if(1<arguments.length){n+="?args[]="+encodeURIComponent(arguments[1]);for(var o=2;o<arguments.length;o++)n+="&args[]="+encodeURIComponent(arguments[o])}return"Minified React error #"+e+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function c(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function d(e){var n=e,o=e;if(e.alternate)for(;n.return;)n=n.return;else{e=n;do n=e,(n.flags&4098)!==0&&(o=n.return),e=n.return;while(e)}return n.tag===3?o:null}function g(e){if(e.tag===13){var n=e.memoizedState;if(n===null&&(e=e.alternate,e!==null&&(n=e.memoizedState)),n!==null)return n.dehydrated}return null}function p(e){if(e.tag===31){var n=e.memoizedState;if(n===null&&(e=e.alternate,e!==null&&(n=e.memoizedState)),n!==null)return n.dehydrated}return null}function m(e){if(d(e)!==e)throw Error(i(188))}function x(e){var n=e.alternate;if(!n){if(n=d(e),n===null)throw Error(i(188));return n!==e?null:e}for(var o=e,a=n;;){var u=o.return;if(u===null)break;var f=u.alternate;if(f===null){if(a=u.return,a!==null){o=a;continue}break}if(u.child===f.child){for(f=u.child;f;){if(f===o)return m(u),e;if(f===a)return m(u),n;f=f.sibling}throw Error(i(188))}if(o.return!==a.return)o=u,a=f;else{for(var y=!1,H=u.child;H;){if(H===o){y=!0,o=u,a=f;break}if(H===a){y=!0,a=u,o=f;break}H=H.sibling}if(!y){for(H=f.child;H;){if(H===o){y=!0,o=f,a=u;break}if(H===a){y=!0,a=f,o=u;break}H=H.sibling}if(!y)throw Error(i(189))}}if(o.alternate!==a)throw Error(i(190))}if(o.tag!==3)throw Error(i(188));return o.stateNode.current===o?e:n}function b(e){var n=e.tag;if(n===5||n===26||n===27||n===6)return e;for(e=e.child;e!==null;){if(n=b(e),n!==null)return n;e=e.sibling}return null}var C=Object.assign,v=Symbol.for("react.element"),M=Symbol.for("react.transitional.element"),j=Symbol.for("react.portal"),T=Symbol.for("react.fragment"),I=Symbol.for("react.strict_mode"),O=Symbol.for("react.profiler"),D=Symbol.for("react.consumer"),P=Symbol.for("react.context"),B=Symbol.for("react.forward_ref"),R=Symbol.for("react.suspense"),W=Symbol.for("react.suspense_list"),V=Symbol.for("react.memo"),U=Symbol.for("react.lazy"),A=Symbol.for("react.activity"),E=Symbol.for("react.memo_cache_sentinel"),_=Symbol.iterator;function G(e){return e===null||typeof e!="object"?null:(e=_&&e[_]||e["@@iterator"],typeof e=="function"?e:null)}var k=Symbol.for("react.client.reference");function K(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===k?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case T:return"Fragment";case O:return"Profiler";case I:return"StrictMode";case R:return"Suspense";case W:return"SuspenseList";case A:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case j:return"Portal";case P:return e.displayName||"Context";case D:return(e._context.displayName||"Context")+".Consumer";case B:var n=e.render;return e=e.displayName,e||(e=n.displayName||n.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case V:return n=e.displayName||null,n!==null?n:K(e.type)||"Memo";case U:n=e._payload,e=e._init;try{return K(e(n))}catch{}}return null}var L=Array.isArray,S=l.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,z=s.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,F={pending:!1,data:null,method:null,action:null},q=[],Y=-1;function $(e){return{current:e}}function Q(e){0>Y||(e.current=q[Y],q[Y]=null,Y--)}function oe(e,n){Y++,q[Y]=e.current,e.current=n}var ae=$(null),fe=$(null),ce=$(null),ve=$(null);function Te(e,n){switch(oe(ce,n),oe(fe,e),oe(ae,null),n.nodeType){case 9:case 11:e=(e=n.documentElement)&&(e=e.namespaceURI)?Sb(e):0;break;default:if(e=n.tagName,n=n.namespaceURI)n=Sb(n),e=jb(n,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}Q(ae),oe(ae,e)}function je(){Q(ae),Q(fe),Q(ce)}function Ae(e){e.memoizedState!==null&&oe(ve,e);var n=ae.current,o=jb(n,e.type);n!==o&&(oe(fe,e),oe(ae,o))}function Le(e){fe.current===e&&(Q(ae),Q(fe)),ve.current===e&&(Q(ve),Ys._currentValue=F)}var be,Me;function ze(e){if(be===void 0)try{throw Error()}catch(o){var n=o.stack.trim().match(/\n( *(at )?)/);be=n&&n[1]||"",Me=-1<o.stack.indexOf(`
    at`)?" (<anonymous>)":-1<o.stack.indexOf("@")?"@unknown:0:0":""}return`
`+be+e+Me}var Ce=!1;function $e(e,n){if(!e||Ce)return"";Ce=!0;var o=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var a={DetermineComponentFrameRoot:function(){try{if(n){var me=function(){throw Error()};if(Object.defineProperty(me.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(me,[])}catch(ie){var re=ie}Reflect.construct(e,[],me)}else{try{me.call()}catch(ie){re=ie}e.call(me.prototype)}}else{try{throw Error()}catch(ie){re=ie}(me=e())&&typeof me.catch=="function"&&me.catch(function(){})}}catch(ie){if(ie&&re&&typeof ie.stack=="string")return[ie.stack,re.stack]}return[null,null]}};a.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var u=Object.getOwnPropertyDescriptor(a.DetermineComponentFrameRoot,"name");u&&u.configurable&&Object.defineProperty(a.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var f=a.DetermineComponentFrameRoot(),y=f[0],H=f[1];if(y&&H){var X=y.split(`
`),le=H.split(`
`);for(u=a=0;a<X.length&&!X[a].includes("DetermineComponentFrameRoot");)a++;for(;u<le.length&&!le[u].includes("DetermineComponentFrameRoot");)u++;if(a===X.length||u===le.length)for(a=X.length-1,u=le.length-1;1<=a&&0<=u&&X[a]!==le[u];)u--;for(;1<=a&&0<=u;a--,u--)if(X[a]!==le[u]){if(a!==1||u!==1)do if(a--,u--,0>u||X[a]!==le[u]){var de=`
`+X[a].replace(" at new "," at ");return e.displayName&&de.includes("<anonymous>")&&(de=de.replace("<anonymous>",e.displayName)),de}while(1<=a&&0<=u);break}}}finally{Ce=!1,Error.prepareStackTrace=o}return(o=e?e.displayName||e.name:"")?ze(o):""}function Ve(e,n){switch(e.tag){case 26:case 27:case 5:return ze(e.type);case 16:return ze("Lazy");case 13:return e.child!==n&&n!==null?ze("Suspense Fallback"):ze("Suspense");case 19:return ze("SuspenseList");case 0:case 15:return $e(e.type,!1);case 11:return $e(e.type.render,!1);case 1:return $e(e.type,!0);case 31:return ze("Activity");default:return""}}function _e(e){try{var n="",o=null;do n+=Ve(e,o),o=e,e=e.return;while(e);return n}catch(a){return`
Error generating stack: `+a.message+`
`+a.stack}}var It=Object.prototype.hasOwnProperty,St=t.unstable_scheduleCallback,jt=t.unstable_cancelCallback,ut=t.unstable_shouldYield,Mt=t.unstable_requestPaint,nt=t.unstable_now,mt=t.unstable_getCurrentPriorityLevel,pt=t.unstable_ImmediatePriority,Ht=t.unstable_UserBlockingPriority,Fe=t.unstable_NormalPriority,Ze=t.unstable_LowPriority,Be=t.unstable_IdlePriority,We=t.log,bt=t.unstable_setDisableYieldValue,xt=null,wt=null;function yn(e){if(typeof We=="function"&&bt(e),wt&&typeof wt.setStrictMode=="function")try{wt.setStrictMode(xt,e)}catch{}}var nn=Math.clz32?Math.clz32:ho,Hl=Math.log,Vn=Math.LN2;function ho(e){return e>>>=0,e===0?32:31-(Hl(e)/Vn|0)|0}var Xl=256,Ql=262144,Pl=4194304;function kn(e){var n=e&42;if(n!==0)return n;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return e&261888;case 262144:case 524288:case 1048576:case 2097152:return e&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function go(e,n,o){var a=e.pendingLanes;if(a===0)return 0;var u=0,f=e.suspendedLanes,y=e.pingedLanes;e=e.warmLanes;var H=a&134217727;return H!==0?(a=H&~f,a!==0?u=kn(a):(y&=H,y!==0?u=kn(y):o||(o=H&~e,o!==0&&(u=kn(o))))):(H=a&~f,H!==0?u=kn(H):y!==0?u=kn(y):o||(o=a&~e,o!==0&&(u=kn(o)))),u===0?0:n!==0&&n!==u&&(n&f)===0&&(f=u&-u,o=n&-n,f>=o||f===32&&(o&4194048)!==0)?n:u}function Rl(e,n){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&n)===0}function mo(e,n){switch(e){case 1:case 2:case 4:case 8:case 64:return n+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function vr(){var e=Pl;return Pl<<=1,(Pl&62914560)===0&&(Pl=4194304),e}function is(e){for(var n=[],o=0;31>o;o++)n.push(e);return n}function wr(e,n){e.pendingLanes|=n,n!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function Pu(e,n,o,a,u,f){var y=e.pendingLanes;e.pendingLanes=o,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=o,e.entangledLanes&=o,e.errorRecoveryDisabledLanes&=o,e.shellSuspendCounter=0;var H=e.entanglements,X=e.expirationTimes,le=e.hiddenUpdates;for(o=y&~o;0<o;){var de=31-nn(o),me=1<<de;H[de]=0,X[de]=-1;var re=le[de];if(re!==null)for(le[de]=null,de=0;de<re.length;de++){var ie=re[de];ie!==null&&(ie.lane&=-536870913)}o&=~me}a!==0&&Pi(e,a,0),f!==0&&u===0&&e.tag!==0&&(e.suspendedLanes|=f&~(y&~n))}function Pi(e,n,o){e.pendingLanes|=n,e.suspendedLanes&=~n;var a=31-nn(n);e.entangledLanes|=n,e.entanglements[a]=e.entanglements[a]|1073741824|o&261930}function Ri(e,n){var o=e.entangledLanes|=n;for(e=e.entanglements;o;){var a=31-nn(o),u=1<<a;u&n|e[a]&n&&(e[a]|=n),o&=~u}}function Sr(e,n){var o=n&-n;return o=(o&42)!==0?1:nl(o),(o&(e.suspendedLanes|n))!==0?0:o}function nl(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function Go(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function cs(){var e=z.p;return e!==0?e:(e=window.event,e===void 0?32:qb(e.type))}function Ni(e,n){var o=z.p;try{return z.p=e,n()}finally{z.p=o}}var Zl=Math.random().toString(36).slice(2),dn="__reactFiber$"+Zl,En="__reactProps$"+Zl,Un="__reactContainer$"+Zl,hl="__reactEvents$"+Zl,Ru="__reactListeners$"+Zl,Zt="__reactHandles$"+Zl,Gi="__reactResources$"+Zl,Z="__reactMarker$"+Zl;function Oe(e){delete e[dn],delete e[En],delete e[hl],delete e[Ru],delete e[Zt]}function Lt(e){var n=e[dn];if(n)return n;for(var o=e.parentNode;o;){if(n=o[Un]||o[dn]){if(o=n.alternate,n.child!==null||o!==null&&o.child!==null)for(e=Ab(e);e!==null;){if(o=e[dn])return o;e=Ab(e)}return n}e=o,o=e.parentNode}return null}function Wt(e){if(e=e[dn]||e[Un]){var n=e.tag;if(n===5||n===6||n===13||n===31||n===26||n===27||n===3)return e}return null}function Nl(e){var n=e.tag;if(n===5||n===26||n===27||n===6)return e.stateNode;throw Error(i(33))}function Gl(e){var n=e[Gi];return n||(n=e[Gi]={hoistableStyles:new Map,hoistableScripts:new Map}),n}function Yt(e){e[Z]=!0}var us=new Set,Jr={};function qe(e,n){ea(e,n),ea(e+"Capture",n)}function ea(e,n){for(Jr[e]=n,e=0;e<n.length;e++)us.add(n[e])}var by=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),hg={},gg={};function xy(e){return It.call(gg,e)?!0:It.call(hg,e)?!1:by.test(e)?gg[e]=!0:(hg[e]=!0,!1)}function Li(e,n,o){if(xy(n))if(o===null)e.removeAttribute(n);else{switch(typeof o){case"undefined":case"function":case"symbol":e.removeAttribute(n);return;case"boolean":var a=n.toLowerCase().slice(0,5);if(a!=="data-"&&a!=="aria-"){e.removeAttribute(n);return}}e.setAttribute(n,""+o)}}function _i(e,n,o){if(o===null)e.removeAttribute(n);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(n);return}e.setAttribute(n,""+o)}}function po(e,n,o,a){if(a===null)e.removeAttribute(o);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(o);return}e.setAttributeNS(n,o,""+a)}}function gl(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function mg(e){var n=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function Cy(e,n,o){var a=Object.getOwnPropertyDescriptor(e.constructor.prototype,n);if(!e.hasOwnProperty(n)&&typeof a<"u"&&typeof a.get=="function"&&typeof a.set=="function"){var u=a.get,f=a.set;return Object.defineProperty(e,n,{configurable:!0,get:function(){return u.call(this)},set:function(y){o=""+y,f.call(this,y)}}),Object.defineProperty(e,n,{enumerable:a.enumerable}),{getValue:function(){return o},setValue:function(y){o=""+y},stopTracking:function(){e._valueTracker=null,delete e[n]}}}}function Nu(e){if(!e._valueTracker){var n=mg(e)?"checked":"value";e._valueTracker=Cy(e,n,""+e[n])}}function pg(e){if(!e)return!1;var n=e._valueTracker;if(!n)return!0;var o=n.getValue(),a="";return e&&(a=mg(e)?e.checked?"true":"false":e.value),e=a,e!==o?(n.setValue(e),!0):!1}function Bi(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var yy=/[\n"\\]/g;function ml(e){return e.replace(yy,function(n){return"\\"+n.charCodeAt(0).toString(16)+" "})}function Gu(e,n,o,a,u,f,y,H){e.name="",y!=null&&typeof y!="function"&&typeof y!="symbol"&&typeof y!="boolean"?e.type=y:e.removeAttribute("type"),n!=null?y==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+gl(n)):e.value!==""+gl(n)&&(e.value=""+gl(n)):y!=="submit"&&y!=="reset"||e.removeAttribute("value"),n!=null?Lu(e,y,gl(n)):o!=null?Lu(e,y,gl(o)):a!=null&&e.removeAttribute("value"),u==null&&f!=null&&(e.defaultChecked=!!f),u!=null&&(e.checked=u&&typeof u!="function"&&typeof u!="symbol"),H!=null&&typeof H!="function"&&typeof H!="symbol"&&typeof H!="boolean"?e.name=""+gl(H):e.removeAttribute("name")}function bg(e,n,o,a,u,f,y,H){if(f!=null&&typeof f!="function"&&typeof f!="symbol"&&typeof f!="boolean"&&(e.type=f),n!=null||o!=null){if(!(f!=="submit"&&f!=="reset"||n!=null)){Nu(e);return}o=o!=null?""+gl(o):"",n=n!=null?""+gl(n):o,H||n===e.value||(e.value=n),e.defaultValue=n}a=a??u,a=typeof a!="function"&&typeof a!="symbol"&&!!a,e.checked=H?e.checked:!!a,e.defaultChecked=!!a,y!=null&&typeof y!="function"&&typeof y!="symbol"&&typeof y!="boolean"&&(e.name=y),Nu(e)}function Lu(e,n,o){n==="number"&&Bi(e.ownerDocument)===e||e.defaultValue===""+o||(e.defaultValue=""+o)}function ta(e,n,o,a){if(e=e.options,n){n={};for(var u=0;u<o.length;u++)n["$"+o[u]]=!0;for(o=0;o<e.length;o++)u=n.hasOwnProperty("$"+e[o].value),e[o].selected!==u&&(e[o].selected=u),u&&a&&(e[o].defaultSelected=!0)}else{for(o=""+gl(o),n=null,u=0;u<e.length;u++){if(e[u].value===o){e[u].selected=!0,a&&(e[u].defaultSelected=!0);return}n!==null||e[u].disabled||(n=e[u])}n!==null&&(n.selected=!0)}}function xg(e,n,o){if(n!=null&&(n=""+gl(n),n!==e.value&&(e.value=n),o==null)){e.defaultValue!==n&&(e.defaultValue=n);return}e.defaultValue=o!=null?""+gl(o):""}function Cg(e,n,o,a){if(n==null){if(a!=null){if(o!=null)throw Error(i(92));if(L(a)){if(1<a.length)throw Error(i(93));a=a[0]}o=a}o==null&&(o=""),n=o}o=gl(n),e.defaultValue=o,a=e.textContent,a===o&&a!==""&&a!==null&&(e.value=a),Nu(e)}function na(e,n){if(n){var o=e.firstChild;if(o&&o===e.lastChild&&o.nodeType===3){o.nodeValue=n;return}}e.textContent=n}var vy=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function yg(e,n,o){var a=n.indexOf("--")===0;o==null||typeof o=="boolean"||o===""?a?e.setProperty(n,""):n==="float"?e.cssFloat="":e[n]="":a?e.setProperty(n,o):typeof o!="number"||o===0||vy.has(n)?n==="float"?e.cssFloat=o:e[n]=(""+o).trim():e[n]=o+"px"}function vg(e,n,o){if(n!=null&&typeof n!="object")throw Error(i(62));if(e=e.style,o!=null){for(var a in o)!o.hasOwnProperty(a)||n!=null&&n.hasOwnProperty(a)||(a.indexOf("--")===0?e.setProperty(a,""):a==="float"?e.cssFloat="":e[a]="");for(var u in n)a=n[u],n.hasOwnProperty(u)&&o[u]!==a&&yg(e,u,a)}else for(var f in n)n.hasOwnProperty(f)&&yg(e,f,n[f])}function _u(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var wy=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Sy=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Vi(e){return Sy.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function bo(){}var Bu=null;function Vu(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var la=null,oa=null;function wg(e){var n=Wt(e);if(n&&(e=n.stateNode)){var o=e[En]||null;e:switch(e=n.stateNode,n.type){case"input":if(Gu(e,o.value,o.defaultValue,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name),n=o.name,o.type==="radio"&&n!=null){for(o=e;o.parentNode;)o=o.parentNode;for(o=o.querySelectorAll('input[name="'+ml(""+n)+'"][type="radio"]'),n=0;n<o.length;n++){var a=o[n];if(a!==e&&a.form===e.form){var u=a[En]||null;if(!u)throw Error(i(90));Gu(a,u.value,u.defaultValue,u.defaultValue,u.checked,u.defaultChecked,u.type,u.name)}}for(n=0;n<o.length;n++)a=o[n],a.form===e.form&&pg(a)}break e;case"textarea":xg(e,o.value,o.defaultValue);break e;case"select":n=o.value,n!=null&&ta(e,!!o.multiple,n,!1)}}}var Uu=!1;function Sg(e,n,o){if(Uu)return e(n,o);Uu=!0;try{var a=e(n);return a}finally{if(Uu=!1,(la!==null||oa!==null)&&(Fc(),la&&(n=la,e=oa,oa=la=null,wg(n),e)))for(n=0;n<e.length;n++)wg(e[n])}}function ds(e,n){var o=e.stateNode;if(o===null)return null;var a=o[En]||null;if(a===null)return null;o=a[n];e:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(a=!a.disabled)||(e=e.type,a=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!a;break e;default:e=!1}if(e)return null;if(o&&typeof o!="function")throw Error(i(231,n,typeof o));return o}var xo=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),$u=!1;if(xo)try{var fs={};Object.defineProperty(fs,"passive",{get:function(){$u=!0}}),window.addEventListener("test",fs,fs),window.removeEventListener("test",fs,fs)}catch{$u=!1}var Lo=null,Wu=null,Ui=null;function jg(){if(Ui)return Ui;var e,n=Wu,o=n.length,a,u="value"in Lo?Lo.value:Lo.textContent,f=u.length;for(e=0;e<o&&n[e]===u[e];e++);var y=o-e;for(a=1;a<=y&&n[o-a]===u[f-a];a++);return Ui=u.slice(e,1<a?1-a:void 0)}function $i(e){var n=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&n===13&&(e=13)):e=n,e===10&&(e=13),32<=e||e===13?e:0}function Wi(){return!0}function Mg(){return!1}function $n(e){function n(o,a,u,f,y){this._reactName=o,this._targetInst=u,this.type=a,this.nativeEvent=f,this.target=y,this.currentTarget=null;for(var H in e)e.hasOwnProperty(H)&&(o=e[H],this[H]=o?o(f):f[H]);return this.isDefaultPrevented=(f.defaultPrevented!=null?f.defaultPrevented:f.returnValue===!1)?Wi:Mg,this.isPropagationStopped=Mg,this}return C(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var o=this.nativeEvent;o&&(o.preventDefault?o.preventDefault():typeof o.returnValue!="unknown"&&(o.returnValue=!1),this.isDefaultPrevented=Wi)},stopPropagation:function(){var o=this.nativeEvent;o&&(o.stopPropagation?o.stopPropagation():typeof o.cancelBubble!="unknown"&&(o.cancelBubble=!0),this.isPropagationStopped=Wi)},persist:function(){},isPersistent:Wi}),n}var jr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},qi=$n(jr),hs=C({},jr,{view:0,detail:0}),jy=$n(hs),qu,Yu,gs,Yi=C({},hs,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Xu,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==gs&&(gs&&e.type==="mousemove"?(qu=e.screenX-gs.screenX,Yu=e.screenY-gs.screenY):Yu=qu=0,gs=e),qu)},movementY:function(e){return"movementY"in e?e.movementY:Yu}}),Eg=$n(Yi),My=C({},Yi,{dataTransfer:0}),Ey=$n(My),Dy=C({},hs,{relatedTarget:0}),Ku=$n(Dy),Ty=C({},jr,{animationName:0,elapsedTime:0,pseudoElement:0}),Iy=$n(Ty),Fy=C({},jr,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Ay=$n(Fy),zy=C({},jr,{data:0}),Dg=$n(zy),Oy={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},ky={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Hy={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Py(e){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(e):(e=Hy[e])?!!n[e]:!1}function Xu(){return Py}var Ry=C({},hs,{key:function(e){if(e.key){var n=Oy[e.key]||e.key;if(n!=="Unidentified")return n}return e.type==="keypress"?(e=$i(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?ky[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Xu,charCode:function(e){return e.type==="keypress"?$i(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?$i(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Ny=$n(Ry),Gy=C({},Yi,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Tg=$n(Gy),Ly=C({},hs,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Xu}),_y=$n(Ly),By=C({},jr,{propertyName:0,elapsedTime:0,pseudoElement:0}),Vy=$n(By),Uy=C({},Yi,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),$y=$n(Uy),Wy=C({},jr,{newState:0,oldState:0}),qy=$n(Wy),Yy=[9,13,27,32],Qu=xo&&"CompositionEvent"in window,ms=null;xo&&"documentMode"in document&&(ms=document.documentMode);var Ky=xo&&"TextEvent"in window&&!ms,Ig=xo&&(!Qu||ms&&8<ms&&11>=ms),Fg=" ",Ag=!1;function zg(e,n){switch(e){case"keyup":return Yy.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Og(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var ra=!1;function Xy(e,n){switch(e){case"compositionend":return Og(n);case"keypress":return n.which!==32?null:(Ag=!0,Fg);case"textInput":return e=n.data,e===Fg&&Ag?null:e;default:return null}}function Qy(e,n){if(ra)return e==="compositionend"||!Qu&&zg(e,n)?(e=jg(),Ui=Wu=Lo=null,ra=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return Ig&&n.locale!=="ko"?null:n.data;default:return null}}var Zy={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function kg(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n==="input"?!!Zy[e.type]:n==="textarea"}function Hg(e,n,o,a){la?oa?oa.push(a):oa=[a]:la=a,n=Rc(n,"onChange"),0<n.length&&(o=new qi("onChange","change",null,o,a),e.push({event:o,listeners:n}))}var ps=null,bs=null;function Jy(e){bb(e,0)}function Ki(e){var n=Nl(e);if(pg(n))return e}function Pg(e,n){if(e==="change")return n}var Rg=!1;if(xo){var Zu;if(xo){var Ju="oninput"in document;if(!Ju){var Ng=document.createElement("div");Ng.setAttribute("oninput","return;"),Ju=typeof Ng.oninput=="function"}Zu=Ju}else Zu=!1;Rg=Zu&&(!document.documentMode||9<document.documentMode)}function Gg(){ps&&(ps.detachEvent("onpropertychange",Lg),bs=ps=null)}function Lg(e){if(e.propertyName==="value"&&Ki(bs)){var n=[];Hg(n,bs,e,Vu(e)),Sg(Jy,n)}}function ev(e,n,o){e==="focusin"?(Gg(),ps=n,bs=o,ps.attachEvent("onpropertychange",Lg)):e==="focusout"&&Gg()}function tv(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Ki(bs)}function nv(e,n){if(e==="click")return Ki(n)}function lv(e,n){if(e==="input"||e==="change")return Ki(n)}function ov(e,n){return e===n&&(e!==0||1/e===1/n)||e!==e&&n!==n}var ll=typeof Object.is=="function"?Object.is:ov;function xs(e,n){if(ll(e,n))return!0;if(typeof e!="object"||e===null||typeof n!="object"||n===null)return!1;var o=Object.keys(e),a=Object.keys(n);if(o.length!==a.length)return!1;for(a=0;a<o.length;a++){var u=o[a];if(!It.call(n,u)||!ll(e[u],n[u]))return!1}return!0}function _g(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Bg(e,n){var o=_g(e);e=0;for(var a;o;){if(o.nodeType===3){if(a=e+o.textContent.length,e<=n&&a>=n)return{node:o,offset:n-e};e=a}e:{for(;o;){if(o.nextSibling){o=o.nextSibling;break e}o=o.parentNode}o=void 0}o=_g(o)}}function Vg(e,n){return e&&n?e===n?!0:e&&e.nodeType===3?!1:n&&n.nodeType===3?Vg(e,n.parentNode):"contains"in e?e.contains(n):e.compareDocumentPosition?!!(e.compareDocumentPosition(n)&16):!1:!1}function Ug(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var n=Bi(e.document);n instanceof e.HTMLIFrameElement;){try{var o=typeof n.contentWindow.location.href=="string"}catch{o=!1}if(o)e=n.contentWindow;else break;n=Bi(e.document)}return n}function ed(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n&&(n==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||n==="textarea"||e.contentEditable==="true")}var rv=xo&&"documentMode"in document&&11>=document.documentMode,aa=null,td=null,Cs=null,nd=!1;function $g(e,n,o){var a=o.window===o?o.document:o.nodeType===9?o:o.ownerDocument;nd||aa==null||aa!==Bi(a)||(a=aa,"selectionStart"in a&&ed(a)?a={start:a.selectionStart,end:a.selectionEnd}:(a=(a.ownerDocument&&a.ownerDocument.defaultView||window).getSelection(),a={anchorNode:a.anchorNode,anchorOffset:a.anchorOffset,focusNode:a.focusNode,focusOffset:a.focusOffset}),Cs&&xs(Cs,a)||(Cs=a,a=Rc(td,"onSelect"),0<a.length&&(n=new qi("onSelect","select",null,n,o),e.push({event:n,listeners:a}),n.target=aa)))}function Mr(e,n){var o={};return o[e.toLowerCase()]=n.toLowerCase(),o["Webkit"+e]="webkit"+n,o["Moz"+e]="moz"+n,o}var sa={animationend:Mr("Animation","AnimationEnd"),animationiteration:Mr("Animation","AnimationIteration"),animationstart:Mr("Animation","AnimationStart"),transitionrun:Mr("Transition","TransitionRun"),transitionstart:Mr("Transition","TransitionStart"),transitioncancel:Mr("Transition","TransitionCancel"),transitionend:Mr("Transition","TransitionEnd")},ld={},Wg={};xo&&(Wg=document.createElement("div").style,"AnimationEvent"in window||(delete sa.animationend.animation,delete sa.animationiteration.animation,delete sa.animationstart.animation),"TransitionEvent"in window||delete sa.transitionend.transition);function Er(e){if(ld[e])return ld[e];if(!sa[e])return e;var n=sa[e],o;for(o in n)if(n.hasOwnProperty(o)&&o in Wg)return ld[e]=n[o];return e}var qg=Er("animationend"),Yg=Er("animationiteration"),Kg=Er("animationstart"),av=Er("transitionrun"),sv=Er("transitionstart"),iv=Er("transitioncancel"),Xg=Er("transitionend"),Qg=new Map,od="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");od.push("scrollEnd");function Ll(e,n){Qg.set(e,n),qe(n,[e])}var Xi=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var n=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(n))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},pl=[],ia=0,rd=0;function Qi(){for(var e=ia,n=rd=ia=0;n<e;){var o=pl[n];pl[n++]=null;var a=pl[n];pl[n++]=null;var u=pl[n];pl[n++]=null;var f=pl[n];if(pl[n++]=null,a!==null&&u!==null){var y=a.pending;y===null?u.next=u:(u.next=y.next,y.next=u),a.pending=u}f!==0&&Zg(o,u,f)}}function Zi(e,n,o,a){pl[ia++]=e,pl[ia++]=n,pl[ia++]=o,pl[ia++]=a,rd|=a,e.lanes|=a,e=e.alternate,e!==null&&(e.lanes|=a)}function ad(e,n,o,a){return Zi(e,n,o,a),Ji(e)}function Dr(e,n){return Zi(e,null,null,n),Ji(e)}function Zg(e,n,o){e.lanes|=o;var a=e.alternate;a!==null&&(a.lanes|=o);for(var u=!1,f=e.return;f!==null;)f.childLanes|=o,a=f.alternate,a!==null&&(a.childLanes|=o),f.tag===22&&(e=f.stateNode,e===null||e._visibility&1||(u=!0)),e=f,f=f.return;return e.tag===3?(f=e.stateNode,u&&n!==null&&(u=31-nn(o),e=f.hiddenUpdates,a=e[u],a===null?e[u]=[n]:a.push(n),n.lane=o|536870912),f):null}function Ji(e){if(50<_s)throw _s=0,pf=null,Error(i(185));for(var n=e.return;n!==null;)e=n,n=e.return;return e.tag===3?e.stateNode:null}var ca={};function cv(e,n,o,a){this.tag=e,this.key=o,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=a,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function ol(e,n,o,a){return new cv(e,n,o,a)}function sd(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Co(e,n){var o=e.alternate;return o===null?(o=ol(e.tag,n,e.key,e.mode),o.elementType=e.elementType,o.type=e.type,o.stateNode=e.stateNode,o.alternate=e,e.alternate=o):(o.pendingProps=n,o.type=e.type,o.flags=0,o.subtreeFlags=0,o.deletions=null),o.flags=e.flags&65011712,o.childLanes=e.childLanes,o.lanes=e.lanes,o.child=e.child,o.memoizedProps=e.memoizedProps,o.memoizedState=e.memoizedState,o.updateQueue=e.updateQueue,n=e.dependencies,o.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},o.sibling=e.sibling,o.index=e.index,o.ref=e.ref,o.refCleanup=e.refCleanup,o}function Jg(e,n){e.flags&=65011714;var o=e.alternate;return o===null?(e.childLanes=0,e.lanes=n,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=o.childLanes,e.lanes=o.lanes,e.child=o.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=o.memoizedProps,e.memoizedState=o.memoizedState,e.updateQueue=o.updateQueue,e.type=o.type,n=o.dependencies,e.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),e}function ec(e,n,o,a,u,f){var y=0;if(a=e,typeof e=="function")sd(e)&&(y=1);else if(typeof e=="string")y=gw(e,o,ae.current)?26:e==="html"||e==="head"||e==="body"?27:5;else e:switch(e){case A:return e=ol(31,o,n,u),e.elementType=A,e.lanes=f,e;case T:return Tr(o.children,u,f,n);case I:y=8,u|=24;break;case O:return e=ol(12,o,n,u|2),e.elementType=O,e.lanes=f,e;case R:return e=ol(13,o,n,u),e.elementType=R,e.lanes=f,e;case W:return e=ol(19,o,n,u),e.elementType=W,e.lanes=f,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case P:y=10;break e;case D:y=9;break e;case B:y=11;break e;case V:y=14;break e;case U:y=16,a=null;break e}y=29,o=Error(i(130,e===null?"null":typeof e,"")),a=null}return n=ol(y,o,n,u),n.elementType=e,n.type=a,n.lanes=f,n}function Tr(e,n,o,a){return e=ol(7,e,a,n),e.lanes=o,e}function id(e,n,o){return e=ol(6,e,null,n),e.lanes=o,e}function em(e){var n=ol(18,null,null,0);return n.stateNode=e,n}function cd(e,n,o){return n=ol(4,e.children!==null?e.children:[],e.key,n),n.lanes=o,n.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},n}var tm=new WeakMap;function bl(e,n){if(typeof e=="object"&&e!==null){var o=tm.get(e);return o!==void 0?o:(n={value:e,source:n,stack:_e(n)},tm.set(e,n),n)}return{value:e,source:n,stack:_e(n)}}var ua=[],da=0,tc=null,ys=0,xl=[],Cl=0,_o=null,Jl=1,eo="";function yo(e,n){ua[da++]=ys,ua[da++]=tc,tc=e,ys=n}function nm(e,n,o){xl[Cl++]=Jl,xl[Cl++]=eo,xl[Cl++]=_o,_o=e;var a=Jl;e=eo;var u=32-nn(a)-1;a&=~(1<<u),o+=1;var f=32-nn(n)+u;if(30<f){var y=u-u%5;f=(a&(1<<y)-1).toString(32),a>>=y,u-=y,Jl=1<<32-nn(n)+u|o<<u|a,eo=f+e}else Jl=1<<f|o<<u|a,eo=e}function ud(e){e.return!==null&&(yo(e,1),nm(e,1,0))}function dd(e){for(;e===tc;)tc=ua[--da],ua[da]=null,ys=ua[--da],ua[da]=null;for(;e===_o;)_o=xl[--Cl],xl[Cl]=null,eo=xl[--Cl],xl[Cl]=null,Jl=xl[--Cl],xl[Cl]=null}function lm(e,n){xl[Cl++]=Jl,xl[Cl++]=eo,xl[Cl++]=_o,Jl=n.id,eo=n.overflow,_o=e}var vn=null,_t=null,ct=!1,Bo=null,yl=!1,fd=Error(i(519));function Vo(e){var n=Error(i(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw vs(bl(n,e)),fd}function om(e){var n=e.stateNode,o=e.type,a=e.memoizedProps;switch(n[dn]=e,n[En]=a,o){case"dialog":rt("cancel",n),rt("close",n);break;case"iframe":case"object":case"embed":rt("load",n);break;case"video":case"audio":for(o=0;o<Vs.length;o++)rt(Vs[o],n);break;case"source":rt("error",n);break;case"img":case"image":case"link":rt("error",n),rt("load",n);break;case"details":rt("toggle",n);break;case"input":rt("invalid",n),bg(n,a.value,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name,!0);break;case"select":rt("invalid",n);break;case"textarea":rt("invalid",n),Cg(n,a.value,a.defaultValue,a.children)}o=a.children,typeof o!="string"&&typeof o!="number"&&typeof o!="bigint"||n.textContent===""+o||a.suppressHydrationWarning===!0||vb(n.textContent,o)?(a.popover!=null&&(rt("beforetoggle",n),rt("toggle",n)),a.onScroll!=null&&rt("scroll",n),a.onScrollEnd!=null&&rt("scrollend",n),a.onClick!=null&&(n.onclick=bo),n=!0):n=!1,n||Vo(e,!0)}function rm(e){for(vn=e.return;vn;)switch(vn.tag){case 5:case 31:case 13:yl=!1;return;case 27:case 3:yl=!0;return;default:vn=vn.return}}function fa(e){if(e!==vn)return!1;if(!ct)return rm(e),ct=!0,!1;var n=e.tag,o;if((o=n!==3&&n!==27)&&((o=n===5)&&(o=e.type,o=!(o!=="form"&&o!=="button")||Af(e.type,e.memoizedProps)),o=!o),o&&_t&&Vo(e),rm(e),n===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(i(317));_t=Fb(e)}else if(n===31){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(i(317));_t=Fb(e)}else n===27?(n=_t,lr(e.type)?(e=Pf,Pf=null,_t=e):_t=n):_t=vn?wl(e.stateNode.nextSibling):null;return!0}function Ir(){_t=vn=null,ct=!1}function hd(){var e=Bo;return e!==null&&(Kn===null?Kn=e:Kn.push.apply(Kn,e),Bo=null),e}function vs(e){Bo===null?Bo=[e]:Bo.push(e)}var gd=$(null),Fr=null,vo=null;function Uo(e,n,o){oe(gd,n._currentValue),n._currentValue=o}function wo(e){e._currentValue=gd.current,Q(gd)}function md(e,n,o){for(;e!==null;){var a=e.alternate;if((e.childLanes&n)!==n?(e.childLanes|=n,a!==null&&(a.childLanes|=n)):a!==null&&(a.childLanes&n)!==n&&(a.childLanes|=n),e===o)break;e=e.return}}function pd(e,n,o,a){var u=e.child;for(u!==null&&(u.return=e);u!==null;){var f=u.dependencies;if(f!==null){var y=u.child;f=f.firstContext;e:for(;f!==null;){var H=f;f=u;for(var X=0;X<n.length;X++)if(H.context===n[X]){f.lanes|=o,H=f.alternate,H!==null&&(H.lanes|=o),md(f.return,o,e),a||(y=null);break e}f=H.next}}else if(u.tag===18){if(y=u.return,y===null)throw Error(i(341));y.lanes|=o,f=y.alternate,f!==null&&(f.lanes|=o),md(y,o,e),y=null}else y=u.child;if(y!==null)y.return=u;else for(y=u;y!==null;){if(y===e){y=null;break}if(u=y.sibling,u!==null){u.return=y.return,y=u;break}y=y.return}u=y}}function ha(e,n,o,a){e=null;for(var u=n,f=!1;u!==null;){if(!f){if((u.flags&524288)!==0)f=!0;else if((u.flags&262144)!==0)break}if(u.tag===10){var y=u.alternate;if(y===null)throw Error(i(387));if(y=y.memoizedProps,y!==null){var H=u.type;ll(u.pendingProps.value,y.value)||(e!==null?e.push(H):e=[H])}}else if(u===ve.current){if(y=u.alternate,y===null)throw Error(i(387));y.memoizedState.memoizedState!==u.memoizedState.memoizedState&&(e!==null?e.push(Ys):e=[Ys])}u=u.return}e!==null&&pd(n,e,o,a),n.flags|=262144}function nc(e){for(e=e.firstContext;e!==null;){if(!ll(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function Ar(e){Fr=e,vo=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function wn(e){return am(Fr,e)}function lc(e,n){return Fr===null&&Ar(e),am(e,n)}function am(e,n){var o=n._currentValue;if(n={context:n,memoizedValue:o,next:null},vo===null){if(e===null)throw Error(i(308));vo=n,e.dependencies={lanes:0,firstContext:n},e.flags|=524288}else vo=vo.next=n;return o}var uv=typeof AbortController<"u"?AbortController:function(){var e=[],n=this.signal={aborted:!1,addEventListener:function(o,a){e.push(a)}};this.abort=function(){n.aborted=!0,e.forEach(function(o){return o()})}},dv=t.unstable_scheduleCallback,fv=t.unstable_NormalPriority,ln={$$typeof:P,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function bd(){return{controller:new uv,data:new Map,refCount:0}}function ws(e){e.refCount--,e.refCount===0&&dv(fv,function(){e.controller.abort()})}var Ss=null,xd=0,ga=0,ma=null;function hv(e,n){if(Ss===null){var o=Ss=[];xd=0,ga=wf(),ma={status:"pending",value:void 0,then:function(a){o.push(a)}}}return xd++,n.then(sm,sm),n}function sm(){if(--xd===0&&Ss!==null){ma!==null&&(ma.status="fulfilled");var e=Ss;Ss=null,ga=0,ma=null;for(var n=0;n<e.length;n++)(0,e[n])()}}function gv(e,n){var o=[],a={status:"pending",value:null,reason:null,then:function(u){o.push(u)}};return e.then(function(){a.status="fulfilled",a.value=n;for(var u=0;u<o.length;u++)(0,o[u])(n)},function(u){for(a.status="rejected",a.reason=u,u=0;u<o.length;u++)(0,o[u])(void 0)}),a}var im=S.S;S.S=function(e,n){$p=nt(),typeof n=="object"&&n!==null&&typeof n.then=="function"&&hv(e,n),im!==null&&im(e,n)};var zr=$(null);function Cd(){var e=zr.current;return e!==null?e:Pt.pooledCache}function oc(e,n){n===null?oe(zr,zr.current):oe(zr,n.pool)}function cm(){var e=Cd();return e===null?null:{parent:ln._currentValue,pool:e}}var pa=Error(i(460)),yd=Error(i(474)),rc=Error(i(542)),ac={then:function(){}};function um(e){return e=e.status,e==="fulfilled"||e==="rejected"}function dm(e,n,o){switch(o=e[o],o===void 0?e.push(n):o!==n&&(n.then(bo,bo),n=o),n.status){case"fulfilled":return n.value;case"rejected":throw e=n.reason,hm(e),e;default:if(typeof n.status=="string")n.then(bo,bo);else{if(e=Pt,e!==null&&100<e.shellSuspendCounter)throw Error(i(482));e=n,e.status="pending",e.then(function(a){if(n.status==="pending"){var u=n;u.status="fulfilled",u.value=a}},function(a){if(n.status==="pending"){var u=n;u.status="rejected",u.reason=a}})}switch(n.status){case"fulfilled":return n.value;case"rejected":throw e=n.reason,hm(e),e}throw kr=n,pa}}function Or(e){try{var n=e._init;return n(e._payload)}catch(o){throw o!==null&&typeof o=="object"&&typeof o.then=="function"?(kr=o,pa):o}}var kr=null;function fm(){if(kr===null)throw Error(i(459));var e=kr;return kr=null,e}function hm(e){if(e===pa||e===rc)throw Error(i(483))}var ba=null,js=0;function sc(e){var n=js;return js+=1,ba===null&&(ba=[]),dm(ba,e,n)}function Ms(e,n){n=n.props.ref,e.ref=n!==void 0?n:null}function ic(e,n){throw n.$$typeof===v?Error(i(525)):(e=Object.prototype.toString.call(n),Error(i(31,e==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":e)))}function gm(e){function n(te,J){if(e){var ne=te.deletions;ne===null?(te.deletions=[J],te.flags|=16):ne.push(J)}}function o(te,J){if(!e)return null;for(;J!==null;)n(te,J),J=J.sibling;return null}function a(te){for(var J=new Map;te!==null;)te.key!==null?J.set(te.key,te):J.set(te.index,te),te=te.sibling;return J}function u(te,J){return te=Co(te,J),te.index=0,te.sibling=null,te}function f(te,J,ne){return te.index=ne,e?(ne=te.alternate,ne!==null?(ne=ne.index,ne<J?(te.flags|=67108866,J):ne):(te.flags|=67108866,J)):(te.flags|=1048576,J)}function y(te){return e&&te.alternate===null&&(te.flags|=67108866),te}function H(te,J,ne,ge){return J===null||J.tag!==6?(J=id(ne,te.mode,ge),J.return=te,J):(J=u(J,ne),J.return=te,J)}function X(te,J,ne,ge){var He=ne.type;return He===T?de(te,J,ne.props.children,ge,ne.key):J!==null&&(J.elementType===He||typeof He=="object"&&He!==null&&He.$$typeof===U&&Or(He)===J.type)?(J=u(J,ne.props),Ms(J,ne),J.return=te,J):(J=ec(ne.type,ne.key,ne.props,null,te.mode,ge),Ms(J,ne),J.return=te,J)}function le(te,J,ne,ge){return J===null||J.tag!==4||J.stateNode.containerInfo!==ne.containerInfo||J.stateNode.implementation!==ne.implementation?(J=cd(ne,te.mode,ge),J.return=te,J):(J=u(J,ne.children||[]),J.return=te,J)}function de(te,J,ne,ge,He){return J===null||J.tag!==7?(J=Tr(ne,te.mode,ge,He),J.return=te,J):(J=u(J,ne),J.return=te,J)}function me(te,J,ne){if(typeof J=="string"&&J!==""||typeof J=="number"||typeof J=="bigint")return J=id(""+J,te.mode,ne),J.return=te,J;if(typeof J=="object"&&J!==null){switch(J.$$typeof){case M:return ne=ec(J.type,J.key,J.props,null,te.mode,ne),Ms(ne,J),ne.return=te,ne;case j:return J=cd(J,te.mode,ne),J.return=te,J;case U:return J=Or(J),me(te,J,ne)}if(L(J)||G(J))return J=Tr(J,te.mode,ne,null),J.return=te,J;if(typeof J.then=="function")return me(te,sc(J),ne);if(J.$$typeof===P)return me(te,lc(te,J),ne);ic(te,J)}return null}function re(te,J,ne,ge){var He=J!==null?J.key:null;if(typeof ne=="string"&&ne!==""||typeof ne=="number"||typeof ne=="bigint")return He!==null?null:H(te,J,""+ne,ge);if(typeof ne=="object"&&ne!==null){switch(ne.$$typeof){case M:return ne.key===He?X(te,J,ne,ge):null;case j:return ne.key===He?le(te,J,ne,ge):null;case U:return ne=Or(ne),re(te,J,ne,ge)}if(L(ne)||G(ne))return He!==null?null:de(te,J,ne,ge,null);if(typeof ne.then=="function")return re(te,J,sc(ne),ge);if(ne.$$typeof===P)return re(te,J,lc(te,ne),ge);ic(te,ne)}return null}function ie(te,J,ne,ge,He){if(typeof ge=="string"&&ge!==""||typeof ge=="number"||typeof ge=="bigint")return te=te.get(ne)||null,H(J,te,""+ge,He);if(typeof ge=="object"&&ge!==null){switch(ge.$$typeof){case M:return te=te.get(ge.key===null?ne:ge.key)||null,X(J,te,ge,He);case j:return te=te.get(ge.key===null?ne:ge.key)||null,le(J,te,ge,He);case U:return ge=Or(ge),ie(te,J,ne,ge,He)}if(L(ge)||G(ge))return te=te.get(ne)||null,de(J,te,ge,He,null);if(typeof ge.then=="function")return ie(te,J,ne,sc(ge),He);if(ge.$$typeof===P)return ie(te,J,ne,lc(J,ge),He);ic(J,ge)}return null}function De(te,J,ne,ge){for(var He=null,ht=null,Ie=J,Je=J=0,st=null;Ie!==null&&Je<ne.length;Je++){Ie.index>Je?(st=Ie,Ie=null):st=Ie.sibling;var gt=re(te,Ie,ne[Je],ge);if(gt===null){Ie===null&&(Ie=st);break}e&&Ie&&gt.alternate===null&&n(te,Ie),J=f(gt,J,Je),ht===null?He=gt:ht.sibling=gt,ht=gt,Ie=st}if(Je===ne.length)return o(te,Ie),ct&&yo(te,Je),He;if(Ie===null){for(;Je<ne.length;Je++)Ie=me(te,ne[Je],ge),Ie!==null&&(J=f(Ie,J,Je),ht===null?He=Ie:ht.sibling=Ie,ht=Ie);return ct&&yo(te,Je),He}for(Ie=a(Ie);Je<ne.length;Je++)st=ie(Ie,te,Je,ne[Je],ge),st!==null&&(e&&st.alternate!==null&&Ie.delete(st.key===null?Je:st.key),J=f(st,J,Je),ht===null?He=st:ht.sibling=st,ht=st);return e&&Ie.forEach(function(ir){return n(te,ir)}),ct&&yo(te,Je),He}function Pe(te,J,ne,ge){if(ne==null)throw Error(i(151));for(var He=null,ht=null,Ie=J,Je=J=0,st=null,gt=ne.next();Ie!==null&&!gt.done;Je++,gt=ne.next()){Ie.index>Je?(st=Ie,Ie=null):st=Ie.sibling;var ir=re(te,Ie,gt.value,ge);if(ir===null){Ie===null&&(Ie=st);break}e&&Ie&&ir.alternate===null&&n(te,Ie),J=f(ir,J,Je),ht===null?He=ir:ht.sibling=ir,ht=ir,Ie=st}if(gt.done)return o(te,Ie),ct&&yo(te,Je),He;if(Ie===null){for(;!gt.done;Je++,gt=ne.next())gt=me(te,gt.value,ge),gt!==null&&(J=f(gt,J,Je),ht===null?He=gt:ht.sibling=gt,ht=gt);return ct&&yo(te,Je),He}for(Ie=a(Ie);!gt.done;Je++,gt=ne.next())gt=ie(Ie,te,Je,gt.value,ge),gt!==null&&(e&&gt.alternate!==null&&Ie.delete(gt.key===null?Je:gt.key),J=f(gt,J,Je),ht===null?He=gt:ht.sibling=gt,ht=gt);return e&&Ie.forEach(function(Mw){return n(te,Mw)}),ct&&yo(te,Je),He}function zt(te,J,ne,ge){if(typeof ne=="object"&&ne!==null&&ne.type===T&&ne.key===null&&(ne=ne.props.children),typeof ne=="object"&&ne!==null){switch(ne.$$typeof){case M:e:{for(var He=ne.key;J!==null;){if(J.key===He){if(He=ne.type,He===T){if(J.tag===7){o(te,J.sibling),ge=u(J,ne.props.children),ge.return=te,te=ge;break e}}else if(J.elementType===He||typeof He=="object"&&He!==null&&He.$$typeof===U&&Or(He)===J.type){o(te,J.sibling),ge=u(J,ne.props),Ms(ge,ne),ge.return=te,te=ge;break e}o(te,J);break}else n(te,J);J=J.sibling}ne.type===T?(ge=Tr(ne.props.children,te.mode,ge,ne.key),ge.return=te,te=ge):(ge=ec(ne.type,ne.key,ne.props,null,te.mode,ge),Ms(ge,ne),ge.return=te,te=ge)}return y(te);case j:e:{for(He=ne.key;J!==null;){if(J.key===He)if(J.tag===4&&J.stateNode.containerInfo===ne.containerInfo&&J.stateNode.implementation===ne.implementation){o(te,J.sibling),ge=u(J,ne.children||[]),ge.return=te,te=ge;break e}else{o(te,J);break}else n(te,J);J=J.sibling}ge=cd(ne,te.mode,ge),ge.return=te,te=ge}return y(te);case U:return ne=Or(ne),zt(te,J,ne,ge)}if(L(ne))return De(te,J,ne,ge);if(G(ne)){if(He=G(ne),typeof He!="function")throw Error(i(150));return ne=He.call(ne),Pe(te,J,ne,ge)}if(typeof ne.then=="function")return zt(te,J,sc(ne),ge);if(ne.$$typeof===P)return zt(te,J,lc(te,ne),ge);ic(te,ne)}return typeof ne=="string"&&ne!==""||typeof ne=="number"||typeof ne=="bigint"?(ne=""+ne,J!==null&&J.tag===6?(o(te,J.sibling),ge=u(J,ne),ge.return=te,te=ge):(o(te,J),ge=id(ne,te.mode,ge),ge.return=te,te=ge),y(te)):o(te,J)}return function(te,J,ne,ge){try{js=0;var He=zt(te,J,ne,ge);return ba=null,He}catch(Ie){if(Ie===pa||Ie===rc)throw Ie;var ht=ol(29,Ie,null,te.mode);return ht.lanes=ge,ht.return=te,ht}}}var Hr=gm(!0),mm=gm(!1),$o=!1;function vd(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function wd(e,n){e=e.updateQueue,n.updateQueue===e&&(n.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function Wo(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function qo(e,n,o){var a=e.updateQueue;if(a===null)return null;if(a=a.shared,(Ct&2)!==0){var u=a.pending;return u===null?n.next=n:(n.next=u.next,u.next=n),a.pending=n,n=Ji(e),Zg(e,null,o),n}return Zi(e,a,n,o),Ji(e)}function Es(e,n,o){if(n=n.updateQueue,n!==null&&(n=n.shared,(o&4194048)!==0)){var a=n.lanes;a&=e.pendingLanes,o|=a,n.lanes=o,Ri(e,o)}}function Sd(e,n){var o=e.updateQueue,a=e.alternate;if(a!==null&&(a=a.updateQueue,o===a)){var u=null,f=null;if(o=o.firstBaseUpdate,o!==null){do{var y={lane:o.lane,tag:o.tag,payload:o.payload,callback:null,next:null};f===null?u=f=y:f=f.next=y,o=o.next}while(o!==null);f===null?u=f=n:f=f.next=n}else u=f=n;o={baseState:a.baseState,firstBaseUpdate:u,lastBaseUpdate:f,shared:a.shared,callbacks:a.callbacks},e.updateQueue=o;return}e=o.lastBaseUpdate,e===null?o.firstBaseUpdate=n:e.next=n,o.lastBaseUpdate=n}var jd=!1;function Ds(){if(jd){var e=ma;if(e!==null)throw e}}function Ts(e,n,o,a){jd=!1;var u=e.updateQueue;$o=!1;var f=u.firstBaseUpdate,y=u.lastBaseUpdate,H=u.shared.pending;if(H!==null){u.shared.pending=null;var X=H,le=X.next;X.next=null,y===null?f=le:y.next=le,y=X;var de=e.alternate;de!==null&&(de=de.updateQueue,H=de.lastBaseUpdate,H!==y&&(H===null?de.firstBaseUpdate=le:H.next=le,de.lastBaseUpdate=X))}if(f!==null){var me=u.baseState;y=0,de=le=X=null,H=f;do{var re=H.lane&-536870913,ie=re!==H.lane;if(ie?(at&re)===re:(a&re)===re){re!==0&&re===ga&&(jd=!0),de!==null&&(de=de.next={lane:0,tag:H.tag,payload:H.payload,callback:null,next:null});e:{var De=e,Pe=H;re=n;var zt=o;switch(Pe.tag){case 1:if(De=Pe.payload,typeof De=="function"){me=De.call(zt,me,re);break e}me=De;break e;case 3:De.flags=De.flags&-65537|128;case 0:if(De=Pe.payload,re=typeof De=="function"?De.call(zt,me,re):De,re==null)break e;me=C({},me,re);break e;case 2:$o=!0}}re=H.callback,re!==null&&(e.flags|=64,ie&&(e.flags|=8192),ie=u.callbacks,ie===null?u.callbacks=[re]:ie.push(re))}else ie={lane:re,tag:H.tag,payload:H.payload,callback:H.callback,next:null},de===null?(le=de=ie,X=me):de=de.next=ie,y|=re;if(H=H.next,H===null){if(H=u.shared.pending,H===null)break;ie=H,H=ie.next,ie.next=null,u.lastBaseUpdate=ie,u.shared.pending=null}}while(!0);de===null&&(X=me),u.baseState=X,u.firstBaseUpdate=le,u.lastBaseUpdate=de,f===null&&(u.shared.lanes=0),Zo|=y,e.lanes=y,e.memoizedState=me}}function pm(e,n){if(typeof e!="function")throw Error(i(191,e));e.call(n)}function bm(e,n){var o=e.callbacks;if(o!==null)for(e.callbacks=null,e=0;e<o.length;e++)pm(o[e],n)}var xa=$(null),cc=$(0);function xm(e,n){e=Ao,oe(cc,e),oe(xa,n),Ao=e|n.baseLanes}function Md(){oe(cc,Ao),oe(xa,xa.current)}function Ed(){Ao=cc.current,Q(xa),Q(cc)}var rl=$(null),vl=null;function Yo(e){var n=e.alternate;oe(Jt,Jt.current&1),oe(rl,e),vl===null&&(n===null||xa.current!==null||n.memoizedState!==null)&&(vl=e)}function Dd(e){oe(Jt,Jt.current),oe(rl,e),vl===null&&(vl=e)}function Cm(e){e.tag===22?(oe(Jt,Jt.current),oe(rl,e),vl===null&&(vl=e)):Ko()}function Ko(){oe(Jt,Jt.current),oe(rl,rl.current)}function al(e){Q(rl),vl===e&&(vl=null),Q(Jt)}var Jt=$(0);function uc(e){for(var n=e;n!==null;){if(n.tag===13){var o=n.memoizedState;if(o!==null&&(o=o.dehydrated,o===null||kf(o)||Hf(o)))return n}else if(n.tag===19&&(n.memoizedProps.revealOrder==="forwards"||n.memoizedProps.revealOrder==="backwards"||n.memoizedProps.revealOrder==="unstable_legacy-backwards"||n.memoizedProps.revealOrder==="together")){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}var So=0,Ye=null,Ft=null,on=null,dc=!1,Ca=!1,Pr=!1,fc=0,Is=0,ya=null,mv=0;function Kt(){throw Error(i(321))}function Td(e,n){if(n===null)return!1;for(var o=0;o<n.length&&o<e.length;o++)if(!ll(e[o],n[o]))return!1;return!0}function Id(e,n,o,a,u,f){return So=f,Ye=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,S.H=e===null||e.memoizedState===null?np:Ud,Pr=!1,f=o(a,u),Pr=!1,Ca&&(f=vm(n,o,a,u)),ym(e),f}function ym(e){S.H=zs;var n=Ft!==null&&Ft.next!==null;if(So=0,on=Ft=Ye=null,dc=!1,Is=0,ya=null,n)throw Error(i(300));e===null||rn||(e=e.dependencies,e!==null&&nc(e)&&(rn=!0))}function vm(e,n,o,a){Ye=e;var u=0;do{if(Ca&&(ya=null),Is=0,Ca=!1,25<=u)throw Error(i(301));if(u+=1,on=Ft=null,e.updateQueue!=null){var f=e.updateQueue;f.lastEffect=null,f.events=null,f.stores=null,f.memoCache!=null&&(f.memoCache.index=0)}S.H=lp,f=n(o,a)}while(Ca);return f}function pv(){var e=S.H,n=e.useState()[0];return n=typeof n.then=="function"?Fs(n):n,e=e.useState()[0],(Ft!==null?Ft.memoizedState:null)!==e&&(Ye.flags|=1024),n}function Fd(){var e=fc!==0;return fc=0,e}function Ad(e,n,o){n.updateQueue=e.updateQueue,n.flags&=-2053,e.lanes&=~o}function zd(e){if(dc){for(e=e.memoizedState;e!==null;){var n=e.queue;n!==null&&(n.pending=null),e=e.next}dc=!1}So=0,on=Ft=Ye=null,Ca=!1,Is=fc=0,ya=null}function Hn(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return on===null?Ye.memoizedState=on=e:on=on.next=e,on}function en(){if(Ft===null){var e=Ye.alternate;e=e!==null?e.memoizedState:null}else e=Ft.next;var n=on===null?Ye.memoizedState:on.next;if(n!==null)on=n,Ft=e;else{if(e===null)throw Ye.alternate===null?Error(i(467)):Error(i(310));Ft=e,e={memoizedState:Ft.memoizedState,baseState:Ft.baseState,baseQueue:Ft.baseQueue,queue:Ft.queue,next:null},on===null?Ye.memoizedState=on=e:on=on.next=e}return on}function hc(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Fs(e){var n=Is;return Is+=1,ya===null&&(ya=[]),e=dm(ya,e,n),n=Ye,(on===null?n.memoizedState:on.next)===null&&(n=n.alternate,S.H=n===null||n.memoizedState===null?np:Ud),e}function gc(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return Fs(e);if(e.$$typeof===P)return wn(e)}throw Error(i(438,String(e)))}function Od(e){var n=null,o=Ye.updateQueue;if(o!==null&&(n=o.memoCache),n==null){var a=Ye.alternate;a!==null&&(a=a.updateQueue,a!==null&&(a=a.memoCache,a!=null&&(n={data:a.data.map(function(u){return u.slice()}),index:0})))}if(n==null&&(n={data:[],index:0}),o===null&&(o=hc(),Ye.updateQueue=o),o.memoCache=n,o=n.data[n.index],o===void 0)for(o=n.data[n.index]=Array(e),a=0;a<e;a++)o[a]=E;return n.index++,o}function jo(e,n){return typeof n=="function"?n(e):n}function mc(e){var n=en();return kd(n,Ft,e)}function kd(e,n,o){var a=e.queue;if(a===null)throw Error(i(311));a.lastRenderedReducer=o;var u=e.baseQueue,f=a.pending;if(f!==null){if(u!==null){var y=u.next;u.next=f.next,f.next=y}n.baseQueue=u=f,a.pending=null}if(f=e.baseState,u===null)e.memoizedState=f;else{n=u.next;var H=y=null,X=null,le=n,de=!1;do{var me=le.lane&-536870913;if(me!==le.lane?(at&me)===me:(So&me)===me){var re=le.revertLane;if(re===0)X!==null&&(X=X.next={lane:0,revertLane:0,gesture:null,action:le.action,hasEagerState:le.hasEagerState,eagerState:le.eagerState,next:null}),me===ga&&(de=!0);else if((So&re)===re){le=le.next,re===ga&&(de=!0);continue}else me={lane:0,revertLane:le.revertLane,gesture:null,action:le.action,hasEagerState:le.hasEagerState,eagerState:le.eagerState,next:null},X===null?(H=X=me,y=f):X=X.next=me,Ye.lanes|=re,Zo|=re;me=le.action,Pr&&o(f,me),f=le.hasEagerState?le.eagerState:o(f,me)}else re={lane:me,revertLane:le.revertLane,gesture:le.gesture,action:le.action,hasEagerState:le.hasEagerState,eagerState:le.eagerState,next:null},X===null?(H=X=re,y=f):X=X.next=re,Ye.lanes|=me,Zo|=me;le=le.next}while(le!==null&&le!==n);if(X===null?y=f:X.next=H,!ll(f,e.memoizedState)&&(rn=!0,de&&(o=ma,o!==null)))throw o;e.memoizedState=f,e.baseState=y,e.baseQueue=X,a.lastRenderedState=f}return u===null&&(a.lanes=0),[e.memoizedState,a.dispatch]}function Hd(e){var n=en(),o=n.queue;if(o===null)throw Error(i(311));o.lastRenderedReducer=e;var a=o.dispatch,u=o.pending,f=n.memoizedState;if(u!==null){o.pending=null;var y=u=u.next;do f=e(f,y.action),y=y.next;while(y!==u);ll(f,n.memoizedState)||(rn=!0),n.memoizedState=f,n.baseQueue===null&&(n.baseState=f),o.lastRenderedState=f}return[f,a]}function wm(e,n,o){var a=Ye,u=en(),f=ct;if(f){if(o===void 0)throw Error(i(407));o=o()}else o=n();var y=!ll((Ft||u).memoizedState,o);if(y&&(u.memoizedState=o,rn=!0),u=u.queue,Nd(Mm.bind(null,a,u,e),[e]),u.getSnapshot!==n||y||on!==null&&on.memoizedState.tag&1){if(a.flags|=2048,va(9,{destroy:void 0},jm.bind(null,a,u,o,n),null),Pt===null)throw Error(i(349));f||(So&127)!==0||Sm(a,n,o)}return o}function Sm(e,n,o){e.flags|=16384,e={getSnapshot:n,value:o},n=Ye.updateQueue,n===null?(n=hc(),Ye.updateQueue=n,n.stores=[e]):(o=n.stores,o===null?n.stores=[e]:o.push(e))}function jm(e,n,o,a){n.value=o,n.getSnapshot=a,Em(n)&&Dm(e)}function Mm(e,n,o){return o(function(){Em(n)&&Dm(e)})}function Em(e){var n=e.getSnapshot;e=e.value;try{var o=n();return!ll(e,o)}catch{return!0}}function Dm(e){var n=Dr(e,2);n!==null&&Xn(n,e,2)}function Pd(e){var n=Hn();if(typeof e=="function"){var o=e;if(e=o(),Pr){yn(!0);try{o()}finally{yn(!1)}}}return n.memoizedState=n.baseState=e,n.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:jo,lastRenderedState:e},n}function Tm(e,n,o,a){return e.baseState=o,kd(e,Ft,typeof a=="function"?a:jo)}function bv(e,n,o,a,u){if(xc(e))throw Error(i(485));if(e=n.action,e!==null){var f={payload:u,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(y){f.listeners.push(y)}};S.T!==null?o(!0):f.isTransition=!1,a(f),o=n.pending,o===null?(f.next=n.pending=f,Im(n,f)):(f.next=o.next,n.pending=o.next=f)}}function Im(e,n){var o=n.action,a=n.payload,u=e.state;if(n.isTransition){var f=S.T,y={};S.T=y;try{var H=o(u,a),X=S.S;X!==null&&X(y,H),Fm(e,n,H)}catch(le){Rd(e,n,le)}finally{f!==null&&y.types!==null&&(f.types=y.types),S.T=f}}else try{f=o(u,a),Fm(e,n,f)}catch(le){Rd(e,n,le)}}function Fm(e,n,o){o!==null&&typeof o=="object"&&typeof o.then=="function"?o.then(function(a){Am(e,n,a)},function(a){return Rd(e,n,a)}):Am(e,n,o)}function Am(e,n,o){n.status="fulfilled",n.value=o,zm(n),e.state=o,n=e.pending,n!==null&&(o=n.next,o===n?e.pending=null:(o=o.next,n.next=o,Im(e,o)))}function Rd(e,n,o){var a=e.pending;if(e.pending=null,a!==null){a=a.next;do n.status="rejected",n.reason=o,zm(n),n=n.next;while(n!==a)}e.action=null}function zm(e){e=e.listeners;for(var n=0;n<e.length;n++)(0,e[n])()}function Om(e,n){return n}function km(e,n){if(ct){var o=Pt.formState;if(o!==null){e:{var a=Ye;if(ct){if(_t){t:{for(var u=_t,f=yl;u.nodeType!==8;){if(!f){u=null;break t}if(u=wl(u.nextSibling),u===null){u=null;break t}}f=u.data,u=f==="F!"||f==="F"?u:null}if(u){_t=wl(u.nextSibling),a=u.data==="F!";break e}}Vo(a)}a=!1}a&&(n=o[0])}}return o=Hn(),o.memoizedState=o.baseState=n,a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Om,lastRenderedState:n},o.queue=a,o=Jm.bind(null,Ye,a),a.dispatch=o,a=Pd(!1),f=Vd.bind(null,Ye,!1,a.queue),a=Hn(),u={state:n,dispatch:null,action:e,pending:null},a.queue=u,o=bv.bind(null,Ye,u,f,o),u.dispatch=o,a.memoizedState=e,[n,o,!1]}function Hm(e){var n=en();return Pm(n,Ft,e)}function Pm(e,n,o){if(n=kd(e,n,Om)[0],e=mc(jo)[0],typeof n=="object"&&n!==null&&typeof n.then=="function")try{var a=Fs(n)}catch(y){throw y===pa?rc:y}else a=n;n=en();var u=n.queue,f=u.dispatch;return o!==n.memoizedState&&(Ye.flags|=2048,va(9,{destroy:void 0},xv.bind(null,u,o),null)),[a,f,e]}function xv(e,n){e.action=n}function Rm(e){var n=en(),o=Ft;if(o!==null)return Pm(n,o,e);en(),n=n.memoizedState,o=en();var a=o.queue.dispatch;return o.memoizedState=e,[n,a,!1]}function va(e,n,o,a){return e={tag:e,create:o,deps:a,inst:n,next:null},n=Ye.updateQueue,n===null&&(n=hc(),Ye.updateQueue=n),o=n.lastEffect,o===null?n.lastEffect=e.next=e:(a=o.next,o.next=e,e.next=a,n.lastEffect=e),e}function Nm(){return en().memoizedState}function pc(e,n,o,a){var u=Hn();Ye.flags|=e,u.memoizedState=va(1|n,{destroy:void 0},o,a===void 0?null:a)}function bc(e,n,o,a){var u=en();a=a===void 0?null:a;var f=u.memoizedState.inst;Ft!==null&&a!==null&&Td(a,Ft.memoizedState.deps)?u.memoizedState=va(n,f,o,a):(Ye.flags|=e,u.memoizedState=va(1|n,f,o,a))}function Gm(e,n){pc(8390656,8,e,n)}function Nd(e,n){bc(2048,8,e,n)}function Cv(e){Ye.flags|=4;var n=Ye.updateQueue;if(n===null)n=hc(),Ye.updateQueue=n,n.events=[e];else{var o=n.events;o===null?n.events=[e]:o.push(e)}}function Lm(e){var n=en().memoizedState;return Cv({ref:n,nextImpl:e}),function(){if((Ct&2)!==0)throw Error(i(440));return n.impl.apply(void 0,arguments)}}function _m(e,n){return bc(4,2,e,n)}function Bm(e,n){return bc(4,4,e,n)}function Vm(e,n){if(typeof n=="function"){e=e();var o=n(e);return function(){typeof o=="function"?o():n(null)}}if(n!=null)return e=e(),n.current=e,function(){n.current=null}}function Um(e,n,o){o=o!=null?o.concat([e]):null,bc(4,4,Vm.bind(null,n,e),o)}function Gd(){}function $m(e,n){var o=en();n=n===void 0?null:n;var a=o.memoizedState;return n!==null&&Td(n,a[1])?a[0]:(o.memoizedState=[e,n],e)}function Wm(e,n){var o=en();n=n===void 0?null:n;var a=o.memoizedState;if(n!==null&&Td(n,a[1]))return a[0];if(a=e(),Pr){yn(!0);try{e()}finally{yn(!1)}}return o.memoizedState=[a,n],a}function Ld(e,n,o){return o===void 0||(So&1073741824)!==0&&(at&261930)===0?e.memoizedState=n:(e.memoizedState=o,e=qp(),Ye.lanes|=e,Zo|=e,o)}function qm(e,n,o,a){return ll(o,n)?o:xa.current!==null?(e=Ld(e,o,a),ll(e,n)||(rn=!0),e):(So&42)===0||(So&1073741824)!==0&&(at&261930)===0?(rn=!0,e.memoizedState=o):(e=qp(),Ye.lanes|=e,Zo|=e,n)}function Ym(e,n,o,a,u){var f=z.p;z.p=f!==0&&8>f?f:8;var y=S.T,H={};S.T=H,Vd(e,!1,n,o);try{var X=u(),le=S.S;if(le!==null&&le(H,X),X!==null&&typeof X=="object"&&typeof X.then=="function"){var de=gv(X,a);As(e,n,de,cl(e))}else As(e,n,a,cl(e))}catch(me){As(e,n,{then:function(){},status:"rejected",reason:me},cl())}finally{z.p=f,y!==null&&H.types!==null&&(y.types=H.types),S.T=y}}function yv(){}function _d(e,n,o,a){if(e.tag!==5)throw Error(i(476));var u=Km(e).queue;Ym(e,u,n,F,o===null?yv:function(){return Xm(e),o(a)})}function Km(e){var n=e.memoizedState;if(n!==null)return n;n={memoizedState:F,baseState:F,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:jo,lastRenderedState:F},next:null};var o={};return n.next={memoizedState:o,baseState:o,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:jo,lastRenderedState:o},next:null},e.memoizedState=n,e=e.alternate,e!==null&&(e.memoizedState=n),n}function Xm(e){var n=Km(e);n.next===null&&(n=e.alternate.memoizedState),As(e,n.next.queue,{},cl())}function Bd(){return wn(Ys)}function Qm(){return en().memoizedState}function Zm(){return en().memoizedState}function vv(e){for(var n=e.return;n!==null;){switch(n.tag){case 24:case 3:var o=cl();e=Wo(o);var a=qo(n,e,o);a!==null&&(Xn(a,n,o),Es(a,n,o)),n={cache:bd()},e.payload=n;return}n=n.return}}function wv(e,n,o){var a=cl();o={lane:a,revertLane:0,gesture:null,action:o,hasEagerState:!1,eagerState:null,next:null},xc(e)?ep(n,o):(o=ad(e,n,o,a),o!==null&&(Xn(o,e,a),tp(o,n,a)))}function Jm(e,n,o){var a=cl();As(e,n,o,a)}function As(e,n,o,a){var u={lane:a,revertLane:0,gesture:null,action:o,hasEagerState:!1,eagerState:null,next:null};if(xc(e))ep(n,u);else{var f=e.alternate;if(e.lanes===0&&(f===null||f.lanes===0)&&(f=n.lastRenderedReducer,f!==null))try{var y=n.lastRenderedState,H=f(y,o);if(u.hasEagerState=!0,u.eagerState=H,ll(H,y))return Zi(e,n,u,0),Pt===null&&Qi(),!1}catch{}if(o=ad(e,n,u,a),o!==null)return Xn(o,e,a),tp(o,n,a),!0}return!1}function Vd(e,n,o,a){if(a={lane:2,revertLane:wf(),gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null},xc(e)){if(n)throw Error(i(479))}else n=ad(e,o,a,2),n!==null&&Xn(n,e,2)}function xc(e){var n=e.alternate;return e===Ye||n!==null&&n===Ye}function ep(e,n){Ca=dc=!0;var o=e.pending;o===null?n.next=n:(n.next=o.next,o.next=n),e.pending=n}function tp(e,n,o){if((o&4194048)!==0){var a=n.lanes;a&=e.pendingLanes,o|=a,n.lanes=o,Ri(e,o)}}var zs={readContext:wn,use:gc,useCallback:Kt,useContext:Kt,useEffect:Kt,useImperativeHandle:Kt,useLayoutEffect:Kt,useInsertionEffect:Kt,useMemo:Kt,useReducer:Kt,useRef:Kt,useState:Kt,useDebugValue:Kt,useDeferredValue:Kt,useTransition:Kt,useSyncExternalStore:Kt,useId:Kt,useHostTransitionStatus:Kt,useFormState:Kt,useActionState:Kt,useOptimistic:Kt,useMemoCache:Kt,useCacheRefresh:Kt};zs.useEffectEvent=Kt;var np={readContext:wn,use:gc,useCallback:function(e,n){return Hn().memoizedState=[e,n===void 0?null:n],e},useContext:wn,useEffect:Gm,useImperativeHandle:function(e,n,o){o=o!=null?o.concat([e]):null,pc(4194308,4,Vm.bind(null,n,e),o)},useLayoutEffect:function(e,n){return pc(4194308,4,e,n)},useInsertionEffect:function(e,n){pc(4,2,e,n)},useMemo:function(e,n){var o=Hn();n=n===void 0?null:n;var a=e();if(Pr){yn(!0);try{e()}finally{yn(!1)}}return o.memoizedState=[a,n],a},useReducer:function(e,n,o){var a=Hn();if(o!==void 0){var u=o(n);if(Pr){yn(!0);try{o(n)}finally{yn(!1)}}}else u=n;return a.memoizedState=a.baseState=u,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:u},a.queue=e,e=e.dispatch=wv.bind(null,Ye,e),[a.memoizedState,e]},useRef:function(e){var n=Hn();return e={current:e},n.memoizedState=e},useState:function(e){e=Pd(e);var n=e.queue,o=Jm.bind(null,Ye,n);return n.dispatch=o,[e.memoizedState,o]},useDebugValue:Gd,useDeferredValue:function(e,n){var o=Hn();return Ld(o,e,n)},useTransition:function(){var e=Pd(!1);return e=Ym.bind(null,Ye,e.queue,!0,!1),Hn().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,n,o){var a=Ye,u=Hn();if(ct){if(o===void 0)throw Error(i(407));o=o()}else{if(o=n(),Pt===null)throw Error(i(349));(at&127)!==0||Sm(a,n,o)}u.memoizedState=o;var f={value:o,getSnapshot:n};return u.queue=f,Gm(Mm.bind(null,a,f,e),[e]),a.flags|=2048,va(9,{destroy:void 0},jm.bind(null,a,f,o,n),null),o},useId:function(){var e=Hn(),n=Pt.identifierPrefix;if(ct){var o=eo,a=Jl;o=(a&~(1<<32-nn(a)-1)).toString(32)+o,n="_"+n+"R_"+o,o=fc++,0<o&&(n+="H"+o.toString(32)),n+="_"}else o=mv++,n="_"+n+"r_"+o.toString(32)+"_";return e.memoizedState=n},useHostTransitionStatus:Bd,useFormState:km,useActionState:km,useOptimistic:function(e){var n=Hn();n.memoizedState=n.baseState=e;var o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return n.queue=o,n=Vd.bind(null,Ye,!0,o),o.dispatch=n,[e,n]},useMemoCache:Od,useCacheRefresh:function(){return Hn().memoizedState=vv.bind(null,Ye)},useEffectEvent:function(e){var n=Hn(),o={impl:e};return n.memoizedState=o,function(){if((Ct&2)!==0)throw Error(i(440));return o.impl.apply(void 0,arguments)}}},Ud={readContext:wn,use:gc,useCallback:$m,useContext:wn,useEffect:Nd,useImperativeHandle:Um,useInsertionEffect:_m,useLayoutEffect:Bm,useMemo:Wm,useReducer:mc,useRef:Nm,useState:function(){return mc(jo)},useDebugValue:Gd,useDeferredValue:function(e,n){var o=en();return qm(o,Ft.memoizedState,e,n)},useTransition:function(){var e=mc(jo)[0],n=en().memoizedState;return[typeof e=="boolean"?e:Fs(e),n]},useSyncExternalStore:wm,useId:Qm,useHostTransitionStatus:Bd,useFormState:Hm,useActionState:Hm,useOptimistic:function(e,n){var o=en();return Tm(o,Ft,e,n)},useMemoCache:Od,useCacheRefresh:Zm};Ud.useEffectEvent=Lm;var lp={readContext:wn,use:gc,useCallback:$m,useContext:wn,useEffect:Nd,useImperativeHandle:Um,useInsertionEffect:_m,useLayoutEffect:Bm,useMemo:Wm,useReducer:Hd,useRef:Nm,useState:function(){return Hd(jo)},useDebugValue:Gd,useDeferredValue:function(e,n){var o=en();return Ft===null?Ld(o,e,n):qm(o,Ft.memoizedState,e,n)},useTransition:function(){var e=Hd(jo)[0],n=en().memoizedState;return[typeof e=="boolean"?e:Fs(e),n]},useSyncExternalStore:wm,useId:Qm,useHostTransitionStatus:Bd,useFormState:Rm,useActionState:Rm,useOptimistic:function(e,n){var o=en();return Ft!==null?Tm(o,Ft,e,n):(o.baseState=e,[e,o.queue.dispatch])},useMemoCache:Od,useCacheRefresh:Zm};lp.useEffectEvent=Lm;function $d(e,n,o,a){n=e.memoizedState,o=o(a,n),o=o==null?n:C({},n,o),e.memoizedState=o,e.lanes===0&&(e.updateQueue.baseState=o)}var Wd={enqueueSetState:function(e,n,o){e=e._reactInternals;var a=cl(),u=Wo(a);u.payload=n,o!=null&&(u.callback=o),n=qo(e,u,a),n!==null&&(Xn(n,e,a),Es(n,e,a))},enqueueReplaceState:function(e,n,o){e=e._reactInternals;var a=cl(),u=Wo(a);u.tag=1,u.payload=n,o!=null&&(u.callback=o),n=qo(e,u,a),n!==null&&(Xn(n,e,a),Es(n,e,a))},enqueueForceUpdate:function(e,n){e=e._reactInternals;var o=cl(),a=Wo(o);a.tag=2,n!=null&&(a.callback=n),n=qo(e,a,o),n!==null&&(Xn(n,e,o),Es(n,e,o))}};function op(e,n,o,a,u,f,y){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(a,f,y):n.prototype&&n.prototype.isPureReactComponent?!xs(o,a)||!xs(u,f):!0}function rp(e,n,o,a){e=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(o,a),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(o,a),n.state!==e&&Wd.enqueueReplaceState(n,n.state,null)}function Rr(e,n){var o=n;if("ref"in n){o={};for(var a in n)a!=="ref"&&(o[a]=n[a])}if(e=e.defaultProps){o===n&&(o=C({},o));for(var u in e)o[u]===void 0&&(o[u]=e[u])}return o}function ap(e){Xi(e)}function sp(e){console.error(e)}function ip(e){Xi(e)}function Cc(e,n){try{var o=e.onUncaughtError;o(n.value,{componentStack:n.stack})}catch(a){setTimeout(function(){throw a})}}function cp(e,n,o){try{var a=e.onCaughtError;a(o.value,{componentStack:o.stack,errorBoundary:n.tag===1?n.stateNode:null})}catch(u){setTimeout(function(){throw u})}}function qd(e,n,o){return o=Wo(o),o.tag=3,o.payload={element:null},o.callback=function(){Cc(e,n)},o}function up(e){return e=Wo(e),e.tag=3,e}function dp(e,n,o,a){var u=o.type.getDerivedStateFromError;if(typeof u=="function"){var f=a.value;e.payload=function(){return u(f)},e.callback=function(){cp(n,o,a)}}var y=o.stateNode;y!==null&&typeof y.componentDidCatch=="function"&&(e.callback=function(){cp(n,o,a),typeof u!="function"&&(Jo===null?Jo=new Set([this]):Jo.add(this));var H=a.stack;this.componentDidCatch(a.value,{componentStack:H!==null?H:""})})}function Sv(e,n,o,a,u){if(o.flags|=32768,a!==null&&typeof a=="object"&&typeof a.then=="function"){if(n=o.alternate,n!==null&&ha(n,o,u,!0),o=rl.current,o!==null){switch(o.tag){case 31:case 13:return vl===null?Ac():o.alternate===null&&Xt===0&&(Xt=3),o.flags&=-257,o.flags|=65536,o.lanes=u,a===ac?o.flags|=16384:(n=o.updateQueue,n===null?o.updateQueue=new Set([a]):n.add(a),Cf(e,a,u)),!1;case 22:return o.flags|=65536,a===ac?o.flags|=16384:(n=o.updateQueue,n===null?(n={transitions:null,markerInstances:null,retryQueue:new Set([a])},o.updateQueue=n):(o=n.retryQueue,o===null?n.retryQueue=new Set([a]):o.add(a)),Cf(e,a,u)),!1}throw Error(i(435,o.tag))}return Cf(e,a,u),Ac(),!1}if(ct)return n=rl.current,n!==null?((n.flags&65536)===0&&(n.flags|=256),n.flags|=65536,n.lanes=u,a!==fd&&(e=Error(i(422),{cause:a}),vs(bl(e,o)))):(a!==fd&&(n=Error(i(423),{cause:a}),vs(bl(n,o))),e=e.current.alternate,e.flags|=65536,u&=-u,e.lanes|=u,a=bl(a,o),u=qd(e.stateNode,a,u),Sd(e,u),Xt!==4&&(Xt=2)),!1;var f=Error(i(520),{cause:a});if(f=bl(f,o),Ls===null?Ls=[f]:Ls.push(f),Xt!==4&&(Xt=2),n===null)return!0;a=bl(a,o),o=n;do{switch(o.tag){case 3:return o.flags|=65536,e=u&-u,o.lanes|=e,e=qd(o.stateNode,a,e),Sd(o,e),!1;case 1:if(n=o.type,f=o.stateNode,(o.flags&128)===0&&(typeof n.getDerivedStateFromError=="function"||f!==null&&typeof f.componentDidCatch=="function"&&(Jo===null||!Jo.has(f))))return o.flags|=65536,u&=-u,o.lanes|=u,u=up(u),dp(u,e,o,a),Sd(o,u),!1}o=o.return}while(o!==null);return!1}var Yd=Error(i(461)),rn=!1;function Sn(e,n,o,a){n.child=e===null?mm(n,null,o,a):Hr(n,e.child,o,a)}function fp(e,n,o,a,u){o=o.render;var f=n.ref;if("ref"in a){var y={};for(var H in a)H!=="ref"&&(y[H]=a[H])}else y=a;return Ar(n),a=Id(e,n,o,y,f,u),H=Fd(),e!==null&&!rn?(Ad(e,n,u),Mo(e,n,u)):(ct&&H&&ud(n),n.flags|=1,Sn(e,n,a,u),n.child)}function hp(e,n,o,a,u){if(e===null){var f=o.type;return typeof f=="function"&&!sd(f)&&f.defaultProps===void 0&&o.compare===null?(n.tag=15,n.type=f,gp(e,n,f,a,u)):(e=ec(o.type,null,a,n,n.mode,u),e.ref=n.ref,e.return=n,n.child=e)}if(f=e.child,!nf(e,u)){var y=f.memoizedProps;if(o=o.compare,o=o!==null?o:xs,o(y,a)&&e.ref===n.ref)return Mo(e,n,u)}return n.flags|=1,e=Co(f,a),e.ref=n.ref,e.return=n,n.child=e}function gp(e,n,o,a,u){if(e!==null){var f=e.memoizedProps;if(xs(f,a)&&e.ref===n.ref)if(rn=!1,n.pendingProps=a=f,nf(e,u))(e.flags&131072)!==0&&(rn=!0);else return n.lanes=e.lanes,Mo(e,n,u)}return Kd(e,n,o,a,u)}function mp(e,n,o,a){var u=a.children,f=e!==null?e.memoizedState:null;if(e===null&&n.stateNode===null&&(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),a.mode==="hidden"){if((n.flags&128)!==0){if(f=f!==null?f.baseLanes|o:o,e!==null){for(a=n.child=e.child,u=0;a!==null;)u=u|a.lanes|a.childLanes,a=a.sibling;a=u&~f}else a=0,n.child=null;return pp(e,n,f,o,a)}if((o&536870912)!==0)n.memoizedState={baseLanes:0,cachePool:null},e!==null&&oc(n,f!==null?f.cachePool:null),f!==null?xm(n,f):Md(),Cm(n);else return a=n.lanes=536870912,pp(e,n,f!==null?f.baseLanes|o:o,o,a)}else f!==null?(oc(n,f.cachePool),xm(n,f),Ko(),n.memoizedState=null):(e!==null&&oc(n,null),Md(),Ko());return Sn(e,n,u,o),n.child}function Os(e,n){return e!==null&&e.tag===22||n.stateNode!==null||(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),n.sibling}function pp(e,n,o,a,u){var f=Cd();return f=f===null?null:{parent:ln._currentValue,pool:f},n.memoizedState={baseLanes:o,cachePool:f},e!==null&&oc(n,null),Md(),Cm(n),e!==null&&ha(e,n,a,!0),n.childLanes=u,null}function yc(e,n){return n=wc({mode:n.mode,children:n.children},e.mode),n.ref=e.ref,e.child=n,n.return=e,n}function bp(e,n,o){return Hr(n,e.child,null,o),e=yc(n,n.pendingProps),e.flags|=2,al(n),n.memoizedState=null,e}function jv(e,n,o){var a=n.pendingProps,u=(n.flags&128)!==0;if(n.flags&=-129,e===null){if(ct){if(a.mode==="hidden")return e=yc(n,a),n.lanes=536870912,Os(null,e);if(Dd(n),(e=_t)?(e=Ib(e,yl),e=e!==null&&e.data==="&"?e:null,e!==null&&(n.memoizedState={dehydrated:e,treeContext:_o!==null?{id:Jl,overflow:eo}:null,retryLane:536870912,hydrationErrors:null},o=em(e),o.return=n,n.child=o,vn=n,_t=null)):e=null,e===null)throw Vo(n);return n.lanes=536870912,null}return yc(n,a)}var f=e.memoizedState;if(f!==null){var y=f.dehydrated;if(Dd(n),u)if(n.flags&256)n.flags&=-257,n=bp(e,n,o);else if(n.memoizedState!==null)n.child=e.child,n.flags|=128,n=null;else throw Error(i(558));else if(rn||ha(e,n,o,!1),u=(o&e.childLanes)!==0,rn||u){if(a=Pt,a!==null&&(y=Sr(a,o),y!==0&&y!==f.retryLane))throw f.retryLane=y,Dr(e,y),Xn(a,e,y),Yd;Ac(),n=bp(e,n,o)}else e=f.treeContext,_t=wl(y.nextSibling),vn=n,ct=!0,Bo=null,yl=!1,e!==null&&lm(n,e),n=yc(n,a),n.flags|=4096;return n}return e=Co(e.child,{mode:a.mode,children:a.children}),e.ref=n.ref,n.child=e,e.return=n,e}function vc(e,n){var o=n.ref;if(o===null)e!==null&&e.ref!==null&&(n.flags|=4194816);else{if(typeof o!="function"&&typeof o!="object")throw Error(i(284));(e===null||e.ref!==o)&&(n.flags|=4194816)}}function Kd(e,n,o,a,u){return Ar(n),o=Id(e,n,o,a,void 0,u),a=Fd(),e!==null&&!rn?(Ad(e,n,u),Mo(e,n,u)):(ct&&a&&ud(n),n.flags|=1,Sn(e,n,o,u),n.child)}function xp(e,n,o,a,u,f){return Ar(n),n.updateQueue=null,o=vm(n,a,o,u),ym(e),a=Fd(),e!==null&&!rn?(Ad(e,n,f),Mo(e,n,f)):(ct&&a&&ud(n),n.flags|=1,Sn(e,n,o,f),n.child)}function Cp(e,n,o,a,u){if(Ar(n),n.stateNode===null){var f=ca,y=o.contextType;typeof y=="object"&&y!==null&&(f=wn(y)),f=new o(a,f),n.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,f.updater=Wd,n.stateNode=f,f._reactInternals=n,f=n.stateNode,f.props=a,f.state=n.memoizedState,f.refs={},vd(n),y=o.contextType,f.context=typeof y=="object"&&y!==null?wn(y):ca,f.state=n.memoizedState,y=o.getDerivedStateFromProps,typeof y=="function"&&($d(n,o,y,a),f.state=n.memoizedState),typeof o.getDerivedStateFromProps=="function"||typeof f.getSnapshotBeforeUpdate=="function"||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(y=f.state,typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount(),y!==f.state&&Wd.enqueueReplaceState(f,f.state,null),Ts(n,a,f,u),Ds(),f.state=n.memoizedState),typeof f.componentDidMount=="function"&&(n.flags|=4194308),a=!0}else if(e===null){f=n.stateNode;var H=n.memoizedProps,X=Rr(o,H);f.props=X;var le=f.context,de=o.contextType;y=ca,typeof de=="object"&&de!==null&&(y=wn(de));var me=o.getDerivedStateFromProps;de=typeof me=="function"||typeof f.getSnapshotBeforeUpdate=="function",H=n.pendingProps!==H,de||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(H||le!==y)&&rp(n,f,a,y),$o=!1;var re=n.memoizedState;f.state=re,Ts(n,a,f,u),Ds(),le=n.memoizedState,H||re!==le||$o?(typeof me=="function"&&($d(n,o,me,a),le=n.memoizedState),(X=$o||op(n,o,X,a,re,le,y))?(de||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount()),typeof f.componentDidMount=="function"&&(n.flags|=4194308)):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=a,n.memoizedState=le),f.props=a,f.state=le,f.context=y,a=X):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),a=!1)}else{f=n.stateNode,wd(e,n),y=n.memoizedProps,de=Rr(o,y),f.props=de,me=n.pendingProps,re=f.context,le=o.contextType,X=ca,typeof le=="object"&&le!==null&&(X=wn(le)),H=o.getDerivedStateFromProps,(le=typeof H=="function"||typeof f.getSnapshotBeforeUpdate=="function")||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(y!==me||re!==X)&&rp(n,f,a,X),$o=!1,re=n.memoizedState,f.state=re,Ts(n,a,f,u),Ds();var ie=n.memoizedState;y!==me||re!==ie||$o||e!==null&&e.dependencies!==null&&nc(e.dependencies)?(typeof H=="function"&&($d(n,o,H,a),ie=n.memoizedState),(de=$o||op(n,o,de,a,re,ie,X)||e!==null&&e.dependencies!==null&&nc(e.dependencies))?(le||typeof f.UNSAFE_componentWillUpdate!="function"&&typeof f.componentWillUpdate!="function"||(typeof f.componentWillUpdate=="function"&&f.componentWillUpdate(a,ie,X),typeof f.UNSAFE_componentWillUpdate=="function"&&f.UNSAFE_componentWillUpdate(a,ie,X)),typeof f.componentDidUpdate=="function"&&(n.flags|=4),typeof f.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof f.componentDidUpdate!="function"||y===e.memoizedProps&&re===e.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||y===e.memoizedProps&&re===e.memoizedState||(n.flags|=1024),n.memoizedProps=a,n.memoizedState=ie),f.props=a,f.state=ie,f.context=X,a=de):(typeof f.componentDidUpdate!="function"||y===e.memoizedProps&&re===e.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||y===e.memoizedProps&&re===e.memoizedState||(n.flags|=1024),a=!1)}return f=a,vc(e,n),a=(n.flags&128)!==0,f||a?(f=n.stateNode,o=a&&typeof o.getDerivedStateFromError!="function"?null:f.render(),n.flags|=1,e!==null&&a?(n.child=Hr(n,e.child,null,u),n.child=Hr(n,null,o,u)):Sn(e,n,o,u),n.memoizedState=f.state,e=n.child):e=Mo(e,n,u),e}function yp(e,n,o,a){return Ir(),n.flags|=256,Sn(e,n,o,a),n.child}var Xd={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Qd(e){return{baseLanes:e,cachePool:cm()}}function Zd(e,n,o){return e=e!==null?e.childLanes&~o:0,n&&(e|=il),e}function vp(e,n,o){var a=n.pendingProps,u=!1,f=(n.flags&128)!==0,y;if((y=f)||(y=e!==null&&e.memoizedState===null?!1:(Jt.current&2)!==0),y&&(u=!0,n.flags&=-129),y=(n.flags&32)!==0,n.flags&=-33,e===null){if(ct){if(u?Yo(n):Ko(),(e=_t)?(e=Ib(e,yl),e=e!==null&&e.data!=="&"?e:null,e!==null&&(n.memoizedState={dehydrated:e,treeContext:_o!==null?{id:Jl,overflow:eo}:null,retryLane:536870912,hydrationErrors:null},o=em(e),o.return=n,n.child=o,vn=n,_t=null)):e=null,e===null)throw Vo(n);return Hf(e)?n.lanes=32:n.lanes=536870912,null}var H=a.children;return a=a.fallback,u?(Ko(),u=n.mode,H=wc({mode:"hidden",children:H},u),a=Tr(a,u,o,null),H.return=n,a.return=n,H.sibling=a,n.child=H,a=n.child,a.memoizedState=Qd(o),a.childLanes=Zd(e,y,o),n.memoizedState=Xd,Os(null,a)):(Yo(n),Jd(n,H))}var X=e.memoizedState;if(X!==null&&(H=X.dehydrated,H!==null)){if(f)n.flags&256?(Yo(n),n.flags&=-257,n=ef(e,n,o)):n.memoizedState!==null?(Ko(),n.child=e.child,n.flags|=128,n=null):(Ko(),H=a.fallback,u=n.mode,a=wc({mode:"visible",children:a.children},u),H=Tr(H,u,o,null),H.flags|=2,a.return=n,H.return=n,a.sibling=H,n.child=a,Hr(n,e.child,null,o),a=n.child,a.memoizedState=Qd(o),a.childLanes=Zd(e,y,o),n.memoizedState=Xd,n=Os(null,a));else if(Yo(n),Hf(H)){if(y=H.nextSibling&&H.nextSibling.dataset,y)var le=y.dgst;y=le,a=Error(i(419)),a.stack="",a.digest=y,vs({value:a,source:null,stack:null}),n=ef(e,n,o)}else if(rn||ha(e,n,o,!1),y=(o&e.childLanes)!==0,rn||y){if(y=Pt,y!==null&&(a=Sr(y,o),a!==0&&a!==X.retryLane))throw X.retryLane=a,Dr(e,a),Xn(y,e,a),Yd;kf(H)||Ac(),n=ef(e,n,o)}else kf(H)?(n.flags|=192,n.child=e.child,n=null):(e=X.treeContext,_t=wl(H.nextSibling),vn=n,ct=!0,Bo=null,yl=!1,e!==null&&lm(n,e),n=Jd(n,a.children),n.flags|=4096);return n}return u?(Ko(),H=a.fallback,u=n.mode,X=e.child,le=X.sibling,a=Co(X,{mode:"hidden",children:a.children}),a.subtreeFlags=X.subtreeFlags&65011712,le!==null?H=Co(le,H):(H=Tr(H,u,o,null),H.flags|=2),H.return=n,a.return=n,a.sibling=H,n.child=a,Os(null,a),a=n.child,H=e.child.memoizedState,H===null?H=Qd(o):(u=H.cachePool,u!==null?(X=ln._currentValue,u=u.parent!==X?{parent:X,pool:X}:u):u=cm(),H={baseLanes:H.baseLanes|o,cachePool:u}),a.memoizedState=H,a.childLanes=Zd(e,y,o),n.memoizedState=Xd,Os(e.child,a)):(Yo(n),o=e.child,e=o.sibling,o=Co(o,{mode:"visible",children:a.children}),o.return=n,o.sibling=null,e!==null&&(y=n.deletions,y===null?(n.deletions=[e],n.flags|=16):y.push(e)),n.child=o,n.memoizedState=null,o)}function Jd(e,n){return n=wc({mode:"visible",children:n},e.mode),n.return=e,e.child=n}function wc(e,n){return e=ol(22,e,null,n),e.lanes=0,e}function ef(e,n,o){return Hr(n,e.child,null,o),e=Jd(n,n.pendingProps.children),e.flags|=2,n.memoizedState=null,e}function wp(e,n,o){e.lanes|=n;var a=e.alternate;a!==null&&(a.lanes|=n),md(e.return,n,o)}function tf(e,n,o,a,u,f){var y=e.memoizedState;y===null?e.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:a,tail:o,tailMode:u,treeForkCount:f}:(y.isBackwards=n,y.rendering=null,y.renderingStartTime=0,y.last=a,y.tail=o,y.tailMode=u,y.treeForkCount=f)}function Sp(e,n,o){var a=n.pendingProps,u=a.revealOrder,f=a.tail;a=a.children;var y=Jt.current,H=(y&2)!==0;if(H?(y=y&1|2,n.flags|=128):y&=1,oe(Jt,y),Sn(e,n,a,o),a=ct?ys:0,!H&&e!==null&&(e.flags&128)!==0)e:for(e=n.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&wp(e,o,n);else if(e.tag===19)wp(e,o,n);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===n)break e;for(;e.sibling===null;){if(e.return===null||e.return===n)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(u){case"forwards":for(o=n.child,u=null;o!==null;)e=o.alternate,e!==null&&uc(e)===null&&(u=o),o=o.sibling;o=u,o===null?(u=n.child,n.child=null):(u=o.sibling,o.sibling=null),tf(n,!1,u,o,f,a);break;case"backwards":case"unstable_legacy-backwards":for(o=null,u=n.child,n.child=null;u!==null;){if(e=u.alternate,e!==null&&uc(e)===null){n.child=u;break}e=u.sibling,u.sibling=o,o=u,u=e}tf(n,!0,o,null,f,a);break;case"together":tf(n,!1,null,null,void 0,a);break;default:n.memoizedState=null}return n.child}function Mo(e,n,o){if(e!==null&&(n.dependencies=e.dependencies),Zo|=n.lanes,(o&n.childLanes)===0)if(e!==null){if(ha(e,n,o,!1),(o&n.childLanes)===0)return null}else return null;if(e!==null&&n.child!==e.child)throw Error(i(153));if(n.child!==null){for(e=n.child,o=Co(e,e.pendingProps),n.child=o,o.return=n;e.sibling!==null;)e=e.sibling,o=o.sibling=Co(e,e.pendingProps),o.return=n;o.sibling=null}return n.child}function nf(e,n){return(e.lanes&n)!==0?!0:(e=e.dependencies,!!(e!==null&&nc(e)))}function Mv(e,n,o){switch(n.tag){case 3:Te(n,n.stateNode.containerInfo),Uo(n,ln,e.memoizedState.cache),Ir();break;case 27:case 5:Ae(n);break;case 4:Te(n,n.stateNode.containerInfo);break;case 10:Uo(n,n.type,n.memoizedProps.value);break;case 31:if(n.memoizedState!==null)return n.flags|=128,Dd(n),null;break;case 13:var a=n.memoizedState;if(a!==null)return a.dehydrated!==null?(Yo(n),n.flags|=128,null):(o&n.child.childLanes)!==0?vp(e,n,o):(Yo(n),e=Mo(e,n,o),e!==null?e.sibling:null);Yo(n);break;case 19:var u=(e.flags&128)!==0;if(a=(o&n.childLanes)!==0,a||(ha(e,n,o,!1),a=(o&n.childLanes)!==0),u){if(a)return Sp(e,n,o);n.flags|=128}if(u=n.memoizedState,u!==null&&(u.rendering=null,u.tail=null,u.lastEffect=null),oe(Jt,Jt.current),a)break;return null;case 22:return n.lanes=0,mp(e,n,o,n.pendingProps);case 24:Uo(n,ln,e.memoizedState.cache)}return Mo(e,n,o)}function jp(e,n,o){if(e!==null)if(e.memoizedProps!==n.pendingProps)rn=!0;else{if(!nf(e,o)&&(n.flags&128)===0)return rn=!1,Mv(e,n,o);rn=(e.flags&131072)!==0}else rn=!1,ct&&(n.flags&1048576)!==0&&nm(n,ys,n.index);switch(n.lanes=0,n.tag){case 16:e:{var a=n.pendingProps;if(e=Or(n.elementType),n.type=e,typeof e=="function")sd(e)?(a=Rr(e,a),n.tag=1,n=Cp(null,n,e,a,o)):(n.tag=0,n=Kd(null,n,e,a,o));else{if(e!=null){var u=e.$$typeof;if(u===B){n.tag=11,n=fp(null,n,e,a,o);break e}else if(u===V){n.tag=14,n=hp(null,n,e,a,o);break e}}throw n=K(e)||e,Error(i(306,n,""))}}return n;case 0:return Kd(e,n,n.type,n.pendingProps,o);case 1:return a=n.type,u=Rr(a,n.pendingProps),Cp(e,n,a,u,o);case 3:e:{if(Te(n,n.stateNode.containerInfo),e===null)throw Error(i(387));a=n.pendingProps;var f=n.memoizedState;u=f.element,wd(e,n),Ts(n,a,null,o);var y=n.memoizedState;if(a=y.cache,Uo(n,ln,a),a!==f.cache&&pd(n,[ln],o,!0),Ds(),a=y.element,f.isDehydrated)if(f={element:a,isDehydrated:!1,cache:y.cache},n.updateQueue.baseState=f,n.memoizedState=f,n.flags&256){n=yp(e,n,a,o);break e}else if(a!==u){u=bl(Error(i(424)),n),vs(u),n=yp(e,n,a,o);break e}else for(e=n.stateNode.containerInfo,e.nodeType===9?e=e.body:e=e.nodeName==="HTML"?e.ownerDocument.body:e,_t=wl(e.firstChild),vn=n,ct=!0,Bo=null,yl=!0,o=mm(n,null,a,o),n.child=o;o;)o.flags=o.flags&-3|4096,o=o.sibling;else{if(Ir(),a===u){n=Mo(e,n,o);break e}Sn(e,n,a,o)}n=n.child}return n;case 26:return vc(e,n),e===null?(o=Hb(n.type,null,n.pendingProps,null))?n.memoizedState=o:ct||(o=n.type,e=n.pendingProps,a=Nc(ce.current).createElement(o),a[dn]=n,a[En]=e,jn(a,o,e),Yt(a),n.stateNode=a):n.memoizedState=Hb(n.type,e.memoizedProps,n.pendingProps,e.memoizedState),null;case 27:return Ae(n),e===null&&ct&&(a=n.stateNode=zb(n.type,n.pendingProps,ce.current),vn=n,yl=!0,u=_t,lr(n.type)?(Pf=u,_t=wl(a.firstChild)):_t=u),Sn(e,n,n.pendingProps.children,o),vc(e,n),e===null&&(n.flags|=4194304),n.child;case 5:return e===null&&ct&&((u=a=_t)&&(a=tw(a,n.type,n.pendingProps,yl),a!==null?(n.stateNode=a,vn=n,_t=wl(a.firstChild),yl=!1,u=!0):u=!1),u||Vo(n)),Ae(n),u=n.type,f=n.pendingProps,y=e!==null?e.memoizedProps:null,a=f.children,Af(u,f)?a=null:y!==null&&Af(u,y)&&(n.flags|=32),n.memoizedState!==null&&(u=Id(e,n,pv,null,null,o),Ys._currentValue=u),vc(e,n),Sn(e,n,a,o),n.child;case 6:return e===null&&ct&&((e=o=_t)&&(o=nw(o,n.pendingProps,yl),o!==null?(n.stateNode=o,vn=n,_t=null,e=!0):e=!1),e||Vo(n)),null;case 13:return vp(e,n,o);case 4:return Te(n,n.stateNode.containerInfo),a=n.pendingProps,e===null?n.child=Hr(n,null,a,o):Sn(e,n,a,o),n.child;case 11:return fp(e,n,n.type,n.pendingProps,o);case 7:return Sn(e,n,n.pendingProps,o),n.child;case 8:return Sn(e,n,n.pendingProps.children,o),n.child;case 12:return Sn(e,n,n.pendingProps.children,o),n.child;case 10:return a=n.pendingProps,Uo(n,n.type,a.value),Sn(e,n,a.children,o),n.child;case 9:return u=n.type._context,a=n.pendingProps.children,Ar(n),u=wn(u),a=a(u),n.flags|=1,Sn(e,n,a,o),n.child;case 14:return hp(e,n,n.type,n.pendingProps,o);case 15:return gp(e,n,n.type,n.pendingProps,o);case 19:return Sp(e,n,o);case 31:return jv(e,n,o);case 22:return mp(e,n,o,n.pendingProps);case 24:return Ar(n),a=wn(ln),e===null?(u=Cd(),u===null&&(u=Pt,f=bd(),u.pooledCache=f,f.refCount++,f!==null&&(u.pooledCacheLanes|=o),u=f),n.memoizedState={parent:a,cache:u},vd(n),Uo(n,ln,u)):((e.lanes&o)!==0&&(wd(e,n),Ts(n,null,null,o),Ds()),u=e.memoizedState,f=n.memoizedState,u.parent!==a?(u={parent:a,cache:a},n.memoizedState=u,n.lanes===0&&(n.memoizedState=n.updateQueue.baseState=u),Uo(n,ln,a)):(a=f.cache,Uo(n,ln,a),a!==u.cache&&pd(n,[ln],o,!0))),Sn(e,n,n.pendingProps.children,o),n.child;case 29:throw n.pendingProps}throw Error(i(156,n.tag))}function Eo(e){e.flags|=4}function lf(e,n,o,a,u){if((n=(e.mode&32)!==0)&&(n=!1),n){if(e.flags|=16777216,(u&335544128)===u)if(e.stateNode.complete)e.flags|=8192;else if(Qp())e.flags|=8192;else throw kr=ac,yd}else e.flags&=-16777217}function Mp(e,n){if(n.type!=="stylesheet"||(n.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!Lb(n))if(Qp())e.flags|=8192;else throw kr=ac,yd}function Sc(e,n){n!==null&&(e.flags|=4),e.flags&16384&&(n=e.tag!==22?vr():536870912,e.lanes|=n,Ma|=n)}function ks(e,n){if(!ct)switch(e.tailMode){case"hidden":n=e.tail;for(var o=null;n!==null;)n.alternate!==null&&(o=n),n=n.sibling;o===null?e.tail=null:o.sibling=null;break;case"collapsed":o=e.tail;for(var a=null;o!==null;)o.alternate!==null&&(a=o),o=o.sibling;a===null?n||e.tail===null?e.tail=null:e.tail.sibling=null:a.sibling=null}}function Bt(e){var n=e.alternate!==null&&e.alternate.child===e.child,o=0,a=0;if(n)for(var u=e.child;u!==null;)o|=u.lanes|u.childLanes,a|=u.subtreeFlags&65011712,a|=u.flags&65011712,u.return=e,u=u.sibling;else for(u=e.child;u!==null;)o|=u.lanes|u.childLanes,a|=u.subtreeFlags,a|=u.flags,u.return=e,u=u.sibling;return e.subtreeFlags|=a,e.childLanes=o,n}function Ev(e,n,o){var a=n.pendingProps;switch(dd(n),n.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Bt(n),null;case 1:return Bt(n),null;case 3:return o=n.stateNode,a=null,e!==null&&(a=e.memoizedState.cache),n.memoizedState.cache!==a&&(n.flags|=2048),wo(ln),je(),o.pendingContext&&(o.context=o.pendingContext,o.pendingContext=null),(e===null||e.child===null)&&(fa(n)?Eo(n):e===null||e.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,hd())),Bt(n),null;case 26:var u=n.type,f=n.memoizedState;return e===null?(Eo(n),f!==null?(Bt(n),Mp(n,f)):(Bt(n),lf(n,u,null,a,o))):f?f!==e.memoizedState?(Eo(n),Bt(n),Mp(n,f)):(Bt(n),n.flags&=-16777217):(e=e.memoizedProps,e!==a&&Eo(n),Bt(n),lf(n,u,e,a,o)),null;case 27:if(Le(n),o=ce.current,u=n.type,e!==null&&n.stateNode!=null)e.memoizedProps!==a&&Eo(n);else{if(!a){if(n.stateNode===null)throw Error(i(166));return Bt(n),null}e=ae.current,fa(n)?om(n):(e=zb(u,a,o),n.stateNode=e,Eo(n))}return Bt(n),null;case 5:if(Le(n),u=n.type,e!==null&&n.stateNode!=null)e.memoizedProps!==a&&Eo(n);else{if(!a){if(n.stateNode===null)throw Error(i(166));return Bt(n),null}if(f=ae.current,fa(n))om(n);else{var y=Nc(ce.current);switch(f){case 1:f=y.createElementNS("http://www.w3.org/2000/svg",u);break;case 2:f=y.createElementNS("http://www.w3.org/1998/Math/MathML",u);break;default:switch(u){case"svg":f=y.createElementNS("http://www.w3.org/2000/svg",u);break;case"math":f=y.createElementNS("http://www.w3.org/1998/Math/MathML",u);break;case"script":f=y.createElement("div"),f.innerHTML="<script><\/script>",f=f.removeChild(f.firstChild);break;case"select":f=typeof a.is=="string"?y.createElement("select",{is:a.is}):y.createElement("select"),a.multiple?f.multiple=!0:a.size&&(f.size=a.size);break;default:f=typeof a.is=="string"?y.createElement(u,{is:a.is}):y.createElement(u)}}f[dn]=n,f[En]=a;e:for(y=n.child;y!==null;){if(y.tag===5||y.tag===6)f.appendChild(y.stateNode);else if(y.tag!==4&&y.tag!==27&&y.child!==null){y.child.return=y,y=y.child;continue}if(y===n)break e;for(;y.sibling===null;){if(y.return===null||y.return===n)break e;y=y.return}y.sibling.return=y.return,y=y.sibling}n.stateNode=f;e:switch(jn(f,u,a),u){case"button":case"input":case"select":case"textarea":a=!!a.autoFocus;break e;case"img":a=!0;break e;default:a=!1}a&&Eo(n)}}return Bt(n),lf(n,n.type,e===null?null:e.memoizedProps,n.pendingProps,o),null;case 6:if(e&&n.stateNode!=null)e.memoizedProps!==a&&Eo(n);else{if(typeof a!="string"&&n.stateNode===null)throw Error(i(166));if(e=ce.current,fa(n)){if(e=n.stateNode,o=n.memoizedProps,a=null,u=vn,u!==null)switch(u.tag){case 27:case 5:a=u.memoizedProps}e[dn]=n,e=!!(e.nodeValue===o||a!==null&&a.suppressHydrationWarning===!0||vb(e.nodeValue,o)),e||Vo(n,!0)}else e=Nc(e).createTextNode(a),e[dn]=n,n.stateNode=e}return Bt(n),null;case 31:if(o=n.memoizedState,e===null||e.memoizedState!==null){if(a=fa(n),o!==null){if(e===null){if(!a)throw Error(i(318));if(e=n.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(i(557));e[dn]=n}else Ir(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;Bt(n),e=!1}else o=hd(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=o),e=!0;if(!e)return n.flags&256?(al(n),n):(al(n),null);if((n.flags&128)!==0)throw Error(i(558))}return Bt(n),null;case 13:if(a=n.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(u=fa(n),a!==null&&a.dehydrated!==null){if(e===null){if(!u)throw Error(i(318));if(u=n.memoizedState,u=u!==null?u.dehydrated:null,!u)throw Error(i(317));u[dn]=n}else Ir(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;Bt(n),u=!1}else u=hd(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=u),u=!0;if(!u)return n.flags&256?(al(n),n):(al(n),null)}return al(n),(n.flags&128)!==0?(n.lanes=o,n):(o=a!==null,e=e!==null&&e.memoizedState!==null,o&&(a=n.child,u=null,a.alternate!==null&&a.alternate.memoizedState!==null&&a.alternate.memoizedState.cachePool!==null&&(u=a.alternate.memoizedState.cachePool.pool),f=null,a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(f=a.memoizedState.cachePool.pool),f!==u&&(a.flags|=2048)),o!==e&&o&&(n.child.flags|=8192),Sc(n,n.updateQueue),Bt(n),null);case 4:return je(),e===null&&Ef(n.stateNode.containerInfo),Bt(n),null;case 10:return wo(n.type),Bt(n),null;case 19:if(Q(Jt),a=n.memoizedState,a===null)return Bt(n),null;if(u=(n.flags&128)!==0,f=a.rendering,f===null)if(u)ks(a,!1);else{if(Xt!==0||e!==null&&(e.flags&128)!==0)for(e=n.child;e!==null;){if(f=uc(e),f!==null){for(n.flags|=128,ks(a,!1),e=f.updateQueue,n.updateQueue=e,Sc(n,e),n.subtreeFlags=0,e=o,o=n.child;o!==null;)Jg(o,e),o=o.sibling;return oe(Jt,Jt.current&1|2),ct&&yo(n,a.treeForkCount),n.child}e=e.sibling}a.tail!==null&&nt()>Tc&&(n.flags|=128,u=!0,ks(a,!1),n.lanes=4194304)}else{if(!u)if(e=uc(f),e!==null){if(n.flags|=128,u=!0,e=e.updateQueue,n.updateQueue=e,Sc(n,e),ks(a,!0),a.tail===null&&a.tailMode==="hidden"&&!f.alternate&&!ct)return Bt(n),null}else 2*nt()-a.renderingStartTime>Tc&&o!==536870912&&(n.flags|=128,u=!0,ks(a,!1),n.lanes=4194304);a.isBackwards?(f.sibling=n.child,n.child=f):(e=a.last,e!==null?e.sibling=f:n.child=f,a.last=f)}return a.tail!==null?(e=a.tail,a.rendering=e,a.tail=e.sibling,a.renderingStartTime=nt(),e.sibling=null,o=Jt.current,oe(Jt,u?o&1|2:o&1),ct&&yo(n,a.treeForkCount),e):(Bt(n),null);case 22:case 23:return al(n),Ed(),a=n.memoizedState!==null,e!==null?e.memoizedState!==null!==a&&(n.flags|=8192):a&&(n.flags|=8192),a?(o&536870912)!==0&&(n.flags&128)===0&&(Bt(n),n.subtreeFlags&6&&(n.flags|=8192)):Bt(n),o=n.updateQueue,o!==null&&Sc(n,o.retryQueue),o=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(o=e.memoizedState.cachePool.pool),a=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(a=n.memoizedState.cachePool.pool),a!==o&&(n.flags|=2048),e!==null&&Q(zr),null;case 24:return o=null,e!==null&&(o=e.memoizedState.cache),n.memoizedState.cache!==o&&(n.flags|=2048),wo(ln),Bt(n),null;case 25:return null;case 30:return null}throw Error(i(156,n.tag))}function Dv(e,n){switch(dd(n),n.tag){case 1:return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 3:return wo(ln),je(),e=n.flags,(e&65536)!==0&&(e&128)===0?(n.flags=e&-65537|128,n):null;case 26:case 27:case 5:return Le(n),null;case 31:if(n.memoizedState!==null){if(al(n),n.alternate===null)throw Error(i(340));Ir()}return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 13:if(al(n),e=n.memoizedState,e!==null&&e.dehydrated!==null){if(n.alternate===null)throw Error(i(340));Ir()}return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 19:return Q(Jt),null;case 4:return je(),null;case 10:return wo(n.type),null;case 22:case 23:return al(n),Ed(),e!==null&&Q(zr),e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 24:return wo(ln),null;case 25:return null;default:return null}}function Ep(e,n){switch(dd(n),n.tag){case 3:wo(ln),je();break;case 26:case 27:case 5:Le(n);break;case 4:je();break;case 31:n.memoizedState!==null&&al(n);break;case 13:al(n);break;case 19:Q(Jt);break;case 10:wo(n.type);break;case 22:case 23:al(n),Ed(),e!==null&&Q(zr);break;case 24:wo(ln)}}function Hs(e,n){try{var o=n.updateQueue,a=o!==null?o.lastEffect:null;if(a!==null){var u=a.next;o=u;do{if((o.tag&e)===e){a=void 0;var f=o.create,y=o.inst;a=f(),y.destroy=a}o=o.next}while(o!==u)}}catch(H){Dt(n,n.return,H)}}function Xo(e,n,o){try{var a=n.updateQueue,u=a!==null?a.lastEffect:null;if(u!==null){var f=u.next;a=f;do{if((a.tag&e)===e){var y=a.inst,H=y.destroy;if(H!==void 0){y.destroy=void 0,u=n;var X=o,le=H;try{le()}catch(de){Dt(u,X,de)}}}a=a.next}while(a!==f)}}catch(de){Dt(n,n.return,de)}}function Dp(e){var n=e.updateQueue;if(n!==null){var o=e.stateNode;try{bm(n,o)}catch(a){Dt(e,e.return,a)}}}function Tp(e,n,o){o.props=Rr(e.type,e.memoizedProps),o.state=e.memoizedState;try{o.componentWillUnmount()}catch(a){Dt(e,n,a)}}function Ps(e,n){try{var o=e.ref;if(o!==null){switch(e.tag){case 26:case 27:case 5:var a=e.stateNode;break;case 30:a=e.stateNode;break;default:a=e.stateNode}typeof o=="function"?e.refCleanup=o(a):o.current=a}}catch(u){Dt(e,n,u)}}function to(e,n){var o=e.ref,a=e.refCleanup;if(o!==null)if(typeof a=="function")try{a()}catch(u){Dt(e,n,u)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof o=="function")try{o(null)}catch(u){Dt(e,n,u)}else o.current=null}function Ip(e){var n=e.type,o=e.memoizedProps,a=e.stateNode;try{e:switch(n){case"button":case"input":case"select":case"textarea":o.autoFocus&&a.focus();break e;case"img":o.src?a.src=o.src:o.srcSet&&(a.srcset=o.srcSet)}}catch(u){Dt(e,e.return,u)}}function of(e,n,o){try{var a=e.stateNode;Kv(a,e.type,o,n),a[En]=n}catch(u){Dt(e,e.return,u)}}function Fp(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&lr(e.type)||e.tag===4}function rf(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Fp(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&lr(e.type)||e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function af(e,n,o){var a=e.tag;if(a===5||a===6)e=e.stateNode,n?(o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o).insertBefore(e,n):(n=o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o,n.appendChild(e),o=o._reactRootContainer,o!=null||n.onclick!==null||(n.onclick=bo));else if(a!==4&&(a===27&&lr(e.type)&&(o=e.stateNode,n=null),e=e.child,e!==null))for(af(e,n,o),e=e.sibling;e!==null;)af(e,n,o),e=e.sibling}function jc(e,n,o){var a=e.tag;if(a===5||a===6)e=e.stateNode,n?o.insertBefore(e,n):o.appendChild(e);else if(a!==4&&(a===27&&lr(e.type)&&(o=e.stateNode),e=e.child,e!==null))for(jc(e,n,o),e=e.sibling;e!==null;)jc(e,n,o),e=e.sibling}function Ap(e){var n=e.stateNode,o=e.memoizedProps;try{for(var a=e.type,u=n.attributes;u.length;)n.removeAttributeNode(u[0]);jn(n,a,o),n[dn]=e,n[En]=o}catch(f){Dt(e,e.return,f)}}var Do=!1,an=!1,sf=!1,zp=typeof WeakSet=="function"?WeakSet:Set,bn=null;function Tv(e,n){if(e=e.containerInfo,If=$c,e=Ug(e),ed(e)){if("selectionStart"in e)var o={start:e.selectionStart,end:e.selectionEnd};else e:{o=(o=e.ownerDocument)&&o.defaultView||window;var a=o.getSelection&&o.getSelection();if(a&&a.rangeCount!==0){o=a.anchorNode;var u=a.anchorOffset,f=a.focusNode;a=a.focusOffset;try{o.nodeType,f.nodeType}catch{o=null;break e}var y=0,H=-1,X=-1,le=0,de=0,me=e,re=null;t:for(;;){for(var ie;me!==o||u!==0&&me.nodeType!==3||(H=y+u),me!==f||a!==0&&me.nodeType!==3||(X=y+a),me.nodeType===3&&(y+=me.nodeValue.length),(ie=me.firstChild)!==null;)re=me,me=ie;for(;;){if(me===e)break t;if(re===o&&++le===u&&(H=y),re===f&&++de===a&&(X=y),(ie=me.nextSibling)!==null)break;me=re,re=me.parentNode}me=ie}o=H===-1||X===-1?null:{start:H,end:X}}else o=null}o=o||{start:0,end:0}}else o=null;for(Ff={focusedElem:e,selectionRange:o},$c=!1,bn=n;bn!==null;)if(n=bn,e=n.child,(n.subtreeFlags&1028)!==0&&e!==null)e.return=n,bn=e;else for(;bn!==null;){switch(n=bn,f=n.alternate,e=n.flags,n.tag){case 0:if((e&4)!==0&&(e=n.updateQueue,e=e!==null?e.events:null,e!==null))for(o=0;o<e.length;o++)u=e[o],u.ref.impl=u.nextImpl;break;case 11:case 15:break;case 1:if((e&1024)!==0&&f!==null){e=void 0,o=n,u=f.memoizedProps,f=f.memoizedState,a=o.stateNode;try{var De=Rr(o.type,u);e=a.getSnapshotBeforeUpdate(De,f),a.__reactInternalSnapshotBeforeUpdate=e}catch(Pe){Dt(o,o.return,Pe)}}break;case 3:if((e&1024)!==0){if(e=n.stateNode.containerInfo,o=e.nodeType,o===9)Of(e);else if(o===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":Of(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(i(163))}if(e=n.sibling,e!==null){e.return=n.return,bn=e;break}bn=n.return}}function Op(e,n,o){var a=o.flags;switch(o.tag){case 0:case 11:case 15:Io(e,o),a&4&&Hs(5,o);break;case 1:if(Io(e,o),a&4)if(e=o.stateNode,n===null)try{e.componentDidMount()}catch(y){Dt(o,o.return,y)}else{var u=Rr(o.type,n.memoizedProps);n=n.memoizedState;try{e.componentDidUpdate(u,n,e.__reactInternalSnapshotBeforeUpdate)}catch(y){Dt(o,o.return,y)}}a&64&&Dp(o),a&512&&Ps(o,o.return);break;case 3:if(Io(e,o),a&64&&(e=o.updateQueue,e!==null)){if(n=null,o.child!==null)switch(o.child.tag){case 27:case 5:n=o.child.stateNode;break;case 1:n=o.child.stateNode}try{bm(e,n)}catch(y){Dt(o,o.return,y)}}break;case 27:n===null&&a&4&&Ap(o);case 26:case 5:Io(e,o),n===null&&a&4&&Ip(o),a&512&&Ps(o,o.return);break;case 12:Io(e,o);break;case 31:Io(e,o),a&4&&Pp(e,o);break;case 13:Io(e,o),a&4&&Rp(e,o),a&64&&(e=o.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(o=Rv.bind(null,o),lw(e,o))));break;case 22:if(a=o.memoizedState!==null||Do,!a){n=n!==null&&n.memoizedState!==null||an,u=Do;var f=an;Do=a,(an=n)&&!f?Fo(e,o,(o.subtreeFlags&8772)!==0):Io(e,o),Do=u,an=f}break;case 30:break;default:Io(e,o)}}function kp(e){var n=e.alternate;n!==null&&(e.alternate=null,kp(n)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(n=e.stateNode,n!==null&&Oe(n)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var $t=null,Wn=!1;function To(e,n,o){for(o=o.child;o!==null;)Hp(e,n,o),o=o.sibling}function Hp(e,n,o){if(wt&&typeof wt.onCommitFiberUnmount=="function")try{wt.onCommitFiberUnmount(xt,o)}catch{}switch(o.tag){case 26:an||to(o,n),To(e,n,o),o.memoizedState?o.memoizedState.count--:o.stateNode&&(o=o.stateNode,o.parentNode.removeChild(o));break;case 27:an||to(o,n);var a=$t,u=Wn;lr(o.type)&&($t=o.stateNode,Wn=!1),To(e,n,o),$s(o.stateNode),$t=a,Wn=u;break;case 5:an||to(o,n);case 6:if(a=$t,u=Wn,$t=null,To(e,n,o),$t=a,Wn=u,$t!==null)if(Wn)try{($t.nodeType===9?$t.body:$t.nodeName==="HTML"?$t.ownerDocument.body:$t).removeChild(o.stateNode)}catch(f){Dt(o,n,f)}else try{$t.removeChild(o.stateNode)}catch(f){Dt(o,n,f)}break;case 18:$t!==null&&(Wn?(e=$t,Db(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,o.stateNode),Oa(e)):Db($t,o.stateNode));break;case 4:a=$t,u=Wn,$t=o.stateNode.containerInfo,Wn=!0,To(e,n,o),$t=a,Wn=u;break;case 0:case 11:case 14:case 15:Xo(2,o,n),an||Xo(4,o,n),To(e,n,o);break;case 1:an||(to(o,n),a=o.stateNode,typeof a.componentWillUnmount=="function"&&Tp(o,n,a)),To(e,n,o);break;case 21:To(e,n,o);break;case 22:an=(a=an)||o.memoizedState!==null,To(e,n,o),an=a;break;default:To(e,n,o)}}function Pp(e,n){if(n.memoizedState===null&&(e=n.alternate,e!==null&&(e=e.memoizedState,e!==null))){e=e.dehydrated;try{Oa(e)}catch(o){Dt(n,n.return,o)}}}function Rp(e,n){if(n.memoizedState===null&&(e=n.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{Oa(e)}catch(o){Dt(n,n.return,o)}}function Iv(e){switch(e.tag){case 31:case 13:case 19:var n=e.stateNode;return n===null&&(n=e.stateNode=new zp),n;case 22:return e=e.stateNode,n=e._retryCache,n===null&&(n=e._retryCache=new zp),n;default:throw Error(i(435,e.tag))}}function Mc(e,n){var o=Iv(e);n.forEach(function(a){if(!o.has(a)){o.add(a);var u=Nv.bind(null,e,a);a.then(u,u)}})}function qn(e,n){var o=n.deletions;if(o!==null)for(var a=0;a<o.length;a++){var u=o[a],f=e,y=n,H=y;e:for(;H!==null;){switch(H.tag){case 27:if(lr(H.type)){$t=H.stateNode,Wn=!1;break e}break;case 5:$t=H.stateNode,Wn=!1;break e;case 3:case 4:$t=H.stateNode.containerInfo,Wn=!0;break e}H=H.return}if($t===null)throw Error(i(160));Hp(f,y,u),$t=null,Wn=!1,f=u.alternate,f!==null&&(f.return=null),u.return=null}if(n.subtreeFlags&13886)for(n=n.child;n!==null;)Np(n,e),n=n.sibling}var _l=null;function Np(e,n){var o=e.alternate,a=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:qn(n,e),Yn(e),a&4&&(Xo(3,e,e.return),Hs(3,e),Xo(5,e,e.return));break;case 1:qn(n,e),Yn(e),a&512&&(an||o===null||to(o,o.return)),a&64&&Do&&(e=e.updateQueue,e!==null&&(a=e.callbacks,a!==null&&(o=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=o===null?a:o.concat(a))));break;case 26:var u=_l;if(qn(n,e),Yn(e),a&512&&(an||o===null||to(o,o.return)),a&4){var f=o!==null?o.memoizedState:null;if(a=e.memoizedState,o===null)if(a===null)if(e.stateNode===null){e:{a=e.type,o=e.memoizedProps,u=u.ownerDocument||u;t:switch(a){case"title":f=u.getElementsByTagName("title")[0],(!f||f[Z]||f[dn]||f.namespaceURI==="http://www.w3.org/2000/svg"||f.hasAttribute("itemprop"))&&(f=u.createElement(a),u.head.insertBefore(f,u.querySelector("head > title"))),jn(f,a,o),f[dn]=e,Yt(f),a=f;break e;case"link":var y=Nb("link","href",u).get(a+(o.href||""));if(y){for(var H=0;H<y.length;H++)if(f=y[H],f.getAttribute("href")===(o.href==null||o.href===""?null:o.href)&&f.getAttribute("rel")===(o.rel==null?null:o.rel)&&f.getAttribute("title")===(o.title==null?null:o.title)&&f.getAttribute("crossorigin")===(o.crossOrigin==null?null:o.crossOrigin)){y.splice(H,1);break t}}f=u.createElement(a),jn(f,a,o),u.head.appendChild(f);break;case"meta":if(y=Nb("meta","content",u).get(a+(o.content||""))){for(H=0;H<y.length;H++)if(f=y[H],f.getAttribute("content")===(o.content==null?null:""+o.content)&&f.getAttribute("name")===(o.name==null?null:o.name)&&f.getAttribute("property")===(o.property==null?null:o.property)&&f.getAttribute("http-equiv")===(o.httpEquiv==null?null:o.httpEquiv)&&f.getAttribute("charset")===(o.charSet==null?null:o.charSet)){y.splice(H,1);break t}}f=u.createElement(a),jn(f,a,o),u.head.appendChild(f);break;default:throw Error(i(468,a))}f[dn]=e,Yt(f),a=f}e.stateNode=a}else Gb(u,e.type,e.stateNode);else e.stateNode=Rb(u,a,e.memoizedProps);else f!==a?(f===null?o.stateNode!==null&&(o=o.stateNode,o.parentNode.removeChild(o)):f.count--,a===null?Gb(u,e.type,e.stateNode):Rb(u,a,e.memoizedProps)):a===null&&e.stateNode!==null&&of(e,e.memoizedProps,o.memoizedProps)}break;case 27:qn(n,e),Yn(e),a&512&&(an||o===null||to(o,o.return)),o!==null&&a&4&&of(e,e.memoizedProps,o.memoizedProps);break;case 5:if(qn(n,e),Yn(e),a&512&&(an||o===null||to(o,o.return)),e.flags&32){u=e.stateNode;try{na(u,"")}catch(De){Dt(e,e.return,De)}}a&4&&e.stateNode!=null&&(u=e.memoizedProps,of(e,u,o!==null?o.memoizedProps:u)),a&1024&&(sf=!0);break;case 6:if(qn(n,e),Yn(e),a&4){if(e.stateNode===null)throw Error(i(162));a=e.memoizedProps,o=e.stateNode;try{o.nodeValue=a}catch(De){Dt(e,e.return,De)}}break;case 3:if(_c=null,u=_l,_l=Gc(n.containerInfo),qn(n,e),_l=u,Yn(e),a&4&&o!==null&&o.memoizedState.isDehydrated)try{Oa(n.containerInfo)}catch(De){Dt(e,e.return,De)}sf&&(sf=!1,Gp(e));break;case 4:a=_l,_l=Gc(e.stateNode.containerInfo),qn(n,e),Yn(e),_l=a;break;case 12:qn(n,e),Yn(e);break;case 31:qn(n,e),Yn(e),a&4&&(a=e.updateQueue,a!==null&&(e.updateQueue=null,Mc(e,a)));break;case 13:qn(n,e),Yn(e),e.child.flags&8192&&e.memoizedState!==null!=(o!==null&&o.memoizedState!==null)&&(Dc=nt()),a&4&&(a=e.updateQueue,a!==null&&(e.updateQueue=null,Mc(e,a)));break;case 22:u=e.memoizedState!==null;var X=o!==null&&o.memoizedState!==null,le=Do,de=an;if(Do=le||u,an=de||X,qn(n,e),an=de,Do=le,Yn(e),a&8192)e:for(n=e.stateNode,n._visibility=u?n._visibility&-2:n._visibility|1,u&&(o===null||X||Do||an||Nr(e)),o=null,n=e;;){if(n.tag===5||n.tag===26){if(o===null){X=o=n;try{if(f=X.stateNode,u)y=f.style,typeof y.setProperty=="function"?y.setProperty("display","none","important"):y.display="none";else{H=X.stateNode;var me=X.memoizedProps.style,re=me!=null&&me.hasOwnProperty("display")?me.display:null;H.style.display=re==null||typeof re=="boolean"?"":(""+re).trim()}}catch(De){Dt(X,X.return,De)}}}else if(n.tag===6){if(o===null){X=n;try{X.stateNode.nodeValue=u?"":X.memoizedProps}catch(De){Dt(X,X.return,De)}}}else if(n.tag===18){if(o===null){X=n;try{var ie=X.stateNode;u?Tb(ie,!0):Tb(X.stateNode,!1)}catch(De){Dt(X,X.return,De)}}}else if((n.tag!==22&&n.tag!==23||n.memoizedState===null||n===e)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break e;for(;n.sibling===null;){if(n.return===null||n.return===e)break e;o===n&&(o=null),n=n.return}o===n&&(o=null),n.sibling.return=n.return,n=n.sibling}a&4&&(a=e.updateQueue,a!==null&&(o=a.retryQueue,o!==null&&(a.retryQueue=null,Mc(e,o))));break;case 19:qn(n,e),Yn(e),a&4&&(a=e.updateQueue,a!==null&&(e.updateQueue=null,Mc(e,a)));break;case 30:break;case 21:break;default:qn(n,e),Yn(e)}}function Yn(e){var n=e.flags;if(n&2){try{for(var o,a=e.return;a!==null;){if(Fp(a)){o=a;break}a=a.return}if(o==null)throw Error(i(160));switch(o.tag){case 27:var u=o.stateNode,f=rf(e);jc(e,f,u);break;case 5:var y=o.stateNode;o.flags&32&&(na(y,""),o.flags&=-33);var H=rf(e);jc(e,H,y);break;case 3:case 4:var X=o.stateNode.containerInfo,le=rf(e);af(e,le,X);break;default:throw Error(i(161))}}catch(de){Dt(e,e.return,de)}e.flags&=-3}n&4096&&(e.flags&=-4097)}function Gp(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var n=e;Gp(n),n.tag===5&&n.flags&1024&&n.stateNode.reset(),e=e.sibling}}function Io(e,n){if(n.subtreeFlags&8772)for(n=n.child;n!==null;)Op(e,n.alternate,n),n=n.sibling}function Nr(e){for(e=e.child;e!==null;){var n=e;switch(n.tag){case 0:case 11:case 14:case 15:Xo(4,n,n.return),Nr(n);break;case 1:to(n,n.return);var o=n.stateNode;typeof o.componentWillUnmount=="function"&&Tp(n,n.return,o),Nr(n);break;case 27:$s(n.stateNode);case 26:case 5:to(n,n.return),Nr(n);break;case 22:n.memoizedState===null&&Nr(n);break;case 30:Nr(n);break;default:Nr(n)}e=e.sibling}}function Fo(e,n,o){for(o=o&&(n.subtreeFlags&8772)!==0,n=n.child;n!==null;){var a=n.alternate,u=e,f=n,y=f.flags;switch(f.tag){case 0:case 11:case 15:Fo(u,f,o),Hs(4,f);break;case 1:if(Fo(u,f,o),a=f,u=a.stateNode,typeof u.componentDidMount=="function")try{u.componentDidMount()}catch(le){Dt(a,a.return,le)}if(a=f,u=a.updateQueue,u!==null){var H=a.stateNode;try{var X=u.shared.hiddenCallbacks;if(X!==null)for(u.shared.hiddenCallbacks=null,u=0;u<X.length;u++)pm(X[u],H)}catch(le){Dt(a,a.return,le)}}o&&y&64&&Dp(f),Ps(f,f.return);break;case 27:Ap(f);case 26:case 5:Fo(u,f,o),o&&a===null&&y&4&&Ip(f),Ps(f,f.return);break;case 12:Fo(u,f,o);break;case 31:Fo(u,f,o),o&&y&4&&Pp(u,f);break;case 13:Fo(u,f,o),o&&y&4&&Rp(u,f);break;case 22:f.memoizedState===null&&Fo(u,f,o),Ps(f,f.return);break;case 30:break;default:Fo(u,f,o)}n=n.sibling}}function cf(e,n){var o=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(o=e.memoizedState.cachePool.pool),e=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(e=n.memoizedState.cachePool.pool),e!==o&&(e!=null&&e.refCount++,o!=null&&ws(o))}function uf(e,n){e=null,n.alternate!==null&&(e=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==e&&(n.refCount++,e!=null&&ws(e))}function Bl(e,n,o,a){if(n.subtreeFlags&10256)for(n=n.child;n!==null;)Lp(e,n,o,a),n=n.sibling}function Lp(e,n,o,a){var u=n.flags;switch(n.tag){case 0:case 11:case 15:Bl(e,n,o,a),u&2048&&Hs(9,n);break;case 1:Bl(e,n,o,a);break;case 3:Bl(e,n,o,a),u&2048&&(e=null,n.alternate!==null&&(e=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==e&&(n.refCount++,e!=null&&ws(e)));break;case 12:if(u&2048){Bl(e,n,o,a),e=n.stateNode;try{var f=n.memoizedProps,y=f.id,H=f.onPostCommit;typeof H=="function"&&H(y,n.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(X){Dt(n,n.return,X)}}else Bl(e,n,o,a);break;case 31:Bl(e,n,o,a);break;case 13:Bl(e,n,o,a);break;case 23:break;case 22:f=n.stateNode,y=n.alternate,n.memoizedState!==null?f._visibility&2?Bl(e,n,o,a):Rs(e,n):f._visibility&2?Bl(e,n,o,a):(f._visibility|=2,wa(e,n,o,a,(n.subtreeFlags&10256)!==0||!1)),u&2048&&cf(y,n);break;case 24:Bl(e,n,o,a),u&2048&&uf(n.alternate,n);break;default:Bl(e,n,o,a)}}function wa(e,n,o,a,u){for(u=u&&((n.subtreeFlags&10256)!==0||!1),n=n.child;n!==null;){var f=e,y=n,H=o,X=a,le=y.flags;switch(y.tag){case 0:case 11:case 15:wa(f,y,H,X,u),Hs(8,y);break;case 23:break;case 22:var de=y.stateNode;y.memoizedState!==null?de._visibility&2?wa(f,y,H,X,u):Rs(f,y):(de._visibility|=2,wa(f,y,H,X,u)),u&&le&2048&&cf(y.alternate,y);break;case 24:wa(f,y,H,X,u),u&&le&2048&&uf(y.alternate,y);break;default:wa(f,y,H,X,u)}n=n.sibling}}function Rs(e,n){if(n.subtreeFlags&10256)for(n=n.child;n!==null;){var o=e,a=n,u=a.flags;switch(a.tag){case 22:Rs(o,a),u&2048&&cf(a.alternate,a);break;case 24:Rs(o,a),u&2048&&uf(a.alternate,a);break;default:Rs(o,a)}n=n.sibling}}var Ns=8192;function Sa(e,n,o){if(e.subtreeFlags&Ns)for(e=e.child;e!==null;)_p(e,n,o),e=e.sibling}function _p(e,n,o){switch(e.tag){case 26:Sa(e,n,o),e.flags&Ns&&e.memoizedState!==null&&mw(o,_l,e.memoizedState,e.memoizedProps);break;case 5:Sa(e,n,o);break;case 3:case 4:var a=_l;_l=Gc(e.stateNode.containerInfo),Sa(e,n,o),_l=a;break;case 22:e.memoizedState===null&&(a=e.alternate,a!==null&&a.memoizedState!==null?(a=Ns,Ns=16777216,Sa(e,n,o),Ns=a):Sa(e,n,o));break;default:Sa(e,n,o)}}function Bp(e){var n=e.alternate;if(n!==null&&(e=n.child,e!==null)){n.child=null;do n=e.sibling,e.sibling=null,e=n;while(e!==null)}}function Gs(e){var n=e.deletions;if((e.flags&16)!==0){if(n!==null)for(var o=0;o<n.length;o++){var a=n[o];bn=a,Up(a,e)}Bp(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)Vp(e),e=e.sibling}function Vp(e){switch(e.tag){case 0:case 11:case 15:Gs(e),e.flags&2048&&Xo(9,e,e.return);break;case 3:Gs(e);break;case 12:Gs(e);break;case 22:var n=e.stateNode;e.memoizedState!==null&&n._visibility&2&&(e.return===null||e.return.tag!==13)?(n._visibility&=-3,Ec(e)):Gs(e);break;default:Gs(e)}}function Ec(e){var n=e.deletions;if((e.flags&16)!==0){if(n!==null)for(var o=0;o<n.length;o++){var a=n[o];bn=a,Up(a,e)}Bp(e)}for(e=e.child;e!==null;){switch(n=e,n.tag){case 0:case 11:case 15:Xo(8,n,n.return),Ec(n);break;case 22:o=n.stateNode,o._visibility&2&&(o._visibility&=-3,Ec(n));break;default:Ec(n)}e=e.sibling}}function Up(e,n){for(;bn!==null;){var o=bn;switch(o.tag){case 0:case 11:case 15:Xo(8,o,n);break;case 23:case 22:if(o.memoizedState!==null&&o.memoizedState.cachePool!==null){var a=o.memoizedState.cachePool.pool;a!=null&&a.refCount++}break;case 24:ws(o.memoizedState.cache)}if(a=o.child,a!==null)a.return=o,bn=a;else e:for(o=e;bn!==null;){a=bn;var u=a.sibling,f=a.return;if(kp(a),a===o){bn=null;break e}if(u!==null){u.return=f,bn=u;break e}bn=f}}}var Fv={getCacheForType:function(e){var n=wn(ln),o=n.data.get(e);return o===void 0&&(o=e(),n.data.set(e,o)),o},cacheSignal:function(){return wn(ln).controller.signal}},Av=typeof WeakMap=="function"?WeakMap:Map,Ct=0,Pt=null,ot=null,at=0,Et=0,sl=null,Qo=!1,ja=!1,df=!1,Ao=0,Xt=0,Zo=0,Gr=0,ff=0,il=0,Ma=0,Ls=null,Kn=null,hf=!1,Dc=0,$p=0,Tc=1/0,Ic=null,Jo=null,fn=0,er=null,Ea=null,zo=0,gf=0,mf=null,Wp=null,_s=0,pf=null;function cl(){return(Ct&2)!==0&&at!==0?at&-at:S.T!==null?wf():cs()}function qp(){if(il===0)if((at&536870912)===0||ct){var e=Ql;Ql<<=1,(Ql&3932160)===0&&(Ql=262144),il=e}else il=536870912;return e=rl.current,e!==null&&(e.flags|=32),il}function Xn(e,n,o){(e===Pt&&(Et===2||Et===9)||e.cancelPendingCommit!==null)&&(Da(e,0),tr(e,at,il,!1)),wr(e,o),((Ct&2)===0||e!==Pt)&&(e===Pt&&((Ct&2)===0&&(Gr|=o),Xt===4&&tr(e,at,il,!1)),no(e))}function Yp(e,n,o){if((Ct&6)!==0)throw Error(i(327));var a=!o&&(n&127)===0&&(n&e.expiredLanes)===0||Rl(e,n),u=a?kv(e,n):xf(e,n,!0),f=a;do{if(u===0){ja&&!a&&tr(e,n,0,!1);break}else{if(o=e.current.alternate,f&&!zv(o)){u=xf(e,n,!1),f=!1;continue}if(u===2){if(f=n,e.errorRecoveryDisabledLanes&f)var y=0;else y=e.pendingLanes&-536870913,y=y!==0?y:y&536870912?536870912:0;if(y!==0){n=y;e:{var H=e;u=Ls;var X=H.current.memoizedState.isDehydrated;if(X&&(Da(H,y).flags|=256),y=xf(H,y,!1),y!==2){if(df&&!X){H.errorRecoveryDisabledLanes|=f,Gr|=f,u=4;break e}f=Kn,Kn=u,f!==null&&(Kn===null?Kn=f:Kn.push.apply(Kn,f))}u=y}if(f=!1,u!==2)continue}}if(u===1){Da(e,0),tr(e,n,0,!0);break}e:{switch(a=e,f=u,f){case 0:case 1:throw Error(i(345));case 4:if((n&4194048)!==n)break;case 6:tr(a,n,il,!Qo);break e;case 2:Kn=null;break;case 3:case 5:break;default:throw Error(i(329))}if((n&62914560)===n&&(u=Dc+300-nt(),10<u)){if(tr(a,n,il,!Qo),go(a,0,!0)!==0)break e;zo=n,a.timeoutHandle=Mb(Kp.bind(null,a,o,Kn,Ic,hf,n,il,Gr,Ma,Qo,f,"Throttled",-0,0),u);break e}Kp(a,o,Kn,Ic,hf,n,il,Gr,Ma,Qo,f,null,-0,0)}}break}while(!0);no(e)}function Kp(e,n,o,a,u,f,y,H,X,le,de,me,re,ie){if(e.timeoutHandle=-1,me=n.subtreeFlags,me&8192||(me&16785408)===16785408){me={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:bo},_p(n,f,me);var De=(f&62914560)===f?Dc-nt():(f&4194048)===f?$p-nt():0;if(De=pw(me,De),De!==null){zo=f,e.cancelPendingCommit=De(lb.bind(null,e,n,f,o,a,u,y,H,X,de,me,null,re,ie)),tr(e,f,y,!le);return}}lb(e,n,f,o,a,u,y,H,X)}function zv(e){for(var n=e;;){var o=n.tag;if((o===0||o===11||o===15)&&n.flags&16384&&(o=n.updateQueue,o!==null&&(o=o.stores,o!==null)))for(var a=0;a<o.length;a++){var u=o[a],f=u.getSnapshot;u=u.value;try{if(!ll(f(),u))return!1}catch{return!1}}if(o=n.child,n.subtreeFlags&16384&&o!==null)o.return=n,n=o;else{if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function tr(e,n,o,a){n&=~ff,n&=~Gr,e.suspendedLanes|=n,e.pingedLanes&=~n,a&&(e.warmLanes|=n),a=e.expirationTimes;for(var u=n;0<u;){var f=31-nn(u),y=1<<f;a[f]=-1,u&=~y}o!==0&&Pi(e,o,n)}function Fc(){return(Ct&6)===0?(Bs(0),!1):!0}function bf(){if(ot!==null){if(Et===0)var e=ot.return;else e=ot,vo=Fr=null,zd(e),ba=null,js=0,e=ot;for(;e!==null;)Ep(e.alternate,e),e=e.return;ot=null}}function Da(e,n){var o=e.timeoutHandle;o!==-1&&(e.timeoutHandle=-1,Zv(o)),o=e.cancelPendingCommit,o!==null&&(e.cancelPendingCommit=null,o()),zo=0,bf(),Pt=e,ot=o=Co(e.current,null),at=n,Et=0,sl=null,Qo=!1,ja=Rl(e,n),df=!1,Ma=il=ff=Gr=Zo=Xt=0,Kn=Ls=null,hf=!1,(n&8)!==0&&(n|=n&32);var a=e.entangledLanes;if(a!==0)for(e=e.entanglements,a&=n;0<a;){var u=31-nn(a),f=1<<u;n|=e[u],a&=~f}return Ao=n,Qi(),o}function Xp(e,n){Ye=null,S.H=zs,n===pa||n===rc?(n=fm(),Et=3):n===yd?(n=fm(),Et=4):Et=n===Yd?8:n!==null&&typeof n=="object"&&typeof n.then=="function"?6:1,sl=n,ot===null&&(Xt=1,Cc(e,bl(n,e.current)))}function Qp(){var e=rl.current;return e===null?!0:(at&4194048)===at?vl===null:(at&62914560)===at||(at&536870912)!==0?e===vl:!1}function Zp(){var e=S.H;return S.H=zs,e===null?zs:e}function Jp(){var e=S.A;return S.A=Fv,e}function Ac(){Xt=4,Qo||(at&4194048)!==at&&rl.current!==null||(ja=!0),(Zo&134217727)===0&&(Gr&134217727)===0||Pt===null||tr(Pt,at,il,!1)}function xf(e,n,o){var a=Ct;Ct|=2;var u=Zp(),f=Jp();(Pt!==e||at!==n)&&(Ic=null,Da(e,n)),n=!1;var y=Xt;e:do try{if(Et!==0&&ot!==null){var H=ot,X=sl;switch(Et){case 8:bf(),y=6;break e;case 3:case 2:case 9:case 6:rl.current===null&&(n=!0);var le=Et;if(Et=0,sl=null,Ta(e,H,X,le),o&&ja){y=0;break e}break;default:le=Et,Et=0,sl=null,Ta(e,H,X,le)}}Ov(),y=Xt;break}catch(de){Xp(e,de)}while(!0);return n&&e.shellSuspendCounter++,vo=Fr=null,Ct=a,S.H=u,S.A=f,ot===null&&(Pt=null,at=0,Qi()),y}function Ov(){for(;ot!==null;)eb(ot)}function kv(e,n){var o=Ct;Ct|=2;var a=Zp(),u=Jp();Pt!==e||at!==n?(Ic=null,Tc=nt()+500,Da(e,n)):ja=Rl(e,n);e:do try{if(Et!==0&&ot!==null){n=ot;var f=sl;t:switch(Et){case 1:Et=0,sl=null,Ta(e,n,f,1);break;case 2:case 9:if(um(f)){Et=0,sl=null,tb(n);break}n=function(){Et!==2&&Et!==9||Pt!==e||(Et=7),no(e)},f.then(n,n);break e;case 3:Et=7;break e;case 4:Et=5;break e;case 7:um(f)?(Et=0,sl=null,tb(n)):(Et=0,sl=null,Ta(e,n,f,7));break;case 5:var y=null;switch(ot.tag){case 26:y=ot.memoizedState;case 5:case 27:var H=ot;if(y?Lb(y):H.stateNode.complete){Et=0,sl=null;var X=H.sibling;if(X!==null)ot=X;else{var le=H.return;le!==null?(ot=le,zc(le)):ot=null}break t}}Et=0,sl=null,Ta(e,n,f,5);break;case 6:Et=0,sl=null,Ta(e,n,f,6);break;case 8:bf(),Xt=6;break e;default:throw Error(i(462))}}Hv();break}catch(de){Xp(e,de)}while(!0);return vo=Fr=null,S.H=a,S.A=u,Ct=o,ot!==null?0:(Pt=null,at=0,Qi(),Xt)}function Hv(){for(;ot!==null&&!ut();)eb(ot)}function eb(e){var n=jp(e.alternate,e,Ao);e.memoizedProps=e.pendingProps,n===null?zc(e):ot=n}function tb(e){var n=e,o=n.alternate;switch(n.tag){case 15:case 0:n=xp(o,n,n.pendingProps,n.type,void 0,at);break;case 11:n=xp(o,n,n.pendingProps,n.type.render,n.ref,at);break;case 5:zd(n);default:Ep(o,n),n=ot=Jg(n,Ao),n=jp(o,n,Ao)}e.memoizedProps=e.pendingProps,n===null?zc(e):ot=n}function Ta(e,n,o,a){vo=Fr=null,zd(n),ba=null,js=0;var u=n.return;try{if(Sv(e,u,n,o,at)){Xt=1,Cc(e,bl(o,e.current)),ot=null;return}}catch(f){if(u!==null)throw ot=u,f;Xt=1,Cc(e,bl(o,e.current)),ot=null;return}n.flags&32768?(ct||a===1?e=!0:ja||(at&536870912)!==0?e=!1:(Qo=e=!0,(a===2||a===9||a===3||a===6)&&(a=rl.current,a!==null&&a.tag===13&&(a.flags|=16384))),nb(n,e)):zc(n)}function zc(e){var n=e;do{if((n.flags&32768)!==0){nb(n,Qo);return}e=n.return;var o=Ev(n.alternate,n,Ao);if(o!==null){ot=o;return}if(n=n.sibling,n!==null){ot=n;return}ot=n=e}while(n!==null);Xt===0&&(Xt=5)}function nb(e,n){do{var o=Dv(e.alternate,e);if(o!==null){o.flags&=32767,ot=o;return}if(o=e.return,o!==null&&(o.flags|=32768,o.subtreeFlags=0,o.deletions=null),!n&&(e=e.sibling,e!==null)){ot=e;return}ot=e=o}while(e!==null);Xt=6,ot=null}function lb(e,n,o,a,u,f,y,H,X){e.cancelPendingCommit=null;do Oc();while(fn!==0);if((Ct&6)!==0)throw Error(i(327));if(n!==null){if(n===e.current)throw Error(i(177));if(f=n.lanes|n.childLanes,f|=rd,Pu(e,o,f,y,H,X),e===Pt&&(ot=Pt=null,at=0),Ea=n,er=e,zo=o,gf=f,mf=u,Wp=a,(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,Gv(Fe,function(){return ib(),null})):(e.callbackNode=null,e.callbackPriority=0),a=(n.flags&13878)!==0,(n.subtreeFlags&13878)!==0||a){a=S.T,S.T=null,u=z.p,z.p=2,y=Ct,Ct|=4;try{Tv(e,n,o)}finally{Ct=y,z.p=u,S.T=a}}fn=1,ob(),rb(),ab()}}function ob(){if(fn===1){fn=0;var e=er,n=Ea,o=(n.flags&13878)!==0;if((n.subtreeFlags&13878)!==0||o){o=S.T,S.T=null;var a=z.p;z.p=2;var u=Ct;Ct|=4;try{Np(n,e);var f=Ff,y=Ug(e.containerInfo),H=f.focusedElem,X=f.selectionRange;if(y!==H&&H&&H.ownerDocument&&Vg(H.ownerDocument.documentElement,H)){if(X!==null&&ed(H)){var le=X.start,de=X.end;if(de===void 0&&(de=le),"selectionStart"in H)H.selectionStart=le,H.selectionEnd=Math.min(de,H.value.length);else{var me=H.ownerDocument||document,re=me&&me.defaultView||window;if(re.getSelection){var ie=re.getSelection(),De=H.textContent.length,Pe=Math.min(X.start,De),zt=X.end===void 0?Pe:Math.min(X.end,De);!ie.extend&&Pe>zt&&(y=zt,zt=Pe,Pe=y);var te=Bg(H,Pe),J=Bg(H,zt);if(te&&J&&(ie.rangeCount!==1||ie.anchorNode!==te.node||ie.anchorOffset!==te.offset||ie.focusNode!==J.node||ie.focusOffset!==J.offset)){var ne=me.createRange();ne.setStart(te.node,te.offset),ie.removeAllRanges(),Pe>zt?(ie.addRange(ne),ie.extend(J.node,J.offset)):(ne.setEnd(J.node,J.offset),ie.addRange(ne))}}}}for(me=[],ie=H;ie=ie.parentNode;)ie.nodeType===1&&me.push({element:ie,left:ie.scrollLeft,top:ie.scrollTop});for(typeof H.focus=="function"&&H.focus(),H=0;H<me.length;H++){var ge=me[H];ge.element.scrollLeft=ge.left,ge.element.scrollTop=ge.top}}$c=!!If,Ff=If=null}finally{Ct=u,z.p=a,S.T=o}}e.current=n,fn=2}}function rb(){if(fn===2){fn=0;var e=er,n=Ea,o=(n.flags&8772)!==0;if((n.subtreeFlags&8772)!==0||o){o=S.T,S.T=null;var a=z.p;z.p=2;var u=Ct;Ct|=4;try{Op(e,n.alternate,n)}finally{Ct=u,z.p=a,S.T=o}}fn=3}}function ab(){if(fn===4||fn===3){fn=0,Mt();var e=er,n=Ea,o=zo,a=Wp;(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?fn=5:(fn=0,Ea=er=null,sb(e,e.pendingLanes));var u=e.pendingLanes;if(u===0&&(Jo=null),Go(o),n=n.stateNode,wt&&typeof wt.onCommitFiberRoot=="function")try{wt.onCommitFiberRoot(xt,n,void 0,(n.current.flags&128)===128)}catch{}if(a!==null){n=S.T,u=z.p,z.p=2,S.T=null;try{for(var f=e.onRecoverableError,y=0;y<a.length;y++){var H=a[y];f(H.value,{componentStack:H.stack})}}finally{S.T=n,z.p=u}}(zo&3)!==0&&Oc(),no(e),u=e.pendingLanes,(o&261930)!==0&&(u&42)!==0?e===pf?_s++:(_s=0,pf=e):_s=0,Bs(0)}}function sb(e,n){(e.pooledCacheLanes&=n)===0&&(n=e.pooledCache,n!=null&&(e.pooledCache=null,ws(n)))}function Oc(){return ob(),rb(),ab(),ib()}function ib(){if(fn!==5)return!1;var e=er,n=gf;gf=0;var o=Go(zo),a=S.T,u=z.p;try{z.p=32>o?32:o,S.T=null,o=mf,mf=null;var f=er,y=zo;if(fn=0,Ea=er=null,zo=0,(Ct&6)!==0)throw Error(i(331));var H=Ct;if(Ct|=4,Vp(f.current),Lp(f,f.current,y,o),Ct=H,Bs(0,!1),wt&&typeof wt.onPostCommitFiberRoot=="function")try{wt.onPostCommitFiberRoot(xt,f)}catch{}return!0}finally{z.p=u,S.T=a,sb(e,n)}}function cb(e,n,o){n=bl(o,n),n=qd(e.stateNode,n,2),e=qo(e,n,2),e!==null&&(wr(e,2),no(e))}function Dt(e,n,o){if(e.tag===3)cb(e,e,o);else for(;n!==null;){if(n.tag===3){cb(n,e,o);break}else if(n.tag===1){var a=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof a.componentDidCatch=="function"&&(Jo===null||!Jo.has(a))){e=bl(o,e),o=up(2),a=qo(n,o,2),a!==null&&(dp(o,a,n,e),wr(a,2),no(a));break}}n=n.return}}function Cf(e,n,o){var a=e.pingCache;if(a===null){a=e.pingCache=new Av;var u=new Set;a.set(n,u)}else u=a.get(n),u===void 0&&(u=new Set,a.set(n,u));u.has(o)||(df=!0,u.add(o),e=Pv.bind(null,e,n,o),n.then(e,e))}function Pv(e,n,o){var a=e.pingCache;a!==null&&a.delete(n),e.pingedLanes|=e.suspendedLanes&o,e.warmLanes&=~o,Pt===e&&(at&o)===o&&(Xt===4||Xt===3&&(at&62914560)===at&&300>nt()-Dc?(Ct&2)===0&&Da(e,0):ff|=o,Ma===at&&(Ma=0)),no(e)}function ub(e,n){n===0&&(n=vr()),e=Dr(e,n),e!==null&&(wr(e,n),no(e))}function Rv(e){var n=e.memoizedState,o=0;n!==null&&(o=n.retryLane),ub(e,o)}function Nv(e,n){var o=0;switch(e.tag){case 31:case 13:var a=e.stateNode,u=e.memoizedState;u!==null&&(o=u.retryLane);break;case 19:a=e.stateNode;break;case 22:a=e.stateNode._retryCache;break;default:throw Error(i(314))}a!==null&&a.delete(n),ub(e,o)}function Gv(e,n){return St(e,n)}var kc=null,Ia=null,yf=!1,Hc=!1,vf=!1,nr=0;function no(e){e!==Ia&&e.next===null&&(Ia===null?kc=Ia=e:Ia=Ia.next=e),Hc=!0,yf||(yf=!0,_v())}function Bs(e,n){if(!vf&&Hc){vf=!0;do for(var o=!1,a=kc;a!==null;){if(e!==0){var u=a.pendingLanes;if(u===0)var f=0;else{var y=a.suspendedLanes,H=a.pingedLanes;f=(1<<31-nn(42|e)+1)-1,f&=u&~(y&~H),f=f&201326741?f&201326741|1:f?f|2:0}f!==0&&(o=!0,gb(a,f))}else f=at,f=go(a,a===Pt?f:0,a.cancelPendingCommit!==null||a.timeoutHandle!==-1),(f&3)===0||Rl(a,f)||(o=!0,gb(a,f));a=a.next}while(o);vf=!1}}function Lv(){db()}function db(){Hc=yf=!1;var e=0;nr!==0&&Qv()&&(e=nr);for(var n=nt(),o=null,a=kc;a!==null;){var u=a.next,f=fb(a,n);f===0?(a.next=null,o===null?kc=u:o.next=u,u===null&&(Ia=o)):(o=a,(e!==0||(f&3)!==0)&&(Hc=!0)),a=u}fn!==0&&fn!==5||Bs(e),nr!==0&&(nr=0)}function fb(e,n){for(var o=e.suspendedLanes,a=e.pingedLanes,u=e.expirationTimes,f=e.pendingLanes&-62914561;0<f;){var y=31-nn(f),H=1<<y,X=u[y];X===-1?((H&o)===0||(H&a)!==0)&&(u[y]=mo(H,n)):X<=n&&(e.expiredLanes|=H),f&=~H}if(n=Pt,o=at,o=go(e,e===n?o:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),a=e.callbackNode,o===0||e===n&&(Et===2||Et===9)||e.cancelPendingCommit!==null)return a!==null&&a!==null&&jt(a),e.callbackNode=null,e.callbackPriority=0;if((o&3)===0||Rl(e,o)){if(n=o&-o,n===e.callbackPriority)return n;switch(a!==null&&jt(a),Go(o)){case 2:case 8:o=Ht;break;case 32:o=Fe;break;case 268435456:o=Be;break;default:o=Fe}return a=hb.bind(null,e),o=St(o,a),e.callbackPriority=n,e.callbackNode=o,n}return a!==null&&a!==null&&jt(a),e.callbackPriority=2,e.callbackNode=null,2}function hb(e,n){if(fn!==0&&fn!==5)return e.callbackNode=null,e.callbackPriority=0,null;var o=e.callbackNode;if(Oc()&&e.callbackNode!==o)return null;var a=at;return a=go(e,e===Pt?a:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),a===0?null:(Yp(e,a,n),fb(e,nt()),e.callbackNode!=null&&e.callbackNode===o?hb.bind(null,e):null)}function gb(e,n){if(Oc())return null;Yp(e,n,!0)}function _v(){Jv(function(){(Ct&6)!==0?St(pt,Lv):db()})}function wf(){if(nr===0){var e=ga;e===0&&(e=Xl,Xl<<=1,(Xl&261888)===0&&(Xl=256)),nr=e}return nr}function mb(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:Vi(""+e)}function pb(e,n){var o=n.ownerDocument.createElement("input");return o.name=n.name,o.value=n.value,e.id&&o.setAttribute("form",e.id),n.parentNode.insertBefore(o,n),e=new FormData(e),o.parentNode.removeChild(o),e}function Bv(e,n,o,a,u){if(n==="submit"&&o&&o.stateNode===u){var f=mb((u[En]||null).action),y=a.submitter;y&&(n=(n=y[En]||null)?mb(n.formAction):y.getAttribute("formAction"),n!==null&&(f=n,y=null));var H=new qi("action","action",null,a,u);e.push({event:H,listeners:[{instance:null,listener:function(){if(a.defaultPrevented){if(nr!==0){var X=y?pb(u,y):new FormData(u);_d(o,{pending:!0,data:X,method:u.method,action:f},null,X)}}else typeof f=="function"&&(H.preventDefault(),X=y?pb(u,y):new FormData(u),_d(o,{pending:!0,data:X,method:u.method,action:f},f,X))},currentTarget:u}]})}}for(var Sf=0;Sf<od.length;Sf++){var jf=od[Sf],Vv=jf.toLowerCase(),Uv=jf[0].toUpperCase()+jf.slice(1);Ll(Vv,"on"+Uv)}Ll(qg,"onAnimationEnd"),Ll(Yg,"onAnimationIteration"),Ll(Kg,"onAnimationStart"),Ll("dblclick","onDoubleClick"),Ll("focusin","onFocus"),Ll("focusout","onBlur"),Ll(av,"onTransitionRun"),Ll(sv,"onTransitionStart"),Ll(iv,"onTransitionCancel"),Ll(Xg,"onTransitionEnd"),ea("onMouseEnter",["mouseout","mouseover"]),ea("onMouseLeave",["mouseout","mouseover"]),ea("onPointerEnter",["pointerout","pointerover"]),ea("onPointerLeave",["pointerout","pointerover"]),qe("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),qe("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),qe("onBeforeInput",["compositionend","keypress","textInput","paste"]),qe("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),qe("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),qe("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Vs="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),$v=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Vs));function bb(e,n){n=(n&4)!==0;for(var o=0;o<e.length;o++){var a=e[o],u=a.event;a=a.listeners;e:{var f=void 0;if(n)for(var y=a.length-1;0<=y;y--){var H=a[y],X=H.instance,le=H.currentTarget;if(H=H.listener,X!==f&&u.isPropagationStopped())break e;f=H,u.currentTarget=le;try{f(u)}catch(de){Xi(de)}u.currentTarget=null,f=X}else for(y=0;y<a.length;y++){if(H=a[y],X=H.instance,le=H.currentTarget,H=H.listener,X!==f&&u.isPropagationStopped())break e;f=H,u.currentTarget=le;try{f(u)}catch(de){Xi(de)}u.currentTarget=null,f=X}}}}function rt(e,n){var o=n[hl];o===void 0&&(o=n[hl]=new Set);var a=e+"__bubble";o.has(a)||(xb(n,e,2,!1),o.add(a))}function Mf(e,n,o){var a=0;n&&(a|=4),xb(o,e,a,n)}var Pc="_reactListening"+Math.random().toString(36).slice(2);function Ef(e){if(!e[Pc]){e[Pc]=!0,us.forEach(function(o){o!=="selectionchange"&&($v.has(o)||Mf(o,!1,e),Mf(o,!0,e))});var n=e.nodeType===9?e:e.ownerDocument;n===null||n[Pc]||(n[Pc]=!0,Mf("selectionchange",!1,n))}}function xb(e,n,o,a){switch(qb(n)){case 2:var u=Cw;break;case 8:u=yw;break;default:u=_f}o=u.bind(null,n,o,e),u=void 0,!$u||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(u=!0),a?u!==void 0?e.addEventListener(n,o,{capture:!0,passive:u}):e.addEventListener(n,o,!0):u!==void 0?e.addEventListener(n,o,{passive:u}):e.addEventListener(n,o,!1)}function Df(e,n,o,a,u){var f=a;if((n&1)===0&&(n&2)===0&&a!==null)e:for(;;){if(a===null)return;var y=a.tag;if(y===3||y===4){var H=a.stateNode.containerInfo;if(H===u)break;if(y===4)for(y=a.return;y!==null;){var X=y.tag;if((X===3||X===4)&&y.stateNode.containerInfo===u)return;y=y.return}for(;H!==null;){if(y=Lt(H),y===null)return;if(X=y.tag,X===5||X===6||X===26||X===27){a=f=y;continue e}H=H.parentNode}}a=a.return}Sg(function(){var le=f,de=Vu(o),me=[];e:{var re=Qg.get(e);if(re!==void 0){var ie=qi,De=e;switch(e){case"keypress":if($i(o)===0)break e;case"keydown":case"keyup":ie=Ny;break;case"focusin":De="focus",ie=Ku;break;case"focusout":De="blur",ie=Ku;break;case"beforeblur":case"afterblur":ie=Ku;break;case"click":if(o.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":ie=Eg;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":ie=Ey;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":ie=_y;break;case qg:case Yg:case Kg:ie=Iy;break;case Xg:ie=Vy;break;case"scroll":case"scrollend":ie=jy;break;case"wheel":ie=$y;break;case"copy":case"cut":case"paste":ie=Ay;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":ie=Tg;break;case"toggle":case"beforetoggle":ie=qy}var Pe=(n&4)!==0,zt=!Pe&&(e==="scroll"||e==="scrollend"),te=Pe?re!==null?re+"Capture":null:re;Pe=[];for(var J=le,ne;J!==null;){var ge=J;if(ne=ge.stateNode,ge=ge.tag,ge!==5&&ge!==26&&ge!==27||ne===null||te===null||(ge=ds(J,te),ge!=null&&Pe.push(Us(J,ge,ne))),zt)break;J=J.return}0<Pe.length&&(re=new ie(re,De,null,o,de),me.push({event:re,listeners:Pe}))}}if((n&7)===0){e:{if(re=e==="mouseover"||e==="pointerover",ie=e==="mouseout"||e==="pointerout",re&&o!==Bu&&(De=o.relatedTarget||o.fromElement)&&(Lt(De)||De[Un]))break e;if((ie||re)&&(re=de.window===de?de:(re=de.ownerDocument)?re.defaultView||re.parentWindow:window,ie?(De=o.relatedTarget||o.toElement,ie=le,De=De?Lt(De):null,De!==null&&(zt=d(De),Pe=De.tag,De!==zt||Pe!==5&&Pe!==27&&Pe!==6)&&(De=null)):(ie=null,De=le),ie!==De)){if(Pe=Eg,ge="onMouseLeave",te="onMouseEnter",J="mouse",(e==="pointerout"||e==="pointerover")&&(Pe=Tg,ge="onPointerLeave",te="onPointerEnter",J="pointer"),zt=ie==null?re:Nl(ie),ne=De==null?re:Nl(De),re=new Pe(ge,J+"leave",ie,o,de),re.target=zt,re.relatedTarget=ne,ge=null,Lt(de)===le&&(Pe=new Pe(te,J+"enter",De,o,de),Pe.target=ne,Pe.relatedTarget=zt,ge=Pe),zt=ge,ie&&De)t:{for(Pe=Wv,te=ie,J=De,ne=0,ge=te;ge;ge=Pe(ge))ne++;ge=0;for(var He=J;He;He=Pe(He))ge++;for(;0<ne-ge;)te=Pe(te),ne--;for(;0<ge-ne;)J=Pe(J),ge--;for(;ne--;){if(te===J||J!==null&&te===J.alternate){Pe=te;break t}te=Pe(te),J=Pe(J)}Pe=null}else Pe=null;ie!==null&&Cb(me,re,ie,Pe,!1),De!==null&&zt!==null&&Cb(me,zt,De,Pe,!0)}}e:{if(re=le?Nl(le):window,ie=re.nodeName&&re.nodeName.toLowerCase(),ie==="select"||ie==="input"&&re.type==="file")var ht=Pg;else if(kg(re))if(Rg)ht=lv;else{ht=tv;var Ie=ev}else ie=re.nodeName,!ie||ie.toLowerCase()!=="input"||re.type!=="checkbox"&&re.type!=="radio"?le&&_u(le.elementType)&&(ht=Pg):ht=nv;if(ht&&(ht=ht(e,le))){Hg(me,ht,o,de);break e}Ie&&Ie(e,re,le),e==="focusout"&&le&&re.type==="number"&&le.memoizedProps.value!=null&&Lu(re,"number",re.value)}switch(Ie=le?Nl(le):window,e){case"focusin":(kg(Ie)||Ie.contentEditable==="true")&&(aa=Ie,td=le,Cs=null);break;case"focusout":Cs=td=aa=null;break;case"mousedown":nd=!0;break;case"contextmenu":case"mouseup":case"dragend":nd=!1,$g(me,o,de);break;case"selectionchange":if(rv)break;case"keydown":case"keyup":$g(me,o,de)}var Je;if(Qu)e:{switch(e){case"compositionstart":var st="onCompositionStart";break e;case"compositionend":st="onCompositionEnd";break e;case"compositionupdate":st="onCompositionUpdate";break e}st=void 0}else ra?zg(e,o)&&(st="onCompositionEnd"):e==="keydown"&&o.keyCode===229&&(st="onCompositionStart");st&&(Ig&&o.locale!=="ko"&&(ra||st!=="onCompositionStart"?st==="onCompositionEnd"&&ra&&(Je=jg()):(Lo=de,Wu="value"in Lo?Lo.value:Lo.textContent,ra=!0)),Ie=Rc(le,st),0<Ie.length&&(st=new Dg(st,e,null,o,de),me.push({event:st,listeners:Ie}),Je?st.data=Je:(Je=Og(o),Je!==null&&(st.data=Je)))),(Je=Ky?Xy(e,o):Qy(e,o))&&(st=Rc(le,"onBeforeInput"),0<st.length&&(Ie=new Dg("onBeforeInput","beforeinput",null,o,de),me.push({event:Ie,listeners:st}),Ie.data=Je)),Bv(me,e,le,o,de)}bb(me,n)})}function Us(e,n,o){return{instance:e,listener:n,currentTarget:o}}function Rc(e,n){for(var o=n+"Capture",a=[];e!==null;){var u=e,f=u.stateNode;if(u=u.tag,u!==5&&u!==26&&u!==27||f===null||(u=ds(e,o),u!=null&&a.unshift(Us(e,u,f)),u=ds(e,n),u!=null&&a.push(Us(e,u,f))),e.tag===3)return a;e=e.return}return[]}function Wv(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function Cb(e,n,o,a,u){for(var f=n._reactName,y=[];o!==null&&o!==a;){var H=o,X=H.alternate,le=H.stateNode;if(H=H.tag,X!==null&&X===a)break;H!==5&&H!==26&&H!==27||le===null||(X=le,u?(le=ds(o,f),le!=null&&y.unshift(Us(o,le,X))):u||(le=ds(o,f),le!=null&&y.push(Us(o,le,X)))),o=o.return}y.length!==0&&e.push({event:n,listeners:y})}var qv=/\r\n?/g,Yv=/\u0000|\uFFFD/g;function yb(e){return(typeof e=="string"?e:""+e).replace(qv,`
`).replace(Yv,"")}function vb(e,n){return n=yb(n),yb(e)===n}function At(e,n,o,a,u,f){switch(o){case"children":typeof a=="string"?n==="body"||n==="textarea"&&a===""||na(e,a):(typeof a=="number"||typeof a=="bigint")&&n!=="body"&&na(e,""+a);break;case"className":_i(e,"class",a);break;case"tabIndex":_i(e,"tabindex",a);break;case"dir":case"role":case"viewBox":case"width":case"height":_i(e,o,a);break;case"style":vg(e,a,f);break;case"data":if(n!=="object"){_i(e,"data",a);break}case"src":case"href":if(a===""&&(n!=="a"||o!=="href")){e.removeAttribute(o);break}if(a==null||typeof a=="function"||typeof a=="symbol"||typeof a=="boolean"){e.removeAttribute(o);break}a=Vi(""+a),e.setAttribute(o,a);break;case"action":case"formAction":if(typeof a=="function"){e.setAttribute(o,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof f=="function"&&(o==="formAction"?(n!=="input"&&At(e,n,"name",u.name,u,null),At(e,n,"formEncType",u.formEncType,u,null),At(e,n,"formMethod",u.formMethod,u,null),At(e,n,"formTarget",u.formTarget,u,null)):(At(e,n,"encType",u.encType,u,null),At(e,n,"method",u.method,u,null),At(e,n,"target",u.target,u,null)));if(a==null||typeof a=="symbol"||typeof a=="boolean"){e.removeAttribute(o);break}a=Vi(""+a),e.setAttribute(o,a);break;case"onClick":a!=null&&(e.onclick=bo);break;case"onScroll":a!=null&&rt("scroll",e);break;case"onScrollEnd":a!=null&&rt("scrollend",e);break;case"dangerouslySetInnerHTML":if(a!=null){if(typeof a!="object"||!("__html"in a))throw Error(i(61));if(o=a.__html,o!=null){if(u.children!=null)throw Error(i(60));e.innerHTML=o}}break;case"multiple":e.multiple=a&&typeof a!="function"&&typeof a!="symbol";break;case"muted":e.muted=a&&typeof a!="function"&&typeof a!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(a==null||typeof a=="function"||typeof a=="boolean"||typeof a=="symbol"){e.removeAttribute("xlink:href");break}o=Vi(""+a),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",o);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":a!=null&&typeof a!="function"&&typeof a!="symbol"?e.setAttribute(o,""+a):e.removeAttribute(o);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":a&&typeof a!="function"&&typeof a!="symbol"?e.setAttribute(o,""):e.removeAttribute(o);break;case"capture":case"download":a===!0?e.setAttribute(o,""):a!==!1&&a!=null&&typeof a!="function"&&typeof a!="symbol"?e.setAttribute(o,a):e.removeAttribute(o);break;case"cols":case"rows":case"size":case"span":a!=null&&typeof a!="function"&&typeof a!="symbol"&&!isNaN(a)&&1<=a?e.setAttribute(o,a):e.removeAttribute(o);break;case"rowSpan":case"start":a==null||typeof a=="function"||typeof a=="symbol"||isNaN(a)?e.removeAttribute(o):e.setAttribute(o,a);break;case"popover":rt("beforetoggle",e),rt("toggle",e),Li(e,"popover",a);break;case"xlinkActuate":po(e,"http://www.w3.org/1999/xlink","xlink:actuate",a);break;case"xlinkArcrole":po(e,"http://www.w3.org/1999/xlink","xlink:arcrole",a);break;case"xlinkRole":po(e,"http://www.w3.org/1999/xlink","xlink:role",a);break;case"xlinkShow":po(e,"http://www.w3.org/1999/xlink","xlink:show",a);break;case"xlinkTitle":po(e,"http://www.w3.org/1999/xlink","xlink:title",a);break;case"xlinkType":po(e,"http://www.w3.org/1999/xlink","xlink:type",a);break;case"xmlBase":po(e,"http://www.w3.org/XML/1998/namespace","xml:base",a);break;case"xmlLang":po(e,"http://www.w3.org/XML/1998/namespace","xml:lang",a);break;case"xmlSpace":po(e,"http://www.w3.org/XML/1998/namespace","xml:space",a);break;case"is":Li(e,"is",a);break;case"innerText":case"textContent":break;default:(!(2<o.length)||o[0]!=="o"&&o[0]!=="O"||o[1]!=="n"&&o[1]!=="N")&&(o=wy.get(o)||o,Li(e,o,a))}}function Tf(e,n,o,a,u,f){switch(o){case"style":vg(e,a,f);break;case"dangerouslySetInnerHTML":if(a!=null){if(typeof a!="object"||!("__html"in a))throw Error(i(61));if(o=a.__html,o!=null){if(u.children!=null)throw Error(i(60));e.innerHTML=o}}break;case"children":typeof a=="string"?na(e,a):(typeof a=="number"||typeof a=="bigint")&&na(e,""+a);break;case"onScroll":a!=null&&rt("scroll",e);break;case"onScrollEnd":a!=null&&rt("scrollend",e);break;case"onClick":a!=null&&(e.onclick=bo);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Jr.hasOwnProperty(o))e:{if(o[0]==="o"&&o[1]==="n"&&(u=o.endsWith("Capture"),n=o.slice(2,u?o.length-7:void 0),f=e[En]||null,f=f!=null?f[o]:null,typeof f=="function"&&e.removeEventListener(n,f,u),typeof a=="function")){typeof f!="function"&&f!==null&&(o in e?e[o]=null:e.hasAttribute(o)&&e.removeAttribute(o)),e.addEventListener(n,a,u);break e}o in e?e[o]=a:a===!0?e.setAttribute(o,""):Li(e,o,a)}}}function jn(e,n,o){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":rt("error",e),rt("load",e);var a=!1,u=!1,f;for(f in o)if(o.hasOwnProperty(f)){var y=o[f];if(y!=null)switch(f){case"src":a=!0;break;case"srcSet":u=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(i(137,n));default:At(e,n,f,y,o,null)}}u&&At(e,n,"srcSet",o.srcSet,o,null),a&&At(e,n,"src",o.src,o,null);return;case"input":rt("invalid",e);var H=f=y=u=null,X=null,le=null;for(a in o)if(o.hasOwnProperty(a)){var de=o[a];if(de!=null)switch(a){case"name":u=de;break;case"type":y=de;break;case"checked":X=de;break;case"defaultChecked":le=de;break;case"value":f=de;break;case"defaultValue":H=de;break;case"children":case"dangerouslySetInnerHTML":if(de!=null)throw Error(i(137,n));break;default:At(e,n,a,de,o,null)}}bg(e,f,H,X,le,y,u,!1);return;case"select":rt("invalid",e),a=y=f=null;for(u in o)if(o.hasOwnProperty(u)&&(H=o[u],H!=null))switch(u){case"value":f=H;break;case"defaultValue":y=H;break;case"multiple":a=H;default:At(e,n,u,H,o,null)}n=f,o=y,e.multiple=!!a,n!=null?ta(e,!!a,n,!1):o!=null&&ta(e,!!a,o,!0);return;case"textarea":rt("invalid",e),f=u=a=null;for(y in o)if(o.hasOwnProperty(y)&&(H=o[y],H!=null))switch(y){case"value":a=H;break;case"defaultValue":u=H;break;case"children":f=H;break;case"dangerouslySetInnerHTML":if(H!=null)throw Error(i(91));break;default:At(e,n,y,H,o,null)}Cg(e,a,u,f);return;case"option":for(X in o)o.hasOwnProperty(X)&&(a=o[X],a!=null)&&(X==="selected"?e.selected=a&&typeof a!="function"&&typeof a!="symbol":At(e,n,X,a,o,null));return;case"dialog":rt("beforetoggle",e),rt("toggle",e),rt("cancel",e),rt("close",e);break;case"iframe":case"object":rt("load",e);break;case"video":case"audio":for(a=0;a<Vs.length;a++)rt(Vs[a],e);break;case"image":rt("error",e),rt("load",e);break;case"details":rt("toggle",e);break;case"embed":case"source":case"link":rt("error",e),rt("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(le in o)if(o.hasOwnProperty(le)&&(a=o[le],a!=null))switch(le){case"children":case"dangerouslySetInnerHTML":throw Error(i(137,n));default:At(e,n,le,a,o,null)}return;default:if(_u(n)){for(de in o)o.hasOwnProperty(de)&&(a=o[de],a!==void 0&&Tf(e,n,de,a,o,void 0));return}}for(H in o)o.hasOwnProperty(H)&&(a=o[H],a!=null&&At(e,n,H,a,o,null))}function Kv(e,n,o,a){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var u=null,f=null,y=null,H=null,X=null,le=null,de=null;for(ie in o){var me=o[ie];if(o.hasOwnProperty(ie)&&me!=null)switch(ie){case"checked":break;case"value":break;case"defaultValue":X=me;default:a.hasOwnProperty(ie)||At(e,n,ie,null,a,me)}}for(var re in a){var ie=a[re];if(me=o[re],a.hasOwnProperty(re)&&(ie!=null||me!=null))switch(re){case"type":f=ie;break;case"name":u=ie;break;case"checked":le=ie;break;case"defaultChecked":de=ie;break;case"value":y=ie;break;case"defaultValue":H=ie;break;case"children":case"dangerouslySetInnerHTML":if(ie!=null)throw Error(i(137,n));break;default:ie!==me&&At(e,n,re,ie,a,me)}}Gu(e,y,H,X,le,de,f,u);return;case"select":ie=y=H=re=null;for(f in o)if(X=o[f],o.hasOwnProperty(f)&&X!=null)switch(f){case"value":break;case"multiple":ie=X;default:a.hasOwnProperty(f)||At(e,n,f,null,a,X)}for(u in a)if(f=a[u],X=o[u],a.hasOwnProperty(u)&&(f!=null||X!=null))switch(u){case"value":re=f;break;case"defaultValue":H=f;break;case"multiple":y=f;default:f!==X&&At(e,n,u,f,a,X)}n=H,o=y,a=ie,re!=null?ta(e,!!o,re,!1):!!a!=!!o&&(n!=null?ta(e,!!o,n,!0):ta(e,!!o,o?[]:"",!1));return;case"textarea":ie=re=null;for(H in o)if(u=o[H],o.hasOwnProperty(H)&&u!=null&&!a.hasOwnProperty(H))switch(H){case"value":break;case"children":break;default:At(e,n,H,null,a,u)}for(y in a)if(u=a[y],f=o[y],a.hasOwnProperty(y)&&(u!=null||f!=null))switch(y){case"value":re=u;break;case"defaultValue":ie=u;break;case"children":break;case"dangerouslySetInnerHTML":if(u!=null)throw Error(i(91));break;default:u!==f&&At(e,n,y,u,a,f)}xg(e,re,ie);return;case"option":for(var De in o)re=o[De],o.hasOwnProperty(De)&&re!=null&&!a.hasOwnProperty(De)&&(De==="selected"?e.selected=!1:At(e,n,De,null,a,re));for(X in a)re=a[X],ie=o[X],a.hasOwnProperty(X)&&re!==ie&&(re!=null||ie!=null)&&(X==="selected"?e.selected=re&&typeof re!="function"&&typeof re!="symbol":At(e,n,X,re,a,ie));return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Pe in o)re=o[Pe],o.hasOwnProperty(Pe)&&re!=null&&!a.hasOwnProperty(Pe)&&At(e,n,Pe,null,a,re);for(le in a)if(re=a[le],ie=o[le],a.hasOwnProperty(le)&&re!==ie&&(re!=null||ie!=null))switch(le){case"children":case"dangerouslySetInnerHTML":if(re!=null)throw Error(i(137,n));break;default:At(e,n,le,re,a,ie)}return;default:if(_u(n)){for(var zt in o)re=o[zt],o.hasOwnProperty(zt)&&re!==void 0&&!a.hasOwnProperty(zt)&&Tf(e,n,zt,void 0,a,re);for(de in a)re=a[de],ie=o[de],!a.hasOwnProperty(de)||re===ie||re===void 0&&ie===void 0||Tf(e,n,de,re,a,ie);return}}for(var te in o)re=o[te],o.hasOwnProperty(te)&&re!=null&&!a.hasOwnProperty(te)&&At(e,n,te,null,a,re);for(me in a)re=a[me],ie=o[me],!a.hasOwnProperty(me)||re===ie||re==null&&ie==null||At(e,n,me,re,a,ie)}function wb(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function Xv(){if(typeof performance.getEntriesByType=="function"){for(var e=0,n=0,o=performance.getEntriesByType("resource"),a=0;a<o.length;a++){var u=o[a],f=u.transferSize,y=u.initiatorType,H=u.duration;if(f&&H&&wb(y)){for(y=0,H=u.responseEnd,a+=1;a<o.length;a++){var X=o[a],le=X.startTime;if(le>H)break;var de=X.transferSize,me=X.initiatorType;de&&wb(me)&&(X=X.responseEnd,y+=de*(X<H?1:(H-le)/(X-le)))}if(--a,n+=8*(f+y)/(u.duration/1e3),e++,10<e)break}}if(0<e)return n/e/1e6}return navigator.connection&&(e=navigator.connection.downlink,typeof e=="number")?e:5}var If=null,Ff=null;function Nc(e){return e.nodeType===9?e:e.ownerDocument}function Sb(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function jb(e,n){if(e===0)switch(n){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&n==="foreignObject"?0:e}function Af(e,n){return e==="textarea"||e==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.children=="bigint"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var zf=null;function Qv(){var e=window.event;return e&&e.type==="popstate"?e===zf?!1:(zf=e,!0):(zf=null,!1)}var Mb=typeof setTimeout=="function"?setTimeout:void 0,Zv=typeof clearTimeout=="function"?clearTimeout:void 0,Eb=typeof Promise=="function"?Promise:void 0,Jv=typeof queueMicrotask=="function"?queueMicrotask:typeof Eb<"u"?function(e){return Eb.resolve(null).then(e).catch(ew)}:Mb;function ew(e){setTimeout(function(){throw e})}function lr(e){return e==="head"}function Db(e,n){var o=n,a=0;do{var u=o.nextSibling;if(e.removeChild(o),u&&u.nodeType===8)if(o=u.data,o==="/$"||o==="/&"){if(a===0){e.removeChild(u),Oa(n);return}a--}else if(o==="$"||o==="$?"||o==="$~"||o==="$!"||o==="&")a++;else if(o==="html")$s(e.ownerDocument.documentElement);else if(o==="head"){o=e.ownerDocument.head,$s(o);for(var f=o.firstChild;f;){var y=f.nextSibling,H=f.nodeName;f[Z]||H==="SCRIPT"||H==="STYLE"||H==="LINK"&&f.rel.toLowerCase()==="stylesheet"||o.removeChild(f),f=y}}else o==="body"&&$s(e.ownerDocument.body);o=u}while(o);Oa(n)}function Tb(e,n){var o=e;e=0;do{var a=o.nextSibling;if(o.nodeType===1?n?(o._stashedDisplay=o.style.display,o.style.display="none"):(o.style.display=o._stashedDisplay||"",o.getAttribute("style")===""&&o.removeAttribute("style")):o.nodeType===3&&(n?(o._stashedText=o.nodeValue,o.nodeValue=""):o.nodeValue=o._stashedText||""),a&&a.nodeType===8)if(o=a.data,o==="/$"){if(e===0)break;e--}else o!=="$"&&o!=="$?"&&o!=="$~"&&o!=="$!"||e++;o=a}while(o)}function Of(e){var n=e.firstChild;for(n&&n.nodeType===10&&(n=n.nextSibling);n;){var o=n;switch(n=n.nextSibling,o.nodeName){case"HTML":case"HEAD":case"BODY":Of(o),Oe(o);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(o.rel.toLowerCase()==="stylesheet")continue}e.removeChild(o)}}function tw(e,n,o,a){for(;e.nodeType===1;){var u=o;if(e.nodeName.toLowerCase()!==n.toLowerCase()){if(!a&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(a){if(!e[Z])switch(n){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(f=e.getAttribute("rel"),f==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(f!==u.rel||e.getAttribute("href")!==(u.href==null||u.href===""?null:u.href)||e.getAttribute("crossorigin")!==(u.crossOrigin==null?null:u.crossOrigin)||e.getAttribute("title")!==(u.title==null?null:u.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(f=e.getAttribute("src"),(f!==(u.src==null?null:u.src)||e.getAttribute("type")!==(u.type==null?null:u.type)||e.getAttribute("crossorigin")!==(u.crossOrigin==null?null:u.crossOrigin))&&f&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(n==="input"&&e.type==="hidden"){var f=u.name==null?null:""+u.name;if(u.type==="hidden"&&e.getAttribute("name")===f)return e}else return e;if(e=wl(e.nextSibling),e===null)break}return null}function nw(e,n,o){if(n==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!o||(e=wl(e.nextSibling),e===null))return null;return e}function Ib(e,n){for(;e.nodeType!==8;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!n||(e=wl(e.nextSibling),e===null))return null;return e}function kf(e){return e.data==="$?"||e.data==="$~"}function Hf(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState!=="loading"}function lw(e,n){var o=e.ownerDocument;if(e.data==="$~")e._reactRetry=n;else if(e.data!=="$?"||o.readyState!=="loading")n();else{var a=function(){n(),o.removeEventListener("DOMContentLoaded",a)};o.addEventListener("DOMContentLoaded",a),e._reactRetry=a}}function wl(e){for(;e!=null;e=e.nextSibling){var n=e.nodeType;if(n===1||n===3)break;if(n===8){if(n=e.data,n==="$"||n==="$!"||n==="$?"||n==="$~"||n==="&"||n==="F!"||n==="F")break;if(n==="/$"||n==="/&")return null}}return e}var Pf=null;function Fb(e){e=e.nextSibling;for(var n=0;e;){if(e.nodeType===8){var o=e.data;if(o==="/$"||o==="/&"){if(n===0)return wl(e.nextSibling);n--}else o!=="$"&&o!=="$!"&&o!=="$?"&&o!=="$~"&&o!=="&"||n++}e=e.nextSibling}return null}function Ab(e){e=e.previousSibling;for(var n=0;e;){if(e.nodeType===8){var o=e.data;if(o==="$"||o==="$!"||o==="$?"||o==="$~"||o==="&"){if(n===0)return e;n--}else o!=="/$"&&o!=="/&"||n++}e=e.previousSibling}return null}function zb(e,n,o){switch(n=Nc(o),e){case"html":if(e=n.documentElement,!e)throw Error(i(452));return e;case"head":if(e=n.head,!e)throw Error(i(453));return e;case"body":if(e=n.body,!e)throw Error(i(454));return e;default:throw Error(i(451))}}function $s(e){for(var n=e.attributes;n.length;)e.removeAttributeNode(n[0]);Oe(e)}var Sl=new Map,Ob=new Set;function Gc(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var Oo=z.d;z.d={f:ow,r:rw,D:aw,C:sw,L:iw,m:cw,X:dw,S:uw,M:fw};function ow(){var e=Oo.f(),n=Fc();return e||n}function rw(e){var n=Wt(e);n!==null&&n.tag===5&&n.type==="form"?Xm(n):Oo.r(e)}var Fa=typeof document>"u"?null:document;function kb(e,n,o){var a=Fa;if(a&&typeof n=="string"&&n){var u=ml(n);u='link[rel="'+e+'"][href="'+u+'"]',typeof o=="string"&&(u+='[crossorigin="'+o+'"]'),Ob.has(u)||(Ob.add(u),e={rel:e,crossOrigin:o,href:n},a.querySelector(u)===null&&(n=a.createElement("link"),jn(n,"link",e),Yt(n),a.head.appendChild(n)))}}function aw(e){Oo.D(e),kb("dns-prefetch",e,null)}function sw(e,n){Oo.C(e,n),kb("preconnect",e,n)}function iw(e,n,o){Oo.L(e,n,o);var a=Fa;if(a&&e&&n){var u='link[rel="preload"][as="'+ml(n)+'"]';n==="image"&&o&&o.imageSrcSet?(u+='[imagesrcset="'+ml(o.imageSrcSet)+'"]',typeof o.imageSizes=="string"&&(u+='[imagesizes="'+ml(o.imageSizes)+'"]')):u+='[href="'+ml(e)+'"]';var f=u;switch(n){case"style":f=Aa(e);break;case"script":f=za(e)}Sl.has(f)||(e=C({rel:"preload",href:n==="image"&&o&&o.imageSrcSet?void 0:e,as:n},o),Sl.set(f,e),a.querySelector(u)!==null||n==="style"&&a.querySelector(Ws(f))||n==="script"&&a.querySelector(qs(f))||(n=a.createElement("link"),jn(n,"link",e),Yt(n),a.head.appendChild(n)))}}function cw(e,n){Oo.m(e,n);var o=Fa;if(o&&e){var a=n&&typeof n.as=="string"?n.as:"script",u='link[rel="modulepreload"][as="'+ml(a)+'"][href="'+ml(e)+'"]',f=u;switch(a){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":f=za(e)}if(!Sl.has(f)&&(e=C({rel:"modulepreload",href:e},n),Sl.set(f,e),o.querySelector(u)===null)){switch(a){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(o.querySelector(qs(f)))return}a=o.createElement("link"),jn(a,"link",e),Yt(a),o.head.appendChild(a)}}}function uw(e,n,o){Oo.S(e,n,o);var a=Fa;if(a&&e){var u=Gl(a).hoistableStyles,f=Aa(e);n=n||"default";var y=u.get(f);if(!y){var H={loading:0,preload:null};if(y=a.querySelector(Ws(f)))H.loading=5;else{e=C({rel:"stylesheet",href:e,"data-precedence":n},o),(o=Sl.get(f))&&Rf(e,o);var X=y=a.createElement("link");Yt(X),jn(X,"link",e),X._p=new Promise(function(le,de){X.onload=le,X.onerror=de}),X.addEventListener("load",function(){H.loading|=1}),X.addEventListener("error",function(){H.loading|=2}),H.loading|=4,Lc(y,n,a)}y={type:"stylesheet",instance:y,count:1,state:H},u.set(f,y)}}}function dw(e,n){Oo.X(e,n);var o=Fa;if(o&&e){var a=Gl(o).hoistableScripts,u=za(e),f=a.get(u);f||(f=o.querySelector(qs(u)),f||(e=C({src:e,async:!0},n),(n=Sl.get(u))&&Nf(e,n),f=o.createElement("script"),Yt(f),jn(f,"link",e),o.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},a.set(u,f))}}function fw(e,n){Oo.M(e,n);var o=Fa;if(o&&e){var a=Gl(o).hoistableScripts,u=za(e),f=a.get(u);f||(f=o.querySelector(qs(u)),f||(e=C({src:e,async:!0,type:"module"},n),(n=Sl.get(u))&&Nf(e,n),f=o.createElement("script"),Yt(f),jn(f,"link",e),o.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},a.set(u,f))}}function Hb(e,n,o,a){var u=(u=ce.current)?Gc(u):null;if(!u)throw Error(i(446));switch(e){case"meta":case"title":return null;case"style":return typeof o.precedence=="string"&&typeof o.href=="string"?(n=Aa(o.href),o=Gl(u).hoistableStyles,a=o.get(n),a||(a={type:"style",instance:null,count:0,state:null},o.set(n,a)),a):{type:"void",instance:null,count:0,state:null};case"link":if(o.rel==="stylesheet"&&typeof o.href=="string"&&typeof o.precedence=="string"){e=Aa(o.href);var f=Gl(u).hoistableStyles,y=f.get(e);if(y||(u=u.ownerDocument||u,y={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},f.set(e,y),(f=u.querySelector(Ws(e)))&&!f._p&&(y.instance=f,y.state.loading=5),Sl.has(e)||(o={rel:"preload",as:"style",href:o.href,crossOrigin:o.crossOrigin,integrity:o.integrity,media:o.media,hrefLang:o.hrefLang,referrerPolicy:o.referrerPolicy},Sl.set(e,o),f||hw(u,e,o,y.state))),n&&a===null)throw Error(i(528,""));return y}if(n&&a!==null)throw Error(i(529,""));return null;case"script":return n=o.async,o=o.src,typeof o=="string"&&n&&typeof n!="function"&&typeof n!="symbol"?(n=za(o),o=Gl(u).hoistableScripts,a=o.get(n),a||(a={type:"script",instance:null,count:0,state:null},o.set(n,a)),a):{type:"void",instance:null,count:0,state:null};default:throw Error(i(444,e))}}function Aa(e){return'href="'+ml(e)+'"'}function Ws(e){return'link[rel="stylesheet"]['+e+"]"}function Pb(e){return C({},e,{"data-precedence":e.precedence,precedence:null})}function hw(e,n,o,a){e.querySelector('link[rel="preload"][as="style"]['+n+"]")?a.loading=1:(n=e.createElement("link"),a.preload=n,n.addEventListener("load",function(){return a.loading|=1}),n.addEventListener("error",function(){return a.loading|=2}),jn(n,"link",o),Yt(n),e.head.appendChild(n))}function za(e){return'[src="'+ml(e)+'"]'}function qs(e){return"script[async]"+e}function Rb(e,n,o){if(n.count++,n.instance===null)switch(n.type){case"style":var a=e.querySelector('style[data-href~="'+ml(o.href)+'"]');if(a)return n.instance=a,Yt(a),a;var u=C({},o,{"data-href":o.href,"data-precedence":o.precedence,href:null,precedence:null});return a=(e.ownerDocument||e).createElement("style"),Yt(a),jn(a,"style",u),Lc(a,o.precedence,e),n.instance=a;case"stylesheet":u=Aa(o.href);var f=e.querySelector(Ws(u));if(f)return n.state.loading|=4,n.instance=f,Yt(f),f;a=Pb(o),(u=Sl.get(u))&&Rf(a,u),f=(e.ownerDocument||e).createElement("link"),Yt(f);var y=f;return y._p=new Promise(function(H,X){y.onload=H,y.onerror=X}),jn(f,"link",a),n.state.loading|=4,Lc(f,o.precedence,e),n.instance=f;case"script":return f=za(o.src),(u=e.querySelector(qs(f)))?(n.instance=u,Yt(u),u):(a=o,(u=Sl.get(f))&&(a=C({},o),Nf(a,u)),e=e.ownerDocument||e,u=e.createElement("script"),Yt(u),jn(u,"link",a),e.head.appendChild(u),n.instance=u);case"void":return null;default:throw Error(i(443,n.type))}else n.type==="stylesheet"&&(n.state.loading&4)===0&&(a=n.instance,n.state.loading|=4,Lc(a,o.precedence,e));return n.instance}function Lc(e,n,o){for(var a=o.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),u=a.length?a[a.length-1]:null,f=u,y=0;y<a.length;y++){var H=a[y];if(H.dataset.precedence===n)f=H;else if(f!==u)break}f?f.parentNode.insertBefore(e,f.nextSibling):(n=o.nodeType===9?o.head:o,n.insertBefore(e,n.firstChild))}function Rf(e,n){e.crossOrigin==null&&(e.crossOrigin=n.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=n.referrerPolicy),e.title==null&&(e.title=n.title)}function Nf(e,n){e.crossOrigin==null&&(e.crossOrigin=n.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=n.referrerPolicy),e.integrity==null&&(e.integrity=n.integrity)}var _c=null;function Nb(e,n,o){if(_c===null){var a=new Map,u=_c=new Map;u.set(o,a)}else u=_c,a=u.get(o),a||(a=new Map,u.set(o,a));if(a.has(e))return a;for(a.set(e,null),o=o.getElementsByTagName(e),u=0;u<o.length;u++){var f=o[u];if(!(f[Z]||f[dn]||e==="link"&&f.getAttribute("rel")==="stylesheet")&&f.namespaceURI!=="http://www.w3.org/2000/svg"){var y=f.getAttribute(n)||"";y=e+y;var H=a.get(y);H?H.push(f):a.set(y,[f])}}return a}function Gb(e,n,o){e=e.ownerDocument||e,e.head.insertBefore(o,n==="title"?e.querySelector("head > title"):null)}function gw(e,n,o){if(o===1||n.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof n.precedence!="string"||typeof n.href!="string"||n.href==="")break;return!0;case"link":if(typeof n.rel!="string"||typeof n.href!="string"||n.href===""||n.onLoad||n.onError)break;return n.rel==="stylesheet"?(e=n.disabled,typeof n.precedence=="string"&&e==null):!0;case"script":if(n.async&&typeof n.async!="function"&&typeof n.async!="symbol"&&!n.onLoad&&!n.onError&&n.src&&typeof n.src=="string")return!0}return!1}function Lb(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}function mw(e,n,o,a){if(o.type==="stylesheet"&&(typeof a.media!="string"||matchMedia(a.media).matches!==!1)&&(o.state.loading&4)===0){if(o.instance===null){var u=Aa(a.href),f=n.querySelector(Ws(u));if(f){n=f._p,n!==null&&typeof n=="object"&&typeof n.then=="function"&&(e.count++,e=Bc.bind(e),n.then(e,e)),o.state.loading|=4,o.instance=f,Yt(f);return}f=n.ownerDocument||n,a=Pb(a),(u=Sl.get(u))&&Rf(a,u),f=f.createElement("link"),Yt(f);var y=f;y._p=new Promise(function(H,X){y.onload=H,y.onerror=X}),jn(f,"link",a),o.instance=f}e.stylesheets===null&&(e.stylesheets=new Map),e.stylesheets.set(o,n),(n=o.state.preload)&&(o.state.loading&3)===0&&(e.count++,o=Bc.bind(e),n.addEventListener("load",o),n.addEventListener("error",o))}}var Gf=0;function pw(e,n){return e.stylesheets&&e.count===0&&Uc(e,e.stylesheets),0<e.count||0<e.imgCount?function(o){var a=setTimeout(function(){if(e.stylesheets&&Uc(e,e.stylesheets),e.unsuspend){var f=e.unsuspend;e.unsuspend=null,f()}},6e4+n);0<e.imgBytes&&Gf===0&&(Gf=62500*Xv());var u=setTimeout(function(){if(e.waitingForImages=!1,e.count===0&&(e.stylesheets&&Uc(e,e.stylesheets),e.unsuspend)){var f=e.unsuspend;e.unsuspend=null,f()}},(e.imgBytes>Gf?50:800)+n);return e.unsuspend=o,function(){e.unsuspend=null,clearTimeout(a),clearTimeout(u)}}:null}function Bc(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Uc(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var Vc=null;function Uc(e,n){e.stylesheets=null,e.unsuspend!==null&&(e.count++,Vc=new Map,n.forEach(bw,e),Vc=null,Bc.call(e))}function bw(e,n){if(!(n.state.loading&4)){var o=Vc.get(e);if(o)var a=o.get(null);else{o=new Map,Vc.set(e,o);for(var u=e.querySelectorAll("link[data-precedence],style[data-precedence]"),f=0;f<u.length;f++){var y=u[f];(y.nodeName==="LINK"||y.getAttribute("media")!=="not all")&&(o.set(y.dataset.precedence,y),a=y)}a&&o.set(null,a)}u=n.instance,y=u.getAttribute("data-precedence"),f=o.get(y)||a,f===a&&o.set(null,u),o.set(y,u),this.count++,a=Bc.bind(this),u.addEventListener("load",a),u.addEventListener("error",a),f?f.parentNode.insertBefore(u,f.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(u,e.firstChild)),n.state.loading|=4}}var Ys={$$typeof:P,Provider:null,Consumer:null,_currentValue:F,_currentValue2:F,_threadCount:0};function xw(e,n,o,a,u,f,y,H,X){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=is(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=is(0),this.hiddenUpdates=is(null),this.identifierPrefix=a,this.onUncaughtError=u,this.onCaughtError=f,this.onRecoverableError=y,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=X,this.incompleteTransitions=new Map}function _b(e,n,o,a,u,f,y,H,X,le,de,me){return e=new xw(e,n,o,y,X,le,de,me,H),n=1,f===!0&&(n|=24),f=ol(3,null,null,n),e.current=f,f.stateNode=e,n=bd(),n.refCount++,e.pooledCache=n,n.refCount++,f.memoizedState={element:a,isDehydrated:o,cache:n},vd(f),e}function Bb(e){return e?(e=ca,e):ca}function Vb(e,n,o,a,u,f){u=Bb(u),a.context===null?a.context=u:a.pendingContext=u,a=Wo(n),a.payload={element:o},f=f===void 0?null:f,f!==null&&(a.callback=f),o=qo(e,a,n),o!==null&&(Xn(o,e,n),Es(o,e,n))}function Ub(e,n){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var o=e.retryLane;e.retryLane=o!==0&&o<n?o:n}}function Lf(e,n){Ub(e,n),(e=e.alternate)&&Ub(e,n)}function $b(e){if(e.tag===13||e.tag===31){var n=Dr(e,67108864);n!==null&&Xn(n,e,67108864),Lf(e,67108864)}}function Wb(e){if(e.tag===13||e.tag===31){var n=cl();n=nl(n);var o=Dr(e,n);o!==null&&Xn(o,e,n),Lf(e,n)}}var $c=!0;function Cw(e,n,o,a){var u=S.T;S.T=null;var f=z.p;try{z.p=2,_f(e,n,o,a)}finally{z.p=f,S.T=u}}function yw(e,n,o,a){var u=S.T;S.T=null;var f=z.p;try{z.p=8,_f(e,n,o,a)}finally{z.p=f,S.T=u}}function _f(e,n,o,a){if($c){var u=Bf(a);if(u===null)Df(e,n,a,Wc,o),Yb(e,a);else if(ww(u,e,n,o,a))a.stopPropagation();else if(Yb(e,a),n&4&&-1<vw.indexOf(e)){for(;u!==null;){var f=Wt(u);if(f!==null)switch(f.tag){case 3:if(f=f.stateNode,f.current.memoizedState.isDehydrated){var y=kn(f.pendingLanes);if(y!==0){var H=f;for(H.pendingLanes|=2,H.entangledLanes|=2;y;){var X=1<<31-nn(y);H.entanglements[1]|=X,y&=~X}no(f),(Ct&6)===0&&(Tc=nt()+500,Bs(0))}}break;case 31:case 13:H=Dr(f,2),H!==null&&Xn(H,f,2),Fc(),Lf(f,2)}if(f=Bf(a),f===null&&Df(e,n,a,Wc,o),f===u)break;u=f}u!==null&&a.stopPropagation()}else Df(e,n,a,null,o)}}function Bf(e){return e=Vu(e),Vf(e)}var Wc=null;function Vf(e){if(Wc=null,e=Lt(e),e!==null){var n=d(e);if(n===null)e=null;else{var o=n.tag;if(o===13){if(e=g(n),e!==null)return e;e=null}else if(o===31){if(e=p(n),e!==null)return e;e=null}else if(o===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;e=null}else n!==e&&(e=null)}}return Wc=e,null}function qb(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(mt()){case pt:return 2;case Ht:return 8;case Fe:case Ze:return 32;case Be:return 268435456;default:return 32}default:return 32}}var Uf=!1,or=null,rr=null,ar=null,Ks=new Map,Xs=new Map,sr=[],vw="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Yb(e,n){switch(e){case"focusin":case"focusout":or=null;break;case"dragenter":case"dragleave":rr=null;break;case"mouseover":case"mouseout":ar=null;break;case"pointerover":case"pointerout":Ks.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":Xs.delete(n.pointerId)}}function Qs(e,n,o,a,u,f){return e===null||e.nativeEvent!==f?(e={blockedOn:n,domEventName:o,eventSystemFlags:a,nativeEvent:f,targetContainers:[u]},n!==null&&(n=Wt(n),n!==null&&$b(n)),e):(e.eventSystemFlags|=a,n=e.targetContainers,u!==null&&n.indexOf(u)===-1&&n.push(u),e)}function ww(e,n,o,a,u){switch(n){case"focusin":return or=Qs(or,e,n,o,a,u),!0;case"dragenter":return rr=Qs(rr,e,n,o,a,u),!0;case"mouseover":return ar=Qs(ar,e,n,o,a,u),!0;case"pointerover":var f=u.pointerId;return Ks.set(f,Qs(Ks.get(f)||null,e,n,o,a,u)),!0;case"gotpointercapture":return f=u.pointerId,Xs.set(f,Qs(Xs.get(f)||null,e,n,o,a,u)),!0}return!1}function Kb(e){var n=Lt(e.target);if(n!==null){var o=d(n);if(o!==null){if(n=o.tag,n===13){if(n=g(o),n!==null){e.blockedOn=n,Ni(e.priority,function(){Wb(o)});return}}else if(n===31){if(n=p(o),n!==null){e.blockedOn=n,Ni(e.priority,function(){Wb(o)});return}}else if(n===3&&o.stateNode.current.memoizedState.isDehydrated){e.blockedOn=o.tag===3?o.stateNode.containerInfo:null;return}}}e.blockedOn=null}function qc(e){if(e.blockedOn!==null)return!1;for(var n=e.targetContainers;0<n.length;){var o=Bf(e.nativeEvent);if(o===null){o=e.nativeEvent;var a=new o.constructor(o.type,o);Bu=a,o.target.dispatchEvent(a),Bu=null}else return n=Wt(o),n!==null&&$b(n),e.blockedOn=o,!1;n.shift()}return!0}function Xb(e,n,o){qc(e)&&o.delete(n)}function Sw(){Uf=!1,or!==null&&qc(or)&&(or=null),rr!==null&&qc(rr)&&(rr=null),ar!==null&&qc(ar)&&(ar=null),Ks.forEach(Xb),Xs.forEach(Xb)}function Yc(e,n){e.blockedOn===n&&(e.blockedOn=null,Uf||(Uf=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,Sw)))}var Kc=null;function Qb(e){Kc!==e&&(Kc=e,t.unstable_scheduleCallback(t.unstable_NormalPriority,function(){Kc===e&&(Kc=null);for(var n=0;n<e.length;n+=3){var o=e[n],a=e[n+1],u=e[n+2];if(typeof a!="function"){if(Vf(a||o)===null)continue;break}var f=Wt(o);f!==null&&(e.splice(n,3),n-=3,_d(f,{pending:!0,data:u,method:o.method,action:a},a,u))}}))}function Oa(e){function n(X){return Yc(X,e)}or!==null&&Yc(or,e),rr!==null&&Yc(rr,e),ar!==null&&Yc(ar,e),Ks.forEach(n),Xs.forEach(n);for(var o=0;o<sr.length;o++){var a=sr[o];a.blockedOn===e&&(a.blockedOn=null)}for(;0<sr.length&&(o=sr[0],o.blockedOn===null);)Kb(o),o.blockedOn===null&&sr.shift();if(o=(e.ownerDocument||e).$$reactFormReplay,o!=null)for(a=0;a<o.length;a+=3){var u=o[a],f=o[a+1],y=u[En]||null;if(typeof f=="function")y||Qb(o);else if(y){var H=null;if(f&&f.hasAttribute("formAction")){if(u=f,y=f[En]||null)H=y.formAction;else if(Vf(u)!==null)continue}else H=y.action;typeof H=="function"?o[a+1]=H:(o.splice(a,3),a-=3),Qb(o)}}}function Zb(){function e(f){f.canIntercept&&f.info==="react-transition"&&f.intercept({handler:function(){return new Promise(function(y){return u=y})},focusReset:"manual",scroll:"manual"})}function n(){u!==null&&(u(),u=null),a||setTimeout(o,20)}function o(){if(!a&&!navigation.transition){var f=navigation.currentEntry;f&&f.url!=null&&navigation.navigate(f.url,{state:f.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var a=!1,u=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",n),navigation.addEventListener("navigateerror",n),setTimeout(o,100),function(){a=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",n),navigation.removeEventListener("navigateerror",n),u!==null&&(u(),u=null)}}}function $f(e){this._internalRoot=e}Xc.prototype.render=$f.prototype.render=function(e){var n=this._internalRoot;if(n===null)throw Error(i(409));var o=n.current,a=cl();Vb(o,a,e,n,null,null)},Xc.prototype.unmount=$f.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var n=e.containerInfo;Vb(e.current,2,null,e,null,null),Fc(),n[Un]=null}};function Xc(e){this._internalRoot=e}Xc.prototype.unstable_scheduleHydration=function(e){if(e){var n=cs();e={blockedOn:null,target:e,priority:n};for(var o=0;o<sr.length&&n!==0&&n<sr[o].priority;o++);sr.splice(o,0,e),o===0&&Kb(e)}};var Jb=l.version;if(Jb!=="19.2.3")throw Error(i(527,Jb,"19.2.3"));z.findDOMNode=function(e){var n=e._reactInternals;if(n===void 0)throw typeof e.render=="function"?Error(i(188)):(e=Object.keys(e).join(","),Error(i(268,e)));return e=x(n),e=e!==null?b(e):null,e=e===null?null:e.stateNode,e};var jw={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:S,reconcilerVersion:"19.2.3"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Qc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Qc.isDisabled&&Qc.supportsFiber)try{xt=Qc.inject(jw),wt=Qc}catch{}}return Js.createRoot=function(e,n){if(!c(e))throw Error(i(299));var o=!1,a="",u=ap,f=sp,y=ip;return n!=null&&(n.unstable_strictMode===!0&&(o=!0),n.identifierPrefix!==void 0&&(a=n.identifierPrefix),n.onUncaughtError!==void 0&&(u=n.onUncaughtError),n.onCaughtError!==void 0&&(f=n.onCaughtError),n.onRecoverableError!==void 0&&(y=n.onRecoverableError)),n=_b(e,1,!1,null,null,o,a,null,u,f,y,Zb),e[Un]=n.current,Ef(e),new $f(n)},Js.hydrateRoot=function(e,n,o){if(!c(e))throw Error(i(299));var a=!1,u="",f=ap,y=sp,H=ip,X=null;return o!=null&&(o.unstable_strictMode===!0&&(a=!0),o.identifierPrefix!==void 0&&(u=o.identifierPrefix),o.onUncaughtError!==void 0&&(f=o.onUncaughtError),o.onCaughtError!==void 0&&(y=o.onCaughtError),o.onRecoverableError!==void 0&&(H=o.onRecoverableError),o.formState!==void 0&&(X=o.formState)),n=_b(e,1,!0,n,o??null,a,u,X,f,y,H,Zb),n.context=Bb(null),o=n.current,a=cl(),a=nl(a),u=Wo(a),u.callback=null,qo(o,u,a),o=a,n.current.lanes=o,wr(n,o),no(n),e[Un]=n.current,Ef(e),new Xc(n)},Js.version="19.2.3",Js}var dx;function TS(){if(dx)return Kf.exports;dx=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(l){console.error(l)}}return t(),Kf.exports=DS(),Kf.exports}var IS=TS();const FS=RC(IS),Se=Wr.create({baseURL:"/api",timeout:3e4,headers:{"Content-Type":"application/json"}});Se.interceptors.request.use(t=>{const l=localStorage.getItem("token");return l&&(t.headers.Authorization=`Bearer ${l}`),t},t=>Promise.reject(t));Se.interceptors.response.use(t=>t.data,t=>{const l={message:"An unexpected error occurred",statusCode:500,errors:[]};if(t.response){const{data:s,status:i}=t.response;l.statusCode=i,l.message=s.message||t.message,l.errors=s.errors||[],i===401&&(localStorage.removeItem("token"),localStorage.removeItem("user"),window.dispatchEvent(new Event("auth:unauthorized")))}else t.request?(l.message="Network error. Please check your connection.",l.statusCode=0):l.message=t.message;return Promise.reject(l)});const LC=h.createContext(null),AS=({children:t})=>{const[l,s]=h.useState(null),[i,c]=h.useState(localStorage.getItem("token")),[d,g]=h.useState(!0);h.useEffect(()=>{const b=localStorage.getItem("user"),C=localStorage.getItem("token");C&&b&&(c(C),s(JSON.parse(b))),g(!1)},[]),h.useEffect(()=>{const b=()=>{c(null),s(null)};return window.addEventListener("auth:unauthorized",b),()=>window.removeEventListener("auth:unauthorized",b)},[]);const x={user:l,token:i,login:async(b,C)=>{try{const v=await Se.post("/auth/login",{email:b,password:C}),{token:M,user:j}=v;return c(M),s(j),localStorage.setItem("token",M),localStorage.setItem("user",JSON.stringify(j)),{success:!0}}catch(v){return console.error("Login failed:",v),{success:!1,message:v.message||"Login failed"}}},logout:()=>{c(null),s(null),localStorage.removeItem("token"),localStorage.removeItem("user")},isAuthenticated:!!i,isLoading:d};return r.jsx(LC.Provider,{value:x,children:!d&&t})},fl=()=>{const t=h.useContext(LC);if(!t)throw new Error("useAuth must be used within an AuthProvider");return t},zS=h.createContext(null),Zf={didCatch:!1,error:null};class OS extends h.Component{constructor(l){super(l),this.resetErrorBoundary=this.resetErrorBoundary.bind(this),this.state=Zf}static getDerivedStateFromError(l){return{didCatch:!0,error:l}}resetErrorBoundary(){const{error:l}=this.state;if(l!==null){for(var s,i,c=arguments.length,d=new Array(c),g=0;g<c;g++)d[g]=arguments[g];(s=(i=this.props).onReset)===null||s===void 0||s.call(i,{args:d,reason:"imperative-api"}),this.setState(Zf)}}componentDidCatch(l,s){var i,c;(i=(c=this.props).onError)===null||i===void 0||i.call(c,l,s)}componentDidUpdate(l,s){const{didCatch:i}=this.state,{resetKeys:c}=this.props;if(i&&s.error!==null&&kS(l.resetKeys,c)){var d,g;(d=(g=this.props).onReset)===null||d===void 0||d.call(g,{next:c,prev:l.resetKeys,reason:"keys"}),this.setState(Zf)}}render(){const{children:l,fallbackRender:s,FallbackComponent:i,fallback:c}=this.props,{didCatch:d,error:g}=this.state;let p=l;if(d){const m={error:g,resetErrorBoundary:this.resetErrorBoundary};if(typeof s=="function")p=s(m);else if(i)p=h.createElement(i,m);else if(c!==void 0)p=c;else throw g}return h.createElement(zS.Provider,{value:{didCatch:d,error:g,resetErrorBoundary:this.resetErrorBoundary}},p)}}function kS(){let t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],l=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[];return t.length!==l.length||t.some((s,i)=>!Object.is(s,l[i]))}const HS=({error:t,resetErrorBoundary:l})=>r.jsx(se,{sx:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",minHeight:"100vh",p:3,backgroundColor:"background.default"},children:r.jsxs(tt,{elevation:3,sx:{p:4,maxWidth:500,width:"100%",textAlign:"center",borderRadius:3},children:[r.jsx(pe,{variant:"h4",color:"error",gutterBottom:!0,sx:{fontWeight:600},children:"Oops! Something went wrong"}),r.jsx(pe,{variant:"body1",color:"text.secondary",paragraph:!0,sx:{mb:4},children:"We encountered an unexpected error. Our team has been notified."}),!1,r.jsxs(se,{sx:{display:"flex",gap:2,justifyContent:"center"},children:[r.jsx(xe,{variant:"contained",color:"primary",startIcon:r.jsx(SC,{}),onClick:l,children:"Try Again"}),r.jsx(xe,{variant:"outlined",color:"secondary",startIcon:r.jsx(Ew,{}),onClick:()=>window.location.href="/",children:"Go Home"})]})]})}),PS=({children:t})=>r.jsx(OS,{FallbackComponent:HS,onReset:()=>{window.location.reload()},onError:(l,s)=>{console.error("Uncaught error:",l,s)},children:t}),RS=()=>{const[t,l]=h.useState(!1),[s,i]=h.useState([{id:1,text:"Hi! I'm Neno, your budgeting assistant. How can I help you today?",isBot:!0}]),[c,d]=h.useState(""),g=()=>{if(!c.trim())return;const p={id:Date.now(),text:c,isBot:!1};i(m=>[...m,p]),d(""),setTimeout(()=>{let m="I'm still learning intricacies of your budget data.";const x=c.toLowerCase();x.includes("budget")?m="You can view and manage your budgets on the Budget Tracker page. Try filtering by Year or Vendor.":x.includes("add")?m="To add a new item, click the 'Add Line Item' button on the Budget Tracker page.":x.includes("export")?m="You can export your data to Excel using the Export button in the top right corner.":(x.includes("hello")||x.includes("hi"))&&(m="Hello there! Ready to optimize some OPEX?"),i(b=>[...b,{id:Date.now()+1,text:m,isBot:!0}])},1e3)};return t?r.jsxs(tt,{elevation:6,sx:{position:"fixed",bottom:80,right:20,width:320,height:450,display:"flex",flexDirection:"column",zIndex:9999,borderRadius:"12px",overflow:"hidden"},children:[r.jsxs(se,{sx:{p:2,bgcolor:"primary.main",color:"white",display:"flex",alignItems:"center",justifyContent:"space-between"},children:[r.jsxs(se,{sx:{display:"flex",alignItems:"center",gap:1},children:[r.jsx(ex,{fontSize:"small"}),r.jsx(pe,{variant:"subtitle1",fontWeight:"bold",children:"Neno Helper"})]}),r.jsx(se,{children:r.jsx(ql,{size:"small",onClick:()=>l(!1),sx:{color:"white"},children:r.jsx(Tw,{})})})]}),r.jsx(se,{sx:{flex:1,p:2,overflowY:"auto",bgcolor:"#f5f5f5"},children:r.jsx(Iw,{dense:!0,children:s.map(p=>r.jsx(Fw,{sx:{justifyContent:p.isBot?"flex-start":"flex-end"},children:r.jsx(tt,{sx:{p:1.5,maxWidth:"80%",bgcolor:p.isBot?"white":"primary.main",color:p.isBot?"text.primary":"white",borderRadius:"12px",borderTopLeftRadius:p.isBot?0:"12px",borderTopRightRadius:p.isBot?"12px":0},children:r.jsx(pe,{variant:"body2",children:p.text})})},p.id))})}),r.jsx(se,{sx:{p:2,bgcolor:"white",borderTop:"1px solid #eee"},children:r.jsxs(se,{sx:{display:"flex",gap:1},children:[r.jsx(Ne,{size:"small",fullWidth:!0,placeholder:"Ask Neno...",value:c,onChange:p=>d(p.target.value),onKeyPress:p=>p.key==="Enter"&&g()}),r.jsx(ql,{color:"primary",onClick:g,children:r.jsx(Aw,{})})]})})]}):r.jsx(Dw,{color:"primary","aria-label":"neno-helper",sx:{position:"fixed",bottom:20,right:20,zIndex:9999},onClick:()=>l(!0),children:r.jsx(ex,{})})},NS=()=>{const t=Ei(),l=uS(),s=jC(),i=zw(s.breakpoints.down("md")),{logout:c,user:d}=fl(),[g,p]=h.useState(null),m=B=>{setAnchorEl(B.currentTarget)},x=B=>{p(B.currentTarget)},b=()=>{p(null)},C=B=>{t(B),b()},v=()=>{setAnchorEl(null)},M=()=>{v(),c()},j=B=>{setSettingsAnchorEl(B.currentTarget)},T=()=>{setSettingsAnchorEl(null)},I=B=>{t(B),T()},O=[{label:"Dashboard",path:"/",icon:r.jsx(Nw,{sx:{mr:1}})},{label:"Purchase Orders",path:"/pos",icon:r.jsx(MC,{sx:{mr:1}})},{label:"Actuals",path:"/actuals",icon:r.jsx(lx,{sx:{mr:1}})},{label:"Actual BOA",path:"/actual-boa",icon:r.jsx(lx,{sx:{mr:1}})},{label:"Budget BOA",path:"/budget-boa",icon:r.jsx(hh,{sx:{mr:1}})},{label:"Import History",path:"/imports",icon:r.jsx(nx,{sx:{mr:1}})}],D=()=>{const B=l.pathname,R=O.findIndex(W=>W.path===B);return R!==-1?R:!1},P=(B,R)=>{R!==!1&&t(O[R].path)};return r.jsxs(se,{sx:{display:"flex",flexDirection:"column",height:"100vh"},children:[r.jsx(Ow,{position:"static",elevation:0,sx:{maxHeight:"64px",minHeight:"64px",background:"linear-gradient(135deg, #1a1a2e 0%, #16213e 50%, #0f0f1e 100%)",borderBottom:"2px solid #FFD700",boxShadow:"0 4px 20px rgba(255, 215, 0, 0.2)"},children:r.jsxs(kw,{sx:{justifyContent:"space-between",minHeight:"64px !important",maxHeight:"64px",py:0},children:[r.jsx(pe,{variant:"h6",component:"div",sx:{fontWeight:800,letterSpacing:1,mr:4,display:"flex",alignItems:"center",cursor:"pointer",fontSize:"1.4rem",background:"linear-gradient(135deg, #FFD700 0%, #00D9FF 100%)",WebkitBackgroundClip:"text",WebkitTextFillColor:"transparent",textShadow:"0 0 20px rgba(255, 215, 0, 0.3)",transition:"all 0.3s ease","&:hover":{transform:"scale(1.05)",filter:"brightness(1.2)"}},onClick:()=>t("/"),children:"OPEX MANAGER"}),!i&&r.jsxs(se,{sx:{flexGrow:1,display:"flex",alignItems:"center"},children:[r.jsx(ji,{value:D(),onChange:P,textColor:"inherit",TabIndicatorProps:{style:{backgroundColor:"#00D9FF",height:3,boxShadow:"0 0 10px rgba(0, 217, 255, 0.5)"}},sx:{minHeight:"48px","& .MuiTab-root":{color:"#B8C5D0",fontWeight:600,minHeight:"48px",maxHeight:"48px",py:0,fontSize:"0.875rem",transition:"all 0.3s ease","&.Mui-selected":{color:"#FFD700",fontWeight:700,background:"linear-gradient(135deg, rgba(255, 215, 0, 0.15) 0%, rgba(0, 217, 255, 0.15) 100%)"},"&:hover":{backgroundColor:"rgba(255, 215, 0, 0.1)",color:"#FFD700",transform:"translateY(-2px)"}}},children:O.map((B,R)=>r.jsx(Cn,{label:r.jsxs(se,{sx:{display:"flex",alignItems:"center"},children:[Lh.cloneElement(B.icon,{sx:{mr:.5,fontSize:"1.1rem"}}),B.label]})},R))}),r.jsx(xe,{color:"inherit",onClick:x,endIcon:r.jsx(tx,{sx:{fontSize:"1.1rem"}}),startIcon:r.jsx(hh,{sx:{fontSize:"1.1rem"}}),sx:{ml:1,color:"#B8C5D0",fontWeight:600,fontSize:"0.875rem",minHeight:"48px",maxHeight:"48px",py:0,px:2,transition:"all 0.3s ease","&:hover":{backgroundColor:"rgba(255, 215, 0, 0.1)",color:"#FFD700",transform:"translateY(-2px)"},...l.pathname.includes("/budgets")||l.pathname==="/net-budget"?{color:"#FFD700",fontWeight:700,background:"linear-gradient(135deg, rgba(255, 215, 0, 0.15) 0%, rgba(0, 217, 255, 0.15) 100%)",borderBottom:"3px solid #00D9FF"}:{},borderRadius:0},children:"Budgets"}),r.jsxs(Wf,{anchorEl:g,open:!!g,onClose:b,anchorOrigin:{vertical:"bottom",horizontal:"left"},transformOrigin:{vertical:"top",horizontal:"left"},children:[r.jsx(Re,{onClick:()=>C("/budgets"),selected:l.pathname==="/budgets",children:"Check Budget"}),r.jsx(Re,{onClick:()=>C("/net-budget"),selected:l.pathname==="/net-budget",children:"Net Budget"})]}),r.jsx(xe,{color:"inherit",onClick:j,endIcon:r.jsx(tx,{sx:{fontSize:"1.1rem"}}),startIcon:r.jsx(Hw,{sx:{fontSize:"1.1rem"}}),sx:{ml:2,color:"#B8C5D0",fontWeight:600,fontSize:"0.875rem",minHeight:"48px",maxHeight:"48px",py:0,px:2,transition:"all 0.3s ease","&:hover":{backgroundColor:"rgba(255, 215, 0, 0.1)",color:"#FFD700",transform:"translateY(-2px)"},...l.pathname==="/master-data"||l.pathname==="/users"?{color:"#FFD700",fontWeight:700,background:"linear-gradient(135deg, rgba(255, 215, 0, 0.15) 0%, rgba(0, 217, 255, 0.15) 100%)",borderBottom:"3px solid #00D9FF"}:{},borderRadius:0},children:"Settings"}),r.jsxs(Wf,{anchorEl:settingsAnchorEl,open:!!settingsAnchorEl,onClose:T,anchorOrigin:{vertical:"bottom",horizontal:"right"},transformOrigin:{vertical:"top",horizontal:"right"},children:[r.jsxs(Re,{onClick:()=>I("/master-data"),selected:l.pathname==="/master-data",children:[r.jsx(nx,{sx:{mr:2}}),"Master Data"]}),d&&d.roles&&d.roles.includes("Admin")&&r.jsxs(Re,{onClick:()=>I("/users"),selected:l.pathname==="/users",children:[r.jsx(gh,{sx:{mr:2}}),"User Management"]})]})]}),r.jsxs(se,{sx:{display:"flex",alignItems:"center",gap:1},children:[r.jsx(pe,{variant:"body2",sx:{display:{xs:"none",sm:"block"},fontSize:"0.875rem",color:"#E8F1F5",fontWeight:500},children:d?.username||"User"}),r.jsx(ql,{size:"small",onClick:m,color:"inherit",sx:{p:.5,transition:"all 0.3s ease","&:hover":{transform:"scale(1.1) rotate(5deg)"}},children:r.jsx(Pw,{sx:{width:32,height:32,bgcolor:"#FFD700",color:"#1a1a2e",fontWeight:700,boxShadow:"0 0 12px rgba(255, 215, 0, 0.5)"},children:r.jsx(mh,{sx:{fontSize:"1.1rem"}})})}),r.jsxs(Wf,{anchorEl,open:!!anchorEl,onClose:v,anchorOrigin:{vertical:"bottom",horizontal:"right"},transformOrigin:{vertical:"top",horizontal:"right"},children:[r.jsxs(Re,{disabled:!0,children:[r.jsx(mh,{sx:{mr:2}}),d?.username]}),r.jsx(zh,{}),r.jsxs(Re,{onClick:M,children:[r.jsx(Rw,{sx:{mr:2}}),"Logout"]})]})]})]})}),r.jsx(se,{component:"main",sx:{flexGrow:1,overflow:"auto",bgcolor:"background.default"},children:r.jsx(dS,{})}),r.jsx(RS,{})]})},Ml={primary:{main:"#003399",light:"#1A73E8",dark:"#002266",contrastText:"#FFFFFF"},secondary:{main:"#78BE20",light:"#A3E635",dark:"#5A8F18",contrastText:"#FFFFFF"},background:{default:"#F8FAFC",paper:"#FFFFFF",dark:"#0B132B"},warning:{main:"#F59E0B",light:"#FCD34D",dark:"#D97706",contrastText:"#1F2937"},error:{main:"#DC2626",light:"#F87171",dark:"#B91C1C",contrastText:"#FFFFFF"},info:{main:"#0284C7",light:"#38BDF8",dark:"#0369A1",contrastText:"#FFFFFF"},success:{main:"#059669",light:"#34D399",dark:"#047857",contrastText:"#FFFFFF"},text:{primary:"#1F2937",secondary:"#374151",disabled:"#9CA3AF"}},ui=Oh({palette:{mode:"light",primary:Ml.primary,secondary:Ml.secondary,background:Ml.background,warning:Ml.warning,error:Ml.error,info:Ml.info,success:Ml.success,text:Ml.text},typography:{fontFamily:'"Inter", "Roboto", "Helvetica", "Arial", sans-serif',h1:{fontFamily:'"Poppins", sans-serif',fontWeight:700,fontSize:"28px",lineHeight:1.3,textTransform:"uppercase",color:"#003399"},h2:{fontFamily:'"Inter", sans-serif',fontWeight:600,fontSize:"24px",lineHeight:1.4,color:"#1F2937"},h3:{fontFamily:'"Inter", sans-serif',fontWeight:500,fontSize:"20px",lineHeight:1.5,color:"#374151"},body1:{fontFamily:'"Inter", sans-serif',fontWeight:400,fontSize:"16px",lineHeight:1.6,color:"#1F2937"},body2:{fontFamily:'"Inter", sans-serif',fontWeight:400,fontSize:"14px",lineHeight:1.5,color:"#374151"},h4:{fontFamily:'"Roboto Mono", monospace',fontWeight:500,fontSize:"18px",lineHeight:1.4,color:"#1F2937"},button:{fontFamily:'"Inter", sans-serif',fontWeight:500,fontSize:"14px",lineHeight:1.3,textTransform:"uppercase"}},shape:{borderRadius:8},shadows:["none","0 2px 8px rgba(0,0,0,0.08)","0 4px 12px rgba(0,0,0,0.10)","0 6px 16px rgba(0,0,0,0.12)","0 8px 20px rgba(0,0,0,0.14)","0 10px 24px rgba(0,0,0,0.16)","0 12px 28px rgba(0,0,0,0.18)","0 14px 32px rgba(0,0,0,0.20)","0 16px 36px rgba(0,0,0,0.22)","0 18px 40px rgba(0,0,0,0.24)","0 20px 44px rgba(0,0,0,0.26)","0 22px 48px rgba(0,0,0,0.28)","0 24px 52px rgba(0,0,0,0.30)","0 26px 56px rgba(0,0,0,0.32)","0 28px 60px rgba(0,0,0,0.34)","0 30px 64px rgba(0,0,0,0.36)","0 32px 68px rgba(0,0,0,0.38)","0 34px 72px rgba(0,0,0,0.40)","0 36px 76px rgba(0,0,0,0.42)","0 38px 80px rgba(0,0,0,0.44)","0 40px 84px rgba(0,0,0,0.46)","0 42px 88px rgba(0,0,0,0.48)","0 44px 92px rgba(0,0,0,0.50)","0 46px 96px rgba(0,0,0,0.52)","0 48px 100px rgba(0,0,0,0.54)"],components:{MuiButton:{styleOverrides:{root:{borderRadius:8,textTransform:"uppercase",fontWeight:500,padding:"10px 24px",boxShadow:"none","&:hover":{boxShadow:"0 4px 12px rgba(0,0,0,0.15)"}},contained:{"&:hover":{transform:"translateY(-1px)",transition:"all 0.2s ease"}},containedPrimary:{background:"#003399","&:hover":{background:"#1A73E8"}},containedSecondary:{background:"#78BE20","&:hover":{background:"#A3E635"}}}},MuiCard:{styleOverrides:{root:{borderRadius:8,boxShadow:"0 2px 8px rgba(0,0,0,0.08)",padding:24}}},MuiPaper:{styleOverrides:{root:{borderRadius:8},elevation1:{boxShadow:"0 2px 8px rgba(0,0,0,0.08)"}}},MuiChip:{styleOverrides:{root:{borderRadius:6,fontWeight:500},colorSuccess:{backgroundColor:"#059669",color:"#FFFFFF"},colorWarning:{backgroundColor:"#F59E0B",color:"#1F2937"},colorError:{backgroundColor:"#DC2626",color:"#FFFFFF"},colorInfo:{backgroundColor:"#0284C7",color:"#FFFFFF"}}},MuiTableHead:{styleOverrides:{root:{"& .MuiTableCell-head":{backgroundColor:"#003399",color:"#FFFFFF",fontWeight:600,fontSize:"14px"}}}},MuiTableRow:{styleOverrides:{root:{"&:hover":{backgroundColor:"rgba(26, 115, 232, 0.08)"},"&:nth-of-type(even)":{backgroundColor:"#F8FAFC"}}}},MuiDataGrid:{styleOverrides:{root:{border:"1px solid #E5E7EB",borderRadius:8,"& .MuiDataGrid-columnHeaders":{backgroundColor:"#003399",color:"#FFFFFF",fontWeight:600,fontSize:"14px"},"& .MuiDataGrid-cell":{borderRight:"1px solid #E5E7EB"},"& .MuiDataGrid-row:hover":{backgroundColor:"rgba(26, 115, 232, 0.08)"},"& .MuiDataGrid-row:nth-of-type(even)":{backgroundColor:"#F8FAFC"}}}},MuiAppBar:{styleOverrides:{root:{backgroundColor:"#003399",boxShadow:"0 2px 8px rgba(0,0,0,0.08)"}}},MuiDrawer:{styleOverrides:{paper:{backgroundColor:"#FFFFFF",borderRight:"1px solid #E5E7EB"}}}}});Oh({palette:{mode:"dark",primary:{main:"#1A73E8",light:"#60A5FA",dark:"#003399",contrastText:"#FFFFFF"},secondary:{main:"#A3E635",light:"#BEF264",dark:"#78BE20",contrastText:"#1F2937"},background:{default:"#0B132B",paper:"#1E293B"},text:{primary:"#F8FAFC",secondary:"#E2E8F0",disabled:"#64748B"},warning:Ml.warning,error:Ml.error,info:Ml.info,success:Ml.success},typography:ui.typography,shape:ui.shape,shadows:ui.shadows,components:{...ui.components,MuiTableHead:{styleOverrides:{root:{"& .MuiTableCell-head":{backgroundColor:"#1A73E8",color:"#FFFFFF",fontWeight:600,fontSize:"14px"}}}},MuiDataGrid:{styleOverrides:{root:{border:"1px solid #334155","& .MuiDataGrid-columnHeaders":{backgroundColor:"#1A73E8",color:"#FFFFFF"},"& .MuiDataGrid-cell":{borderRight:"1px solid #334155"}}}}}});const GS=({message:t="Loading...",fullScreen:l=!1})=>l?r.jsxs(se,{sx:{position:"fixed",top:0,left:0,right:0,bottom:0,display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",zIndex:9999,backgroundColor:s=>_r(s.palette.background.default,.8),backdropFilter:"blur(4px)"},children:[r.jsx(_n,{size:60,thickness:4}),t&&r.jsx(pe,{variant:"h6",sx:{mt:3,color:"text.secondary",fontWeight:500},children:t})]}):r.jsxs(se,{sx:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",p:4,minHeight:200},children:[r.jsx(_n,{size:40}),t&&r.jsx(pe,{variant:"body2",sx:{mt:2,color:"text.secondary"},children:t})]}),LS=()=>{const[t,l]=h.useState(""),[s,i]=h.useState(""),[c,d]=h.useState(""),{login:g}=fl(),p=Ei(),m=async x=>{x.preventDefault(),d("");const b=await g(t,s);b.success?p("/"):d(b.message||"Invalid email or password")};return r.jsx(se,{sx:{minHeight:"100vh",display:"flex",alignItems:"center",justifyContent:"center",background:"linear-gradient(135deg, #003399 0%, #1A73E8 50%, #78BE20 100%)",position:"relative",overflow:"hidden","&::before":{content:'""',position:"absolute",top:"-50%",left:"-50%",width:"200%",height:"200%",background:"radial-gradient(circle, rgba(255, 255, 255, 0.1) 0%, transparent 70%)",animation:"rotate 20s linear infinite"},"@keyframes rotate":{"0%":{transform:"rotate(0deg)"},"100%":{transform:"rotate(360deg)"}},"@keyframes float":{"0%, 100%":{transform:"translateY(0px)"},"50%":{transform:"translateY(-20px)"}}},children:r.jsx(Gw,{maxWidth:"sm",sx:{position:"relative",zIndex:1},children:r.jsx(Br,{elevation:8,sx:{borderRadius:3,background:"rgba(255, 255, 255, 0.98)",backdropFilter:"blur(10px)",border:"2px solid rgba(0, 51, 153, 0.2)",boxShadow:"0 16px 48px rgba(0, 51, 153, 0.3), 0 0 80px rgba(120, 190, 32, 0.2)",animation:"float 6s ease-in-out infinite",transition:"all 0.3s ease","&:hover":{boxShadow:"0 20px 60px rgba(0, 51, 153, 0.4), 0 0 100px rgba(120, 190, 32, 0.3)",transform:"scale(1.02)"}},children:r.jsxs(Vr,{sx:{p:5},children:[r.jsxs(se,{sx:{textAlign:"center",mb:4},children:[r.jsx(pe,{variant:"h1",component:"h1",gutterBottom:!0,sx:{fontFamily:'"Poppins", sans-serif',fontWeight:800,fontSize:{xs:"2rem",sm:"2.5rem"},background:"linear-gradient(135deg, #003399 0%, #1A73E8 50%, #78BE20 100%)",WebkitBackgroundClip:"text",WebkitTextFillColor:"transparent",mb:1,letterSpacing:"0.02em"},children:"OPEX MANAGER"}),r.jsx(pe,{variant:"h6",sx:{color:"#374151",fontWeight:500,mb:1,fontFamily:'"Poppins", sans-serif'},children:"Jubilant Pharma"}),r.jsx(pe,{variant:"body2",sx:{color:"#9CA3AF",opacity:.9},children:"Sign in to manage your operational expenses"})]}),c&&r.jsx(cn,{severity:"error",sx:{mb:3,background:"rgba(220, 38, 38, 0.1)",border:"1px solid #DC2626",color:"#DC2626",borderRadius:2},children:c}),r.jsxs("form",{onSubmit:m,children:[r.jsx(Ne,{fullWidth:!0,label:"Email Address",type:"email",value:t,onChange:x=>l(x.target.value),margin:"normal",required:!0,autoFocus:!0,sx:{mb:2,"& .MuiOutlinedInput-root":{"& fieldset":{borderColor:"rgba(0, 51, 153, 0.3)",borderWidth:"2px"},"&:hover fieldset":{borderColor:"#003399",boxShadow:"0 0 8px rgba(0, 51, 153, 0.3)"},"&.Mui-focused fieldset":{borderColor:"#003399",boxShadow:"0 0 12px rgba(0, 51, 153, 0.5)"}},"& .MuiInputLabel-root":{color:"#374151","&.Mui-focused":{color:"#003399"}}}}),r.jsx(Ne,{fullWidth:!0,label:"Password",type:"password",value:s,onChange:x=>i(x.target.value),margin:"normal",required:!0,sx:{mb:3,"& .MuiOutlinedInput-root":{"& fieldset":{borderColor:"rgba(0, 51, 153, 0.3)",borderWidth:"2px"},"&:hover fieldset":{borderColor:"#003399",boxShadow:"0 0 8px rgba(0, 51, 153, 0.3)"},"&.Mui-focused fieldset":{borderColor:"#003399",boxShadow:"0 0 12px rgba(0, 51, 153, 0.5)"}},"& .MuiInputLabel-root":{color:"#374151","&.Mui-focused":{color:"#003399"}}}}),r.jsx(xe,{type:"submit",fullWidth:!0,variant:"contained",size:"large",sx:{mt:2,mb:2,py:1.8,fontWeight:700,fontSize:"1rem",borderRadius:"12px",background:"linear-gradient(135deg, #003399 0%, #1A73E8 100%)",color:"#FFFFFF",boxShadow:"0 4px 16px rgba(0, 51, 153, 0.4)",transition:"all 0.3s cubic-bezier(0.4, 0, 0.2, 1)",position:"relative",overflow:"hidden","&::before":{content:'""',position:"absolute",top:"50%",left:"50%",width:"0",height:"0",borderRadius:"50%",background:"rgba(255, 255, 255, 0.3)",transform:"translate(-50%, -50%)",transition:"width 0.6s, height 0.6s"},"&:hover::before":{width:"300px",height:"300px"},"&:hover":{transform:"translateY(-2px) scale(1.02)",boxShadow:"0 8px 24px rgba(0, 51, 153, 0.6)",background:"linear-gradient(135deg, #1A73E8 0%, #003399 100%)"},"&:active":{transform:"translateY(0) scale(0.98)"}},children:"Sign In"})]}),r.jsxs(se,{sx:{mt:3,p:2,borderRadius:2,background:"rgba(0, 51, 153, 0.05)",border:"1px solid rgba(0, 51, 153, 0.2)"},children:[r.jsx(pe,{variant:"caption",sx:{color:"#374151",display:"block",textAlign:"center",fontWeight:500},children:"Demo Credentials"}),r.jsx(pe,{variant:"body2",sx:{color:"#003399",textAlign:"center",fontWeight:600,mt:.5},children:"admin@example.com / password123"})]})]})})})})},Bn={p:3,backgroundColor:"#F8FAFC",minHeight:"calc(100vh - 64px)"},Al={display:"flex",justifyContent:"space-between",alignItems:"center",mb:3,pb:2,borderBottom:"2px solid #E5E7EB"},zl={fontFamily:'"Inter", sans-serif',fontWeight:600,fontSize:"24px",lineHeight:1.4,color:"#003399",textTransform:"uppercase",letterSpacing:"0.5px"},uo={animation:"fadeIn 0.3s ease-in","@keyframes fadeIn":{from:{opacity:0,transform:"translateY(10px)"},to:{opacity:1,transform:"translateY(0)"}}},_S=()=>{const[t,l]=h.useState(!0),[s,i]=h.useState({totalBudget:0,totalActual:0,variance:0,utilizationPercent:0}),[c,d]=h.useState([]),[g,p]=h.useState([]),[m,x]=h.useState([]);h.useEffect(()=>{b()},[]);const b=async()=>{try{const j=await Se.get("/reports/dashboard"),{summary:T,towerWise:I,vendorWise:O,monthlyTrend:D}=j;i({totalBudget:T.budget,totalActual:T.actuals,variance:T.variance,utilizationPercent:T.utilization}),d(I),p(O),x(D),l(!1)}catch(j){console.error("Error fetching dashboard data:",j),l(!1)}},C=["#0088FE","#00C49F","#FFBB28","#FF8042","#8884d8","#82ca9d","#ffc658","#ff7c7c"],v=j=>j>=1e7?`${(j/1e7).toFixed(2)}Cr`:j>=1e5?`${(j/1e5).toFixed(2)}L`:`${(j/1e3).toFixed(0)}K`,M=({title:j,value:T,icon:I,trend:O,color:D="primary"})=>r.jsx(Br,{elevation:2,sx:{height:"100%",transition:"transform 0.2s","&:hover":{transform:"translateY(-4px)"}},children:r.jsx(Vr,{children:r.jsxs(se,{sx:{display:"flex",justifyContent:"space-between",alignItems:"flex-start"},children:[r.jsxs(se,{children:[r.jsx(pe,{color:"text.secondary",gutterBottom:!0,variant:"body2",children:j}),r.jsx(pe,{variant:"h5",component:"div",sx:{fontWeight:600},children:v(T)}),O!==void 0&&r.jsxs(se,{sx:{display:"flex",alignItems:"center",mt:1},children:[O>0?r.jsx(ph,{color:"success",fontSize:"small"}):r.jsx(ox,{color:"error",fontSize:"small"}),r.jsxs(pe,{variant:"caption",color:O>0?"success.main":"error.main",sx:{ml:.5},children:[Math.abs(O).toFixed(1),"%"]})]})]}),r.jsx(se,{sx:{backgroundColor:`${D}.main`,borderRadius:2,p:1.5,color:"white",opacity:.9},children:I})]})})});return t?r.jsx(se,{sx:{display:"flex",justifyContent:"center",alignItems:"center",height:"80vh"},children:r.jsx(_n,{})}):r.jsxs(se,{sx:{...Bn,...uo},children:[r.jsx(se,{sx:Al,children:r.jsx(pe,{sx:zl,children:"Dashboard Overview"})}),r.jsxs(dt,{container:!0,spacing:3,sx:{mb:4},children:[r.jsx(dt,{item:!0,xs:12,sm:6,md:3,children:r.jsx(M,{title:"Total Budget",value:s.totalBudget,icon:r.jsx(hh,{}),color:"primary"})}),r.jsx(dt,{item:!0,xs:12,sm:6,md:3,children:r.jsx(M,{title:"Total Actuals",value:s.totalActual,icon:r.jsx(ph,{}),trend:s.utilizationPercent-100,color:"success"})}),r.jsx(dt,{item:!0,xs:12,sm:6,md:3,children:r.jsx(M,{title:"Variance",value:s.variance,icon:r.jsx(ox,{}),color:"warning"})}),r.jsx(dt,{item:!0,xs:12,sm:6,md:3,children:r.jsx(Br,{elevation:2,children:r.jsxs(Vr,{children:[r.jsx(pe,{color:"text.secondary",gutterBottom:!0,variant:"body2",children:"Budget Utilization"}),r.jsxs(pe,{variant:"h5",component:"div",sx:{fontWeight:600},children:[s.utilizationPercent.toFixed(1),"%"]}),r.jsx(se,{sx:{mt:1},children:r.jsx(MC,{color:"primary"})})]})})})]}),r.jsxs(dt,{container:!0,spacing:3,children:[r.jsx(dt,{item:!0,xs:12,lg:6,children:r.jsxs(tt,{elevation:2,sx:{p:3,height:"400px"},children:[r.jsx(pe,{variant:"h6",gutterBottom:!0,sx:{fontWeight:600},children:"Tower-wise Budget vs Actual"}),r.jsx(ii,{width:"100%",height:"90%",children:r.jsxs(yh,{data:c,children:[r.jsx(tu,{strokeDasharray:"3 3"}),r.jsx(nu,{dataKey:"name",angle:-45,textAnchor:"end",height:80}),r.jsx(lu,{tickFormatter:v}),r.jsx(ci,{formatter:j=>v(j)}),r.jsx(ou,{}),r.jsx(mi,{dataKey:"budget",fill:"#8884d8",name:"Budget"}),r.jsx(mi,{dataKey:"actuals",fill:"#82ca9d",name:"Actuals"})]})})]})}),r.jsx(dt,{item:!0,xs:12,lg:6,children:r.jsxs(tt,{elevation:2,sx:{p:3,height:"400px"},children:[r.jsx(pe,{variant:"h6",gutterBottom:!0,sx:{fontWeight:600},children:"Top 10 Vendors by Spend"}),r.jsx(ii,{width:"100%",height:"90%",children:r.jsxs(yh,{data:g,layout:"vertical",children:[r.jsx(tu,{strokeDasharray:"3 3"}),r.jsx(nu,{type:"number",tickFormatter:v}),r.jsx(lu,{dataKey:"name",type:"category",width:150}),r.jsx(ci,{formatter:j=>v(j)}),r.jsx(ou,{}),r.jsx(mi,{dataKey:"spend",fill:"#0088FE",name:"Spend"})]})})]})}),r.jsx(dt,{item:!0,xs:12,lg:4,children:r.jsxs(tt,{elevation:2,sx:{p:3,height:"400px"},children:[r.jsx(pe,{variant:"h6",gutterBottom:!0,sx:{fontWeight:600},children:"Tower Budget Distribution"}),r.jsx(ii,{width:"100%",height:"90%",children:r.jsxs(pS,{children:[r.jsx(bS,{data:c,cx:"50%",cy:"50%",labelLine:!1,label:({name:j,percent:T})=>`${j} ${(T*100).toFixed(0)}%`,outerRadius:80,fill:"#8884d8",dataKey:"budget",children:c.map((j,T)=>r.jsx(xS,{fill:C[T%C.length]},`cell-${T}`))}),r.jsx(ci,{formatter:j=>v(j)})]})})]})}),r.jsx(dt,{item:!0,xs:12,lg:8,children:r.jsxs(tt,{elevation:2,sx:{p:3,height:"400px"},children:[r.jsx(pe,{variant:"h6",gutterBottom:!0,sx:{fontWeight:600},children:"Monthly Spend Trend"}),r.jsx(ii,{width:"100%",height:"90%",children:r.jsxs(CS,{data:m,children:[r.jsx(tu,{strokeDasharray:"3 3"}),r.jsx(nu,{dataKey:"month"}),r.jsx(lu,{tickFormatter:v}),r.jsx(ci,{formatter:j=>v(j)}),r.jsx(ou,{}),r.jsx(yS,{type:"monotone",dataKey:"amount",stroke:"#82ca9d",strokeWidth:2,name:"Actuals"})]})})]})})]})]})},_C=h.createContext(void 0);function Ge(){const t=h.useContext(_C);if(t===void 0)throw new Error(["MUI X: Could not find the Data Grid context.","It looks like you rendered your component outside of a DataGrid, DataGridPro or DataGridPremium parent component.","This can also happen if you are bundling multiple versions of the Data Grid."].join(`
`));return t}const BC=h.createContext(void 0),we=()=>{const t=h.useContext(BC);if(!t)throw new Error("MUI X: useGridRootProps should only be used inside the DataGrid, DataGridPro or DataGridPremium component.");return t},BS=parseInt(h.version,10),Xe=t=>{if(BS>=19){const l=s=>t(s,s.ref??null);return l.displayName=t.displayName??t.name,l}return h.forwardRef(t)},VS=Object.is;function VC(t,l){if(t===l)return!0;if(!(t instanceof Object)||!(l instanceof Object))return!1;let s=0,i=0;for(const c in t)if(s+=1,!VS(t[c],l[c])||!(c in l))return!1;for(const c in l)i+=1;return s===i}var _h=vS();function UC(t){return t.acceptsApiRef}function fx(t,l){return UC(l)?l(t):l(t.current.state)}function Jf(t,l,s,i){return UC(l)?l(t,s):l(t.current.state,i)}const $C=Object.is,Bh=VC,US=(t,l)=>t===l?!0:t.length===l.length&&t.every((s,i)=>s===l[i]),$S=(t,l)=>{let s=Object.is;return l instanceof Array?s=US:l instanceof Object&&(s=Bh),s(t,l)},WC=()=>({state:null,equals:null,selector:null,args:void 0}),cu=[],qC=()=>null,he=(t,l,s=$C)=>{const i=io(WC),c=i.current.selector!==null,[d,g]=h.useState(c?null:fx(t,l));i.current.state=d,i.current.equals=s,i.current.selector=l;const p=h.useCallback(()=>(i.current.subscription||(i.current.subscription=t.current.store.subscribe(()=>{const x=fx(t,i.current.selector);i.current.equals(i.current.state,x)||(i.current.state=x,g(x))})),null),cu),m=h.useCallback(()=>()=>{i.current.subscription&&(i.current.subscription(),i.current.subscription=void 0)},cu);return _h.useSyncExternalStore(m,p,qC),d},Ci=(t,l,s=void 0,i=$C)=>{const c=io(WC),d=c.current.selector!==null,[g,p]=h.useState(d?null:Jf(t,l,s,t.current.instanceId));c.current.state=g,c.current.equals=i,c.current.selector=l;const m=c.current.args;if(c.current.args=s,d&&!$S(m,s)){const C=Jf(t,c.current.selector,c.current.args,t.current.instanceId);c.current.equals(c.current.state,C)||(c.current.state=C,p(C))}const x=h.useCallback(()=>(c.current.subscription||(c.current.subscription=t.current.store.subscribe(()=>{const C=Jf(t,c.current.selector,c.current.args,t.current.instanceId);c.current.equals(c.current.state,C)||(c.current.state=C,p(C))})),null),cu),b=h.useCallback(()=>()=>{c.current.subscription&&(c.current.subscription(),c.current.subscription=void 0)},cu);return _h.useSyncExternalStore(b,x,qC),g},WS=wS({memoize:GC,memoizeOptions:{maxSize:1,equalityCheck:Object.is}}),hx=new WeakMap;function $l(t){return"current"in t&&"instanceId"in t.current}const Wl={id:"default"},ke=(t,l,s,i,c,d,...g)=>{if(g.length>0)throw new Error("Unsupported number of selectors");let p;if(t&&l&&s&&i&&c&&d)p=(m,x)=>{const b=$l(m),C=x??(b?m.current.instanceId:Wl),v=b?m.current.state:m,M=t(v,C),j=l(v,C),T=s(v,C),I=i(v,C),O=c(v,C);return d(M,j,T,I,O)};else if(t&&l&&s&&i&&c)p=(m,x)=>{const b=$l(m),C=x??(b?m.current.instanceId:Wl),v=b?m.current.state:m,M=t(v,C),j=l(v,C),T=s(v,C),I=i(v,C);return c(M,j,T,I)};else if(t&&l&&s&&i)p=(m,x)=>{const b=$l(m),C=x??(b?m.current.instanceId:Wl),v=b?m.current.state:m,M=t(v,C),j=l(v,C),T=s(v,C);return i(M,j,T)};else if(t&&l&&s)p=(m,x)=>{const b=$l(m),C=x??(b?m.current.instanceId:Wl),v=b?m.current.state:m,M=t(v,C),j=l(v,C);return s(M,j)};else if(t&&l)p=(m,x)=>{const b=$l(m),C=x??(b?m.current.instanceId:Wl),v=b?m.current.state:m,M=t(v,C);return l(M)};else throw new Error("Missing arguments");return p.acceptsApiRef=!0,p},Di=(t,l,s,i,c,d,...g)=>{if(g.length>0)throw new Error("Unsupported number of selectors");let p;if(t&&l&&s&&i&&c&&d)p=(m,x,b)=>{const C=$l(m),v=b??(C?m.current.instanceId:Wl),M=C?m.current.state:m,j=t(M,x,v),T=l(M,x,v),I=s(M,x,v),O=i(M,x,v),D=c(M,x,v);return d(j,T,I,O,D,x)};else if(t&&l&&s&&i&&c)p=(m,x,b)=>{const C=$l(m),v=b??(C?m.current.instanceId:Wl),M=C?m.current.state:m,j=t(M,x,v),T=l(M,x,v),I=s(M,x,v),O=i(M,x,v);return c(j,T,I,O,x)};else if(t&&l&&s&&i)p=(m,x,b)=>{const C=$l(m),v=b??(C?m.current.instanceId:Wl),M=C?m.current.state:m,j=t(M,x,v),T=l(M,x,v),I=s(M,x,v);return i(j,T,I,x)};else if(t&&l&&s)p=(m,x,b)=>{const C=$l(m),v=b??(C?m.current.instanceId:Wl),M=C?m.current.state:m,j=t(M,x,v),T=l(M,x,v);return s(j,T,x)};else if(t&&l)p=(m,x,b)=>{const C=$l(m),v=b??(C?m.current.instanceId:Wl),M=C?m.current.state:m,j=t(M,x,v);return l(j,x)};else throw new Error("Missing arguments");return p.acceptsApiRef=!0,p},ft=(...t)=>{const l=(s,i)=>{const c=$l(s),d=c?s.current.instanceId:i??Wl,g=c?s.current.state:s,p=hx.get(d),m=p??new Map,x=m?.get(t);if(m&&x)return x(g,d);const b=WS(...t);return p||hx.set(d,m),m.set(t,b),b(g,d)};return l.acceptsApiRef=!0,l},mn=t=>t.dimensions,ju=ke(mn,t=>t.columnsTotalWidth),Vh=t=>t.dimensions.rowHeight,qS=t=>t.dimensions.contentSize.height,YS=t=>t.dimensions.hasScrollX,KS=t=>t.dimensions.hasScrollY,YC=t=>t.dimensions.columnsTotalWidth<t.dimensions.viewportOuterSize.width,XS=t=>t.dimensions.headerHeight,QS=t=>t.dimensions.groupHeaderHeight,KC=t=>t.dimensions.hasScrollY?t.dimensions.scrollbarSize:0,ZS=t=>{const l=t.dimensions.hasScrollX?t.dimensions.scrollbarSize:0,s=t.dimensions.viewportOuterSize.height-t.dimensions.minimumSize.height>0;return!(l===0&&!s)};function Ro(t){return h.memo(t,VC)}const JS={noRowsLabel:"No rows",noResultsOverlayLabel:"No results found.",toolbarDensity:"Density",toolbarDensityLabel:"Density",toolbarDensityCompact:"Compact",toolbarDensityStandard:"Standard",toolbarDensityComfortable:"Comfortable",toolbarColumns:"Columns",toolbarColumnsLabel:"Select columns",toolbarFilters:"Filters",toolbarFiltersLabel:"Show filters",toolbarFiltersTooltipHide:"Hide filters",toolbarFiltersTooltipShow:"Show filters",toolbarFiltersTooltipActive:t=>t!==1?`${t} active filters`:`${t} active filter`,toolbarQuickFilterPlaceholder:"Search",toolbarQuickFilterLabel:"Search",toolbarQuickFilterDeleteIconLabel:"Clear",toolbarExport:"Export",toolbarExportLabel:"Export",toolbarExportCSV:"Download as CSV",toolbarExportPrint:"Print",toolbarExportExcel:"Download as Excel",columnsManagementSearchTitle:"Search",columnsManagementNoColumns:"No columns",columnsManagementShowHideAllText:"Show/Hide All",columnsManagementReset:"Reset",columnsManagementDeleteIconLabel:"Clear",filterPanelAddFilter:"Add filter",filterPanelRemoveAll:"Remove all",filterPanelDeleteIconLabel:"Delete",filterPanelLogicOperator:"Logic operator",filterPanelOperator:"Operator",filterPanelOperatorAnd:"And",filterPanelOperatorOr:"Or",filterPanelColumns:"Columns",filterPanelInputLabel:"Value",filterPanelInputPlaceholder:"Filter value",filterOperatorContains:"contains",filterOperatorDoesNotContain:"does not contain",filterOperatorEquals:"equals",filterOperatorDoesNotEqual:"does not equal",filterOperatorStartsWith:"starts with",filterOperatorEndsWith:"ends with",filterOperatorIs:"is",filterOperatorNot:"is not",filterOperatorAfter:"is after",filterOperatorOnOrAfter:"is on or after",filterOperatorBefore:"is before",filterOperatorOnOrBefore:"is on or before",filterOperatorIsEmpty:"is empty",filterOperatorIsNotEmpty:"is not empty",filterOperatorIsAnyOf:"is any of","filterOperator=":"=","filterOperator!=":"!=","filterOperator>":">","filterOperator>=":">=","filterOperator<":"<","filterOperator<=":"<=",headerFilterOperatorContains:"Contains",headerFilterOperatorDoesNotContain:"Does not contain",headerFilterOperatorEquals:"Equals",headerFilterOperatorDoesNotEqual:"Does not equal",headerFilterOperatorStartsWith:"Starts with",headerFilterOperatorEndsWith:"Ends with",headerFilterOperatorIs:"Is",headerFilterOperatorNot:"Is not",headerFilterOperatorAfter:"Is after",headerFilterOperatorOnOrAfter:"Is on or after",headerFilterOperatorBefore:"Is before",headerFilterOperatorOnOrBefore:"Is on or before",headerFilterOperatorIsEmpty:"Is empty",headerFilterOperatorIsNotEmpty:"Is not empty",headerFilterOperatorIsAnyOf:"Is any of","headerFilterOperator=":"Equals","headerFilterOperator!=":"Not equals","headerFilterOperator>":"Greater than","headerFilterOperator>=":"Greater than or equal to","headerFilterOperator<":"Less than","headerFilterOperator<=":"Less than or equal to",filterValueAny:"any",filterValueTrue:"true",filterValueFalse:"false",columnMenuLabel:"Menu",columnMenuAriaLabel:t=>`${t} column menu`,columnMenuShowColumns:"Show columns",columnMenuManageColumns:"Manage columns",columnMenuFilter:"Filter",columnMenuHideColumn:"Hide column",columnMenuUnsort:"Unsort",columnMenuSortAsc:"Sort by ASC",columnMenuSortDesc:"Sort by DESC",columnHeaderFiltersTooltipActive:t=>t!==1?`${t} active filters`:`${t} active filter`,columnHeaderFiltersLabel:"Show filters",columnHeaderSortIconLabel:"Sort",footerRowSelected:t=>t!==1?`${t.toLocaleString()} rows selected`:`${t.toLocaleString()} row selected`,footerTotalRows:"Total Rows:",footerTotalVisibleRows:(t,l)=>`${t.toLocaleString()} of ${l.toLocaleString()}`,checkboxSelectionHeaderName:"Checkbox selection",checkboxSelectionSelectAllRows:"Select all rows",checkboxSelectionUnselectAllRows:"Unselect all rows",checkboxSelectionSelectRow:"Select row",checkboxSelectionUnselectRow:"Unselect row",booleanCellTrueLabel:"yes",booleanCellFalseLabel:"no",actionsCellMore:"more",pinToLeft:"Pin to left",pinToRight:"Pin to right",unpin:"Unpin",treeDataGroupingHeaderName:"Group",treeDataExpand:"see children",treeDataCollapse:"hide children",groupingColumnHeaderName:"Group",groupColumn:t=>`Group by ${t}`,unGroupColumn:t=>`Stop grouping by ${t}`,detailPanelToggle:"Detail panel toggle",expandDetailPanel:"Expand",collapseDetailPanel:"Collapse",MuiTablePagination:{},rowReorderingHeaderName:"Row reordering",aggregationMenuItemHeader:"Aggregation",aggregationFunctionLabelSum:"sum",aggregationFunctionLabelAvg:"avg",aggregationFunctionLabelMin:"min",aggregationFunctionLabelMax:"max",aggregationFunctionLabelSize:"size"};function Qe(t){return Lw("MuiDataGrid",t)}const N=EC("MuiDataGrid",["actionsCell","aggregationColumnHeader","aggregationColumnHeader--alignLeft","aggregationColumnHeader--alignCenter","aggregationColumnHeader--alignRight","aggregationColumnHeaderLabel","autoHeight","autosizing","booleanCell","cell--editable","cell--editing","cell--flex","cell--textCenter","cell--textLeft","cell--textRight","cell--rangeTop","cell--rangeBottom","cell--rangeLeft","cell--rangeRight","cell--pinnedLeft","cell--pinnedRight","cell--selectionMode","cell","cellCheckbox","cellEmpty","cellSkeleton","cellOffsetLeft","checkboxInput","columnHeader","columnHeader--alignCenter","columnHeader--alignLeft","columnHeader--alignRight","columnHeader--dragging","columnHeader--moving","columnHeader--numeric","columnHeader--sortable","columnHeader--sorted","columnHeader--filtered","columnHeader--pinnedLeft","columnHeader--pinnedRight","columnHeader--last","columnHeader--lastUnpinned","columnHeader--siblingFocused","columnHeaderCheckbox","columnHeaderDraggableContainer","columnHeaderTitle","columnHeaderTitleContainer","columnHeaderTitleContainerContent","columnHeader--filledGroup","columnHeader--emptyGroup","columnHeaders","columnSeparator--resizable","columnSeparator--resizing","columnSeparator--sideLeft","columnSeparator--sideRight","columnSeparator","columnsManagement","columnsManagementRow","columnsManagementHeader","columnsManagementSearchInput","columnsManagementFooter","container--top","container--bottom","detailPanel","detailPanels","detailPanelToggleCell","detailPanelToggleCell--expanded","footerCell","panel","panelHeader","panelWrapper","panelContent","panelFooter","paper","editBooleanCell","editInputCell","filler","filler--borderBottom","filler--pinnedLeft","filler--pinnedRight","filterForm","filterFormDeleteIcon","filterFormLogicOperatorInput","filterFormColumnInput","filterFormOperatorInput","filterFormValueInput","filterIcon","footerContainer","headerFilterRow","iconButtonContainer","iconSeparator","main","main--hasPinnedRight","main--hasSkeletonLoadingOverlay","menu","menuIcon","menuIconButton","menuOpen","menuList","overlay","overlayWrapper","overlayWrapperInner","root","root--densityStandard","root--densityComfortable","root--densityCompact","root--disableUserSelection","root--noToolbar","row","row--editable","row--editing","row--firstVisible","row--lastVisible","row--dragging","row--dynamicHeight","row--detailPanelExpanded","row--borderBottom","rowReorderCellPlaceholder","rowCount","rowReorderCellContainer","rowReorderCell","rowReorderCell--draggable","rowSkeleton","scrollArea--left","scrollArea--right","scrollArea--up","scrollArea--down","scrollArea","scrollbar","scrollbar--vertical","scrollbar--horizontal","scrollbarFiller","scrollbarFiller--header","scrollbarFiller--borderTop","scrollbarFiller--borderBottom","scrollbarFiller--pinnedRight","selectedRowCount","sortButton","sortIcon","toolbarContainer","toolbarFilterList","virtualScroller","virtualScroller--hasScrollX","virtualScrollerContent","virtualScrollerContent--overflowed","virtualScrollerRenderZone","pinnedColumns","withVerticalBorder","withBorderColor","cell--withRightBorder","cell--withLeftBorder","columnHeader--withRightBorder","columnHeader--withLeftBorder","treeDataGroupingCell","treeDataGroupingCellToggle","treeDataGroupingCellLoadingContainer","groupingCriteriaCell","groupingCriteriaCellToggle","groupingCriteriaCellLoadingContainer","pinnedRows","pinnedRows--top","pinnedRows--bottom","pinnedRowsRenderZone"]),gx=1e3;class e1{constructor(l=gx){this.timeouts=new Map,this.cleanupTimeout=gx,this.cleanupTimeout=l}register(l,s,i){this.timeouts||(this.timeouts=new Map);const c=setTimeout(()=>{typeof s=="function"&&s(),this.timeouts.delete(i.cleanupToken)},this.cleanupTimeout);this.timeouts.set(i.cleanupToken,c)}unregister(l){const s=this.timeouts.get(l.cleanupToken);s&&(this.timeouts.delete(l.cleanupToken),clearTimeout(s))}reset(){this.timeouts&&(this.timeouts.forEach((l,s)=>{this.unregister({cleanupToken:s})}),this.timeouts=void 0)}}class t1{constructor(){this.registry=new FinalizationRegistry(l=>{typeof l=="function"&&l()})}register(l,s,i){this.registry.register(l,s,i)}unregister(l){this.registry.unregister(l)}reset(){}}var Il=(function(t){return t.DataGrid="DataGrid",t.DataGridPro="DataGridPro",t.DataGridPremium="DataGridPremium",t})(Il||{});class n1{}function l1(t){let l=0;return function(i,c,d,g){t.registry===null&&(t.registry=typeof FinalizationRegistry<"u"?new t1:new e1);const[p]=h.useState(new n1),m=h.useRef(null),x=h.useRef(null);x.current=d;const b=h.useRef(null);if(!m.current&&x.current){const C=(v,M,j)=>{M&&!M.defaultMuiPrevented&&x.current?.(v,M,j)};m.current=i.current.subscribeEvent(c,C,g),l+=1,b.current={cleanupToken:l},t.registry.register(p,()=>{m.current?.(),m.current=null,b.current=null},b.current)}else!x.current&&m.current&&(m.current(),m.current=null,b.current&&(t.registry.unregister(b.current),b.current=null));h.useEffect(()=>{if(!m.current&&x.current){const C=(v,M,j)=>{M&&!M.defaultMuiPrevented&&x.current?.(v,M,j)};m.current=i.current.subscribeEvent(c,C,g)}return b.current&&t.registry&&(t.registry.unregister(b.current),b.current=null),()=>{m.current?.(),m.current=null}},[i,c,g])}}const o1={registry:null},ye=l1(o1),r1={isFirst:!0};function vt(t,l,s){ye(t,l,s,r1)}const a1=.7,s1=1.3,i1={compact:a1,comfortable:s1,standard:1},Ur=t=>t.density,Ja=ke(Ur,t=>i1[t]),c1=["id","value","formattedValue","api","field","row","rowNode","colDef","cellMode","isEditable","tabIndex","hasFocus","isValidating","debounceMs","isProcessingProps","onValueChange"],u1=t=>{const{classes:l}=t;return Ke({root:["editInputCell"]},Qe,l)},d1=Ut(DC,{name:"MuiDataGrid",slot:"EditInputCell",overridesResolver:(t,l)=>l.editInputCell})(({theme:t})=>w({},t.typography.body2,{padding:"1px 0","& input":{padding:"0 16px",height:"100%"}})),f1=Xe((t,l)=>{const s=we(),{id:i,value:c,field:d,colDef:g,hasFocus:p,debounceMs:m=200,isProcessingProps:x,onValueChange:b}=t,C=Ee(t,c1),v=Ge(),M=h.useRef(null),[j,T]=h.useState(c),I=u1(s),O=h.useCallback(async P=>{const B=P.target.value;b&&await b(P,B);const R=v.current.getColumn(d);let W=B;R.valueParser&&(W=R.valueParser(B,v.current.getRow(i),R,v)),T(W),v.current.setEditCellValue({id:i,field:d,value:W,debounceMs:m,unstable_skipValueParser:!0},P)},[v,m,d,i,b]),D=v.current.unstable_getEditCellMeta(i,d);return h.useEffect(()=>{D?.changeReason!=="debouncedSetEditCellValue"&&T(c)},[D,c]),On(()=>{p&&M.current.focus()},[p]),r.jsx(d1,w({inputRef:M,className:I.root,ownerState:s,fullWidth:!0,type:g.type==="number"?g.type:"text",value:j??"",onChange:O,endAdornment:x?r.jsx(s.slots.loadIcon,{fontSize:"small",color:"action"}):void 0},C,{ref:l}))}),h1=t=>r.jsx(f1,w({},t)),Ol=t=>t.rows,Ti=ke(Ol,t=>t.totalRowCount),g1=ke(Ol,t=>t.loading),m1=ke(Ol,t=>t.totalTopLevelRowCount),Dl=ke(Ol,t=>t.dataRowIdToModelLookup),mx=ke(Ol,t=>t.dataRowIdToIdLookup),sn=ke(Ol,t=>t.tree),p1=ke(Ol,t=>t.groupsToFetch),b1=ke(Ol,t=>t.groupingName),px=ke(Ol,t=>t.treeDepths),Qr=ft(Ol,t=>{const l=Object.entries(t.treeDepths);return l.length===0?1:(l.filter(([,s])=>s>0).map(([s])=>Number(s)).sort((s,i)=>i-s)[0]??0)+1}),di=ke(Ol,t=>t.dataRowIds),x1=ke(Ol,t=>t?.additionalRowGroups),es=ft(x1,t=>{const l=t?.pinnedRows;return{bottom:l?.bottom?.map(s=>({id:s.id,model:s.model??{}}))??[],top:l?.top?.map(s=>({id:s.id,model:s.model??{}}))??[]}}),XC=ke(es,t=>(t?.top?.length||0)+(t?.bottom?.length||0)),QC=(t,l)=>l&&t.length>1?[t[0]]:t,bx=(t,l)=>s=>w({},s,{sorting:w({},s.sorting,{sortModel:QC(t,l)})}),C1=t=>t==="desc",y1=(t,l)=>{const s=l.current.getColumn(t.field);if(!s||t.sort===null)return null;let i;return s.getSortComparator?i=s.getSortComparator(t.sort):i=C1(t.sort)?(...d)=>-1*s.sortComparator(...d):s.sortComparator,i?{getSortCellParams:d=>({id:d,field:s.field,rowNode:sn(l)[d],value:l.current.getCellValue(d,s.field),api:l.current}),comparator:i}:null},v1=(t,l,s)=>t.reduce((i,c,d)=>{if(i!==0)return i;const g=l.params[d],p=s.params[d];return i=c.comparator(g.value,p.value,g,p),i},0),w1=(t,l)=>{const s=t.map(i=>y1(i,l)).filter(i=>!!i);return s.length===0?null:i=>i.map(c=>({node:c,params:s.map(d=>d.getSortCellParams(c.id))})).sort((c,d)=>v1(s,c,d)).map(c=>c.node.id)},xx=(t,l)=>{const s=t.indexOf(l);return!l||s===-1||s+1===t.length?t[0]:t[s+1]},Uh=(t,l)=>t==null&&l!=null?-1:l==null&&t!=null?1:t==null&&l==null?0:null,S1=new Intl.Collator,j1=(t,l)=>{const s=Uh(t,l);return s!==null?s:typeof t=="string"?S1.compare(t.toString(),l.toString()):t-l},ZC=(t,l)=>{const s=Uh(t,l);return s!==null?s:Number(t)-Number(l)},JC=(t,l)=>{const s=Uh(t,l);return s!==null?s:t>l?1:t<l?-1:0},M1=["item","applyValue","type","apiRef","focusElementRef","tabIndex","disabled","isFilterActive","clearButton","InputProps","variant"];function El(t){const{item:l,applyValue:s,type:i,apiRef:c,focusElementRef:d,tabIndex:g,disabled:p,clearButton:m,InputProps:x,variant:b="standard"}=t,C=Ee(t,M1),v=Xr(),[M,j]=h.useState(eh(l.value)),[T,I]=h.useState(!1),O=Ot(),D=we(),P=h.useCallback(B=>{const R=eh(B.target.value);j(R),I(!0),v.start(D.filterDebounceMs,()=>{const W=w({},l,{value:i==="number"&&!Number.isNaN(Number(R))?Number(R):R,fromInput:O});s(W),I(!1)})},[v,D.filterDebounceMs,l,i,O,s]);return h.useEffect(()=>{(l.fromInput!==O||l.value==null)&&j(eh(l.value))},[O,l]),r.jsx(D.slots.baseTextField,w({id:O,label:c.current.getLocaleText("filterPanelInputLabel"),placeholder:c.current.getLocaleText("filterPanelInputPlaceholder"),value:M??"",onChange:P,variant:b,type:i||"text",InputProps:w({},T||m?{endAdornment:T?r.jsx(D.slots.loadIcon,{fontSize:"small",color:"action"}):m}:{},{disabled:p},x,{inputProps:w({tabIndex:g},x?.inputProps)}),InputLabelProps:{shrink:!0},inputRef:d},C,D.slotProps?.baseTextField))}function eh(t){if(!(t==null||t===""))return String(t)}function E1(t){return typeof t=="number"&&!Number.isNaN(t)}function D1(t){return typeof t=="function"}function $h(t){return typeof t=="object"&&t!==null}function T1(){try{const t="__some_random_key_you_are_not_going_to_use__";return window.localStorage.setItem(t,t),window.localStorage.removeItem(t),!0}catch{return!1}}function uu(t){return t.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&")}const dl=(t,l,s)=>Math.max(l,Math.min(s,t));function Cx(t,l){return Array.from({length:l-t}).map((s,i)=>t+i)}function ro(t,l){if(t===l)return!0;if(t&&l&&typeof t=="object"&&typeof l=="object"){if(t.constructor!==l.constructor)return!1;if(Array.isArray(t)){const c=t.length;if(c!==l.length)return!1;for(let d=0;d<c;d+=1)if(!ro(t[d],l[d]))return!1;return!0}if(t instanceof Map&&l instanceof Map){if(t.size!==l.size)return!1;const c=Array.from(t.entries());for(let d=0;d<c.length;d+=1)if(!l.has(c[d][0]))return!1;for(let d=0;d<c.length;d+=1){const g=c[d];if(!ro(g[1],l.get(g[0])))return!1}return!0}if(t instanceof Set&&l instanceof Set){if(t.size!==l.size)return!1;const c=Array.from(t.entries());for(let d=0;d<c.length;d+=1)if(!l.has(c[d][0]))return!1;return!0}if(ArrayBuffer.isView(t)&&ArrayBuffer.isView(l)){const c=t.length;if(c!==l.length)return!1;for(let d=0;d<c;d+=1)if(t[d]!==l[d])return!1;return!0}if(t.constructor===RegExp)return t.source===l.source&&t.flags===l.flags;if(t.valueOf!==Object.prototype.valueOf)return t.valueOf()===l.valueOf();if(t.toString!==Object.prototype.toString)return t.toString()===l.toString();const s=Object.keys(t),i=s.length;if(i!==Object.keys(l).length)return!1;for(let c=0;c<i;c+=1)if(!Object.prototype.hasOwnProperty.call(l,s[c]))return!1;for(let c=0;c<i;c+=1){const d=s[c];if(!ro(t[d],l[d]))return!1}return!0}return t!==t&&l!==l}function I1(t){return()=>{let l=t+=1831565813;return l=Math.imul(l^l>>>15,l|1),l^=l+Math.imul(l^l>>>7,l|61),((l^l>>>14)>>>0)/4294967296}}function F1(t){const l=I1(t);return(s,i)=>s+(i-s)*l()}function e0(t){return typeof structuredClone=="function"?structuredClone(t):JSON.parse(JSON.stringify(t))}const Lr=(t,l)=>s=>{t&&l(s)},A1=["item","applyValue","type","apiRef","focusElementRef","color","error","helperText","size","variant"],z1=["key"];function t0(t){const{item:l,applyValue:s,type:i,apiRef:c,focusElementRef:d,color:g,error:p,helperText:m,size:x,variant:b="standard"}=t,C=Ee(t,A1),v={color:g,error:p,helperText:m,size:x,variant:b},[M,j]=h.useState(l.value||[]),T=Ot(),I=we();h.useEffect(()=>{const D=l.value??[];j(D.map(String))},[l.value]);const O=h.useCallback((D,P)=>{j(P.map(String)),s(w({},l,{value:[...P.map(B=>i==="number"?Number(B):B)]}))},[s,l,i]);return r.jsx(kh,w({multiple:!0,freeSolo:!0,options:[],filterOptions:(D,P)=>{const{inputValue:B}=P;return B==null||B===""?[]:[B]},id:T,value:M,onChange:O,renderTags:(D,P)=>D.map((B,R)=>{const W=P({index:R}),{key:V}=W,U=Ee(W,z1);return r.jsx(I.slots.baseChip,w({variant:"outlined",size:"small",label:B},U),V)}),renderInput:D=>r.jsx(I.slots.baseTextField,w({},D,{label:c.current.getLocaleText("filterPanelInputLabel"),placeholder:c.current.getLocaleText("filterPanelInputPlaceholder"),InputLabelProps:w({},D.InputLabelProps,{shrink:!0}),inputRef:d,type:i||"text"},v,I.slotProps?.baseTextField))},C))}var so=(function(t){return t.Cell="cell",t.Row="row",t})(so||{}),yt=(function(t){return t.Edit="edit",t.View="view",t})(yt||{}),Rt=(function(t){return t.Edit="edit",t.View="view",t})(Rt||{}),Pn=(function(t){return t.And="and",t.Or="or",t})(Pn||{}),ko=(function(t){return t.enterKeyDown="enterKeyDown",t.cellDoubleClick="cellDoubleClick",t.printableKeyDown="printableKeyDown",t.deleteKeyDown="deleteKeyDown",t.pasteKeyDown="pasteKeyDown",t})(ko||{}),Vl=(function(t){return t.cellFocusOut="cellFocusOut",t.escapeKeyDown="escapeKeyDown",t.enterKeyDown="enterKeyDown",t.tabKeyDown="tabKeyDown",t.shiftTabKeyDown="shiftTabKeyDown",t})(Vl||{}),cr=(function(t){return t.enterKeyDown="enterKeyDown",t.cellDoubleClick="cellDoubleClick",t.printableKeyDown="printableKeyDown",t.deleteKeyDown="deleteKeyDown",t})(cr||{}),lo=(function(t){return t.rowFocusOut="rowFocusOut",t.escapeKeyDown="escapeKeyDown",t.enterKeyDown="enterKeyDown",t.tabKeyDown="tabKeyDown",t.shiftTabKeyDown="shiftTabKeyDown",t})(lo||{});function n0(t){return t.field!==void 0}const l0={filteredRowsLookup:{},filteredChildrenCountLookup:{},filteredDescendantCountLookup:{}},yi=()=>({items:[],logicOperator:Pn.And,quickFilterValues:[],quickFilterLogicOperator:Pn.And});function o0(t){return{current:t.current.getPublicApi()}}let ur=(function(t){return t.LEFT="left",t.RIGHT="right",t})({});const du={left:[],right:[]},r0=t=>t.isRtl,ao=t=>t.columns,Ho=ke(ao,t=>t.orderedFields),fo=ke(ao,t=>t.lookup),Fl=ft(Ho,fo,(t,l)=>t.map(s=>l[s])),Tl=ke(ao,t=>t.columnVisibilityModel),qt=ft(Fl,Tl,(t,l)=>t.filter(s=>l[s.field]!==!1)),ts=ft(qt,t=>t.map(l=>l.field)),a0=t=>t.pinnedColumns;ft(a0,Ho,r0,(t,l,s)=>s0(t,l,s));const ns=ft(ao,a0,ts,r0,(t,l,s,i)=>{const c=s0(l,s,i);return{left:c.left.map(g=>t.lookup[g]),right:c.right.map(g=>t.lookup[g])}});function s0(t,l,s){if(!Array.isArray(t.left)&&!Array.isArray(t.right)||t.left?.length===0&&t.right?.length===0)return du;const i=(p,m)=>Array.isArray(p)?p.filter(x=>m.includes(x)):[],c=i(t.left,l),d=l.filter(p=>!c.includes(p)),g=i(t.right,d);return s?{left:g,right:c}:{left:c,right:g}}const Cr=ft(qt,t=>{const l=[];let s=0;for(let i=0;i<t.length;i+=1)l.push(s),s+=t[i].computedWidth;return l}),i0=ft(Fl,t=>t.filter(l=>l.filterable)),O1=ft(Fl,t=>t.reduce((l,s)=>(s.filterable&&(l[s.field]=s),l),{})),k1=ft(Fl,t=>t.some(l=>l.colSpan!==void 0));let ei;function H1(){if(ei!==void 0)return ei;try{ei=new Function("return true")()}catch{ei=!1}return ei}const vh=(t,l)=>{const s=w({},t);if(s.id==null&&(s.id=Math.round(Math.random()*1e5)),s.operator==null){const i=fo(l)[s.field];s.operator=i&&i.filterOperators[0].value}return s},Wh=(t,l,s)=>{const i=t.items.length>1;let c;i&&l?c=[t.items[0]]:c=t.items;const d=i&&c.some(p=>p.id==null);return c.some(p=>p.operator==null)||d?w({},t,{items:c.map(p=>vh(p,s))}):t.items!==c?w({},t,{items:c}):t},yx=(t,l,s)=>i=>w({},i,{filterModel:Wh(t,l,s)}),vi=t=>typeof t=="string"?t.normalize("NFD").replace(/[\u0300-\u036f]/g,""):t,c0=(t,l)=>{if(!t.field||!t.operator)return null;const s=l.current.getColumn(t.field);if(!s)return null;let i;if(s.valueParser){const b=s.valueParser;i=Array.isArray(t.value)?t.value?.map(C=>b(C,void 0,s,l)):b(t.value,void 0,s,l)}else i=t.value;const{ignoreDiacritics:c}=l.current.rootProps;c&&(i=vi(i));const d=w({},t,{value:i}),g=s.filterOperators;if(!g?.length)throw new Error(`MUI X: No filter operators found for column '${s.field}'.`);const p=g.find(b=>b.value===d.operator);if(!p)throw new Error(`MUI X: No filter operator found for column '${s.field}' and operator value '${d.operator}'.`);const m=o0(l),x=p.getApplyFilterFn(d,s);return typeof x!="function"?null:{item:d,fn:b=>{let C=l.current.getRowValue(b,s);return c&&(C=vi(C)),x(C,b,s,m)}}};let vx=1;const P1=(t,l,s)=>{const{items:i}=t,c=i.map(p=>c0(p,l)).filter(p=>!!p);if(c.length===0)return null;if(s||!H1())return(p,m)=>{const x={};for(let b=0;b<c.length;b+=1){const C=c[b];(!m||m(C.item.field))&&(x[C.item.id]=C.fn(p))}return x};const d=new Function("appliers","row","shouldApplyFilter",`"use strict";
${c.map((p,m)=>`const shouldApply${m} = !shouldApplyFilter || shouldApplyFilter(${JSON.stringify(p.item.field)});`).join(`
`)}

const result$$ = {
${c.map((p,m)=>`  ${JSON.stringify(String(p.item.id))}: !shouldApply${m} ? false : appliers[${m}].fn(row),`).join(`
`)}
};

return result$$;`.replaceAll("$$",String(vx)));return vx+=1,(p,m)=>d(c,p,m)},u0=t=>t.quickFilterExcludeHiddenColumns??!0,R1=(t,l)=>{const s=t.quickFilterValues?.filter(Boolean)??[];if(s.length===0)return null;const i=u0(t)?ts(l):Ho(l),c=[],{ignoreDiacritics:d}=l.current.rootProps,g=o0(l);return i.forEach(p=>{const m=l.current.getColumn(p),x=m?.getApplyQuickFilterFn;x&&c.push({column:m,appliers:s.map(b=>{const C=d?vi(b):b;return{fn:x(C,m,g)}})})}),function(m,x){const b={};e:for(let C=0;C<s.length;C+=1){const v=s[C];for(let M=0;M<c.length;M+=1){const{column:j,appliers:T}=c[M],{field:I}=j;if(x&&!x(I))continue;const O=T[C];let D=l.current.getRowValue(m,j);if(O.fn===null)continue;if(d&&(D=vi(D)),O.fn(D,m,j,g)){b[v]=!0;continue e}}b[v]=!1}return b}},N1=(t,l,s)=>{const i=P1(t,l,s),c=R1(t,l);return function(g,p,m){m.passingFilterItems=i?.(g,p)??null,m.passingQuickFilterValues=c?.(g,p)??null}},wx=t=>t!=null,G1=(t,l,s)=>(t.cleanedFilterItems||(t.cleanedFilterItems=s.filter(i=>c0(i,l)!==null)),t.cleanedFilterItems),L1=(t,l,s,i,c)=>{const d=G1(c,i,s.items),g=t.filter(wx),p=l.filter(wx);if(g.length>0){const m=b=>g.some(C=>C[b.id]);if((s.logicOperator??yi().logicOperator)===Pn.And){if(!d.every(m))return!1}else if(!d.some(m))return!1}if(p.length>0&&s.quickFilterValues!=null){const m=b=>p.some(C=>C[b]);if((s.quickFilterLogicOperator??yi().quickFilterLogicOperator)===Pn.And){if(!s.quickFilterValues.every(m))return!1}else if(!s.quickFilterValues.some(m))return!1}return!0},_1=t=>{if(!t)return null;const l=new RegExp(uu(t),"i");return(s,i,c,d)=>{let g=d.current.getRowFormattedValue(i,c);return d.current.ignoreDiacritics&&(g=vi(g)),g!=null?l.test(g.toString()):!1}},Sx=(t,l)=>s=>{if(!s.value)return null;const i=t?s.value:s.value.trim(),c=new RegExp(uu(i),"i");return d=>{if(d==null)return l;const g=c.test(String(d));return l?!g:g}},jx=(t,l)=>s=>{if(!s.value)return null;const i=t?s.value:s.value.trim(),c=new Intl.Collator(void 0,{sensitivity:"base",usage:"search"});return d=>{if(d==null)return l;const g=c.compare(i,d.toString())===0;return l?!g:g}},Mx=t=>()=>l=>{const s=l===""||l==null;return t?!s:s},B1=(t=!1)=>[{value:"contains",getApplyFilterFn:Sx(t,!1),InputComponent:El},{value:"doesNotContain",getApplyFilterFn:Sx(t,!0),InputComponent:El},{value:"equals",getApplyFilterFn:jx(t,!1),InputComponent:El},{value:"doesNotEqual",getApplyFilterFn:jx(t,!0),InputComponent:El},{value:"startsWith",getApplyFilterFn:l=>{if(!l.value)return null;const s=t?l.value:l.value.trim(),i=new RegExp(`^${uu(s)}.*$`,"i");return c=>c!=null?i.test(c.toString()):!1},InputComponent:El},{value:"endsWith",getApplyFilterFn:l=>{if(!l.value)return null;const s=t?l.value:l.value.trim(),i=new RegExp(`.*${uu(s)}$`,"i");return c=>c!=null?i.test(c.toString()):!1},InputComponent:El},{value:"isEmpty",getApplyFilterFn:Mx(!1),requiresFilterValue:!1},{value:"isNotEmpty",getApplyFilterFn:Mx(!0),requiresFilterValue:!1},{value:"isAnyOf",getApplyFilterFn:l=>{if(!Array.isArray(l.value)||l.value.length===0)return null;const s=t?l.value:l.value.map(c=>c.trim()),i=new Intl.Collator(void 0,{sensitivity:"base",usage:"search"});return c=>c!=null?s.some(d=>i.compare(d,c.toString()||"")===0):!1},InputComponent:t0}],Yl={width:100,minWidth:50,maxWidth:1/0,hideable:!0,sortable:!0,resizable:!0,filterable:!0,groupable:!0,pinnable:!0,aggregable:!0,editable:!1,sortComparator:j1,type:"string",align:"left",filterOperators:B1(),renderEditCell:h1,getApplyQuickFilterFn:_1},V1=["open","target","onClose","children","position","className","onExited"],U1=t=>{const{classes:l}=t;return Ke({root:["menu"]},Qe,l)},$1=Ut(Hh,{name:"MuiDataGrid",slot:"Menu",overridesResolver:(t,l)=>l.menu})(({theme:t})=>({zIndex:t.zIndex.modal,[`& .${N.menuList}`]:{outline:0}})),W1={"bottom-start":"top left","bottom-end":"top right"};function Mu(t){const{open:l,target:s,onClose:i,children:c,position:d,className:g,onExited:p}=t,m=Ee(t,V1),x=Ge(),b=we(),C=U1(b),v=h.useRef(null);On(()=>{l?v.current=document.activeElement instanceof HTMLElement?document.activeElement:null:(v.current?.focus?.(),v.current=null)},[l]),h.useEffect(()=>{const T=l?"menuOpen":"menuClose";x.current.publishEvent(T,{target:s})},[x,l,s]);const M=T=>I=>{T&&T(),p&&p(I)},j=T=>{T.target&&(s===T.target||s?.contains(T.target))||i(T)};return r.jsx($1,w({as:b.slots.basePopper,className:lt(C.root,g),ownerState:b,open:l,anchorEl:s,transition:!0,placement:d},m,b.slotProps?.basePopper,{children:({TransitionProps:T,placement:I})=>r.jsx(TC,{onClickAway:j,mouseEvent:"onMouseDown",children:r.jsx(_w,w({},T,{style:{transformOrigin:W1[I]},onExited:M(T?.onExited),children:r.jsx(tt,{children:c})}))})}))}const q1=["api","colDef","id","hasFocus","isEditable","field","value","formattedValue","row","rowNode","cellMode","tabIndex","position","focusElementRef"],Y1=t=>typeof t.getActions=="function";function K1(t){const{colDef:l,id:s,hasFocus:i,tabIndex:c,position:d="bottom-end",focusElementRef:g}=t,p=Ee(t,q1),[m,x]=h.useState(-1),[b,C]=h.useState(!1),v=Ge(),M=h.useRef(null),j=h.useRef(null),T=h.useRef(!1),I=h.useRef({}),O=co(),D=Ot(),P=Ot(),B=we();if(!Y1(l))throw new Error("MUI X: Missing the `getActions` property in the `GridColDef`.");const R=l.getActions(v.current.getRowParams(s)),W=R.filter(S=>!S.props.showInMenu),V=R.filter(S=>S.props.showInMenu),U=W.length+(V.length?1:0);h.useLayoutEffect(()=>{i||Object.entries(I.current).forEach(([S,z])=>{z?.stop({},()=>{delete I.current[S]})})},[i]),h.useEffect(()=>{if(m<0||!M.current||m>=M.current.children.length)return;M.current.children[m].focus({preventScroll:!0})},[m]),h.useEffect(()=>{i||(x(-1),T.current=!1)},[i]),h.useImperativeHandle(g,()=>({focus(){if(!T.current){const S=R.findIndex(z=>!z.props.disabled);x(S)}}}),[R]),h.useEffect(()=>{m>=U&&x(U-1)},[m,U]);const A=()=>{C(!0),x(U-1),T.current=!0},E=()=>{C(!1)},_=S=>{S.stopPropagation(),S.preventDefault(),b?E():A()},G=S=>z=>{I.current[S]=z},k=(S,z)=>F=>{x(S),T.current=!0,z&&z(F)},K=S=>{if(U<=1)return;const z=(q,Y)=>{if(q<0||q>R.length)return q;const Q=(Y==="left"?-1:1)*(O?-1:1);return R[q+Q]?.props.disabled?z(q+Q,Y):q+Q};let F=m;S.key==="ArrowRight"?F=z(m,"right"):S.key==="ArrowLeft"&&(F=z(m,"left")),!(F<0||F>=U)&&F!==m&&(S.preventDefault(),S.stopPropagation(),x(F))},L=S=>{S.key==="Tab"&&S.preventDefault(),["Tab","Escape"].includes(S.key)&&E()};return r.jsxs("div",w({role:"menu",ref:M,tabIndex:-1,className:N.actionsCell,onKeyDown:K},p,{children:[W.map((S,z)=>h.cloneElement(S,{key:z,touchRippleRef:G(z),onClick:k(z,S.props.onClick),tabIndex:m===z?c:-1})),V.length>0&&P&&r.jsx(B.slots.baseIconButton,w({ref:j,id:P,"aria-label":v.current.getLocaleText("actionsCellMore"),"aria-haspopup":"menu","aria-expanded":b,"aria-controls":b?D:void 0,role:"menuitem",size:"small",onClick:_,touchRippleRef:G(P),tabIndex:m===W.length?c:-1},B.slotProps?.baseIconButton,{children:r.jsx(B.slots.moreActionsIcon,{fontSize:"small"})})),V.length>0&&r.jsx(Mu,{open:b,target:j.current,position:d,onClose:E,children:r.jsx(wu,{id:D,className:N.menuList,onKeyDown:L,"aria-labelledby":P,variant:"menu",autoFocusItem:!0,children:V.map((S,z)=>h.cloneElement(S,{key:z,closeMenu:E}))})})]}))}const X1=t=>r.jsx(K1,w({},t)),Eu="actions",Q1=w({},Yl,{sortable:!1,filterable:!1,aggregable:!1,width:100,display:"flex",align:"center",headerAlign:"center",headerName:"",disableColumnMenu:!0,disableExport:!0,renderCell:X1,getApplyQuickFilterFn:void 0}),Mn="auto-generated-group-node-root",qa=Symbol("mui.id_autogenerated"),Z1=()=>({type:"group",id:Mn,depth:-1,groupingField:null,groupingKey:null,isAutoGenerated:!0,children:[],childrenFromPath:{},childrenExpanded:!0,parent:null});function J1(t,l,s="A row was provided without id in the rows prop:"){if(t==null)throw new Error(["MUI X: The Data Grid component requires all rows to have a unique `id` property.","Alternatively, you can use the `getRowId` prop to specify a custom id for each row.",s,JSON.stringify(l)].join(`
`))}const Du=(t,l,s)=>{const i=l?l(t):t.id;return J1(i,t,s),i},ru=({rows:t,getRowId:l,loading:s,rowCount:i})=>{const c={type:"full",rows:[]},d={},g={};for(let p=0;p<t.length;p+=1){const m=t[p],x=Du(m,l);d[x]=m,g[x]=x,c.rows.push(x)}return{rowsBeforePartialUpdates:t,loadingPropBeforePartialUpdates:s,rowCountPropBeforePartialUpdates:i,updates:c,dataRowIdToIdLookup:g,dataRowIdToModelLookup:d}},d0=({tree:t,rowCountProp:l=0})=>{const s=t[Mn];return Math.max(l,s.children.length+(s.footerId==null?0:1))},f0=({apiRef:t,rowCountProp:l=0,loadingProp:s,previousTree:i,previousTreeDepths:c,previousGroupsToFetch:d})=>{const g=t.current.caches.rows,{tree:p,treeDepths:m,dataRowIds:x,groupingName:b,groupsToFetch:C=[]}=t.current.applyStrategyProcessor("rowTreeCreation",{previousTree:i,previousTreeDepths:c,updates:g.updates,dataRowIdToIdLookup:g.dataRowIdToIdLookup,dataRowIdToModelLookup:g.dataRowIdToModelLookup,previousGroupsToFetch:d}),v=t.current.unstable_applyPipeProcessors("hydrateRows",{tree:p,treeDepths:m,dataRowIdToIdLookup:g.dataRowIdToIdLookup,dataRowIds:x,dataRowIdToModelLookup:g.dataRowIdToModelLookup});return t.current.caches.rows.updates={type:"partial",actions:{insert:[],modify:[],remove:[]},idToActionLookup:{}},w({},v,{totalRowCount:Math.max(l,v.dataRowIds.length),totalTopLevelRowCount:d0({tree:v.tree,rowCountProp:l}),groupingName:b,loading:s,groupsToFetch:C})},Ya=t=>t.type==="skeletonRow"||t.type==="footer"||t.type==="group"&&t.isAutoGenerated||t.type==="pinnedRow"&&t.isAutoGenerated,qh=(t,l,s)=>{const i=t[l];if(i.type!=="group")return[];const c=[];for(let d=0;d<i.children.length;d+=1){const g=i.children[d];(!s||!Ya(t[g]))&&c.push(g);const p=qh(t,g,s);for(let m=0;m<p.length;m+=1)c.push(p[m])}return!s&&i.footerId!=null&&c.push(i.footerId),c},Ex=({previousCache:t,getRowId:l,updates:s,groupKeys:i})=>{if(t.updates.type==="full")throw new Error("MUI X: Unable to prepare a partial update if a full update is not applied yet.");const c=new Map;s.forEach(b=>{const C=Du(b,l,"A row was provided without id when calling updateRows():");c.has(C)?c.set(C,w({},c.get(C),b)):c.set(C,b)});const d={type:"partial",actions:{insert:[...t.updates.actions.insert??[]],modify:[...t.updates.actions.modify??[]],remove:[...t.updates.actions.remove??[]]},idToActionLookup:w({},t.updates.idToActionLookup),groupKeys:i},g=w({},t.dataRowIdToModelLookup),p=w({},t.dataRowIdToIdLookup),m={insert:{},modify:{},remove:{}};c.forEach((b,C)=>{const v=d.idToActionLookup[C];if(b._action==="delete"){if(v==="remove"||!g[C])return;v!=null&&(m[v][C]=!0),d.actions.remove.push(C),delete g[C],delete p[C];return}const M=g[C];if(M){v==="remove"?(m.remove[C]=!0,d.actions.modify.push(C)):v==null&&d.actions.modify.push(C),g[C]=w({},M,b);return}v==="remove"?(m.remove[C]=!0,d.actions.insert.push(C)):v==null&&d.actions.insert.push(C),g[C]=b,p[C]=C});const x=Object.keys(m);for(let b=0;b<x.length;b+=1){const C=x[b],v=m[C];Object.keys(v).length>0&&(d.actions[C]=d.actions[C].filter(M=>!v[M]))}return{dataRowIdToModelLookup:g,dataRowIdToIdLookup:p,updates:d,rowsBeforePartialUpdates:t.rowsBeforePartialUpdates,loadingPropBeforePartialUpdates:t.loadingPropBeforePartialUpdates,rowCountPropBeforePartialUpdates:t.rowCountPropBeforePartialUpdates}},h0="var(--DataGrid-overlayHeight, calc(var(--height) * 2))";function Dx(t,l,s){const i=[];return l.forEach(c=>{const d=Du(c,s,"A row was provided without id when calling updateRows():");if(t.current.getRowNode(d)?.type==="pinnedRow"){const p=t.current.caches.pinnedRows,m=p.idLookup[d];m&&(p.idLookup[d]=w({},m,c))}else i.push(c)}),i}const g0=(t,l,s)=>typeof t=="number"&&t>0?t:l,ej="__tree_data_group__",m0="__row_group_by_columns_group__",Tu="__detail_panel_toggle__";let et=(function(t){return t[t.NONE=0]="NONE",t[t.LEFT=1]="LEFT",t[t.RIGHT=2]="RIGHT",t[t.VIRTUAL=3]="VIRTUAL",t})({});const tj=["id","value","formattedValue","api","field","row","rowNode","colDef","cellMode","isEditable","hasFocus","tabIndex","hideDescendantCount"],nj=t=>{const{classes:l}=t;return Ke({root:["booleanCell"]},Qe,l)};function lj(t){const{value:l,rowNode:s}=t,i=Ee(t,tj),c=Ge(),d=we(),g={classes:d.classes},p=nj(g),x=he(c,Qr)>0&&s.type==="group"&&d.treeData===!1,b=h.useMemo(()=>l?d.slots.booleanCellTrueIcon:d.slots.booleanCellFalseIcon,[d.slots.booleanCellFalseIcon,d.slots.booleanCellTrueIcon,l]);return x&&l===void 0?null:r.jsx(b,w({fontSize:"small",className:p.root,titleAccess:c.current.getLocaleText(l?"booleanCellTrueLabel":"booleanCellFalseLabel"),"data-value":!!l},i))}const oj=h.memo(lj),rj=t=>t.field!==m0&&Ya(t.rowNode)?"":r.jsx(oj,w({},t)),aj=["id","value","formattedValue","api","field","row","rowNode","colDef","cellMode","isEditable","tabIndex","className","hasFocus","isValidating","isProcessingProps","error","onValueChange"],sj=t=>{const{classes:l}=t;return Ke({root:["editBooleanCell"]},Qe,l)};function ij(t){const{id:l,value:s,field:i,className:c,hasFocus:d,onValueChange:g}=t,p=Ee(t,aj),m=Ge(),x=h.useRef(null),b=Ot(),[C,v]=h.useState(s),M=we(),j={classes:M.classes},T=sj(j),I=h.useCallback(async O=>{const D=O.target.checked;g&&await g(O,D),v(D),await m.current.setEditCellValue({id:l,field:i,value:D},O)},[m,i,l,g]);return h.useEffect(()=>{v(s)},[s]),On(()=>{d&&x.current.focus()},[d]),r.jsx("label",w({htmlFor:b,className:lt(T.root,c)},p,{children:r.jsx(M.slots.baseCheckbox,w({id:b,inputRef:x,checked:!!C,onChange:I,size:"small"},M.slotProps?.baseCheckbox))}))}const cj=t=>r.jsx(ij,w({},t)),uj=["item","applyValue","apiRef","focusElementRef","isFilterActive","clearButton","tabIndex","label","variant","InputLabelProps"],au=t=>{if(String(t).toLowerCase()==="true")return!0;if(String(t).toLowerCase()==="false")return!1},dj=Ut("div")({display:"flex",alignItems:"center",width:"100%","& button":{margin:"auto 0px 5px 5px"}});function fj(t){const{item:l,applyValue:s,apiRef:i,focusElementRef:c,clearButton:d,tabIndex:g,label:p,variant:m="standard"}=t,x=Ee(t,uj),[b,C]=h.useState(au(l.value)),v=we(),M=Ot(),j=Ot(),T=v.slotProps?.baseSelect||{},I=T.native??!1,O=v.slotProps?.baseSelectOption||{},D=h.useCallback(B=>{const R=au(B.target.value);C(R),s(w({},l,{value:R}))},[s,l]);h.useEffect(()=>{C(au(l.value))},[l.value]);const P=p??i.current.getLocaleText("filterPanelInputLabel");return r.jsxs(dj,{children:[r.jsxs(v.slots.baseFormControl,{fullWidth:!0,children:[r.jsx(v.slots.baseInputLabel,w({},v.slotProps?.baseInputLabel,{id:M,shrink:!0,variant:m,children:P})),r.jsxs(v.slots.baseSelect,w({labelId:M,id:j,label:P,value:b===void 0?"":String(b),onChange:D,variant:m,notched:m==="outlined"?!0:void 0,native:I,displayEmpty:!0,inputProps:{ref:c,tabIndex:g}},x,T,{children:[r.jsx(v.slots.baseSelectOption,w({},O,{native:I,value:"",children:i.current.getLocaleText("filterValueAny")})),r.jsx(v.slots.baseSelectOption,w({},O,{native:I,value:"true",children:i.current.getLocaleText("filterValueTrue")})),r.jsx(v.slots.baseSelectOption,w({},O,{native:I,value:"false",children:i.current.getLocaleText("filterValueFalse")}))]}))]}),d]})}const hj=()=>[{value:"is",getApplyFilterFn:t=>{const l=au(t.value);return l===void 0?null:s=>!!s===l},InputComponent:fj}],gj=(t,l,s,i)=>t?i.current.getLocaleText("booleanCellTrueLabel"):i.current.getLocaleText("booleanCellFalseLabel"),mj=t=>{switch(t.toLowerCase().trim()){case"true":case"yes":case"1":return!0;case"false":case"no":case"0":case"null":case"undefined":return!1;default:return}},p0=w({},Yl,{type:"boolean",display:"flex",align:"center",headerAlign:"center",renderCell:rj,renderEditCell:cj,sortComparator:ZC,valueFormatter:gj,filterOperators:hj(),getApplyQuickFilterFn:void 0,aggregable:!1,pastedValueParser:t=>mj(t)}),b0=t=>t.sorting,ls=ke(b0,t=>t.sortedRows),Yh=ft(ls,Dl,sn,(t,l,s)=>t.reduce((i,c)=>{const d=l[c];if(d)i.push({id:c,model:d});else{const g=s[c];g&&Ya(g)&&i.push({id:c,model:{[qa]:c}})}return i},[])),Ul=ke(b0,t=>t.sortModel),pj=ft(Ul,t=>t.reduce((s,i,c)=>(s[i.field]={sortDirection:i.sort,sortIndex:t.length>1?c+1:void 0},s),{}));ft(ls,t=>t.reduce((l,s,i)=>(l[s]=i,l),Object.create(null)));const Iu=t=>t.filter,xn=ke(Iu,t=>t.filterModel),x0=ke(xn,t=>t.quickFilterValues),bj=t=>t.visibleRowsLookup,os=ke(Iu,t=>t.filteredRowsLookup);ke(Iu,t=>t.filteredChildrenCountLookup);ke(Iu,t=>t.filteredDescendantCountLookup);const yr=ft(bj,Yh,Qr,xn,x0,(t,l,s,i,c)=>s<2&&!i.items.length&&!c?.length?l:l.filter(d=>t[d.id]!==!1)),Ua=ft(yr,t=>t.map(l=>l.id)),C0=ft(os,Yh,(t,l)=>l.filter(s=>t[s.id]!==!1)),y0=ft(C0,t=>t.map(l=>l.id));ft(Ua,sn,(t,l)=>{const s={};let i=0;return t.reduce((c,d)=>{const g=l[d];return s[g.depth]||(s[g.depth]=0),g.depth>i&&(s[g.depth]=0),i=g.depth,s[g.depth]+=1,c[d]=s[g.depth],c},{})});const v0=ft(yr,sn,Qr,(t,l,s)=>s<2?t:t.filter(i=>l[i.id]?.depth===0)),Kh=ke(yr,t=>t.length),Xh=ke(v0,t=>t.length),xj=ke(C0,t=>t.length);ke(xj,Xh,(t,l)=>t-l);const Qh=ft(xn,fo,(t,l)=>t.items?.filter(s=>{if(!s.field)return!1;const i=l[s.field];if(!i?.filterOperators||i?.filterOperators?.length===0)return!1;const c=i.filterOperators.find(d=>d.value===s.operator);return c?!c.InputComponent||s.value!=null&&s.value?.toString()!=="":!1})),Cj=ft(Qh,t=>t.reduce((s,i)=>(s[i.field]?s[i.field].push(i):s[i.field]=[i],s),{})),ul=t=>t.rowSelection,yj=ke(ul,t=>t.length),vj=ft(ul,Dl,(t,l)=>new Map(t.map(s=>[s,l[s]]))),mr=ft(ul,t=>t.reduce((l,s)=>(l[s]=s,l),{}));function w0(t,l){const s=sn(t),i=ls(t),c=os(t),d=s[l];if(!d||d.type!=="group")return[];const g=[],p=i.findIndex(m=>m===l)+1;for(let m=p;m<i.length&&s[i[m]]?.depth>d.depth;m+=1){const x=i[m];c[x]!==!1&&t.current.isRowSelectable(x)&&g.push(x)}return g}function wj(t,l){return ke(sn,ls,os,mr,(s,i,c,d)=>{const g=s[t];if(!g||g.type!=="group")return{isIndeterminate:!1,isChecked:d[t]===t};if(d[t]===t)return{isIndeterminate:!1,isChecked:!0};let p=0,m=0;const x=i.findIndex(b=>b===t)+1;for(let b=x;b<i.length&&s[i[b]]?.depth>g.depth;b+=1){const C=i[b];c[C]!==!1&&(p+=1,d[C]!==void 0&&(m+=1))}return{isIndeterminate:m>0&&(m<p||d[t]===void 0),isChecked:l?m>0:d[t]===t}})}function Zh(t){return t.signature===Il.DataGrid?t.checkboxSelection&&t.disableMultipleRowSelection!==!0:!t.disableMultipleRowSelection}const Sj=(t,l)=>{const s=[];let i=l;for(;i!=null&&i!==Mn;){const c=t[i];if(!c)return s;s.push(i),i=c.parent}return s},jj=(t,l,s)=>{const i=t[s];if(!i)return[];const c=i.parent;return c==null?[]:t[c].children.filter(g=>g!==s&&l[g]!==!1)},ti=(t,l,s,i,c,d,g=new Set(ul(t.current.state)))=>{const p=os(t),m=new Set([]);if(!(!i&&!c||p[s]===!1)&&(i&&l[s]?.type==="group"&&w0(t,s).forEach(C=>{d(C),m.add(C)}),c)){const x=C=>{if(!g.has(C)&&!m.has(C))return!1;const v=l[C];return v?v.type!=="group"?!0:v.children.every(x):!1},b=C=>{const v=jj(l,p,C);if(v.length===0||v.every(x)){const j=l[C]?.parent;j!=null&&j!==Mn&&t.current.isRowSelectable(j)&&(d(j),m.add(j),b(j))}};b(s)}},Tx=(t,l,s,i,c,d)=>{const g=mr(t);!c&&!i||(c&&Sj(l,s).forEach(m=>{g[m]===m&&d(m)}),i&&l[s]?.type==="group"&&w0(t,s).forEach(x=>{d(x)}))},Mj=["field","id","formattedValue","row","rowNode","colDef","isEditable","cellMode","hasFocus","tabIndex","api"],Ej=t=>{const{classes:l}=t;return Ke({root:["checkboxInput"]},Qe,l)},Dj=Xe(function(l,s){const{field:i,id:c,rowNode:d,hasFocus:g,tabIndex:p}=l,m=Ee(l,Mj),x=Ge(),b=we(),C={classes:b.classes},v=Ej(C),M=h.useRef(null),j=h.useRef(null),T=Po(M,s),I=U=>{const A={value:U.target.checked,id:c};x.current.publishEvent("rowSelectionCheckboxChange",A,U)};h.useLayoutEffect(()=>{if(p===0){const U=x.current.getCellElement(c,i);U&&(U.tabIndex=-1)}},[x,p,c,i]),h.useEffect(()=>{g?M.current?.querySelector("input")?.focus({preventScroll:!0}):j.current&&j.current.stop({})},[g]);const O=h.useCallback(U=>{U.key===" "&&U.stopPropagation()},[]),D=x.current.isRowSelectable(c),P=wj(c,b.rowSelectionPropagation?.parents??!1),{isIndeterminate:B,isChecked:R}=he(x,P,Bh);if(d.type==="footer"||d.type==="pinnedRow")return null;const W=b.indeterminateCheckboxAction==="select"?R&&!B:R,V=x.current.getLocaleText(W?"checkboxSelectionUnselectRow":"checkboxSelectionSelectRow");return r.jsx(b.slots.baseCheckbox,w({tabIndex:p,checked:W,onChange:I,className:v.root,inputProps:{"aria-label":V,name:"select_row"},onKeyDown:O,indeterminate:B,disabled:!D,touchRippleRef:j},b.slotProps?.baseCheckbox,m,{ref:T}))}),Tj=Dj,Fu=t=>t.focus,tl=ke(Fu,t=>t.cell),Ij=ke(Fu,t=>t.columnHeader);ke(Fu,t=>t.columnHeaderFilter);const fu=ke(Fu,t=>t.columnGroupHeader),Au=t=>t.tabIndex,Jh=ke(Au,t=>t.cell),S0=ke(Au,t=>t.columnHeader);ke(Au,t=>t.columnHeaderFilter);const Fj=ke(Au,t=>t.columnGroupHeader);function Ue(t,l,s){const i=h.useRef(!0);On(()=>{i.current=!1,t.current.register(s,l)},[t,s,l]),i.current&&t.current.register(s,l)}function pn(t,l){const s=h.useRef(null);if(s.current)return s.current;const i=t.current.getLogger(l);return s.current=i,i}const j0=(t,l,s,i,c)=>{const d=pn(t,"useNativeEventListener");vt(t,"rootMount",()=>{const g=typeof l=="function"?l():l.current;if(!(!g||!s||!i))return d.debug(`Binding native ${s} event`),g.addEventListener(s,i,c),()=>{d.debug(`Clearing native ${s} event`),g.removeEventListener(s,i,c)}})},Ii=t=>{const l=h.useRef(!0);l.current&&(l.current=!1,t())},Aj=()=>{},zj=(t,l)=>{const s=h.useRef(!1);On(()=>s.current||!t?Aj:(s.current=!0,l()),[s.current||t])},Oj=100,kj=t=>t?0:100,M0=(t,l,s)=>l>0&&t>0?Math.ceil(t/l):t===-1?s+2:0,E0=t=>({page:0,pageSize:t?0:100}),Hj=(t,l=0)=>l===0?t:Math.max(Math.min(t,l-1),0),D0=(t,l)=>{if(l===Il.DataGrid&&t>Oj)throw new Error(["MUI X: `pageSize` cannot exceed 100 in the MIT version of the DataGrid.","You need to upgrade to DataGridPro or DataGridPremium component to unlock this feature."].join(`
`))},Pj=-1,Fi=t=>t.pagination,T0=ke(Fi,t=>t.enabled&&t.paginationMode==="client"),zn=ke(Fi,t=>t.paginationModel),_a=ke(Fi,t=>t.rowCount),fi=ke(Fi,t=>t.meta),Rj=ke(zn,t=>t.page),I0=ke(zn,t=>t.pageSize),F0=ke(zn,_a,(t,l)=>M0(l,t.pageSize,t.page)),eg=ft(T0,zn,sn,Qr,yr,v0,(t,l,s,i,c,d)=>{if(!t)return null;const g=d.length,p=Math.min(l.pageSize*l.page,g-1),m=l.pageSize===Pj?g-1:Math.min(p+l.pageSize-1,g-1);if(p===-1||m===-1)return null;if(i<2)return{firstRowIndex:p,lastRowIndex:m};const x=d[p],b=m-p+1,C=c.findIndex(j=>j.id===x.id);let v=C,M=0;for(;v<c.length&&M<=b;){const j=c[v],T=s[j.id]?.depth;T===void 0?v+=1:((M<b||T>0)&&(v+=1),T===0&&(M+=1))}return{firstRowIndex:C,lastRowIndex:v-1}}),Nj=ft(yr,eg,(t,l)=>l?t.slice(l.firstRowIndex,l.lastRowIndex+1):[]),A0=ft(Ua,eg,(t,l)=>l?t.slice(l.firstRowIndex,l.lastRowIndex+1):[]),Ai=ft(T0,eg,Nj,yr,(t,l,s,i)=>t?{rows:s,range:l,rowToIndexMap:s.reduce((c,d,g)=>(c.set(d.model,g),c),new Map)}:{rows:i,range:i.length===0?null:{firstRowIndex:0,lastRowIndex:i.length-1},rowToIndexMap:i.reduce((c,d,g)=>(c.set(d.model,g),c),new Map)}),Gj=["field","colDef"],Lj=t=>{const{classes:l}=t;return Ke({root:["checkboxInput"]},Qe,l)},_j=Xe(function(l,s){const i=Ee(l,Gj),[,c]=h.useState(!1),d=Ge(),g=we(),p={classes:g.classes},m=Lj(p),x=he(d,S0),b=he(d,ul),C=he(d,Ua),v=he(d,A0),M=h.useMemo(()=>typeof g.isRowSelectable!="function"?b:b.filter(U=>g.keepNonExistentRowsSelected?!0:d.current.getRow(U)?g.isRowSelectable(d.current.getRowParams(U)):!1),[d,g.isRowSelectable,b,g.keepNonExistentRowsSelected]),j=h.useMemo(()=>(!g.pagination||!g.checkboxSelectionVisibleOnly||g.paginationMode==="server"?C:v).reduce((A,E)=>(A[E]=!0,A),{}),[g.pagination,g.paginationMode,g.checkboxSelectionVisibleOnly,v,C]),T=h.useMemo(()=>M.filter(U=>j[U]).length,[M,j]),I=T>0&&T<Object.keys(j).length,O=T>0,D=U=>{const A={value:U.target.checked};d.current.publishEvent("headerSelectionCheckboxChange",A)},P=x!==null&&x.field===l.field?0:-1;h.useLayoutEffect(()=>{const U=d.current.getColumnHeaderElement(l.field);P===0&&U&&(U.tabIndex=-1)},[P,d,l.field]);const B=h.useCallback(U=>{U.key===" "&&d.current.publishEvent("headerSelectionCheckboxChange",{value:!O})},[d,O]),R=h.useCallback(()=>{c(U=>!U)},[]);h.useEffect(()=>d.current.subscribeEvent("rowSelectionChange",R),[d,R]);const W=g.indeterminateCheckboxAction==="select"?O&&!I:O,V=d.current.getLocaleText(W?"checkboxSelectionUnselectAllRows":"checkboxSelectionSelectAllRows");return r.jsx(g.slots.baseCheckbox,w({indeterminate:I,checked:W,onChange:D,className:m.root,inputProps:{"aria-label":V,name:"select_all_rows"},tabIndex:P,onKeyDown:B,disabled:!Zh(g)},g.slotProps?.baseCheckbox,i,{ref:s}))}),zi=(t,l)=>qa in l?l[qa]:t.props.getRowId?t.props.getRowId(l):l.id,jl="__check__",rs=w({},p0,{type:"custom",field:jl,width:50,resizable:!1,sortable:!1,filterable:!1,aggregable:!1,disableColumnMenu:!0,disableReorder:!0,disableExport:!0,getApplyQuickFilterFn:void 0,display:"flex",valueGetter:(t,l,s,i)=>{const c=mr(i),d=zi(i.current.state,l);return c[d]!==void 0},renderHeader:t=>r.jsx(_j,w({},t)),renderCell:t=>r.jsx(Tj,w({},t))}),Bj=["item","applyValue","type","apiRef","focusElementRef","InputProps","isFilterActive","clearButton","tabIndex","disabled"];function Ix(t,l){if(t==null)return"";const s=new Date(t);return Number.isNaN(s.getTime())?"":l==="date"?s.toISOString().substring(0,10):l==="datetime-local"?(s.setMinutes(s.getMinutes()-s.getTimezoneOffset()),s.toISOString().substring(0,19)):s.toISOString().substring(0,10)}function ka(t){const{item:l,applyValue:s,type:i,apiRef:c,focusElementRef:d,InputProps:g,clearButton:p,tabIndex:m,disabled:x}=t,b=Ee(t,Bj),C=Xr(),[v,M]=h.useState(()=>Ix(l.value,i)),[j,T]=h.useState(!1),I=Ot(),O=we(),D=h.useCallback(P=>{C.clear();const B=P.target.value;M(B),T(!0),C.start(O.filterDebounceMs,()=>{const R=new Date(B);s(w({},l,{value:Number.isNaN(R.getTime())?void 0:R})),T(!1)})},[s,l,O.filterDebounceMs,C]);return h.useEffect(()=>{const P=Ix(l.value,i);M(P)},[l.value,i]),r.jsx(O.slots.baseTextField,w({fullWidth:!0,id:I,label:c.current.getLocaleText("filterPanelInputLabel"),placeholder:c.current.getLocaleText("filterPanelInputPlaceholder"),value:v,onChange:D,variant:"standard",type:i||"text",InputLabelProps:{shrink:!0},inputRef:d,InputProps:w({},j||p?{endAdornment:j?r.jsx(O.slots.loadIcon,{fontSize:"small",color:"action"}):p}:{},{disabled:x},g,{inputProps:w({max:i==="datetime-local"?"9999-12-31T23:59":"9999-12-31",tabIndex:m},g?.inputProps)})},b,O.slotProps?.baseTextField))}function Ha(t,l,s,i){if(!t.value)return null;const c=new Date(t.value);s?c.setSeconds(0,0):(c.setMinutes(c.getMinutes()+c.getTimezoneOffset()),c.setHours(0,0,0,0));const d=c.getTime();return g=>{if(!g)return!1;if(i)return l(g.getTime(),d);const p=new Date(g);return s?p.setSeconds(0,0):p.setHours(0,0,0,0),l(p.getTime(),d)}}const z0=t=>[{value:"is",getApplyFilterFn:l=>Ha(l,(s,i)=>s===i,t),InputComponent:ka,InputComponentProps:{type:t?"datetime-local":"date"}},{value:"not",getApplyFilterFn:l=>Ha(l,(s,i)=>s!==i,t),InputComponent:ka,InputComponentProps:{type:t?"datetime-local":"date"}},{value:"after",getApplyFilterFn:l=>Ha(l,(s,i)=>s>i,t),InputComponent:ka,InputComponentProps:{type:t?"datetime-local":"date"}},{value:"onOrAfter",getApplyFilterFn:l=>Ha(l,(s,i)=>s>=i,t),InputComponent:ka,InputComponentProps:{type:t?"datetime-local":"date"}},{value:"before",getApplyFilterFn:l=>Ha(l,(s,i)=>s<i,t,!t),InputComponent:ka,InputComponentProps:{type:t?"datetime-local":"date"}},{value:"onOrBefore",getApplyFilterFn:l=>Ha(l,(s,i)=>s<=i,t),InputComponent:ka,InputComponentProps:{type:t?"datetime-local":"date"}},{value:"isEmpty",getApplyFilterFn:()=>l=>l==null,requiresFilterValue:!1},{value:"isNotEmpty",getApplyFilterFn:()=>l=>l!=null,requiresFilterValue:!1}],Vj=["id","value","formattedValue","api","field","row","rowNode","colDef","cellMode","isEditable","tabIndex","hasFocus","inputProps","isValidating","isProcessingProps","onValueChange"],Uj=Ut(DC)({fontSize:"inherit"}),$j=t=>{const{classes:l}=t;return Ke({root:["editInputCell"]},Qe,l)};function Wj(t){const{id:l,value:s,field:i,colDef:c,hasFocus:d,inputProps:g,onValueChange:p}=t,m=Ee(t,Vj),x=c.type==="dateTime",b=Ge(),C=h.useRef(null),v=h.useMemo(()=>{let B;s==null?B=null:s instanceof Date?B=s:B=new Date((s??"").toString());let R;return B==null||Number.isNaN(B.getTime())?R="":R=new Date(B.getTime()-B.getTimezoneOffset()*60*1e3).toISOString().substr(0,x?16:10),{parsed:B,formatted:R}},[s,x]),[M,j]=h.useState(v),I={classes:we().classes},O=$j(I),D=h.useCallback(B=>{if(B==="")return null;const[R,W]=B.split("T"),[V,U,A]=R.split("-"),E=new Date;if(E.setFullYear(Number(V),Number(U)-1,Number(A)),E.setHours(0,0,0,0),W){const[_,G]=W.split(":");E.setHours(Number(_),Number(G),0,0)}return E},[]),P=h.useCallback(async B=>{const R=B.target.value,W=D(R);p&&await p(B,W),j({parsed:W,formatted:R}),b.current.setEditCellValue({id:l,field:i,value:W},B)},[b,i,l,p,D]);return h.useEffect(()=>{j(B=>v.parsed!==B.parsed&&v.parsed?.getTime()!==B.parsed?.getTime()?v:B)},[v]),On(()=>{d&&C.current.focus()},[d]),r.jsx(Uj,w({inputRef:C,fullWidth:!0,className:O.root,type:x?"datetime-local":"date",inputProps:w({max:x?"9999-12-31T23:59":"9999-12-31"},g),value:M.formatted,onChange:P},m))}const O0=t=>r.jsx(Wj,w({},t));function k0({value:t,columnType:l,rowId:s,field:i}){if(!(t instanceof Date))throw new Error([`MUI X: \`${l}\` column type only accepts \`Date\` objects as values.`,"Use `valueGetter` to transform the value into a `Date` object.",`Row ID: ${s}, field: "${i}".`].join(`
`))}const qj=(t,l,s,i)=>{if(!t)return"";const c=zi(i.current.state,l);return k0({value:t,columnType:"date",rowId:c,field:s.field}),t.toLocaleDateString()},Yj=(t,l,s,i)=>{if(!t)return"";const c=zi(i.current.state,l);return k0({value:t,columnType:"dateTime",rowId:c,field:s.field}),t.toLocaleString()},Kj=w({},Yl,{type:"date",sortComparator:JC,valueFormatter:qj,filterOperators:z0(),renderEditCell:O0,pastedValueParser:t=>new Date(t)}),Xj=w({},Yl,{type:"dateTime",sortComparator:JC,valueFormatter:Yj,filterOperators:z0(!0),renderEditCell:O0,pastedValueParser:t=>new Date(t)}),dr=t=>t==null?null:Number(t),Qj=t=>t==null||Number.isNaN(t)||t===""?null:l=>dr(l)===dr(t),Zj=()=>[{value:"=",getApplyFilterFn:t=>t.value==null||Number.isNaN(t.value)?null:l=>dr(l)===t.value,InputComponent:El,InputComponentProps:{type:"number"}},{value:"!=",getApplyFilterFn:t=>t.value==null||Number.isNaN(t.value)?null:l=>dr(l)!==t.value,InputComponent:El,InputComponentProps:{type:"number"}},{value:">",getApplyFilterFn:t=>t.value==null||Number.isNaN(t.value)?null:l=>l==null?!1:dr(l)>t.value,InputComponent:El,InputComponentProps:{type:"number"}},{value:">=",getApplyFilterFn:t=>t.value==null||Number.isNaN(t.value)?null:l=>l==null?!1:dr(l)>=t.value,InputComponent:El,InputComponentProps:{type:"number"}},{value:"<",getApplyFilterFn:t=>t.value==null||Number.isNaN(t.value)?null:l=>l==null?!1:dr(l)<t.value,InputComponent:El,InputComponentProps:{type:"number"}},{value:"<=",getApplyFilterFn:t=>t.value==null||Number.isNaN(t.value)?null:l=>l==null?!1:dr(l)<=t.value,InputComponent:El,InputComponentProps:{type:"number"}},{value:"isEmpty",getApplyFilterFn:()=>t=>t==null,requiresFilterValue:!1},{value:"isNotEmpty",getApplyFilterFn:()=>t=>t!=null,requiresFilterValue:!1},{value:"isAnyOf",getApplyFilterFn:t=>!Array.isArray(t.value)||t.value.length===0?null:l=>l!=null&&t.value.includes(Number(l)),InputComponent:t0,InputComponentProps:{type:"number"}}],Jj=w({},Yl,{type:"number",align:"right",headerAlign:"right",sortComparator:ZC,valueParser:t=>t===""?null:Number(t),valueFormatter:t=>E1(t)?t.toLocaleString():t||"",filterOperators:Zj(),getApplyQuickFilterFn:Qj});function Ka(t){return t?.type==="singleSelect"}function qr(t,l){if(t)return typeof t.valueOptions=="function"?t.valueOptions(w({field:t.field},l)):t.valueOptions}function hu(t,l,s){if(l===void 0)return;const i=l.find(c=>{const d=s(c);return String(d)===String(t)});return s(i)}const eM=["id","value","formattedValue","api","field","row","rowNode","colDef","cellMode","isEditable","tabIndex","className","hasFocus","isValidating","isProcessingProps","error","onValueChange","initialOpen"],tM=["MenuProps"];function nM(t){return!!t.key}function lM(t){const l=we(),{id:s,value:i,field:c,row:d,colDef:g,hasFocus:p,error:m,onValueChange:x,initialOpen:b=l.editMode===so.Cell}=t,C=Ee(t,eM),v=Ge(),M=h.useRef(null),j=h.useRef(null),[T,I]=h.useState(b),D=(l.slotProps?.baseSelect||{}).native??!1,P=l.slotProps?.baseSelect||{},{MenuProps:B}=P,R=Ee(P,tM);if(On(()=>{p&&j.current?.focus()},[p]),!Ka(g))return null;const W=qr(g,{id:s,row:d});if(!W)return null;const V=g.getOptionValue,U=g.getOptionLabel,A=async G=>{if(!Ka(g)||!W)return;I(!1);const k=G.target,K=hu(k.value,W,V);x&&await x(G,K),await v.current.setEditCellValue({id:s,field:c,value:K},G)},E=(G,k)=>{if(l.editMode===so.Row){I(!1);return}if(k==="backdropClick"||G.key==="Escape"){const K=v.current.getCellParams(s,c);v.current.publishEvent("cellEditStop",w({},K,{reason:G.key==="Escape"?Vl.escapeKeyDown:Vl.cellFocusOut}))}},_=G=>{nM(G)&&G.key==="Enter"||I(!0)};return!W||!g?null:r.jsx(l.slots.baseSelect,w({ref:M,inputRef:j,value:i,onChange:A,open:T,onOpen:_,MenuProps:w({onClose:E},B),error:m,native:D,fullWidth:!0},C,R,{children:W.map(G=>{const k=V(G);return h.createElement(l.slots.baseSelectOption,w({},l.slotProps?.baseSelectOption||{},{native:D,key:k,value:k}),U(G))})}))}const oM=t=>r.jsx(lM,w({},t)),rM=["item","applyValue","type","apiRef","focusElementRef","placeholder","tabIndex","label","variant","isFilterActive","clearButton","InputLabelProps"],aM=({column:t,OptionComponent:l,getOptionLabel:s,getOptionValue:i,isSelectNative:c,baseSelectOptionProps:d})=>["",...qr(t)||[]].map(p=>{const m=i(p);let x=s(p);return x===""&&(x=""),h.createElement(l,w({},d,{native:c,key:m,value:m}),x)}),sM=Ut("div")({display:"flex",alignItems:"flex-end",width:"100%","& button":{margin:"auto 0px 5px 5px"}});function Fx(t){const{item:l,applyValue:s,type:i,apiRef:c,focusElementRef:d,placeholder:g,tabIndex:p,label:m,variant:x="standard",clearButton:b}=t,C=Ee(t,rM),v=l.value??"",M=Ot(),j=Ot(),T=we(),I=T.slotProps?.baseSelect?.native??!1;let O=null;if(l.field){const V=c.current.getColumn(l.field);Ka(V)&&(O=V)}const D=O?.getOptionValue,P=O?.getOptionLabel,B=h.useMemo(()=>qr(O),[O]),R=h.useCallback(V=>{let U=V.target.value;U=hu(U,B,D),s(w({},l,{value:U}))},[B,D,s,l]);if(!Ka(O))return null;const W=m??c.current.getLocaleText("filterPanelInputLabel");return r.jsxs(sM,{children:[r.jsxs(T.slots.baseFormControl,{fullWidth:!0,children:[r.jsx(T.slots.baseInputLabel,w({},T.slotProps?.baseInputLabel,{id:j,htmlFor:M,shrink:!0,variant:x,children:W})),r.jsx(T.slots.baseSelect,w({id:M,label:W,labelId:j,value:v,onChange:R,variant:x,type:i||"text",inputProps:{tabIndex:p,ref:d,placeholder:g??c.current.getLocaleText("filterPanelInputPlaceholder")},native:I,notched:x==="outlined"?!0:void 0},C,T.slotProps?.baseSelect,{children:aM({column:O,OptionComponent:T.slots.baseSelectOption,getOptionLabel:P,getOptionValue:D,isSelectNative:I,baseSelectOptionProps:T.slotProps?.baseSelectOption})}))]}),b]})}const iM=["item","applyValue","type","apiRef","focusElementRef","color","error","helperText","size","variant"],cM=["key"],uM=Bw();function dM(t){const{item:l,applyValue:s,apiRef:i,focusElementRef:c,color:d,error:g,helperText:p,size:m,variant:x="standard"}=t,b=Ee(t,iM),C={color:d,error:g,helperText:p,size:m,variant:x},v=Ot(),M=we();let j=null;if(l.field){const R=i.current.getColumn(l.field);Ka(R)&&(j=R)}const T=j?.getOptionValue,I=j?.getOptionLabel,O=h.useCallback((R,W)=>T(R)===T(W),[T]),D=h.useMemo(()=>qr(j)||[],[j]),P=h.useMemo(()=>Array.isArray(l.value)?l.value.reduce((R,W)=>{const V=D.find(U=>T(U)===W);return V!=null&&R.push(V),R},[]):[],[T,l.value,D]),B=h.useCallback((R,W)=>{s(w({},l,{value:W.map(T)}))},[s,l,T]);return r.jsx(kh,w({multiple:!0,options:D,isOptionEqualToValue:O,filterOptions:uM,id:v,value:P,onChange:B,getOptionLabel:I,renderTags:(R,W)=>R.map((V,U)=>{const A=W({index:U}),{key:E}=A,_=Ee(A,cM);return r.jsx(M.slots.baseChip,w({variant:"outlined",size:"small",label:I(V)},_),E)}),renderInput:R=>r.jsx(M.slots.baseTextField,w({},R,{label:i.current.getLocaleText("filterPanelInputLabel"),placeholder:i.current.getLocaleText("filterPanelInputPlaceholder"),InputLabelProps:w({},R.InputLabelProps,{shrink:!0}),inputRef:c,type:"singleSelect"},C,M.slotProps?.baseTextField))},b))}const Pa=t=>t==null||!$h(t)?t:t.value,fM=()=>[{value:"is",getApplyFilterFn:t=>t.value==null||t.value===""?null:l=>Pa(l)===Pa(t.value),InputComponent:Fx},{value:"not",getApplyFilterFn:t=>t.value==null||t.value===""?null:l=>Pa(l)!==Pa(t.value),InputComponent:Fx},{value:"isAnyOf",getApplyFilterFn:t=>{if(!Array.isArray(t.value)||t.value.length===0)return null;const l=t.value.map(Pa);return s=>l.includes(Pa(s))},InputComponent:dM}],hM=t=>typeof t[0]=="object",gM=t=>$h(t)?t.value:t,mM=t=>$h(t)?t.label:String(t),pM=w({},Yl,{type:"singleSelect",getOptionLabel:mM,getOptionValue:gM,valueFormatter(t,l,s,i){const c=zi(i.current.state,l);if(!Ka(s))return"";const d=qr(s,{id:c,row:l});if(t==null)return"";if(!d)return t;if(!hM(d))return s.getOptionLabel(t);const g=d.find(p=>s.getOptionValue(p)===t);return g?s.getOptionLabel(g):""},renderEditCell:oM,filterOperators:fM(),pastedValueParser:(t,l,s)=>{const i=s,c=qr(i)||[],d=i.getOptionValue;if(c.find(p=>d(p)===t))return t}}),bM="string",xM=()=>({string:Yl,number:Jj,date:Kj,dateTime:Xj,boolean:p0,singleSelect:pM,[Eu]:Q1,custom:Yl}),tg=t=>t.headerFiltering,CM=ke(tg,t=>t?.enabled??!1),yM=ke(tg,t=>t.editing),vM=ke(tg,t=>t.menuOpen),zu=t=>t.columnGrouping,H0=ft(zu,t=>t?.unwrappedGroupingModel??{}),P0=ft(zu,t=>t?.lookup??{}),wM=ft(zu,t=>t?.headerStructure??[]),Oi=ke(zu,t=>t?.maxDepth??0),R0=["maxWidth","minWidth","width","flex"],th=xM();function SM({initialFreeSpace:t,totalFlexUnits:l,flexColumns:s}){const i=new Set(s.map(g=>g.field)),c={all:{},frozenFields:[],freeze:g=>{const p=c.all[g];p&&p.frozen!==!0&&(c.all[g].frozen=!0,c.frozenFields.push(g))}};function d(){if(c.frozenFields.length===i.size)return;const g={min:{},max:{}};let p=t,m=l,x=0;c.frozenFields.forEach(b=>{p-=c.all[b].computedWidth,m-=c.all[b].flex});for(let b=0;b<s.length;b+=1){const C=s[b];if(c.all[C.field]&&c.all[C.field].frozen===!0)continue;let M=p/m*C.flex;M<C.minWidth?(x+=C.minWidth-M,M=C.minWidth,g.min[C.field]=!0):M>C.maxWidth&&(x+=C.maxWidth-M,M=C.maxWidth,g.max[C.field]=!0),c.all[C.field]={frozen:!1,computedWidth:M,flex:C.flex}}x<0?Object.keys(g.max).forEach(b=>{c.freeze(b)}):x>0?Object.keys(g.min).forEach(b=>{c.freeze(b)}):s.forEach(({field:b})=>{c.freeze(b)}),d()}return d(),c.all}const wh=(t,l)=>{const s={};let i=0,c=0;const d=[];t.orderedFields.forEach(m=>{let x=t.lookup[m],b=0,C=!1;t.columnVisibilityModel[m]!==!1&&(x.flex&&x.flex>0?(i+=x.flex,C=!0):b=dl(x.width||Yl.width,x.minWidth||Yl.minWidth,x.maxWidth||Yl.maxWidth),c+=b),x.computedWidth!==b&&(x=w({},x,{computedWidth:b})),C&&d.push(x),s[m]=x});const g=l===void 0?0:l.viewportOuterSize.width-(l.hasScrollY?l.scrollbarSize:0),p=Math.max(g-c,0);if(i>0&&g>0){const m=SM({initialFreeSpace:p,totalFlexUnits:i,flexColumns:d});Object.keys(m).forEach(x=>{s[x].computedWidth=m[x].computedWidth})}return w({},t,{lookup:s})},jM=(t,l)=>{if(!l)return t;const{orderedFields:s=[],dimensions:i={}}=l,c=Object.keys(i);if(c.length===0&&s.length===0)return t;const d={},g=[];for(let b=0;b<s.length;b+=1){const C=s[b];t.lookup[C]&&(d[C]=!0,g.push(C))}const p=g.length===0?t.orderedFields:[...g,...t.orderedFields.filter(b=>!d[b])],m=w({},t.lookup);for(let b=0;b<c.length;b+=1){const C=c[b],v=w({},m[C],{hasBeenResized:!0});Object.entries(i[C]).forEach(([M,j])=>{v[M]=j===-1?1/0:j}),m[C]=v}return w({},t,{orderedFields:p,lookup:m})};function Ax(t){let l=th[bM];return t&&th[t]&&(l=th[t]),l}const Ga=({apiRef:t,columnsToUpsert:l,initialState:s,columnVisibilityModel:i=Tl(t),keepOnlyColumnsToUpsert:c=!1})=>{const d=!t.current.state.columns;let g;if(d)g={orderedFields:[],lookup:{},columnVisibilityModel:i};else{const b=ao(t.current.state);g={orderedFields:c?[]:[...b.orderedFields],lookup:w({},b.lookup),columnVisibilityModel:i}}let p={};c&&!d&&(p=Object.keys(g.lookup).reduce((b,C)=>w({},b,{[C]:!1}),{})),l.forEach(b=>{const{field:C}=b;p[C]=!0;let v=g.lookup[C];v==null?(v=w({},Ax(b.type),{field:C,hasBeenResized:!1}),g.orderedFields.push(C)):c&&g.orderedFields.push(C),v&&v.type!==b.type&&(v=w({},Ax(b.type),{field:C}));let M=v.hasBeenResized;R0.forEach(j=>{b[j]!==void 0&&(M=!0,b[j]===-1&&(b[j]=1/0))}),g.lookup[C]=Vw(v,w({},b,{hasBeenResized:M}))}),c&&!d&&Object.keys(g.lookup).forEach(b=>{p[b]||delete g.lookup[b]});const m=t.current.unstable_applyPipeProcessors("hydrateColumns",g),x=jM(m,s);return wh(x,t.current.getRootDimensions?.()??void 0)};function MM({firstColumnToRender:t,apiRef:l,firstRowToRender:s,lastRowToRender:i,visibleRows:c}){let d=t,g=!1;for(;!g;){g=!0;for(let p=s;p<i;p+=1)if(c[p]){const x=c[p].id,b=l.current.unstable_getCellColSpanInfo(x,d);if(b&&b.spannedByColSpan&&b.leftVisibleCellIndex<d){d=b.leftVisibleCellIndex,g=!1;break}}}return d}function Ou(t,l){if(l.unstable_listView)return 0;const s=Ja(t),i=Oi(t),c=CM(t),d=Math.floor(l.columnHeaderHeight*s),g=Math.floor((l.columnGroupHeaderHeight??l.columnHeaderHeight)*s),p=c?Math.floor((l.headerFilterHeight??l.columnHeaderHeight)*s):0;return d+g*i+p}const as=t=>t.rowsMeta,gu=1,N0=1.5,EM=t=>{const{scrollDirection:l,classes:s}=t,i={root:["scrollArea",`scrollArea--${l}`]};return Ke(i,Qe,s)},DM=Tt("div",{name:"MuiDataGrid",slot:"ScrollArea",overridesResolver:(t,l)=>[{[`&.${N["scrollArea--left"]}`]:l["scrollArea--left"]},{[`&.${N["scrollArea--right"]}`]:l["scrollArea--right"]},{[`&.${N["scrollArea--up"]}`]:l["scrollArea--up"]},{[`&.${N["scrollArea--down"]}`]:l["scrollArea--down"]},l.scrollArea]})(()=>({position:"absolute",zIndex:101,[`&.${N["scrollArea--left"]}`]:{top:0,left:0,width:20,bottom:0},[`&.${N["scrollArea--right"]}`]:{top:0,right:0,width:20,bottom:0},[`&.${N["scrollArea--up"]}`]:{top:0,left:0,right:0,height:20},[`&.${N["scrollArea--down"]}`]:{bottom:0,left:0,right:0,height:20}})),TM=Di(mn,(t,l)=>l==="left"?t.leftPinnedWidth:l==="right"?t.rightPinnedWidth+(t.hasScrollX?t.scrollbarSize:0):0);function IM(t){const l=Ge(),[s,i]=h.useState("none");return ye(l,"columnHeaderDragStart",()=>i("horizontal")),ye(l,"columnHeaderDragEnd",()=>i("none")),ye(l,"rowDragStart",()=>i("vertical")),ye(l,"rowDragEnd",()=>i("none")),s==="none"?null:s==="horizontal"?r.jsx(FM,w({},t)):r.jsx(AM,w({},t))}function FM(t){const{scrollDirection:l,scrollPosition:s}=t,i=h.useRef(null),c=Ge(),d=Xr(),g=he(c,Ja),p=he(c,ju),m=Ci(c,TM,l),x=()=>{const T=mn(c.current.state);if(l==="left")return s.current.left>0;if(l==="right"){const I=p-T.viewportInnerSize.width;return s.current.left<I}return!1},b=we(),C=Ou(c,b),v=Math.floor(b.columnHeaderHeight*g),M=w({height:v,top:C-v},l==="left"?{left:m}:{},l==="right"?{right:m}:{}),j=Nt(T=>{let I;if(T.preventDefault(),l==="left")I=T.clientX-i.current.getBoundingClientRect().right;else if(l==="right")I=Math.max(1,T.clientX-i.current.getBoundingClientRect().left);else throw new Error("MUI X: Wrong drag direction");I=(I-gu)*N0+gu,d.start(0,()=>{c.current.scroll({left:s.current.left+I,top:s.current.top})})});return r.jsx(G0,w({},t,{ref:i,getCanScrollMore:x,style:M,handleDragOver:j}))}function AM(t){const{scrollDirection:l,scrollPosition:s}=t,i=h.useRef(null),c=Ge(),d=Xr(),g=he(c,as),p=()=>{const v=mn(c.current.state);if(l==="up")return s.current.top>0;if(l==="down"){const j=(g.currentPageTotalHeight||0)-v.viewportInnerSize.height-v.scrollbarSize;return s.current.top<j}return!1},m=we(),x=Ou(c,m),b={top:l==="up"?x:void 0,bottom:l==="down"?0:void 0},C=Nt(v=>{let M;if(v.preventDefault(),l==="up")M=v.clientY-i.current.getBoundingClientRect().bottom;else if(l==="down")M=Math.max(1,v.clientY-i.current.getBoundingClientRect().top);else throw new Error("MUI X: Wrong drag direction");M=(M-gu)*N0+gu,d.start(0,()=>{c.current.scroll({left:s.current.left,top:s.current.top+M})})});return r.jsx(G0,w({},t,{ref:i,getCanScrollMore:p,style:b,handleDragOver:C}))}const G0=Xe(function(l,s){const{scrollDirection:i,getCanScrollMore:c,style:d,handleDragOver:g}=l,p=Ge(),[m,x]=h.useState(c),b=we(),C=w({},b,{scrollDirection:i}),v=EM(C);return ye(p,"scrollPositionChange",()=>{x(c)}),m?r.jsx(DM,{ref:s,className:v.root,ownerState:C,onDragOver:g,style:d}):null}),Jc=Ro(IM);var ni={},nh={exports:{}},lh={exports:{}},zx;function zM(){return zx||(zx=1,(function(t){function l(s){"@babel/helpers - typeof";return t.exports=l=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(i){return typeof i}:function(i){return i&&typeof Symbol=="function"&&i.constructor===Symbol&&i!==Symbol.prototype?"symbol":typeof i},t.exports.__esModule=!0,t.exports.default=t.exports,l(s)}t.exports=l,t.exports.__esModule=!0,t.exports.default=t.exports})(lh)),lh.exports}var Ox;function OM(){return Ox||(Ox=1,(function(t){var l=zM().default;function s(i,c){if(typeof WeakMap=="function")var d=new WeakMap,g=new WeakMap;return(t.exports=s=function(m,x){if(!x&&m&&m.__esModule)return m;var b,C,v={__proto__:null,default:m};if(m===null||l(m)!="object"&&typeof m!="function")return v;if(b=x?g:d){if(b.has(m))return b.get(m);b.set(m,v)}for(var M in m)M!=="default"&&{}.hasOwnProperty.call(m,M)&&((C=(b=Object.defineProperty)&&Object.getOwnPropertyDescriptor(m,M))&&(C.get||C.set)?b(v,M,C):v[M]=m[M]);return v},t.exports.__esModule=!0,t.exports.default=t.exports)(i,c)}t.exports=s,t.exports.__esModule=!0,t.exports.default=t.exports})(nh)),nh.exports}var kx;function kM(){if(kx)return ni;kx=1;var t=OM().default;Object.defineProperty(ni,"__esModule",{value:!0}),ni.default=void 0;var l=t(PC());return ni.default=parseInt(l.version,10),ni}var HM=kM();const PM=RC(HM),L0=h.createContext(void 0);function kl(){const t=h.useContext(L0);if(t===void 0)throw new Error(["MUI X: Could not find the Data Grid private context.","It looks like you rendered your component outside of a DataGrid, DataGridPro or DataGridPremium parent component.","This can also happen if you are bundling multiple versions of the Data Grid."].join(`
`));return t}const pr=(t,l)=>Ai(t),ng=(t,l)=>he(t,Ai),RM=typeof navigator<"u"?navigator.userAgent.toLowerCase():"empty",NM=RM.includes("firefox"),ku=t=>t.virtualization;ke(ku,t=>t.enabled);const _0=ke(ku,t=>t.enabledForColumns),GM=ke(ku,t=>t.enabledForRows),ki=ke(ku,t=>t.renderContext),LM=ft(t=>t.virtualization.renderContext.firstColumnIndex,t=>t.virtualization.renderContext.lastColumnIndex,(t,l)=>({firstColumnIndex:t,lastColumnIndex:l})),Sh={firstRowIndex:0,lastRowIndex:0,firstColumnIndex:0,lastColumnIndex:0},_M=(t,l)=>{const{disableVirtualization:s,autoHeight:i}=l;return w({},t,{virtualization:{enabled:!s,enabledForColumns:!s,enabledForRows:!s&&!i,renderContext:Sh}})};function BM(t,l){const s=d=>{t.current.setState(g=>w({},g,{virtualization:w({},g.virtualization,{enabled:d,enabledForColumns:d,enabledForRows:d&&!l.autoHeight})}))};Ue(t,{unstable_setVirtualization:s,unstable_setColumnVirtualization:d=>{t.current.setState(g=>w({},g,{virtualization:w({},g.virtualization,{enabledForColumns:d})}))}},"public"),h.useEffect(()=>{s(!l.disableVirtualization)},[l.disableVirtualization,l.autoHeight])}const lg=t=>t.rowSpanning,B0=ke(lg,t=>t.hiddenCells),VM=ke(lg,t=>t.spannedCells),UM=ke(lg,t=>t.hiddenCellOriginMap),Xa=t=>t.listViewColumn,$M=SS(tl,ki,Ai,qt,Dl,(t,l,s,i,c)=>{if(!t)return!1;const d=c[t.id];if(!d)return!1;const g=s.rowToIndexMap.get(d),p=i.slice(l.firstColumnIndex,l.lastColumnIndex).findIndex(x=>x.field===t.field);return!(g!==void 0&&p!==-1&&g>=l.firstRowIndex&&g<=l.lastRowIndex)}),V0=ft($M,qt,Ai,Dl,tl,(t,l,s,i,c)=>{if(!t)return null;const d=i[c.id];if(!d)return null;const g=s.rowToIndexMap.get(d);if(g===void 0)return null;const p=l.findIndex(m=>m.field===c.field);return p===-1?null:w({},c,{rowIndex:g,columnIndex:p})});function Ba(t,l){return Math.round(t*10**l)/10**l}const mu=typeof window<"u"&&/jsdom|HappyDOM/.test(window.navigator.userAgent),oh=50;var tn=(function(t){return t[t.NONE=0]="NONE",t[t.UP=1]="UP",t[t.DOWN=2]="DOWN",t[t.LEFT=3]="LEFT",t[t.RIGHT=4]="RIGHT",t})(tn||{});const Hx={top:0,left:0},WM=Object.freeze(new Map),qM=(t,l,s,i,c)=>({direction:tn.NONE,buffer:$0(t,tn.NONE,l,s,i,c)}),YM=()=>{const t=kl(),l=we(),{unstable_listView:s}=l,i=he(t,()=>s?[Xa(t.current.state)]:qt(t)),c=he(t,GM)&&!mu,d=he(t,_0)&&!mu,g=he(t,es),p=ns(t),m=s?du:p,x=g.bottom.length>0,[b,C]=h.useState(WM),v=co(),M=he(t,mr),j=ng(t),T=t.current.mainElementRef,I=t.current.virtualScrollerRef,O=t.current.virtualScrollbarVerticalRef,D=t.current.virtualScrollbarHorizontalRef,P=he(t,k1),B=h.useRef(!1),R=he(t,Vh),W=he(t,qS),V=he(t,ju),U=he(t,KM),A=he(t,KC),E=he(t,YC),_=h.useRef(null),G=h.useCallback(be=>{if(T.current=be,!be)return;const Me=be.getBoundingClientRect();let ze={width:Ba(Me.width,1),height:Ba(Me.height,1)};if((!_.current||ze.width!==_.current.width&&ze.height!==_.current.height)&&(_.current=ze,t.current.publishEvent("resize",ze)),typeof ResizeObserver>"u")return;const Ce=new ResizeObserver($e=>{const Ve=$e[0];if(!Ve)return;const _e={width:Ba(Ve.contentRect.width,1),height:Ba(Ve.contentRect.height,1)};_e.width===ze.width&&_e.height===ze.height||(t.current.publishEvent("resize",_e),ze=_e)});if(Ce.observe(be),PM>=19)return()=>{T.current=null,Ce.disconnect()}},[t,T]),k=h.useRef(l.initialState?.scroll??Hx),K=h.useRef(!1),L=h.useRef(Hx),S=h.useRef(Sh),z=he(t,ki),F=he(t,V0),q=Xr(),Y=h.useRef(void 0),$=io(()=>qM(v,l.rowBufferPx,l.columnBufferPx,R*15,oh*6)).current,Q=h.useCallback(be=>{if(Gx(be,t.current.state.virtualization.renderContext))return;const Me=be.firstRowIndex!==S.current.firstRowIndex||be.lastRowIndex!==S.current.lastRowIndex;t.current.setState(Ce=>w({},Ce,{virtualization:w({},Ce.virtualization,{renderContext:be})})),mn(t.current.state).isReady&&Me&&(S.current=be,t.current.publishEvent("renderedRowsIntervalChange",be)),L.current=k.current},[t]),oe=Nt(()=>{const be=I.current;if(!be)return;const Me=mn(t.current.state),ze=Math.ceil(Me.minimumSize.height-Me.viewportOuterSize.height),Ce=Math.ceil(Me.minimumSize.width-Me.viewportInnerSize.width),$e={top:dl(be.scrollTop,0,ze),left:v?dl(be.scrollLeft,-Ce,0):dl(be.scrollLeft,0,Ce)},Ve=$e.left-k.current.left,_e=$e.top-k.current.top,It=Ve!==0||_e!==0;k.current=$e;const St=It?ZM(Ve,_e):tn.NONE,jt=Math.abs(k.current.top-L.current.top),ut=Math.abs(k.current.left-L.current.left),Mt=jt>=R||ut>=oh,nt=$.direction!==St;if(!(Mt||nt))return z;if(nt)switch(St){case tn.NONE:case tn.LEFT:case tn.RIGHT:Y.current=void 0;break;default:Y.current=z;break}$.direction=St,$.buffer=$0(v,St,l.rowBufferPx,l.columnBufferPx,R*15,oh*6);const pt=Px(t,l,c,d),Ht=Rx(pt,k.current,$);return Gx(Ht,z)||(fS.flushSync(()=>{Q(Ht)}),q.start(1e3,oe)),Ht}),ae=()=>{if(!mn(t.current.state).isReady&&(c||d))return;const be=Px(t,l,c,d),Me=Rx(be,k.current,$);Y.current=void 0,Q(Me)},fe=Nt(()=>{if(K.current){K.current=!1;return}const be=oe();t.current.publishEvent("scrollPositionChange",{top:k.current.top,left:k.current.left,renderContext:be})}),ce=Nt(be=>{t.current.publishEvent("virtualScrollerWheel",{},be)}),ve=Nt(be=>{t.current.publishEvent("virtualScrollerTouchMove",{},be)}),Te=(be={})=>{if(!be.rows&&!j.range)return[];const Me=sn(t);let ze=z;be.renderContext&&(ze=be.renderContext,ze.firstColumnIndex=z.firstColumnIndex,ze.lastColumnIndex=z.lastColumnIndex);const Ce=!x&&be.position===void 0||x&&be.position==="bottom",$e=be.position!==void 0;let Ve;switch(be.position){case"top":Ve=0;break;case"bottom":Ve=g.top.length+j.rows.length;break;case void 0:Ve=g.top.length;break}const _e=be.rows??j.rows,It=ze.firstRowIndex,St=Math.min(ze.lastRowIndex,_e.length),jt=be.rows?Cx(0,be.rows.length):Cx(It,St);let ut=-1;!$e&&F&&(F.rowIndex<It&&(jt.unshift(F.rowIndex),ut=F.rowIndex),F.rowIndex>St&&(jt.push(F.rowIndex),ut=F.rowIndex));const Mt=[],nt=l.slotProps?.row,mt=Cr(t);return jt.forEach(pt=>{const{id:Ht,model:Fe}=_e[pt];if(!Me[Ht])return;const Ze=(j?.range?.firstRowIndex||0)+Ve+pt;if(P){const kn=m.left.length,go=i.length-m.right.length;t.current.calculateColSpan({rowId:Ht,minFirstColumn:kn,maxLastColumn:go,columns:i}),m.left.length>0&&t.current.calculateColSpan({rowId:Ht,minFirstColumn:0,maxLastColumn:m.left.length,columns:i}),m.right.length>0&&t.current.calculateColSpan({rowId:Ht,minFirstColumn:i.length-m.right.length,maxLastColumn:i.length,columns:i})}const Be=t.current.rowHasAutoHeight(Ht)?"auto":t.current.unstable_getRowHeight(Ht);let We;M[Ht]==null?We=!1:We=t.current.isRowSelectable(Ht);let bt=!1;be.position===void 0&&(bt=pt===0);let xt=!1;const wt=pt===_e.length-1;if(Ce)if($e)xt=wt;else{const kn=j.rows.length-1;pt===kn&&(xt=!0)}let yn=ze;Y.current&&pt>=Y.current.firstRowIndex&&pt<Y.current.lastRowIndex&&(yn=Y.current);const nn=pt===ut,Hl=F?.rowIndex===Ze,Vn=U0(mt,yn,m.left.length),ho=wt&&be.position==="top",Xl=yn.firstColumnIndex,Ql=yn.lastColumnIndex;if(Mt.push(r.jsx(l.slots.row,w({row:Fe,rowId:Ht,index:Ze,selected:We,offsetLeft:Vn,columnsTotalWidth:V,rowHeight:Be,pinnedColumns:m,visibleColumns:i,firstColumnIndex:Xl,lastColumnIndex:Ql,focusedColumnIndex:Hl?F.columnIndex:void 0,isFirstVisible:bt,isLastVisible:xt,isNotVisible:nn,showBottomBorder:ho,scrollbarWidth:A,gridHasFiller:E},nt),Ht)),nn)return;const Pl=b.get(Ht);Pl&&Mt.push(Pl),be.position===void 0&&wt&&Mt.push(t.current.getInfiniteLoadingTriggerElement?.({lastRowId:Ht}))}),Mt},je=h.useMemo(()=>({overflowX:!U||s?"hidden":void 0,overflowY:l.autoHeight?"hidden":void 0}),[U,l.autoHeight,s]),Ae=h.useMemo(()=>{const be={width:U?V:"auto",flexBasis:W,flexShrink:0};return be.flexBasis===0&&(be.flexBasis=h0),be},[V,W,U]),Le=h.useCallback(be=>{be&&t.current.publishEvent("virtualScrollerContentSizeChange",{columnsTotalWidth:V,contentHeight:W})},[t,V,W]);return On(()=>{B.current&&t.current.updateRenderContext?.()},[t,d,c]),On(()=>{s&&(I.current.scrollLeft=0)},[s,I]),zj(z!==Sh,()=>{if(t.current.publishEvent("scrollPositionChange",{top:k.current.top,left:k.current.left,renderContext:z}),B.current=!0,l.initialState?.scroll&&I.current){const be=I.current,{top:Me,left:ze}=l.initialState.scroll,Ce={top:!(Me>0),left:!(ze>0)};if(!Ce.left&&V&&(be.scrollLeft=ze,K.current=!0,Ce.left=!0),!Ce.top&&W&&(be.scrollTop=Me,K.current=!0,Ce.top=!0),!Ce.top||!Ce.left){const $e=t.current.subscribeEvent("virtualScrollerContentSizeChange",Ve=>{!Ce.left&&Ve.columnsTotalWidth&&(be.scrollLeft=ze,K.current=!0,Ce.left=!0),!Ce.top&&Ve.contentHeight&&(be.scrollTop=Me,K.current=!0,Ce.top=!0),Ce.left&&Ce.top&&$e()});return $e}}}),t.current.register("private",{updateRenderContext:ae}),vt(t,"sortedRowsSet",ae),vt(t,"paginationModelChange",ae),vt(t,"columnsChange",ae),{renderContext:z,setPanels:C,getRows:Te,getContainerProps:()=>({ref:G}),getScrollerProps:()=>({ref:I,onScroll:fe,onWheel:ce,onTouchMove:ve,style:je,role:"presentation",tabIndex:NM?-1:void 0}),getContentProps:()=>({style:Ae,role:"presentation",ref:Le}),getRenderZoneProps:()=>({role:"rowgroup"}),getScrollbarVerticalProps:()=>({ref:O,scrollPosition:k}),getScrollbarHorizontalProps:()=>({ref:D,scrollPosition:k}),getScrollAreaProps:()=>({scrollPosition:k})}};function KM(t){return t.dimensions.viewportOuterSize.width>0&&t.dimensions.columnsTotalWidth>t.dimensions.viewportOuterSize.width}function Px(t,l,s,i){const c=mn(t.current.state),d=pr(t),g=l.unstable_listView?[Xa(t.current.state)]:qt(t),p=UM(t),m=t.current.state.rows.dataRowIds.at(-1),x=g.at(-1);return{enabledForRows:s,enabledForColumns:i,apiRef:t,autoHeight:l.autoHeight,rowBufferPx:l.rowBufferPx,columnBufferPx:l.columnBufferPx,leftPinnedWidth:c.leftPinnedWidth,columnsTotalWidth:c.columnsTotalWidth,viewportInnerWidth:c.viewportInnerSize.width,viewportInnerHeight:c.viewportInnerSize.height,lastRowHeight:m!==void 0?t.current.unstable_getRowHeight(m):0,lastColumnWidth:x?.computedWidth??0,rowsMeta:as(t.current.state),columnPositions:Cr(t),rows:d.rows,range:d.range,pinnedColumns:ns(t),visibleColumns:g,hiddenCellsOriginMap:p,listView:l.unstable_listView??!1,virtualizeColumnsWithAutoRowHeight:l.virtualizeColumnsWithAutoRowHeight}}function Rx(t,l,s){const i={firstRowIndex:0,lastRowIndex:t.rows.length,firstColumnIndex:0,lastColumnIndex:t.visibleColumns.length},{top:c,left:d}=l,g=Math.abs(d)+t.leftPinnedWidth;if(t.enabledForRows){let m=Math.min(Nx(t,c,{atStart:!0,lastPosition:t.rowsMeta.positions[t.rowsMeta.positions.length-1]+t.lastRowHeight}),t.rowsMeta.positions.length-1);const x=t.hiddenCellsOriginMap[m];if(x){const C=Math.min(...Object.values(x));m=Math.min(m,C)}const b=t.autoHeight?m+t.rows.length:Nx(t,c+t.viewportInnerHeight);i.firstRowIndex=m,i.lastRowIndex=b}if(t.listView)return w({},i,{lastColumnIndex:1});if(t.enabledForColumns){let m=0,x=t.columnPositions.length,b=!1;const[C,v]=jh({firstIndex:i.firstRowIndex,lastIndex:i.lastRowIndex,minFirstIndex:0,maxLastIndex:t.rows.length,bufferBefore:s.buffer.rowBefore,bufferAfter:s.buffer.rowAfter,positions:t.rowsMeta.positions,lastSize:t.lastRowHeight});if(!t.virtualizeColumnsWithAutoRowHeight)for(let M=C;M<v&&!b;M+=1){const j=t.rows[M];b=t.apiRef.current.rowHasAutoHeight(j.id)}(!b||t.virtualizeColumnsWithAutoRowHeight)&&(m=br(g,t.columnPositions,{atStart:!0,lastPosition:t.columnsTotalWidth}),x=br(g+t.viewportInnerWidth,t.columnPositions)),i.firstColumnIndex=m,i.lastColumnIndex=x}return XM(t,i,s)}function Nx(t,l,s){const i=t.apiRef.current.getLastMeasuredRowIndex();let c=i===1/0;t.range?.lastRowIndex&&!c&&(c=i>=t.range.lastRowIndex);const d=dl(i-(t.range?.firstRowIndex||0),0,t.rowsMeta.positions.length);return c||t.rowsMeta.positions[d]>=l?br(l,t.rowsMeta.positions,s):QM(l,t.rowsMeta.positions,d,s)}function XM(t,l,s){const[i,c]=jh({firstIndex:l.firstRowIndex,lastIndex:l.lastRowIndex,minFirstIndex:0,maxLastIndex:t.rows.length,bufferBefore:s.buffer.rowBefore,bufferAfter:s.buffer.rowAfter,positions:t.rowsMeta.positions,lastSize:t.lastRowHeight}),[d,g]=jh({firstIndex:l.firstColumnIndex,lastIndex:l.lastColumnIndex,minFirstIndex:t.pinnedColumns.left.length,maxLastIndex:t.visibleColumns.length-t.pinnedColumns.right.length,bufferBefore:s.buffer.columnBefore,bufferAfter:s.buffer.columnAfter,positions:t.columnPositions,lastSize:t.lastColumnWidth}),p=MM({firstColumnToRender:d,apiRef:t.apiRef,firstRowToRender:i,lastRowToRender:c,visibleRows:t.rows});return{firstRowIndex:i,lastRowIndex:c,firstColumnIndex:p,lastColumnIndex:g}}function br(t,l,s=void 0,i=0,c=l.length){if(l.length<=0)return-1;if(i>=c)return i;const d=i+Math.floor((c-i)/2),g=l[d];let p;if(s?.atStart){const m=(d===l.length-1?s.lastPosition:l[d+1])-g;p=t-m<g}else p=t<=g;return p?br(t,l,s,i,d):br(t,l,s,d+1,c)}function QM(t,l,s,i=void 0){let c=1;for(;s<l.length&&Math.abs(l[s])<t;)s+=c,c*=2;return br(t,l,i,Math.floor(s/2),Math.min(s,l.length))}function jh({firstIndex:t,lastIndex:l,bufferBefore:s,bufferAfter:i,minFirstIndex:c,maxLastIndex:d,positions:g,lastSize:p}){const m=g[t]-s,x=g[l]+i,b=br(m,g,{atStart:!0,lastPosition:g[g.length-1]+p}),C=br(x,g);return[dl(b,c,d),dl(C,c,d)]}function Gx(t,l){return t===l?!0:t.firstRowIndex===l.firstRowIndex&&t.lastRowIndex===l.lastRowIndex&&t.firstColumnIndex===l.firstColumnIndex&&t.lastColumnIndex===l.lastColumnIndex}function U0(t,l,s){const i=(t[l.firstColumnIndex]??0)-(t[s]??0);return Math.abs(i)}function ZM(t,l){return t===0&&l===0?tn.NONE:Math.abs(l)>=Math.abs(t)?l>0?tn.DOWN:tn.UP:t>0?tn.RIGHT:tn.LEFT}function $0(t,l,s,i,c,d){if(t)switch(l){case tn.LEFT:l=tn.RIGHT;break;case tn.RIGHT:l=tn.LEFT;break}switch(l){case tn.NONE:return{rowAfter:s,rowBefore:s,columnAfter:i,columnBefore:i};case tn.LEFT:return{rowAfter:0,rowBefore:0,columnAfter:0,columnBefore:d};case tn.RIGHT:return{rowAfter:0,rowBefore:0,columnAfter:d,columnBefore:0};case tn.UP:return{rowAfter:0,rowBefore:c,columnAfter:0,columnBefore:0};case tn.DOWN:return{rowAfter:c,rowBefore:0,columnAfter:0,columnBefore:0};default:throw new Error("unreachable")}}const JM=()=>{const t=Ge(),l=we(),s=he(t,Ti),i=he(t,Kh),c=he(t,XC),d=s===0&&c===0,g=he(t,g1),p=!g&&d,m=!g&&s>0&&i===0;let x=null,b=null;return p&&(x="noRowsOverlay"),m&&(x="noResultsOverlay"),g&&(x="loadingOverlay",b=l.slotProps?.loadingOverlay?.[d?"noRowsVariant":"variant"]||null),{overlayType:x,loadingOverlayVariant:b}},eE=Tt("div",{name:"MuiDataGrid",slot:"OverlayWrapper",shouldForwardProp:t=>t!=="overlayType"&&t!=="loadingOverlayVariant",overridesResolver:(t,l)=>l.overlayWrapper})(({overlayType:t,loadingOverlayVariant:l})=>l!=="skeleton"?{position:"sticky",top:"var(--DataGrid-headersTotalHeight)",left:0,width:0,height:0,zIndex:t==="loadingOverlay"?5:4}:{}),tE=Tt("div",{name:"MuiDataGrid",slot:"OverlayWrapperInner",shouldForwardProp:t=>t!=="overlayType"&&t!=="loadingOverlayVariant",overridesResolver:(t,l)=>l.overlayWrapperInner})({}),nE=t=>{const{classes:l}=t;return Ke({root:["overlayWrapper"],inner:["overlayWrapperInner"]},Qe,l)};function lE(t){const l=Ge(),s=we(),i=he(l,mn);let c=Math.max(i.viewportOuterSize.height-i.topContainerHeight-i.bottomContainerHeight-(i.hasScrollX?i.scrollbarSize:0),0);c===0&&(c=h0);const d=nE(w({},t,{classes:s.classes}));return r.jsx(eE,w({className:lt(d.root)},t,{children:r.jsx(tE,w({className:lt(d.inner),style:{height:c,width:i.viewportOuterSize.width}},t))}))}function oE(t){const{overlayType:l}=t,s=we();if(!l)return null;const i=s.slots?.[l],c=s.slotProps?.[l];return r.jsx(lE,w({},t,{children:r.jsx(i,w({},c))}))}const su=t=>t.columnMenu;function rE(){const t=kl(),l=we(),s=he(t,qt),i=he(t,Cj),c=he(t,pj),d=he(t,S0),g=he(t,()=>Jh(t)===null),p=he(t,Fj),m=he(t,Ij),x=he(t,fu),b=he(t,Oi),C=he(t,su),v=he(t,Tl),M=he(t,wM),j=!(p===null&&d===null&&g),T=t.current.columnHeadersContainerRef;return r.jsx(l.slots.columnHeaders,w({ref:T,visibleColumns:s,filterColumnLookup:i,sortColumnLookup:c,columnHeaderTabIndexState:d,columnGroupHeaderTabIndexState:p,columnHeaderFocus:m,columnGroupHeaderFocus:x,headerGroupingMaxDepth:b,columnMenuState:C,columnVisibility:v,columnGroupsHeaderStructure:M,hasOtherElementInTabSequence:j},l.slotProps?.columnHeaders))}const aE=Ro(rE),W0=h.createContext(void 0),og=()=>{const t=h.useContext(W0);if(t===void 0)throw new Error(["MUI X: Could not find the Data Grid configuration context.","It looks like you rendered your component outside of a DataGrid, DataGridPro or DataGridPremium parent component.","This can also happen if you are bundling multiple versions of the Data Grid."].join(`
`));return t},sE=Tt("div")({position:"absolute",top:"var(--DataGrid-headersTotalHeight)",left:0,width:"calc(100% - (var(--DataGrid-hasScrollY) * var(--DataGrid-scrollbarSize)))"}),iE=Tt("div",{name:"MuiDataGrid",slot:"Main",overridesResolver:(t,l)=>{const{ownerState:s}=t;return[l.main,s.hasPinnedRight&&l["main--hasPinnedRight"],s.loadingOverlayVariant==="skeleton"&&l["main--hasSkeletonLoadingOverlay"]]}})({flexGrow:1,position:"relative",overflow:"hidden",display:"flex",flexDirection:"column"}),cE=Xe((t,l)=>{const{ownerState:s}=t,i=we(),d=og().hooks.useGridAriaAttributes();return r.jsxs(iE,w({ownerState:s,className:t.className,tabIndex:-1},d,i.slotProps?.main,{ref:l,children:[r.jsx(sE,{role:"presentation","data-id":"gridPanelAnchor"}),t.children]}))}),uE=()=>Ke({root:["topContainer"]},Qe,{}),dE=Tt("div")({position:"sticky",zIndex:40,top:0});function fE(t){const l=uE();return r.jsx(dE,w({},t,{className:lt(l.root,N["container--top"]),role:"presentation"}))}const hE=()=>Ke({root:["bottomContainer"]},Qe,{}),gE=Tt("div")({position:"sticky",zIndex:40,bottom:"calc(var(--DataGrid-hasScrollX) * var(--DataGrid-scrollbarSize))"});function mE(t){const l=hE();return r.jsx(gE,w({},t,{className:lt(l.root,N["container--bottom"]),role:"presentation"}))}const pE=(t,l)=>{const{classes:s}=t;return Ke({root:["virtualScrollerContent",l&&"virtualScrollerContent--overflowed"]},Qe,s)},bE=Tt("div",{name:"MuiDataGrid",slot:"VirtualScrollerContent",overridesResolver:(t,l)=>{const{ownerState:s}=t;return[l.virtualScrollerContent,s.overflowedContent&&l["virtualScrollerContent--overflowed"]]}})({}),xE=Xe(function(l,s){const i=we(),c=!i.autoHeight&&l.style?.minHeight==="auto",d=pE(i,c),g={classes:i.classes,overflowedContent:c};return r.jsx(bE,w({},l,{ownerState:g,className:lt(d.root,l.className),ref:s}))}),CE=Tt("div")({display:"flex",flexDirection:"row",width:"var(--DataGrid-rowWidth)",boxSizing:"border-box"}),q0=Tt("div")({position:"sticky",height:"100%",boxSizing:"border-box",borderTop:"1px solid var(--rowBorderColor)",backgroundColor:"var(--DataGrid-pinnedBackground)"}),yE=Tt(q0)({left:0,borderRight:"1px solid var(--rowBorderColor)"}),vE=Tt(q0)({right:0,borderLeft:"1px solid var(--rowBorderColor)"}),wE=Tt("div")({flexGrow:1,borderTop:"1px solid var(--rowBorderColor)"});function SE({rowsLength:t}){const l=Ge(),{viewportOuterSize:s,minimumSize:i,hasScrollX:c,hasScrollY:d,scrollbarSize:g,leftPinnedWidth:p,rightPinnedWidth:m}=he(l,mn),x=c?g:0,b=s.height-i.height>0;return x===0&&!b?null:r.jsxs(CE,{className:N.filler,role:"presentation",style:{height:x,"--rowBorderColor":t===0?"transparent":"var(--DataGrid-rowBorderColor)"},children:[p>0&&r.jsx(yE,{className:N["filler--pinnedLeft"],style:{width:p}}),r.jsx(wE,{}),m>0&&r.jsx(vE,{className:N["filler--pinnedRight"],style:{width:m+(d?g:0)}})]})}const jE=Ro(SE),ME=["className"],EE=t=>{const{classes:l}=t;return Ke({root:["virtualScrollerRenderZone"]},Qe,l)},DE=Tt("div",{name:"MuiDataGrid",slot:"VirtualScrollerRenderZone",overridesResolver:(t,l)=>l.virtualScrollerRenderZone})({position:"absolute",display:"flex",flexDirection:"column"}),TE=Xe(function(l,s){const{className:i}=l,c=Ee(l,ME),d=Ge(),g=we(),p=EE(g),m=he(d,()=>{const x=ki(d);return as(d.current.state).positions[x.firstRowIndex]??0});return r.jsx(DE,w({className:lt(p.root,i),ownerState:g,style:{transform:`translate3d(0, ${m}px, 0)`}},c,{ref:s}))}),IE={includeHeaders:!0,includeOutliers:!1,outliersFactor:1.5,expand:!1,disableColumnVirtualization:!0},gn=t=>t.editRows,Y0=Di(gn,(t,{rowId:l,editMode:s})=>s===so.Row&&!!t[l]),FE=Di(gn,(t,{rowId:l,field:s})=>t[l]?.[s]??null),Yr=t=>t.preferencePanel,AE=Di(Yr,(t,l)=>!!(t.open&&t.labelId===l));var Kl=(function(t){return t.filters="filters",t.columns="columns",t})(Kl||{});const zE=(t,l)=>{const{classes:s}=t,i={root:["scrollbar",`scrollbar--${l}`],content:["scrollbarContent"]};return Ke(i,Qe,s)},K0=Tt("div")({position:"absolute",display:"inline-block",zIndex:60,"&:hover":{zIndex:70},"--size":"calc(max(var(--DataGrid-scrollbarSize), 14px))"}),OE=Tt(K0)({width:"var(--size)",height:"calc(var(--DataGrid-hasScrollY) * (100% - var(--DataGrid-topContainerHeight) - var(--DataGrid-bottomContainerHeight) - var(--DataGrid-hasScrollX) * var(--DataGrid-scrollbarSize)))",overflowY:"auto",overflowX:"hidden",outline:0,"& > div":{width:"var(--size)"},top:"var(--DataGrid-topContainerHeight)",right:"0px"}),kE=Tt(K0)({width:"100%",height:"var(--size)",overflowY:"hidden",overflowX:"auto",outline:0,"& > div":{height:"var(--size)"},bottom:"0px"}),Lx=Xe(function(l,s){const i=kl(),c=we(),d=h.useRef(!1),g=h.useRef(0),p=h.useRef(null),m=h.useRef(null),x=zE(c,l.position),b=he(i,mn),C=l.position==="vertical"?"height":"width",v=l.position==="vertical"?"scrollTop":"scrollLeft",M=l.position==="vertical"?"top":"left",j=l.position==="vertical"?b.hasScrollX:b.hasScrollY,T=b.minimumSize[C]+(j?b.scrollbarSize:0),O=(l.position==="vertical"?b.viewportInnerSize.height:b.viewportOuterSize.width)*(T/b.viewportOuterSize[C]),D=Nt(()=>{const R=p.current,W=l.scrollPosition.current;if(!R||W[M]===g.current)return;if(g.current=W[M],d.current){d.current=!1;return}d.current=!0;const V=W[M]/T;R[v]=V*O}),P=Nt(()=>{const R=i.current.virtualScrollerRef.current,W=p.current;if(!W)return;if(d.current){d.current=!1;return}d.current=!0;const V=W[v]/O;R[v]=V*T});IC(()=>{const R=i.current.virtualScrollerRef.current,W=p.current,V={passive:!0};return R.addEventListener("scroll",D,V),W.addEventListener("scroll",P,V),()=>{R.removeEventListener("scroll",D,V),W.removeEventListener("scroll",P,V)}}),h.useEffect(()=>{m.current.style.setProperty(C,`${O}px`)},[O,C]);const B=l.position==="vertical"?OE:kE;return r.jsx(B,{ref:Po(s,p),className:x.root,style:l.position==="vertical"&&c.unstable_listView?{height:"100%",top:0}:void 0,tabIndex:-1,"aria-hidden":"true",onFocus:R=>{R.target.blur()},children:r.jsx("div",{ref:m,className:x.content})})}),HE=t=>{const{classes:l,hasScrollX:s,hasPinnedRight:i,loadingOverlayVariant:c}=t;return Ke({root:["main",i&&"main--hasPinnedRight",c==="skeleton"&&"main--hasSkeletonLoadingOverlay"],scroller:["virtualScroller",s&&"virtualScroller--hasScrollX"]},Qe,l)},PE=Tt("div",{name:"MuiDataGrid",slot:"VirtualScroller",overridesResolver:(t,l)=>{const{ownerState:s}=t;return[l.virtualScroller,s.hasScrollX&&l["virtualScroller--hasScrollX"]]}})({position:"relative",height:"100%",flexGrow:1,overflow:"scroll",scrollbarWidth:"none",display:"flex",flexDirection:"column","&::-webkit-scrollbar":{display:"none"},"@media print":{overflow:"hidden"},zIndex:0}),RE=t=>t.dimensions.rightPinnedWidth>0;function NE(t){const l=Ge(),s=we(),i=he(l,KS),c=he(l,YS),d=he(l,RE),g=he(l,ZS),p=JM(),m={classes:s.classes,hasScrollX:c,hasPinnedRight:d,loadingOverlayVariant:p.loadingOverlayVariant},x=HE(m),b=YM(),{getContainerProps:C,getScrollerProps:v,getContentProps:M,getRenderZoneProps:j,getScrollbarVerticalProps:T,getScrollbarHorizontalProps:I,getRows:O,getScrollAreaProps:D}=b,P=O();return r.jsxs(cE,w({className:x.root},C(),{ownerState:m,children:[r.jsx(Jc,w({scrollDirection:"left"},D())),r.jsx(Jc,w({scrollDirection:"right"},D())),r.jsx(Jc,w({scrollDirection:"up"},D())),r.jsx(Jc,w({scrollDirection:"down"},D())),r.jsxs(PE,w({className:x.scroller},v(),{ownerState:m,children:[r.jsxs(fE,{children:[!s.unstable_listView&&r.jsx(aE,{}),r.jsx(s.slots.pinnedRows,{position:"top",virtualScroller:b})]}),r.jsx(oE,w({},p)),r.jsx(xE,w({},M(),{children:r.jsxs(TE,w({},j(),{children:[P,r.jsx(s.slots.detailPanels,{virtualScroller:b})]}))})),g&&r.jsx(jE,{rowsLength:P.length}),r.jsx(mE,{children:r.jsx(s.slots.pinnedRows,{position:"bottom",virtualScroller:b})})]})),c&&!s.unstable_listView&&r.jsx(Lx,w({position:"horizontal"},I())),i&&r.jsx(Lx,w({position:"vertical"},T())),t.children]}))}function GE(){const t=we();return t.hideFooter?null:r.jsx(t.slots.footer,w({},t.slotProps?.footer))}let rh;function rg(){return rh===void 0&&document.createElement("div").focus({get preventScroll(){return rh=!0,!1}}),rh}function LE({defaultSlots:t,slots:l}){const s=l;if(!s||Object.keys(s).length===0)return t;const i=w({},t);return Object.keys(s).forEach(c=>{const d=c;s[d]!==void 0&&(i[d]=s[d])}),i}function _E(t){if(t.slotProps?.root)return t;const l=Object.keys(t);if(!l.some(c=>c.startsWith("aria-")||c.startsWith("data-")))return t;const s={},i=t.forwardedProps??{};for(let c=0;c<l.length;c+=1){const d=l[c];d.startsWith("aria-")||d.startsWith("data-")?i[d]=t[d]:s[d]=t[d]}return s.forwardedProps=i,s}function BE(t){return h.useMemo(()=>_E(t),[t])}const VE=t=>{const l=t.match(/^__row_group_by_columns_group_(.*)__$/);return l?l[1]:null},UE=t=>t===m0||VE(t)!==null,X0=(t,l)=>{if(t)if(l){if(t===et.LEFT)return"right";if(t===et.RIGHT)return"left"}else{if(t===et.LEFT)return"left";if(t===et.RIGHT)return"right"}};function Hu(t,l,s,i){const c=X0(s,l);return!c||i===void 0||(t[c]=i),t}const $E=["column","row","rowId","rowNode","align","children","colIndex","width","className","style","colSpan","disableDragEvents","isNotVisible","pinnedOffset","pinnedPosition","showRightBorder","showLeftBorder","onClick","onDoubleClick","onMouseDown","onMouseUp","onMouseOver","onKeyDown","onKeyUp","onDragEnter","onDragOver"],WE=["changeReason","unstable_updateValueOnRender"];et.LEFT+"",ur.LEFT,et.RIGHT+"",ur.RIGHT,et.NONE+"",et.VIRTUAL+"";const qE=t=>{const{align:l,showLeftBorder:s,showRightBorder:i,pinnedPosition:c,isEditable:d,isSelected:g,isSelectionMode:p,classes:m}=t,x={root:["cell",`cell--text${Qa(l)}`,g&&"selected",d&&"cell--editable",s&&"cell--withLeftBorder",i&&"cell--withRightBorder",c===et.LEFT&&"cell--pinnedLeft",c===et.RIGHT&&"cell--pinnedRight",p&&!d&&"cell--selectionMode"]};return Ke(x,Qe,m)},YE=Xe(function(l,s){const{column:i,row:c,rowId:d,rowNode:g,align:p,colIndex:m,width:x,className:b,style:C,colSpan:v,disableDragEvents:M,isNotVisible:j,pinnedOffset:T,pinnedPosition:I,showRightBorder:O,showLeftBorder:D,onClick:P,onDoubleClick:B,onMouseDown:R,onMouseUp:W,onMouseOver:V,onKeyDown:U,onKeyUp:A,onDragEnter:E,onDragOver:_}=l,G=Ee(l,$E),k=kl(),K=we(),L=co(),S=i.field,z=Ci(k,FE,{rowId:d,field:S}),q=og().hooks.useCellAggregationResult(d,S),Y=z?yt.Edit:yt.View,$=k.current.getCellParamsForRow(d,S,c,{colDef:i,cellMode:Y,rowNode:g,tabIndex:he(k,()=>{const We=Jh(k);return We&&We.field===S&&We.id===d?0:-1}),hasFocus:he(k,()=>{const We=tl(k);return We?.id===d&&We.field===S})});$.api=k.current,q&&($.value=q.value,$.formattedValue=i.valueFormatter?i.valueFormatter($.value,c,i,k):$.value);const Q=he(k,()=>k.current.unstable_applyPipeProcessors("isCellSelected",!1,{id:d,field:S})),oe=he(k,B0),ae=he(k,VM),{hasFocus:fe,isEditable:ce=!1,value:ve}=$,Te=i.type==="actions"&&i.getActions?.(k.current.getRowParams(d)).some(We=>!We.props.disabled),je=(Y==="view"||!ce)&&!Te?$.tabIndex:-1,{classes:Ae,getCellClassName:Le}=K,Me=[he(k,()=>k.current.unstable_applyPipeProcessors("cellClassName",[],{id:d,field:S}).filter(Boolean).join(" "))];i.cellClassName&&Me.push(typeof i.cellClassName=="function"?i.cellClassName($):i.cellClassName),i.display==="flex"&&Me.push(N["cell--flex"]),Le&&Me.push(Le($));const ze=$.formattedValue??ve,Ce=h.useRef(null),$e=Po(s,Ce),Ve=h.useRef(null),_e=K.cellSelection??!1,It={align:p,showLeftBorder:D,showRightBorder:O,isEditable:ce,classes:K.classes,pinnedPosition:I,isSelected:Q,isSelectionMode:_e},St=qE(It),jt=h.useCallback(We=>bt=>{const xt=k.current.getCellParams(d,S||"");k.current.publishEvent(We,xt,bt),W&&W(bt)},[k,S,W,d]),ut=h.useCallback(We=>bt=>{const xt=k.current.getCellParams(d,S||"");k.current.publishEvent(We,xt,bt),R&&R(bt)},[k,S,R,d]),Mt=h.useCallback((We,bt)=>xt=>{if(!k.current.getRow(d))return;const wt=k.current.getCellParams(d,S||"");k.current.publishEvent(We,wt,xt),bt&&bt(xt)},[k,S,d]),nt=oe[d]?.[S]??!1,mt=ae[d]?.[S]??1,pt=h.useMemo(()=>{if(j)return{padding:0,opacity:0,width:0,height:0,border:0};const We=Hu(w({"--width":`${x}px`},C),L,I,T),bt=I===et.LEFT,xt=I===et.RIGHT;return mt>1&&(We.height=`calc(var(--height) * ${mt})`,We.zIndex=10,(bt||xt)&&(We.zIndex=40)),We},[x,j,C,T,I,L,mt]);if(h.useEffect(()=>{if(!fe||Y===yt.Edit)return;const We=$r(k.current.rootElementRef.current);if(Ce.current&&!Ce.current.contains(We.activeElement)){const bt=Ce.current.querySelector('[tabindex="0"]'),xt=Ve.current||bt||Ce.current;if(rg())xt.focus({preventScroll:!0});else{const wt=k.current.getScrollPosition();xt.focus(),k.current.scroll(wt)}}},[fe,Y,k]),nt)return r.jsx("div",{"data-colindex":m,role:"presentation",style:w({width:"var(--width)"},pt)});let Ht=G.onFocus,Fe,Ze;if(z===null&&i.renderCell&&(Fe=i.renderCell($)),z!==null&&i.renderEditCell){const We=k.current.getRowWithUpdatedValues(d,i.field),bt=Ee(z,WE),xt=i.valueFormatter?i.valueFormatter(z.value,We,i,k):$.formattedValue,wt=w({},$,{row:We,formattedValue:xt},bt);Fe=i.renderEditCell(wt),Me.push(N["cell--editing"]),Me.push(Ae?.["cell--editing"])}if(Fe===void 0){const We=ze?.toString();Fe=We,Ze=We}h.isValidElement(Fe)&&Te&&(Fe=h.cloneElement(Fe,{focusElementRef:Ve}));const Be=M?null:{onDragEnter:Mt("cellDragEnter",E),onDragOver:Mt("cellDragOver",_)};return r.jsx("div",w({className:lt(St.root,Me,b),role:"gridcell","data-field":S,"data-colindex":m,"aria-colindex":m+1,"aria-colspan":v,"aria-rowspan":mt,style:pt,title:Ze,tabIndex:je,onClick:Mt("cellClick",P),onDoubleClick:Mt("cellDoubleClick",B),onMouseOver:Mt("cellMouseOver",V),onMouseDown:ut("cellMouseDown"),onMouseUp:jt("cellMouseUp"),onKeyDown:Mt("cellKeyDown",U),onKeyUp:Mt("cellKeyUp",A)},Be,G,{onFocus:Ht,ref:$e,children:Fe}))}),KE=Ro(YE),XE=["label","icon","showInMenu","onClick"],QE=["label","icon","showInMenu","onClick","closeMenuOnClick","closeMenu"],Qt=Xe((t,l)=>{const s=we();if(!t.showInMenu){const{label:b,icon:C,onClick:v}=t,M=Ee(t,XE),j=T=>{v?.(T)};return r.jsx(s.slots.baseIconButton,w({size:"small",role:"menuitem","aria-label":b},M,{onClick:j},s.slotProps?.baseIconButton,{ref:l,children:h.cloneElement(C,{fontSize:"small"})}))}const{label:i,icon:c,onClick:d,closeMenuOnClick:g=!0,closeMenu:p}=t,m=Ee(t,QE),x=b=>{d?.(b),g&&p?.()};return r.jsxs(Re,w({ref:l},m,{onClick:x,children:[c&&r.jsx(hr,{children:c}),i]}))}),ZE=["field","type","align","width","height","empty","style","className"],_x="1.3em",JE="1.2em",Bx=[40,80],eD={number:[40,60],string:[40,80],date:[40,60],dateTime:[60,80],singleSelect:[40,80]},tD=t=>{const{align:l,classes:s,empty:i}=t,c={root:["cell","cellSkeleton",`cell--text${l?Qa(l):"Left"}`,i&&"cellEmpty"]};return Ke(c,Qe,s)},nD=F1(12345);function lD(t){const{field:l,type:s,align:i,width:c,height:d,empty:g=!1,style:p,className:m}=t,x=Ee(t,ZE),C={classes:we().classes,align:i,empty:g},v=tD(C),M=h.useMemo(()=>{if(s==="boolean"||s==="actions")return{variant:"circular",width:_x,height:_x};const[T,I]=s?eD[s]??Bx:Bx;return{variant:"text",width:`${Math.round(nD(T,I))}%`,height:JE}},[s]);return r.jsx("div",w({"data-field":l,className:lt(v.root,m),style:w({height:d,maxWidth:c,minWidth:c},p)},x,{children:!g&&r.jsx(Uw,w({},M))}))}const oD=Ro(lD);function rD(t){return t.vars?t.vars.palette.TableCell.border:t.palette.mode==="light"?$w(_r(t.palette.divider,1),.88):Ww(_r(t.palette.divider,1),.68)}const aD=10,eu=-5,Ra=1,Vx={width:3,rx:1.5,x:10.5},sD="/* emotion-disable-server-rendering-unsafe-selector-warning-please-do-not-use-this-the-warning-exists-for-a-reason */",iD=t=>t.dimensions.hasScrollX&&(!t.dimensions.hasScrollY||t.dimensions.scrollbarSize===0),cD=Ut("div",{name:"MuiDataGrid",slot:"Root",overridesResolver:(t,l)=>[l.root,{[`&.${N.autoHeight}`]:l.autoHeight},{[`&.${N.autosizing}`]:l.autosizing},{[`&.${N["root--densityStandard"]}`]:l["root--densityStandard"]},{[`&.${N["root--densityComfortable"]}`]:l["root--densityComfortable"]},{[`&.${N["root--densityCompact"]}`]:l["root--densityCompact"]},{[`&.${N["root--disableUserSelection"]}`]:l["root--disableUserSelection"]},{[`&.${N["root--noToolbar"]}`]:l["root--noToolbar"]},{[`&.${N.withVerticalBorder}`]:l.withVerticalBorder},{[`& .${N.actionsCell}`]:l.actionsCell},{[`& .${N.booleanCell}`]:l.booleanCell},{[`& .${N.cell}`]:l.cell},{[`& .${N["cell--editable"]}`]:l["cell--editable"]},{[`& .${N["cell--editing"]}`]:l["cell--editing"]},{[`& .${N["cell--flex"]}`]:l["cell--flex"]},{[`& .${N["cell--pinnedLeft"]}`]:l["cell--pinnedLeft"]},{[`& .${N["cell--pinnedRight"]}`]:l["cell--pinnedRight"]},{[`& .${N["cell--rangeBottom"]}`]:l["cell--rangeBottom"]},{[`& .${N["cell--rangeLeft"]}`]:l["cell--rangeLeft"]},{[`& .${N["cell--rangeRight"]}`]:l["cell--rangeRight"]},{[`& .${N["cell--rangeTop"]}`]:l["cell--rangeTop"]},{[`& .${N["cell--selectionMode"]}`]:l["cell--selectionMode"]},{[`& .${N["cell--textCenter"]}`]:l["cell--textCenter"]},{[`& .${N["cell--textLeft"]}`]:l["cell--textLeft"]},{[`& .${N["cell--textRight"]}`]:l["cell--textRight"]},{[`& .${N["cell--withLeftBorder"]}`]:l["cell--withLeftBorder"]},{[`& .${N["cell--withRightBorder"]}`]:l["cell--withRightBorder"]},{[`& .${N.cellCheckbox}`]:l.cellCheckbox},{[`& .${N.cellEmpty}`]:l.cellEmpty},{[`& .${N.cellOffsetLeft}`]:l.cellOffsetLeft},{[`& .${N.cellSkeleton}`]:l.cellSkeleton},{[`& .${N.checkboxInput}`]:l.checkboxInput},{[`& .${N.columnHeader}`]:l.columnHeader},{[`& .${N["columnHeader--alignCenter"]}`]:l["columnHeader--alignCenter"]},{[`& .${N["columnHeader--alignLeft"]}`]:l["columnHeader--alignLeft"]},{[`& .${N["columnHeader--alignRight"]}`]:l["columnHeader--alignRight"]},{[`& .${N["columnHeader--dragging"]}`]:l["columnHeader--dragging"]},{[`& .${N["columnHeader--emptyGroup"]}`]:l["columnHeader--emptyGroup"]},{[`& .${N["columnHeader--filledGroup"]}`]:l["columnHeader--filledGroup"]},{[`& .${N["columnHeader--filtered"]}`]:l["columnHeader--filtered"]},{[`& .${N["columnHeader--last"]}`]:l["columnHeader--last"]},{[`& .${N["columnHeader--lastUnpinned"]}`]:l["columnHeader--lastUnpinned"]},{[`& .${N["columnHeader--moving"]}`]:l["columnHeader--moving"]},{[`& .${N["columnHeader--numeric"]}`]:l["columnHeader--numeric"]},{[`& .${N["columnHeader--pinnedLeft"]}`]:l["columnHeader--pinnedLeft"]},{[`& .${N["columnHeader--pinnedRight"]}`]:l["columnHeader--pinnedRight"]},{[`& .${N["columnHeader--siblingFocused"]}`]:l["columnHeader--siblingFocused"]},{[`& .${N["columnHeader--sortable"]}`]:l["columnHeader--sortable"]},{[`& .${N["columnHeader--sorted"]}`]:l["columnHeader--sorted"]},{[`& .${N["columnHeader--withLeftBorder"]}`]:l["columnHeader--withLeftBorder"]},{[`& .${N["columnHeader--withRightBorder"]}`]:l["columnHeader--withRightBorder"]},{[`& .${N.columnHeaderCheckbox}`]:l.columnHeaderCheckbox},{[`& .${N.columnHeaderDraggableContainer}`]:l.columnHeaderDraggableContainer},{[`& .${N.columnHeaderTitleContainer}`]:l.columnHeaderTitleContainer},{[`& .${N.columnHeaderTitleContainerContent}`]:l.columnHeaderTitleContainerContent},{[`& .${N.columnSeparator}`]:l.columnSeparator},{[`& .${N["columnSeparator--resizable"]}`]:l["columnSeparator--resizable"]},{[`& .${N["columnSeparator--resizing"]}`]:l["columnSeparator--resizing"]},{[`& .${N["columnSeparator--sideLeft"]}`]:l["columnSeparator--sideLeft"]},{[`& .${N["columnSeparator--sideRight"]}`]:l["columnSeparator--sideRight"]},{[`& .${N["container--bottom"]}`]:l["container--bottom"]},{[`& .${N["container--top"]}`]:l["container--top"]},{[`& .${N.detailPanelToggleCell}`]:l.detailPanelToggleCell},{[`& .${N["detailPanelToggleCell--expanded"]}`]:l["detailPanelToggleCell--expanded"]},{[`& .${N.editBooleanCell}`]:l.editBooleanCell},{[`& .${N.filterIcon}`]:l.filterIcon},{[`& .${N["filler--borderBottom"]}`]:l["filler--borderBottom"]},{[`& .${N["filler--pinnedLeft"]}`]:l["filler--pinnedLeft"]},{[`& .${N["filler--pinnedRight"]}`]:l["filler--pinnedRight"]},{[`& .${N.groupingCriteriaCell}`]:l.groupingCriteriaCell},{[`& .${N.groupingCriteriaCellLoadingContainer}`]:l.groupingCriteriaCellLoadingContainer},{[`& .${N.groupingCriteriaCellToggle}`]:l.groupingCriteriaCellToggle},{[`& .${N.headerFilterRow}`]:l.headerFilterRow},{[`& .${N.iconSeparator}`]:l.iconSeparator},{[`& .${N.menuIcon}`]:l.menuIcon},{[`& .${N.menuIconButton}`]:l.menuIconButton},{[`& .${N.menuList}`]:l.menuList},{[`& .${N.menuOpen}`]:l.menuOpen},{[`& .${N.overlayWrapperInner}`]:l.overlayWrapperInner},{[`& .${N.pinnedRows}`]:l.pinnedRows},{[`& .${N["pinnedRows--bottom"]}`]:l["pinnedRows--bottom"]},{[`& .${N["pinnedRows--top"]}`]:l["pinnedRows--top"]},{[`& .${N.row}`]:l.row},{[`& .${N["row--borderBottom"]}`]:l["row--borderBottom"]},{[`& .${N["row--detailPanelExpanded"]}`]:l["row--detailPanelExpanded"]},{[`& .${N["row--dragging"]}`]:l["row--dragging"]},{[`& .${N["row--dynamicHeight"]}`]:l["row--dynamicHeight"]},{[`& .${N["row--editable"]}`]:l["row--editable"]},{[`& .${N["row--editing"]}`]:l["row--editing"]},{[`& .${N["row--firstVisible"]}`]:l["row--firstVisible"]},{[`& .${N["row--lastVisible"]}`]:l["row--lastVisible"]},{[`& .${N.rowReorderCell}`]:l.rowReorderCell},{[`& .${N["rowReorderCell--draggable"]}`]:l["rowReorderCell--draggable"]},{[`& .${N.rowReorderCellContainer}`]:l.rowReorderCellContainer},{[`& .${N.rowReorderCellPlaceholder}`]:l.rowReorderCellPlaceholder},{[`& .${N.rowSkeleton}`]:l.rowSkeleton},{[`& .${N.scrollbar}`]:l.scrollbar},{[`& .${N["scrollbar--horizontal"]}`]:l["scrollbar--horizontal"]},{[`& .${N["scrollbar--vertical"]}`]:l["scrollbar--vertical"]},{[`& .${N.scrollbarFiller}`]:l.scrollbarFiller},{[`& .${N["scrollbarFiller--borderBottom"]}`]:l["scrollbarFiller--borderBottom"]},{[`& .${N["scrollbarFiller--borderTop"]}`]:l["scrollbarFiller--borderTop"]},{[`& .${N["scrollbarFiller--header"]}`]:l["scrollbarFiller--header"]},{[`& .${N["scrollbarFiller--pinnedRight"]}`]:l["scrollbarFiller--pinnedRight"]},{[`& .${N.sortIcon}`]:l.sortIcon},{[`& .${N.treeDataGroupingCell}`]:l.treeDataGroupingCell},{[`& .${N.treeDataGroupingCellLoadingContainer}`]:l.treeDataGroupingCellLoadingContainer},{[`& .${N.treeDataGroupingCellToggle}`]:l.treeDataGroupingCellToggle},{[`& .${N.withBorderColor}`]:l.withBorderColor}]})(({theme:t})=>{const l=kl(),s=he(l,iD),i=rD(t),c=t.shape.borderRadius,d=t.vars?t.vars.palette.background.default:t.mixins.MuiDataGrid?.containerBackground??t.palette.background.default,g=t.mixins.MuiDataGrid?.pinnedBackground??d,p=t.vars?`rgba(${t.vars.palette.background.defaultChannel} / ${t.vars.palette.action.disabledOpacity})`:_r(t.palette.background.default,t.palette.action.disabledOpacity),m=(t.vars||t).palette.action.hoverOpacity,x=(t.vars||t).palette.action.hover,b=(t.vars||t).palette.action.selectedOpacity,C=t.vars?`calc(${m} + ${b})`:m+b,v=t.vars?`rgba(${t.vars.palette.primary.mainChannel} / ${b})`:_r(t.palette.primary.main,b),M=t.vars?`rgba(${t.vars.palette.primary.mainChannel} / ${C})`:_r(t.palette.primary.main,C),j=t.vars?fD:uD,T=U=>({[`& .${N["cell--pinnedLeft"]}, & .${N["cell--pinnedRight"]}`]:{backgroundColor:U,"&.Mui-selected":{backgroundColor:j(U,v,b),"&:hover":{backgroundColor:j(U,v,C)}}}}),I=j(g,x,m),O=T(I),D=j(g,v,b),P=T(D),B=j(g,M,C),R=T(B),W={backgroundColor:v,"&:hover":{backgroundColor:M,"@media (hover: none)":{backgroundColor:v}}};return w({"--unstable_DataGrid-radius":typeof c=="number"?`${c}px`:c,"--unstable_DataGrid-headWeight":t.typography.fontWeightMedium,"--unstable_DataGrid-overlayBackground":p,"--DataGrid-containerBackground":d,"--DataGrid-pinnedBackground":g,"--DataGrid-rowBorderColor":i,"--DataGrid-cellOffsetMultiplier":2,"--DataGrid-width":"0px","--DataGrid-hasScrollX":"0","--DataGrid-hasScrollY":"0","--DataGrid-scrollbarSize":"10px","--DataGrid-rowWidth":"0px","--DataGrid-columnsTotalWidth":"0px","--DataGrid-leftPinnedWidth":"0px","--DataGrid-rightPinnedWidth":"0px","--DataGrid-headerHeight":"0px","--DataGrid-headersTotalHeight":"0px","--DataGrid-topContainerHeight":"0px","--DataGrid-bottomContainerHeight":"0px",flex:1,boxSizing:"border-box",position:"relative",borderWidth:"1px",borderStyle:"solid",borderColor:i,borderRadius:"var(--unstable_DataGrid-radius)",color:(t.vars||t).palette.text.primary},t.typography.body2,{outline:"none",height:"100%",display:"flex",minWidth:0,minHeight:0,flexDirection:"column",overflow:"hidden",overflowAnchor:"none",transform:"translate(0, 0)",[`.${N.main} > *:first-child${sD}`]:{borderTopLeftRadius:"var(--unstable_DataGrid-radius)",borderTopRightRadius:"var(--unstable_DataGrid-radius)"},[`&.${N.autoHeight}`]:{height:"auto"},[`&.${N.autosizing}`]:{[`& .${N.columnHeaderTitleContainerContent} > *`]:{overflow:"visible !important"},"@media (hover: hover)":{[`& .${N.menuIcon}`]:{width:"0 !important",visibility:"hidden !important"}},[`& .${N.cell}`]:{overflow:"visible !important",whiteSpace:"nowrap",minWidth:"max-content !important",maxWidth:"max-content !important"},[`& .${N.groupingCriteriaCell}`]:{width:"unset"},[`& .${N.treeDataGroupingCell}`]:{width:"unset"}},[`& .${N.columnHeader}, & .${N.cell}`]:{WebkitTapHighlightColor:"transparent",padding:"0 10px",boxSizing:"border-box"},[`& .${N.columnHeader}:focus-within, & .${N.cell}:focus-within`]:{outline:`solid ${t.vars?`rgba(${t.vars.palette.primary.mainChannel} / 0.5)`:_r(t.palette.primary.main,.5)} ${Ra}px`,outlineOffset:Ra*-1},[`& .${N.columnHeader}:focus, & .${N.cell}:focus`]:{outline:`solid ${t.palette.primary.main} ${Ra}px`,outlineOffset:Ra*-1},[`& .${N.columnHeader}:focus,
      & .${N["columnHeader--withLeftBorder"]},
      & .${N["columnHeader--withRightBorder"]},
      & .${N["columnHeader--siblingFocused"]},
      & .${N["virtualScroller--hasScrollX"]} .${N["columnHeader--lastUnpinned"]},
      & .${N["virtualScroller--hasScrollX"]} .${N["columnHeader--last"]}
      `]:{[`& .${N.columnSeparator}`]:{opacity:0},"@media (hover: none)":{[`& .${N["columnSeparator--resizable"]}`]:{opacity:1}},[`& .${N["columnSeparator--resizable"]}:hover`]:{opacity:1}},[`&.${N["root--noToolbar"]} [aria-rowindex="1"] [aria-colindex="1"]`]:{borderTopLeftRadius:"calc(var(--unstable_DataGrid-radius) - 1px)"},[`&.${N["root--noToolbar"]} [aria-rowindex="1"] .${N["columnHeader--last"]}`]:{borderTopRightRadius:s?"calc(var(--unstable_DataGrid-radius) - 1px)":void 0},[`& .${N.columnHeaderCheckbox}, & .${N.cellCheckbox}`]:{padding:0,justifyContent:"center",alignItems:"center"},[`& .${N.columnHeader}`]:{position:"relative",display:"flex",alignItems:"center"},[`& .${N["virtualScroller--hasScrollX"]} .${N["columnHeader--last"]}`]:{overflow:"hidden"},[`& .${N["columnHeader--sorted"]} .${N.iconButtonContainer}, & .${N["columnHeader--filtered"]} .${N.iconButtonContainer}`]:{visibility:"visible",width:"auto"},[`& .${N.columnHeader}:not(.${N["columnHeader--sorted"]}) .${N.sortButton}`]:{opacity:0,transition:t.transitions.create(["opacity"],{duration:t.transitions.duration.shorter})},[`& .${N.columnHeaderTitleContainer}`]:{display:"flex",alignItems:"center",gap:t.spacing(.25),minWidth:0,flex:1,whiteSpace:"nowrap",overflow:"hidden"},[`& .${N.columnHeaderTitleContainerContent}`]:{overflow:"hidden",display:"flex",alignItems:"center"},[`& .${N["columnHeader--filledGroup"]} .${N.columnHeaderTitleContainer}`]:{borderBottomWidth:"1px",borderBottomStyle:"solid",boxSizing:"border-box"},[`& .${N.sortIcon}, & .${N.filterIcon}`]:{fontSize:"inherit"},[`& .${N["columnHeader--sortable"]}`]:{cursor:"pointer"},[`& .${N["columnHeader--alignCenter"]} .${N.columnHeaderTitleContainer}`]:{justifyContent:"center"},[`& .${N["columnHeader--alignRight"]} .${N.columnHeaderDraggableContainer}, & .${N["columnHeader--alignRight"]} .${N.columnHeaderTitleContainer}`]:{flexDirection:"row-reverse"},[`& .${N["columnHeader--alignCenter"]} .${N.menuIcon}`]:{marginLeft:"auto"},[`& .${N["columnHeader--alignRight"]} .${N.menuIcon}`]:{marginRight:"auto",marginLeft:-5},[`& .${N["columnHeader--moving"]}`]:{backgroundColor:(t.vars||t).palette.action.hover},[`& .${N["columnHeader--pinnedLeft"]}, & .${N["columnHeader--pinnedRight"]}`]:{position:"sticky",zIndex:40,background:"var(--DataGrid-pinnedBackground)"},[`& .${N.columnSeparator}`]:{position:"absolute",overflow:"hidden",zIndex:30,display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",maxWidth:aD,color:i},[`& .${N.columnHeaders}`]:{width:"var(--DataGrid-rowWidth)"},"@media (hover: hover)":{[`& .${N.columnHeader}:hover`]:{[`& .${N.menuIcon}`]:{width:"auto",visibility:"visible"},[`& .${N.iconButtonContainer}`]:{visibility:"visible",width:"auto"}},[`& .${N.columnHeader}:not(.${N["columnHeader--sorted"]}):hover .${N.sortButton}`]:{opacity:.5}},"@media (hover: none)":{[`& .${N.columnHeader} .${N.menuIcon}`]:{width:"auto",visibility:"visible"},[`& .${N.columnHeader}:focus,
        & .${N["columnHeader--siblingFocused"]}`]:{[`.${N["columnSeparator--resizable"]}`]:{color:(t.vars||t).palette.primary.main}}},[`& .${N["columnSeparator--sideLeft"]}`]:{left:eu},[`& .${N["columnSeparator--sideRight"]}`]:{right:eu},[`& .${N["columnHeader--withRightBorder"]} .${N["columnSeparator--sideLeft"]}`]:{left:eu-.5},[`& .${N["columnHeader--withRightBorder"]} .${N["columnSeparator--sideRight"]}`]:{right:eu-.5},[`& .${N["columnSeparator--resizable"]}`]:{cursor:"col-resize",touchAction:"none",[`&.${N["columnSeparator--resizing"]}`]:{color:(t.vars||t).palette.primary.main},"@media (hover: none)":{[`& .${N.iconSeparator} rect`]:Vx},"@media (hover: hover)":{"&:hover":{color:(t.vars||t).palette.primary.main,[`& .${N.iconSeparator} rect`]:Vx}},"& svg":{pointerEvents:"none"}},[`& .${N.iconSeparator}`]:{color:"inherit",transition:t.transitions.create(["color","width"],{duration:t.transitions.duration.shortest})},[`& .${N.menuIcon}`]:{width:0,visibility:"hidden",fontSize:20,marginRight:-5,display:"flex",alignItems:"center"},[`.${N.menuOpen}`]:{visibility:"visible",width:"auto"},[`& .${N.headerFilterRow}`]:{[`& .${N.columnHeader}`]:{boxSizing:"border-box",borderBottom:"1px solid var(--DataGrid-rowBorderColor)"}},[`& .${N["row--borderBottom"]} .${N.columnHeader},
      & .${N["row--borderBottom"]} .${N.filler},
      & .${N["row--borderBottom"]} .${N.scrollbarFiller}`]:{borderBottom:"1px solid var(--DataGrid-rowBorderColor)"},[`& .${N["row--borderBottom"]} .${N.cell}`]:{borderBottom:"1px solid var(--rowBorderColor)"},[`.${N.row}`]:{display:"flex",width:"var(--DataGrid-rowWidth)",breakInside:"avoid","--rowBorderColor":"var(--DataGrid-rowBorderColor)",[`&.${N["row--firstVisible"]}`]:{"--rowBorderColor":"transparent"},"&:hover":{backgroundColor:(t.vars||t).palette.action.hover,"@media (hover: none)":{backgroundColor:"transparent"}},[`&.${N.rowSkeleton}:hover`]:{backgroundColor:"transparent"},"&.Mui-selected":W},[`& .${N["container--top"]}, & .${N["container--bottom"]}`]:{"[role=row]":{background:"var(--DataGrid-containerBackground)"}},[`& .${N.cell}`]:{flex:"0 0 auto",height:"var(--height)",width:"var(--width)",lineHeight:"calc(var(--height) - 1px)",boxSizing:"border-box",borderTop:"1px solid var(--rowBorderColor)",overflow:"hidden",whiteSpace:"nowrap",textOverflow:"ellipsis","&.Mui-selected":W},[`& .${N["virtualScrollerContent--overflowed"]} .${N["row--lastVisible"]} .${N.cell}`]:{borderTopColor:"transparent"},[`& .${N["pinnedRows--top"]} :first-of-type`]:{[`& .${N.cell}, .${N.scrollbarFiller}`]:{borderTop:"none"}},[`&.${N["root--disableUserSelection"]}`]:{userSelect:"none"},[`& .${N["row--dynamicHeight"]} > .${N.cell}`]:{whiteSpace:"initial",lineHeight:"inherit"},[`& .${N.cellEmpty}`]:{flex:1,padding:0,height:"unset"},[`& .${N.cell}.${N["cell--selectionMode"]}`]:{cursor:"default"},[`& .${N.cell}.${N["cell--editing"]}`]:{padding:1,display:"flex",boxShadow:t.shadows[2],backgroundColor:(t.vars||t).palette.background.paper,"&:focus-within":{outline:`${Ra}px solid ${(t.vars||t).palette.primary.main}`,outlineOffset:Ra*-1}},[`& .${N["row--editing"]}`]:{boxShadow:t.shadows[2]},[`& .${N["row--editing"]} .${N.cell}`]:{boxShadow:t.shadows[0],backgroundColor:(t.vars||t).palette.background.paper},[`& .${N.editBooleanCell}`]:{display:"flex",height:"100%",width:"100%",alignItems:"center",justifyContent:"center"},[`& .${N.booleanCell}[data-value="true"]`]:{color:(t.vars||t).palette.text.secondary},[`& .${N.booleanCell}[data-value="false"]`]:{color:(t.vars||t).palette.text.disabled},[`& .${N.actionsCell}`]:{display:"inline-flex",alignItems:"center",gridGap:t.spacing(1)},[`& .${N.rowReorderCell}`]:{display:"inline-flex",flex:1,alignItems:"center",justifyContent:"center",opacity:(t.vars||t).palette.action.disabledOpacity},[`& .${N["rowReorderCell--draggable"]}`]:{cursor:"move",opacity:1},[`& .${N.rowReorderCellContainer}`]:{padding:0,display:"flex",alignItems:"stretch"},[`.${N.withBorderColor}`]:{borderColor:i},[`& .${N["cell--withLeftBorder"]}, & .${N["columnHeader--withLeftBorder"]}`]:{borderLeftColor:"var(--DataGrid-rowBorderColor)",borderLeftWidth:"1px",borderLeftStyle:"solid"},[`& .${N["cell--withRightBorder"]}, & .${N["columnHeader--withRightBorder"]}`]:{borderRightColor:"var(--DataGrid-rowBorderColor)",borderRightWidth:"1px",borderRightStyle:"solid"},[`& .${N["cell--flex"]}`]:{display:"flex",alignItems:"center",lineHeight:"inherit"},[`& .${N["cell--textLeft"]}`]:{textAlign:"left",justifyContent:"flex-start"},[`& .${N["cell--textRight"]}`]:{textAlign:"right",justifyContent:"flex-end"},[`& .${N["cell--textCenter"]}`]:{textAlign:"center",justifyContent:"center"},[`& .${N["cell--pinnedLeft"]}, & .${N["cell--pinnedRight"]}`]:{position:"sticky",zIndex:30,background:"var(--DataGrid-pinnedBackground)","&.Mui-selected":{backgroundColor:D}},[`& .${N.virtualScrollerContent} .${N.row}`]:{"&:hover":O,"&.Mui-selected":P,"&.Mui-selected:hover":R},[`& .${N.cellOffsetLeft}`]:{flex:"0 0 auto",display:"inline-block"},[`& .${N.cellSkeleton}`]:{flex:"0 0 auto",height:"100%",display:"inline-flex",alignItems:"center"},[`& .${N.columnHeaderDraggableContainer}`]:{display:"flex",width:"100%",height:"100%"},[`& .${N.rowReorderCellPlaceholder}`]:{display:"none"},[`& .${N["columnHeader--dragging"]}, & .${N["row--dragging"]}`]:{background:(t.vars||t).palette.background.paper,padding:"0 12px",borderRadius:"var(--unstable_DataGrid-radius)",opacity:(t.vars||t).palette.action.disabledOpacity},[`& .${N["row--dragging"]}`]:{background:(t.vars||t).palette.background.paper,padding:"0 12px",borderRadius:"var(--unstable_DataGrid-radius)",opacity:(t.vars||t).palette.action.disabledOpacity,[`& .${N.rowReorderCellPlaceholder}`]:{display:"flex"}},[`& .${N.treeDataGroupingCell}`]:{display:"flex",alignItems:"center",width:"100%"},[`& .${N.treeDataGroupingCellToggle}`]:{flex:"0 0 28px",alignSelf:"stretch",marginRight:t.spacing(2)},[`& .${N.treeDataGroupingCellLoadingContainer}, .${N.groupingCriteriaCellLoadingContainer}`]:{display:"flex",alignItems:"center",justifyContent:"center",height:"100%"},[`& .${N.groupingCriteriaCell}`]:{display:"flex",alignItems:"center",width:"100%"},[`& .${N.groupingCriteriaCellToggle}`]:{flex:"0 0 28px",alignSelf:"stretch",marginRight:t.spacing(2)},[`.${N.scrollbarFiller}`]:{minWidth:"calc(var(--DataGrid-hasScrollY) * var(--DataGrid-scrollbarSize))",alignSelf:"stretch",[`&.${N["scrollbarFiller--borderTop"]}`]:{borderTop:"1px solid var(--DataGrid-rowBorderColor)"},[`&.${N["scrollbarFiller--borderBottom"]}`]:{borderBottom:"1px solid var(--DataGrid-rowBorderColor)"},[`&.${N["scrollbarFiller--pinnedRight"]}`]:{backgroundColor:"var(--DataGrid-pinnedBackground)",position:"sticky",right:0}},[`& .${N.filler}`]:{flex:"1 0 auto"},[`& .${N["filler--borderBottom"]}`]:{borderBottom:"1px solid var(--DataGrid-rowBorderColor)"},[`& .${N["main--hasSkeletonLoadingOverlay"]}`]:{[`& .${N.virtualScrollerContent}`]:{position:"fixed",visibility:"hidden"},[`& .${N["scrollbar--vertical"]}, & .${N.pinnedRows}, & .${N.virtualScroller} > .${N.filler}`]:{display:"none"}}})});function uD(t,l,s,i=1){const c=(m,x)=>Math.round((m**(1/i)*(1-s)+x**(1/i)*s)**i),d=rx(t),g=rx(l),p=[c(d.values[0],g.values[0]),c(d.values[1],g.values[1]),c(d.values[2],g.values[2])];return qw({type:"rgb",values:p})}const dD=t=>`rgb(from ${t} r g b / 1)`;function fD(t,l,s){return`color-mix(in srgb,${t}, ${dD(l)} calc(${s} * 100%))`}const hD=()=>()=>{},gD=()=>!1,mD=()=>!0,pD=()=>_h.useSyncExternalStore(hD,gD,mD);function bD(){const t=Ge(),l=he(t,Fl),s=we(),i=he(t,Yr),c=t.current.unstable_applyPipeProcessors("preferencePanel",null,i.openedPanelValue??Kl.filters);return r.jsx(s.slots.panel,w({as:s.slots.basePopper,open:l.length>0&&i.open,id:i.panelId,"aria-labelledby":i.labelId},s.slotProps?.panel,s.slotProps?.basePopper,{children:c}))}function xD(){const t=we();return r.jsxs(h.Fragment,{children:[r.jsx(bD,{}),t.slots.toolbar&&r.jsx(t.slots.toolbar,w({},t.slotProps?.toolbar))]})}const CD=["className","children"],yD=(t,l)=>{const{autoHeight:s,classes:i,showCellVerticalBorder:c}=t,d={root:["root",s&&"autoHeight",`root--density${Qa(l)}`,t.slots.toolbar===null&&"root--noToolbar","withBorderColor",c&&"withVerticalBorder"]};return Ke(d,Qe,i)},vD=Xe(function(l,s){const i=we(),{className:c,children:d}=l,g=Ee(l,CD),p=kl(),m=he(p,Ur),x=p.current.rootElementRef,b=h.useCallback(T=>{T!==null&&p.current.publishEvent("rootMount",T)},[p]),C=Po(x,s,b),v=i,M=yD(v,m);return pD()?null:r.jsxs(cD,w({className:lt(M.root,c),ownerState:v},g,{ref:C,children:[r.jsx(xD,{}),r.jsx(NE,{children:d}),r.jsx(GE,{})]}))}),wD=Ro(vD),SD=["className"],jD=t=>{const{classes:l}=t;return Ke({root:["footerContainer","withBorderColor"]},Qe,l)},MD=Tt("div",{name:"MuiDataGrid",slot:"FooterContainer",overridesResolver:(t,l)=>l.footerContainer})({display:"flex",justifyContent:"space-between",alignItems:"center",minHeight:52,borderTop:"1px solid"}),ED=Xe(function(l,s){const{className:i}=l,c=Ee(l,SD),d=we(),g=jD(d);return r.jsx(MD,w({className:lt(g.root,i),ownerState:d},c,{ref:s}))}),DD=["className"],TD=t=>{const{classes:l}=t;return Ke({root:["overlay"]},Qe,l)},ID=Tt("div",{name:"MuiDataGrid",slot:"Overlay",overridesResolver:(t,l)=>l.overlay})({width:"100%",height:"100%",display:"flex",alignSelf:"center",alignItems:"center",justifyContent:"center",backgroundColor:"var(--unstable_DataGrid-overlayBackground)"}),ag=Xe(function(l,s){const{className:i}=l,c=Ee(l,DD),d=we(),g=TD(d);return r.jsx(ID,w({className:lt(g.root,i),ownerState:d},c,{ref:s}))}),FD=["className","children"],AD=t=>{const{classes:l}=t;return Ke({root:["toolbarContainer"]},Qe,l)},zD=Tt("div",{name:"MuiDataGrid",slot:"ToolbarContainer",overridesResolver:(t,l)=>l.toolbarContainer})(({theme:t})=>({display:"flex",alignItems:"center",flexWrap:"wrap",gap:t.spacing(1),padding:t.spacing(.5,.5,0)})),OD=Xe(function(l,s){const{className:i,children:c}=l,d=Ee(l,FD),g=we(),p=AD(g);return c?r.jsx(zD,w({className:lt(p.root,i),ownerState:g},d,{ref:s,children:c})):null}),kD=t=>{const{classes:l,open:s}=t;return Ke({root:["menuIcon",s&&"menuOpen"],button:["menuIconButton"]},Qe,l)},HD=h.memo(t=>{const{colDef:l,open:s,columnMenuId:i,columnMenuButtonId:c,iconButtonRef:d}=t,g=Ge(),p=we(),m=w({},t,{classes:p.classes}),x=kD(m),b=h.useCallback(v=>{v.preventDefault(),v.stopPropagation(),g.current.toggleColumnMenu(l.field)},[g,l.field]),C=l.headerName??l.field;return r.jsx("div",{className:x.root,children:r.jsx(p.slots.baseTooltip,w({title:g.current.getLocaleText("columnMenuLabel"),enterDelay:1e3},p.slotProps?.baseTooltip,{children:r.jsx(p.slots.baseIconButton,w({ref:d,tabIndex:-1,className:x.button,"aria-label":g.current.getLocaleText("columnMenuAriaLabel")(C),size:"small",onClick:b,"aria-haspopup":"menu","aria-expanded":s,"aria-controls":s?i:void 0,id:c},p.slotProps?.baseIconButton,{children:r.jsx(p.slots.columnMenuIcon,{fontSize:"inherit"})}))}))})});function PD({columnMenuId:t,columnMenuButtonId:l,ContentComponent:s,contentComponentProps:i,field:c,open:d,target:g,onExited:p}){const m=Ge(),x=m.current.getColumn(c),b=Nt(C=>{C&&(C.stopPropagation(),g?.contains(C.target))||m.current.hideColumnMenu()});return!g||!x?null:r.jsx(Mu,{placement:`bottom-${x.align==="right"?"start":"end"}`,open:d,target:g,onClose:b,onExited:p,children:r.jsx(s,w({colDef:x,hideMenu:b,open:d,id:t,labelledby:l},i))})}function RD(t){return t.scrollHeight>t.clientHeight||t.scrollWidth>t.clientWidth}function pu(t,l){return t.closest(`.${l}`)}function No(t){return t.replace(/["\\]/g,"\\$&")}function ND(t,l){return t.querySelector(`[role="columnheader"][data-field="${No(l)}"]`)}function Q0(t){return`.${N.row}[data-id="${No(String(t))}"]`}function GD(t,l){return t.querySelector(Q0(l))}function LD(t,{id:l,field:s}){const i=Q0(l),c=`.${N.cell}[data-field="${No(s)}"]`,d=`${i} ${c}`;return t.querySelector(d)}function Hi(t){return t.target.nodeType===1&&!t.currentTarget.contains(t.target)}function _D(t){return t.getAttribute("data-field")}function BD(t,l){return t.querySelector(`[data-field="${No(l)}"]`)}function VD(t){return t.getAttribute("data-fields").slice(2,-2).split("-|-")}function UD(t,l){return Array.from(t.querySelectorAll(`[data-fields*="|-${No(l)}-|"]`)??[])}function $D(t,l){if(!pu(t,N.root))throw new Error("MUI X: The root element is not found.");const i=t.getAttribute("aria-colindex");if(!i)return[];const c=Number(i)-1,d=[];return l.virtualScrollerRef?.current?(ey(l).forEach(g=>{const p=g.getAttribute("data-id");if(!p)return;let m=c;const x=l.unstable_getCellColSpanInfo(p,c);x&&x.spannedByColSpan&&(m=x.leftVisibleCellIndex);const b=g.querySelector(`[data-colindex="${m}"]`);b&&d.push(b)}),d):[]}function Ux(t,l){return t.rootElementRef.current.querySelector(`.${N[l]}`)}const Z0=({api:t,colIndex:l,position:s,filterFn:i})=>{if(l===null)return[];const c=[];return ey(t).forEach(d=>{d.getAttribute("data-id")&&d.querySelectorAll(`.${N[s==="left"?"cell--pinnedLeft":"cell--pinnedRight"]}`).forEach(p=>{const m=ss(p);m!==null&&i(m)&&c.push(p)})}),c};function WD(t,l,s){const i=ss(l);return Z0({api:t,colIndex:i,position:s?"right":"left",filterFn:c=>s?c<i:c>i})}function qD(t,l,s){const i=ss(l);return Z0({api:t,colIndex:i,position:s?"left":"right",filterFn:c=>s?c>i:c<i})}const J0=({api:t,colIndex:l,position:s,filterFn:i})=>{if(!t.columnHeadersContainerRef?.current)return[];if(l===null)return[];const c=[];return t.columnHeadersContainerRef.current.querySelectorAll(`.${N[s==="left"?"columnHeader--pinnedLeft":"columnHeader--pinnedRight"]}`).forEach(d=>{const g=ss(d);g!==null&&i(g,d)&&c.push(d)}),c};function YD(t,l,s){const i=ss(l);return J0({api:t,position:s?"right":"left",colIndex:i,filterFn:c=>s?c<i:c>i})}function KD(t,l,s){const i=ss(l);return J0({api:t,position:s?"left":"right",colIndex:i,filterFn:(c,d)=>d.classList.contains(N["columnHeader--last"])?!1:s?c>i:c<i})}function XD(t,l){return t.columnHeadersContainerRef.current.querySelector(`:scope > div > [data-field="${No(l)}"][role="columnheader"]`)}function QD(t,l){const s=t.virtualScrollerRef.current;return Array.from(s.querySelectorAll(`:scope > div > div > div > [data-field="${No(l)}"][role="gridcell"]`))}function ey(t){return t.virtualScrollerRef.current.querySelectorAll(`:scope > div > div > .${N.row}`)}function ss(t){const l=t.getAttribute("aria-colindex");return l?Number(l)-1:null}const ZD=["className","aria-label"],JD=t=>{const{classes:l}=t;return Ke({root:["columnHeaderTitle"]},Qe,l)},e2=Tt("div",{name:"MuiDataGrid",slot:"ColumnHeaderTitle",overridesResolver:(t,l)=>l.columnHeaderTitle})({textOverflow:"ellipsis",overflow:"hidden",whiteSpace:"nowrap",fontWeight:"var(--unstable_DataGrid-headWeight)",lineHeight:"normal"}),t2=Xe(function(l,s){const{className:i}=l,c=Ee(l,ZD),d=we(),g=JD(d);return r.jsx(e2,w({className:lt(g.root,i),ownerState:d},c,{ref:s}))});function n2(t){const{label:l,description:s}=t,i=we(),c=h.useRef(null),[d,g]=h.useState(""),p=h.useCallback(()=>{if(!s&&c?.current){const m=RD(c.current);g(m?l:"")}},[s,l]);return r.jsx(i.slots.baseTooltip,w({title:s||d},i.slotProps?.baseTooltip,{children:r.jsx(t2,{onMouseOver:p,ref:c,children:l})}))}const l2=["resizable","resizing","height","side"];var sg=(function(t){return t.Left="left",t.Right="right",t})(sg||{});const o2=t=>{const{resizable:l,resizing:s,classes:i,side:c}=t,d={root:["columnSeparator",l&&"columnSeparator--resizable",s&&"columnSeparator--resizing",c&&`columnSeparator--side${Qa(c)}`],icon:["iconSeparator"]};return Ke(d,Qe,i)};function r2(t){const{height:l,side:s=sg.Right}=t,i=Ee(t,l2),c=we(),d=w({},t,{side:s,classes:c.classes}),g=o2(d),p=h.useCallback(m=>{m.preventDefault(),m.stopPropagation()},[]);return r.jsx("div",w({className:g.root,style:{minHeight:l}},i,{onClick:p,children:r.jsx(c.slots.columnResizeIcon,{className:g.icon})}))}const a2=h.memo(r2),s2=["classes","columnMenuOpen","colIndex","height","isResizing","sortDirection","hasFocus","tabIndex","separatorSide","isDraggable","headerComponent","description","elementId","width","columnMenuIconButton","columnMenu","columnTitleIconButtons","headerClassName","label","resizable","draggableContainerProps","columnHeaderSeparatorProps","style"],ty=Xe(function(l,s){const{classes:i,colIndex:c,height:d,isResizing:g,sortDirection:p,tabIndex:m,separatorSide:x,isDraggable:b,headerComponent:C,description:v,width:M,columnMenuIconButton:j=null,columnMenu:T=null,columnTitleIconButtons:I=null,headerClassName:O,label:D,resizable:P,draggableContainerProps:B,columnHeaderSeparatorProps:R,style:W}=l,V=Ee(l,s2),U=we(),A=h.useRef(null),E=Po(A,s);let _="none";return p!=null&&(_=p==="asc"?"ascending":"descending"),r.jsxs("div",w({className:lt(i.root,O),style:w({},W,{height:d,width:M}),role:"columnheader",tabIndex:m,"aria-colindex":c+1,"aria-sort":_},V,{ref:E,children:[r.jsxs("div",w({className:i.draggableContainer,draggable:b,role:"presentation"},B,{children:[r.jsxs("div",{className:i.titleContainer,role:"presentation",children:[r.jsx("div",{className:i.titleContainerContent,children:C!==void 0?C:r.jsx(n2,{label:D,description:v,columnWidth:M})}),I]}),j]})),r.jsx(a2,w({resizable:!U.disableColumnResize&&!!P,resizing:g,height:d,side:x},R)),T]}))}),i2=t=>{const{colDef:l,classes:s,isDragging:i,sortDirection:c,showRightBorder:d,showLeftBorder:g,filterItemsCounter:p,pinnedPosition:m,isLastUnpinned:x,isSiblingFocused:b}=t,C=c!=null,v=p!=null&&p>0,M=l.type==="number",j={root:["columnHeader",l.headerAlign==="left"&&"columnHeader--alignLeft",l.headerAlign==="center"&&"columnHeader--alignCenter",l.headerAlign==="right"&&"columnHeader--alignRight",l.sortable&&"columnHeader--sortable",i&&"columnHeader--moving",C&&"columnHeader--sorted",v&&"columnHeader--filtered",M&&"columnHeader--numeric","withBorderColor",d&&"columnHeader--withRightBorder",g&&"columnHeader--withLeftBorder",m===et.LEFT&&"columnHeader--pinnedLeft",m===et.RIGHT&&"columnHeader--pinnedRight",x&&"columnHeader--lastUnpinned",b&&"columnHeader--siblingFocused"],draggableContainer:["columnHeaderDraggableContainer"],titleContainer:["columnHeaderTitleContainer"],titleContainerContent:["columnHeaderTitleContainerContent"]};return Ke(j,Qe,s)};function c2(t){const{colDef:l,columnMenuOpen:s,colIndex:i,headerHeight:c,isResizing:d,isLast:g,sortDirection:p,sortIndex:m,filterItemsCounter:x,hasFocus:b,tabIndex:C,disableReorder:v,separatorSide:M,showLeftBorder:j,showRightBorder:T,pinnedPosition:I,pinnedOffset:O}=t,D=kl(),P=we(),B=co(),R=h.useRef(null),W=Ot(),V=Ot(),U=h.useRef(null),[A,E]=h.useState(s),_=h.useMemo(()=>!P.disableColumnReorder&&!v&&!l.disableReorder,[P.disableColumnReorder,v,l.disableReorder]);let G;l.renderHeader&&(G=l.renderHeader(D.current.getColumnHeaderParams(l.field)));const k=w({},t,{classes:P.classes,showRightBorder:T,showLeftBorder:j}),K=i2(k),L=h.useCallback(Te=>je=>{Hi(je)||D.current.publishEvent(Te,D.current.getColumnHeaderParams(l.field),je)},[D,l.field]),S=h.useMemo(()=>({onClick:L("columnHeaderClick"),onContextMenu:L("columnHeaderContextMenu"),onDoubleClick:L("columnHeaderDoubleClick"),onMouseOver:L("columnHeaderOver"),onMouseOut:L("columnHeaderOut"),onMouseEnter:L("columnHeaderEnter"),onMouseLeave:L("columnHeaderLeave"),onKeyDown:L("columnHeaderKeyDown"),onFocus:L("columnHeaderFocus"),onBlur:L("columnHeaderBlur")}),[L]),z=h.useMemo(()=>_?{onDragStart:L("columnHeaderDragStart"),onDragEnter:L("columnHeaderDragEnter"),onDragOver:L("columnHeaderDragOver"),onDragEnd:L("columnHeaderDragEnd")}:{},[_,L]),F=h.useMemo(()=>({onMouseDown:L("columnSeparatorMouseDown"),onDoubleClick:L("columnSeparatorDoubleClick")}),[L]);h.useEffect(()=>{A||E(s)},[A,s]);const q=h.useCallback(()=>{E(!1)},[]),Y=!P.disableColumnMenu&&!l.disableColumnMenu&&r.jsx(HD,{colDef:l,columnMenuId:W,columnMenuButtonId:V,open:A,iconButtonRef:U}),$=r.jsx(PD,{columnMenuId:W,columnMenuButtonId:V,field:l.field,open:s,target:U.current,ContentComponent:P.slots.columnMenu,contentComponentProps:P.slotProps?.columnMenu,onExited:q}),Q=l.sortingOrder??P.sortingOrder,oe=(l.sortable||p!=null)&&!l.hideSortIcons&&!P.disableColumnSorting,ae=r.jsxs(h.Fragment,{children:[!P.disableColumnFilter&&r.jsx(P.slots.columnHeaderFilterIconButton,w({field:l.field,counter:x},P.slotProps?.columnHeaderFilterIconButton)),oe&&r.jsx(P.slots.columnHeaderSortIcon,w({field:l.field,direction:p,index:m,sortingOrder:Q,disabled:!l.sortable},P.slotProps?.columnHeaderSortIcon))]});h.useLayoutEffect(()=>{const Te=D.current.state.columnMenu;if(b&&!Te.open){const Ae=R.current.querySelector('[tabindex="0"]')||R.current;if(!Ae)return;if(rg())Ae.focus({preventScroll:!0});else{const Le=D.current.getScrollPosition();Ae.focus(),D.current.scroll(Le)}}},[D,b]);const fe=typeof l.headerClassName=="function"?l.headerClassName({field:l.field,colDef:l}):l.headerClassName,ce=l.headerName??l.field,ve=h.useMemo(()=>Hu(w({},t.style),B,I,O),[I,O,t.style,B]);return r.jsx(ty,w({ref:R,classes:K,columnMenuOpen:s,colIndex:i,height:c,isResizing:d,sortDirection:p,hasFocus:b,tabIndex:C,separatorSide:M,isDraggable:_,headerComponent:G,description:l.description,elementId:l.field,width:l.computedWidth,columnMenuIconButton:Y,columnTitleIconButtons:ae,headerClassName:lt(fe,g&&N["columnHeader--last"]),label:ce,resizable:!P.disableColumnResize&&!!l.resizable,"data-field":l.field,columnMenu:$,draggableContainerProps:z,columnHeaderSeparatorProps:F,style:ve},S))}const u2=Ro(c2),d2=["className"],f2=t=>{const{classes:l}=t;return Ke({root:["iconButtonContainer"]},Qe,l)},h2=Tt("div",{name:"MuiDataGrid",slot:"IconButtonContainer",overridesResolver:(t,l)=>l.iconButtonContainer})(()=>({display:"flex",visibility:"hidden",width:0})),ny=Xe(function(l,s){const{className:i}=l,c=Ee(l,d2),d=we(),g=f2(d);return r.jsx(h2,w({className:lt(g.root,i),ownerState:d},c,{ref:s}))}),g2=["direction","index","sortingOrder","disabled","className"],m2=t=>{const{classes:l}=t;return Ke({root:["sortButton"],icon:["sortIcon"]},Qe,l)};function p2(t,l,s,i){let c;const d={};return l==="asc"?c=t.columnSortedAscendingIcon:l==="desc"?c=t.columnSortedDescendingIcon:(c=t.columnUnsortedIcon,d.sortingOrder=i),c?r.jsx(c,w({fontSize:"small",className:s},d)):null}function b2(t){const{direction:l,index:s,sortingOrder:i,disabled:c,className:d}=t,g=Ee(t,g2),p=Ge(),m=we(),x=w({},t,{classes:m.classes}),b=m2(x),C=p2(m.slots,l,b.icon,i);if(!C)return null;const v=r.jsx(m.slots.baseIconButton,w({tabIndex:-1,"aria-label":p.current.getLocaleText("columnHeaderSortIconLabel"),title:p.current.getLocaleText("columnHeaderSortIconLabel"),size:"small",disabled:c,className:lt(b.root,d)},m.slotProps?.baseIconButton,g,{children:C}));return r.jsxs(ny,{children:[s!=null&&r.jsx(m.slots.baseBadge,{badgeContent:s,color:"default",overlap:"circular",children:v}),s==null&&v]})}const x2=h.memo(b2),C2=t=>{const{classes:l}=t;return Ke({icon:["filterIcon"]},Qe,l)};function y2(t){return t.counter?r.jsx(v2,w({},t)):null}function v2(t){const{counter:l,field:s,onClick:i}=t,c=Ge(),d=we(),g=w({},t,{classes:d.classes}),p=C2(g),m=Ot(),x=Ci(c,AE,m),b=Ot(),C=h.useCallback(M=>{M.preventDefault(),M.stopPropagation();const{open:j,openedPanelValue:T}=Yr(c.current.state);j&&T===Kl.filters?c.current.hideFilterPanel():c.current.showFilterPanel(void 0,b,m),i&&i(c.current.getColumnHeaderParams(s),M)},[c,s,i,b,m]);if(!l)return null;const v=r.jsx(d.slots.baseIconButton,w({id:m,onClick:C,color:"default","aria-label":c.current.getLocaleText("columnHeaderFiltersLabel"),size:"small",tabIndex:-1,"aria-haspopup":"menu","aria-expanded":x,"aria-controls":x?b:void 0},d.slotProps?.baseIconButton,{children:r.jsx(d.slots.columnFilteredIcon,{className:p.icon,fontSize:"small"})}));return r.jsx(d.slots.baseTooltip,w({title:c.current.getLocaleText("columnHeaderFiltersTooltipActive")(l),enterDelay:1e3},d.slotProps?.baseTooltip,{children:r.jsxs(ny,{children:[l>1&&r.jsx(d.slots.baseBadge,{badgeContent:l,color:"default",children:v}),l===1&&v]})}))}const $x=kt(r.jsx("path",{d:"M4 12l1.41 1.41L11 7.83V20h2V7.83l5.58 5.59L20 12l-8-8-8 8z"}),"ArrowUpward"),Wx=kt(r.jsx("path",{d:"M20 12l-1.41-1.41L13 16.17V4h-2v12.17l-5.58-5.59L4 12l8 8 8-8z"}),"ArrowDownward"),qx=kt(r.jsx("path",{d:"M8.59 16.59 13.17 12 8.59 7.41 10 6l6 6-6 6-1.41-1.41z"}),"KeyboardArrowRight"),Yx=kt(r.jsx("path",{d:"M16.59 8.59 12 13.17 7.41 8.59 6 10l6 6 6-6z"}),"ExpandMore"),w2=kt(r.jsx("path",{d:"M10 18h4v-2h-4v2zM3 6v2h18V6H3zm3 7h12v-2H6v2z"}),"FilterList"),Kx=kt(r.jsx("path",{d:"M4.25 5.61C6.27 8.2 10 13 10 13v6c0 .55.45 1 1 1h2c.55 0 1-.45 1-1v-6s3.72-4.8 5.74-7.39c.51-.66.04-1.61-.79-1.61H5.04c-.83 0-1.3.95-.79 1.61z"}),"FilterAlt"),S2=kt(r.jsx("path",{d:"M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19l-4.99-5zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14z"}),"Search");kt(r.jsx("path",{d:"M3 18h18v-2H3v2zm0-5h18v-2H3v2zm0-7v2h18V6H3z"}),"Menu");kt(r.jsx("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-2 15l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z"}),"CheckCircle");const j2=kt(r.jsx("path",{d:"M6 5H3c-.55 0-1 .45-1 1v12c0 .55.45 1 1 1h3c.55 0 1-.45 1-1V6c0-.55-.45-1-1-1zm14 0h-3c-.55 0-1 .45-1 1v12c0 .55.45 1 1 1h3c.55 0 1-.45 1-1V6c0-.55-.45-1-1-1zm-7 0h-3c-.55 0-1 .45-1 1v12c0 .55.45 1 1 1h3c.55 0 1-.45 1-1V6c0-.55-.45-1-1-1z"}),"ColumnIcon"),M2=kt(r.jsx("rect",{width:"1",height:"24",x:"11.5",rx:"0.5"}),"Separator"),E2=kt(r.jsx("path",{d:"M4 15h16v-2H4v2zm0 4h16v-2H4v2zm0-8h16V9H4v2zm0-6v2h16V5H4z"}),"ViewHeadline"),D2=kt(r.jsx("path",{d:"M21,8H3V4h18V8z M21,10H3v4h18V10z M21,16H3v4h18V16z"}),"TableRows"),T2=kt(r.jsx("path",{d:"M4 18h17v-6H4v6zM4 5v6h17V5H4z"}),"ViewStream"),I2=kt(r.jsx("path",{d:"M12 8c1.1 0 2-.9 2-2s-.9-2-2-2-2 .9-2 2 .9 2 2 2zm0 2c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm0 6c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2z"}),"TripleDotsVertical"),ah=kt(r.jsx("path",{d:"M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"}),"Close"),Xx=kt(r.jsx("path",{d:"M19 13h-6v6h-2v-6H5v-2h6V5h2v6h6v2z"}),"Add"),F2=kt(r.jsx("path",{d:"M19 13H5v-2h14v2z"}),"Remove"),A2=kt(r.jsx("path",{d:"M12 4V1L8 5l4 4V6c3.31 0 6 2.69 6 6 0 1.01-.25 1.97-.7 2.8l1.46 1.46C19.54 15.03 20 13.57 20 12c0-4.42-3.58-8-8-8zm0 14c-3.31 0-6-2.69-6-6 0-1.01.25-1.97.7-2.8L5.24 7.74C4.46 8.97 4 10.43 4 12c0 4.42 3.58 8 8 8v3l4-4-4-4v3z"}),"Load"),Qx=kt(r.jsx("path",{d:"M11 18c0 1.1-.9 2-2 2s-2-.9-2-2 .9-2 2-2 2 .9 2 2zm-2-8c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm0-6c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm6 4c1.1 0 2-.9 2-2s-.9-2-2-2-2 .9-2 2 .9 2 2 2zm0 2c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm0 6c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2z"}),"Drag"),z2=kt(r.jsx("path",{d:"M19 12v7H5v-7H3v7c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2v-7h-2zm-6 .67l2.59-2.58L17 11.5l-5 5-5-5 1.41-1.41L11 12.67V3h2z"}),"SaveAlt"),O2=kt(r.jsx("path",{d:"M9 16.17L4.83 12l-1.42 1.41L9 19 21 7l-1.41-1.41z"}),"Check"),k2=kt(r.jsx("path",{d:"M12 8c1.1 0 2-.9 2-2s-.9-2-2-2-2 .9-2 2 .9 2 2 2zm0 2c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm0 6c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2z"}),"MoreVert"),H2=kt(r.jsx("path",{d:"M12 7c2.76 0 5 2.24 5 5 0 .65-.13 1.26-.36 1.83l2.92 2.92c1.51-1.26 2.7-2.89 3.43-4.75-1.73-4.39-6-7.5-11-7.5-1.4 0-2.74.25-3.98.7l2.16 2.16C10.74 7.13 11.35 7 12 7zM2 4.27l2.28 2.28.46.46C3.08 8.3 1.78 10.02 1 12c1.73 4.39 6 7.5 11 7.5 1.55 0 3.03-.3 4.38-.84l.42.42L19.73 22 21 20.73 3.27 3 2 4.27zM7.53 9.8l1.55 1.55c-.05.21-.08.43-.08.65 0 1.66 1.34 3 3 3 .22 0 .44-.03.65-.08l1.55 1.55c-.67.33-1.41.53-2.2.53-2.76 0-5-2.24-5-5 0-.79.2-1.53.53-2.2zm4.31-.78l3.15 3.15.02-.16c0-1.66-1.34-3-3-3l-.17.01z"}),"VisibilityOff"),P2=kt(r.jsx("g",{children:r.jsx("path",{d:"M14.67,5v14H9.33V5H14.67z M15.67,19H21V5h-5.33V19z M8.33,19V5H3v14H8.33z"})}),"ViewColumn"),R2=kt(r.jsx("path",{d:"M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"}),"Clear");kt(r.jsx("path",{d:"M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6v12zM19 4h-3.5l-1-1h-5l-1 1H5v2h14V4z"}),"Delete");const N2=kt(r.jsx("path",{d:"M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6v12zm2.46-7.12l1.41-1.41L12 12.59l2.12-2.12 1.41 1.41L13.41 14l2.12 2.12-1.41 1.41L12 15.41l-2.12 2.12-1.41-1.41L10.59 14l-2.13-2.12zM15.5 4l-1-1h-5l-1 1H5v2h14V4z"}),"Delete");function ly(t){return t.key.length===1&&!t.ctrlKey&&!t.metaKey}const bu=t=>t.indexOf("Arrow")===0||t.indexOf("Page")===0||t===" "||t==="Home"||t==="End",G2=t=>!!t.key,ig=t=>t==="Tab"||t==="Escape";function oy(t){return(t.ctrlKey||t.metaKey)&&String.fromCharCode(t.keyCode)==="V"&&!t.shiftKey&&!t.altKey}function L2(t){return(t.ctrlKey||t.metaKey)&&String.fromCharCode(t.keyCode)==="C"&&!t.shiftKey&&!t.altKey}const _2=["hideMenu","colDef","id","labelledby","className","children","open"],B2=Ut(wu)(()=>({minWidth:248})),V2=Xe(function(l,s){const{hideMenu:i,id:c,labelledby:d,className:g,children:p,open:m}=l,x=Ee(l,_2),b=h.useCallback(C=>{C.key==="Tab"&&C.preventDefault(),ig(C.key)&&i(C)},[i]);return r.jsx(B2,w({id:c,className:lt(N.menuList,g),"aria-labelledby":d,onKeyDown:b,autoFocus:m},x,{ref:s,children:p}))}),U2=["displayOrder"],$2=t=>{const l=kl(),s=we(),{defaultSlots:i,defaultSlotProps:c,slots:d={},slotProps:g={},hideMenu:p,colDef:m,addDividers:x=!0}=t,b=h.useMemo(()=>w({},i,d),[i,d]),C=h.useMemo(()=>{if(!g||Object.keys(g).length===0)return c;const j=w({},g);return Object.entries(c).forEach(([T,I])=>{j[T]=w({},I,g[T]||{})}),j},[c,g]),v=l.current.unstable_applyPipeProcessors("columnMenu",[],t.colDef),M=h.useMemo(()=>{const j=Object.keys(i);return Object.keys(d).filter(T=>!j.includes(T))},[d,i]);return h.useMemo(()=>{const I=Array.from(new Set([...v,...M])).filter(O=>b[O]!=null).sort((O,D)=>{const P=C[O],B=C[D],R=Number.isFinite(P?.displayOrder)?P.displayOrder:100,W=Number.isFinite(B?.displayOrder)?B.displayOrder:100;return R-W});return I.reduce((O,D,P)=>{let B={colDef:m,onClick:p};const R=C[D];if(R){const W=Ee(R,U2);B=w({},B,W)}return x&&P!==I.length-1?[...O,[b[D],B],[s.slots.baseDivider,{}]]:[...O,[b[D],B]]},[])},[x,m,v,p,b,C,M,s.slots.baseDivider])};function W2(t){const{colDef:l,onClick:s}=t,i=Ge(),c=we(),p=qt(i).filter(x=>x.disableColumnMenu!==!0).length===1,m=h.useCallback(x=>{p||(i.current.setColumnVisibility(l.field,!1),s(x))},[i,l.field,s,p]);return c.disableColumnSelector||l.hideable===!1?null:r.jsxs(Re,{onClick:m,disabled:p,children:[r.jsx(hr,{children:r.jsx(c.slots.columnMenuHideIcon,{fontSize:"small"})}),r.jsx(gr,{children:i.current.getLocaleText("columnMenuHideColumn")})]})}function q2(t){const{onClick:l}=t,s=Ge(),i=we(),c=h.useCallback(d=>{l(d),s.current.showPreferences(Kl.columns)},[s,l]);return i.disableColumnSelector?null:r.jsxs(Re,{onClick:c,children:[r.jsx(hr,{children:r.jsx(i.slots.columnMenuManageColumnsIcon,{fontSize:"small"})}),r.jsx(gr,{children:s.current.getLocaleText("columnMenuManageColumns")})]})}function Y2(t){return r.jsxs(h.Fragment,{children:[r.jsx(W2,w({},t)),r.jsx(q2,w({},t))]})}function K2(t){const{colDef:l,onClick:s}=t,i=Ge(),c=we(),d=h.useCallback(g=>{s(g),i.current.showFilterPanel(l.field)},[i,l.field,s]);return c.disableColumnFilter||!l.filterable?null:r.jsxs(Re,{onClick:d,children:[r.jsx(hr,{children:r.jsx(c.slots.columnMenuFilterIcon,{fontSize:"small"})}),r.jsx(gr,{children:i.current.getLocaleText("columnMenuFilter")})]})}function X2(t){const{colDef:l,onClick:s}=t,i=Ge(),c=he(i,Ul),d=we(),g=h.useMemo(()=>l?c.find(C=>C.field===l.field)?.sort:null,[l,c]),p=l.sortingOrder??d.sortingOrder,m=h.useCallback(b=>{s(b);const C=b.currentTarget.getAttribute("data-value")||null;i.current.sortColumn(l.field,C===g?null:C)},[i,l,s,g]);if(d.disableColumnSorting||!l||!l.sortable||!p.some(b=>!!b))return null;const x=b=>{const C=i.current.getLocaleText(b);return typeof C=="function"?C(l):C};return r.jsxs(h.Fragment,{children:[p.includes("asc")&&g!=="asc"?r.jsxs(Re,{onClick:m,"data-value":"asc",children:[r.jsx(hr,{children:r.jsx(d.slots.columnMenuSortAscendingIcon,{fontSize:"small"})}),r.jsx(gr,{children:x("columnMenuSortAsc")})]}):null,p.includes("desc")&&g!=="desc"?r.jsxs(Re,{onClick:m,"data-value":"desc",children:[r.jsx(hr,{children:r.jsx(d.slots.columnMenuSortDescendingIcon,{fontSize:"small"})}),r.jsx(gr,{children:x("columnMenuSortDesc")})]}):null,p.includes(null)&&g!=null?r.jsxs(Re,{onClick:m,children:[r.jsx(hr,{}),r.jsx(gr,{children:i.current.getLocaleText("columnMenuUnsort")})]}):null]})}const Q2=["defaultSlots","defaultSlotProps","slots","slotProps"],Z2={columnMenuSortItem:X2,columnMenuFilterItem:K2,columnMenuColumnsItem:Y2},J2={columnMenuSortItem:{displayOrder:10},columnMenuFilterItem:{displayOrder:20},columnMenuColumnsItem:{displayOrder:30}},eT=Xe(function(l,s){const{defaultSlots:i,defaultSlotProps:c,slots:d,slotProps:g}=l,p=Ee(l,Q2),m=$2(w({},p,{defaultSlots:i,defaultSlotProps:c,slots:d,slotProps:g}));return r.jsx(V2,w({},p,{ref:s,children:m.map(([x,b],C)=>r.jsx(x,w({},b),C))}))}),tT=Xe(function(l,s){return r.jsx(eT,w({},l,{ref:s,defaultSlots:Z2,defaultSlotProps:J2}))}),nT=["className","slotProps"],lT=t=>{const{classes:l}=t;return Ke({root:["panelWrapper"]},Qe,l)},oT=Ut("div",{name:"MuiDataGrid",slot:"PanelWrapper",overridesResolver:(t,l)=>l.panelWrapper})({display:"flex",flexDirection:"column",flex:1,"&:focus":{outline:0}}),rT=()=>!0,ry=Xe(function(l,s){const{className:i,slotProps:c={}}=l,d=Ee(l,nT),g=we(),p=lT(g);return r.jsx(Yw,w({open:!0,disableEnforceFocus:!0,isEnabled:rT},c.TrapFocus,{children:r.jsx(oT,w({tabIndex:-1,className:lt(p.root,i),ownerState:g},d,{ref:s}))}))});function aT(t){const l=we();return r.jsx(ry,w({},t,{children:r.jsx(l.slots.columnsManagement,w({},l.slotProps?.columnsManagement))}))}const sT=["children","className","classes"],iT=EC("MuiDataGrid",["panel","paper"]),cT=Ut(Hh,{name:"MuiDataGrid",slot:"Panel",overridesResolver:(t,l)=>l.panel})(({theme:t})=>({zIndex:t.zIndex.modal})),uT=Ut(tt,{name:"MuiDataGrid",slot:"Paper",overridesResolver:(t,l)=>l.paper})(({theme:t})=>({backgroundColor:(t.vars||t).palette.background.paper,minWidth:300,maxHeight:450,display:"flex",maxWidth:`calc(100vw - ${t.spacing(.5)})`,overflow:"auto"})),dT=Xe((t,l)=>{const{children:s,className:i}=t,c=Ee(t,sT),d=Ge(),g=we(),p=iT,[m,x]=h.useState(!1),b=h.useCallback(()=>{d.current.hidePreferences()},[d]),C=h.useCallback(T=>{T.key==="Escape"&&d.current.hidePreferences()},[d]),v=h.useMemo(()=>[{name:"flip",enabled:!0,options:{rootBoundary:"document"}},{name:"isPlaced",enabled:!0,phase:"main",fn:()=>{x(!0)},effect:()=>()=>{x(!1)}}],[]),[M,j]=h.useState(null);return h.useEffect(()=>{const T=d.current.rootElementRef?.current?.querySelector('[data-id="gridPanelAnchor"]');T&&j(T)},[d]),M?r.jsx(cT,w({placement:"bottom-start",className:lt(p.panel,i),ownerState:g,anchorEl:M,modifiers:v},c,{ref:l,children:r.jsx(TC,{mouseEvent:"onPointerUp",touchEvent:!1,onClickAway:b,children:r.jsx(uT,{className:p.paper,ownerState:g,elevation:8,onKeyDown:C,children:m&&s})})})):null}),fT=["className"],hT=t=>{const{classes:l}=t;return Ke({root:["panelContent"]},Qe,l)},gT=Tt("div",{name:"MuiDataGrid",slot:"PanelContent",overridesResolver:(t,l)=>l.panelContent})({display:"flex",flexDirection:"column",overflow:"auto",flex:"1 1",maxHeight:400});function mT(t){const{className:l}=t,s=Ee(t,fT),i=we(),c=hT(i);return r.jsx(gT,w({className:lt(c.root,l),ownerState:i},s))}const pT=["className"],bT=t=>{const{classes:l}=t;return Ke({root:["panelFooter"]},Qe,l)},xT=Tt("div",{name:"MuiDataGrid",slot:"PanelFooter",overridesResolver:(t,l)=>l.panelFooter})(({theme:t})=>({padding:t.spacing(.5),display:"flex",justifyContent:"space-between"}));function CT(t){const{className:l}=t,s=Ee(t,pT),i=we(),c=bT(i);return r.jsx(xT,w({className:lt(c.root,l),ownerState:i},s))}const yT=["item","hasMultipleFilters","deleteFilter","applyFilterChanges","showMultiFilterOperators","disableMultiFilterOperator","applyMultiFilterOperatorChanges","focusElementRef","logicOperators","columnsSort","filterColumns","deleteIconProps","logicOperatorInputProps","operatorInputProps","columnInputProps","valueInputProps","readOnly","children"],vT=["InputComponentProps"],wT=t=>{const{classes:l}=t;return Ke({root:["filterForm"],deleteIcon:["filterFormDeleteIcon"],logicOperatorInput:["filterFormLogicOperatorInput"],columnInput:["filterFormColumnInput"],operatorInput:["filterFormOperatorInput"],valueInput:["filterFormValueInput"]},Qe,l)},ST=Ut("div",{name:"MuiDataGrid",slot:"FilterForm",overridesResolver:(t,l)=>l.filterForm})(({theme:t})=>({display:"flex",padding:t.spacing(1)})),jT=Ut("div",{name:"MuiDataGrid",slot:"FilterFormDeleteIcon",overridesResolver:(t,l)=>l.filterFormDeleteIcon})(({theme:t})=>({flexShrink:0,justifyContent:"flex-end",marginRight:t.spacing(.5),marginBottom:t.spacing(.2)})),MT=Ut("div",{name:"MuiDataGrid",slot:"FilterFormLogicOperatorInput",overridesResolver:(t,l)=>l.filterFormLogicOperatorInput})({minWidth:55,marginRight:5,justifyContent:"end"}),ET=Ut("div",{name:"MuiDataGrid",slot:"FilterFormColumnInput",overridesResolver:(t,l)=>l.filterFormColumnInput})({width:150}),DT=Ut("div",{name:"MuiDataGrid",slot:"FilterFormOperatorInput",overridesResolver:(t,l)=>l.filterFormOperatorInput})({width:150}),TT=Ut("div",{name:"MuiDataGrid",slot:"FilterFormValueInput",overridesResolver:(t,l)=>l.filterFormValueInput})({width:190}),IT=t=>{switch(t){case Pn.And:return"filterPanelOperatorAnd";case Pn.Or:return"filterPanelOperatorOr";default:throw new Error("MUI X: Invalid `logicOperator` property in the `GridFilterPanel`.")}},li=t=>t.headerName||t.field,Zx=new Intl.Collator,Jx=Xe(function(l,s){const{item:i,hasMultipleFilters:c,deleteFilter:d,applyFilterChanges:g,showMultiFilterOperators:p,disableMultiFilterOperator:m,applyMultiFilterOperatorChanges:x,focusElementRef:b,logicOperators:C=[Pn.And,Pn.Or],columnsSort:v,filterColumns:M,deleteIconProps:j={},logicOperatorInputProps:T={},operatorInputProps:I={},columnInputProps:O={},valueInputProps:D={},readOnly:P}=l,B=Ee(l,yT),R=Ge(),W=he(R,fo),V=he(R,i0),U=he(R,xn),A=Ot(),E=Ot(),_=Ot(),G=Ot(),k=we(),K=wT(k),L=h.useRef(null),S=h.useRef(null),z=U.logicOperator??Pn.And,F=c&&C.length>0,q=k.slotProps?.baseFormControl||{},$=(k.slotProps?.baseSelect||{}).native??!1,Q=k.slotProps?.baseInputLabel||{},oe=k.slotProps?.baseSelectOption||{},{InputComponentProps:ae}=D,fe=Ee(D,vT),{filteredColumns:ce,selectedField:ve}=h.useMemo(()=>{let Ce=i.field;const $e=W[i.field].filterable===!1?W[i.field]:null;if($e)return{filteredColumns:[$e],selectedField:Ce};if(M===void 0||typeof M!="function")return{filteredColumns:V,selectedField:Ce};const Ve=M({field:i.field,columns:V,currentFilters:U?.items||[]});return{filteredColumns:V.filter(_e=>{const It=Ve.includes(_e.field);return _e.field===i.field&&!It&&(Ce=void 0),It}),selectedField:Ce}},[M,U?.items,V,i.field,W]),Te=h.useMemo(()=>{switch(v){case"asc":return ce.sort((Ce,$e)=>Zx.compare(li(Ce),li($e)));case"desc":return ce.sort((Ce,$e)=>-Zx.compare(li(Ce),li($e)));default:return ce}},[ce,v]),je=i.field?R.current.getColumn(i.field):null,Ae=h.useMemo(()=>!i.operator||!je?null:je.filterOperators?.find(Ce=>Ce.value===i.operator),[i,je]),Le=h.useCallback(Ce=>{const $e=Ce.target.value,Ve=R.current.getColumn($e);if(Ve.field===je.field)return;const _e=Ve.filterOperators.find(jt=>jt.value===i.operator)||Ve.filterOperators[0];let St=!_e.InputComponent||_e.InputComponent!==Ae?.InputComponent||Ve.type!==je.type?void 0:i.value;if(Ve.type==="singleSelect"&&St!==void 0){const jt=Ve,ut=qr(jt);Array.isArray(St)?St=St.filter(Mt=>hu(Mt,ut,jt?.getOptionValue)!==void 0):hu(i.value,ut,jt?.getOptionValue)===void 0&&(St=void 0)}g(w({},i,{field:$e,operator:_e.value,value:St}))},[R,g,i,je,Ae]),be=h.useCallback(Ce=>{const $e=Ce.target.value,Ve=je?.filterOperators.find(It=>It.value===$e),_e=!Ve?.InputComponent||Ve?.InputComponent!==Ae?.InputComponent;g(w({},i,{operator:$e,value:_e?void 0:i.value}))},[g,i,je,Ae]),Me=h.useCallback(Ce=>{const $e=Ce.target.value===Pn.And.toString()?Pn.And:Pn.Or;x($e)},[x]),ze=()=>{d(i)};return h.useImperativeHandle(b,()=>({focus:()=>{Ae?.InputComponent?L?.current?.focus():S.current.focus()}}),[Ae]),r.jsxs(ST,w({className:K.root,"data-id":i.id,ownerState:k},B,{ref:s,children:[r.jsx(jT,w({variant:"standard",as:k.slots.baseFormControl},q,j,{className:lt(K.deleteIcon,q.className,j.className),ownerState:k,children:r.jsx(k.slots.baseIconButton,w({"aria-label":R.current.getLocaleText("filterPanelDeleteIconLabel"),title:R.current.getLocaleText("filterPanelDeleteIconLabel"),onClick:ze,size:"small",disabled:P},k.slotProps?.baseIconButton,{children:r.jsx(k.slots.filterPanelDeleteIcon,{fontSize:"small"})}))})),r.jsx(MT,w({variant:"standard",as:k.slots.baseFormControl},q,T,{sx:[F?{display:"flex"}:{display:"none"},p?{visibility:"visible"}:{visibility:"hidden"},q.sx,T.sx],className:lt(K.logicOperatorInput,q.className,T.className),ownerState:k,children:r.jsx(k.slots.baseSelect,w({inputProps:{"aria-label":R.current.getLocaleText("filterPanelLogicOperator")},value:z??"",onChange:Me,disabled:!!m||C.length===1,native:$},k.slotProps?.baseSelect,{children:C.map(Ce=>h.createElement(k.slots.baseSelectOption,w({},oe,{native:$,key:Ce.toString(),value:Ce.toString()}),R.current.getLocaleText(IT(Ce))))}))})),r.jsxs(ET,w({variant:"standard",as:k.slots.baseFormControl},q,O,{className:lt(K.columnInput,q.className,O.className),ownerState:k,children:[r.jsx(k.slots.baseInputLabel,w({},Q,{htmlFor:A,id:E,children:R.current.getLocaleText("filterPanelColumns")})),r.jsx(k.slots.baseSelect,w({labelId:E,id:A,label:R.current.getLocaleText("filterPanelColumns"),value:ve??"",onChange:Le,native:$,disabled:P},k.slotProps?.baseSelect,{children:Te.map(Ce=>h.createElement(k.slots.baseSelectOption,w({},oe,{native:$,key:Ce.field,value:Ce.field}),li(Ce)))}))]})),r.jsxs(DT,w({variant:"standard",as:k.slots.baseFormControl},q,I,{className:lt(K.operatorInput,q.className,I.className),ownerState:k,children:[r.jsx(k.slots.baseInputLabel,w({},Q,{htmlFor:_,id:G,children:R.current.getLocaleText("filterPanelOperator")})),r.jsx(k.slots.baseSelect,w({labelId:G,label:R.current.getLocaleText("filterPanelOperator"),id:_,value:i.operator,onChange:be,native:$,inputRef:S,disabled:P},k.slotProps?.baseSelect,{children:je?.filterOperators?.map(Ce=>h.createElement(k.slots.baseSelectOption,w({},oe,{native:$,key:Ce.value,value:Ce.value}),Ce.label||R.current.getLocaleText(`filterOperator${Qa(Ce.value)}`)))}))]})),r.jsx(TT,w({variant:"standard",as:k.slots.baseFormControl},q,fe,{className:lt(K.valueInput,q.className,fe.className),ownerState:k,children:Ae?.InputComponent?r.jsx(Ae.InputComponent,w({apiRef:R,item:i,applyValue:g,focusElementRef:L,disabled:P},Ae.InputComponentProps,ae),i.field):null}))]}))}),FT=["logicOperators","columnsSort","filterFormProps","getColumnForNewFilter","children","disableAddFilterButton","disableRemoveAllButton"],eC=t=>({field:t.field,operator:t.filterOperators[0].value,id:Math.round(Math.random()*1e5)}),AT=Xe(function(l,s){const i=Ge(),c=we(),d=he(i,xn),g=he(i,i0),p=he(i,O1),m=h.useRef(null),x=h.useRef(null),{logicOperators:b=[Pn.And,Pn.Or],columnsSort:C,filterFormProps:v,getColumnForNewFilter:M,disableAddFilterButton:j=!1,disableRemoveAllButton:T=!1}=l,I=Ee(l,FT),O=i.current.upsertFilterItem,D=h.useCallback(G=>{i.current.setFilterLogicOperator(G)},[i]),P=h.useCallback(()=>{let G;if(M&&typeof M=="function"){const k=M({currentFilters:d?.items||[],columns:g});if(k===null)return null;G=g.find(({field:K})=>K===k)}else G=g.find(k=>k.filterOperators?.length);return G?eC(G):null},[d?.items,g,M]),B=h.useCallback(()=>{if(M===void 0||typeof M!="function")return P();const G=d.items.length?d.items:[P()].filter(Boolean),k=M({currentFilters:G,columns:g});if(k===null)return null;const K=g.find(({field:L})=>L===k);return K?eC(K):null},[d.items,g,M,P]),R=h.useMemo(()=>d.items.length?d.items:(x.current||(x.current=P()),x.current?[x.current]:[]),[d.items,P]),W=R.length>1,{readOnlyFilters:V,validFilters:U}=h.useMemo(()=>R.reduce((G,k)=>(p[k.field]?G.validFilters.push(k):G.readOnlyFilters.push(k),G),{readOnlyFilters:[],validFilters:[]}),[R,p]),A=h.useCallback(()=>{const G=B();G&&i.current.upsertFilterItems([...R,G])},[i,B,R]),E=h.useCallback(G=>{const k=U.length===1;i.current.deleteFilterItem(G),k&&i.current.hideFilterPanel()},[i,U.length]),_=h.useCallback(()=>U.length===1&&U[0].value===void 0?(i.current.deleteFilterItem(U[0]),i.current.hideFilterPanel()):i.current.setFilterModel(w({},d,{items:V}),"removeAllFilterItems"),[i,V,d,U]);return h.useEffect(()=>{b.length>0&&d.logicOperator&&!b.includes(d.logicOperator)&&D(b[0])},[b,D,d.logicOperator]),h.useEffect(()=>{U.length>0&&m.current.focus()},[U.length]),r.jsxs(ry,w({},I,{ref:s,children:[r.jsxs(mT,{children:[V.map((G,k)=>r.jsx(Jx,w({item:G,applyFilterChanges:O,deleteFilter:E,hasMultipleFilters:W,showMultiFilterOperators:k>0,disableMultiFilterOperator:k!==1,applyMultiFilterOperatorChanges:D,focusElementRef:null,readOnly:!0,logicOperators:b,columnsSort:C},v),G.id==null?k:G.id)),U.map((G,k)=>r.jsx(Jx,w({item:G,applyFilterChanges:O,deleteFilter:E,hasMultipleFilters:W,showMultiFilterOperators:V.length+k>0,disableMultiFilterOperator:V.length+k!==1,applyMultiFilterOperatorChanges:D,focusElementRef:k===U.length-1?m:null,logicOperators:b,columnsSort:C},v),G.id==null?k+V.length:G.id))]}),!c.disableMultipleColumnsFiltering&&!(j&&T)?r.jsxs(CT,{children:[j?r.jsx("span",{}):r.jsx(c.slots.baseButton,w({onClick:A,startIcon:r.jsx(c.slots.filterPanelAddIcon,{})},c.slotProps?.baseButton,{children:i.current.getLocaleText("filterPanelAddFilter")})),!T&&U.length>0?r.jsx(c.slots.baseButton,w({onClick:_,startIcon:r.jsx(c.slots.filterPanelRemoveAllIcon,{})},c.slotProps?.baseButton,{children:i.current.getLocaleText("filterPanelRemoveAll")})):null]}):null]}))}),zT=(t,l)=>{const s=new Set(Object.keys(t).filter(d=>t[d]===!1)),i=new Set(Object.keys(l).filter(d=>l[d]===!1));if(s.size!==i.size)return!1;let c=!0;return s.forEach(d=>{i.has(d)||(c=!1)}),c},OT=(t,l)=>(t.headerName||t.field).toLowerCase().indexOf(l)>-1,kT=t=>{const{classes:l}=t;return Ke({root:["columnsManagement"],header:["columnsManagementHeader"],searchInput:["columnsManagementSearchInput"],footer:["columnsManagementFooter"],row:["columnsManagementRow"]},Qe,l)},tC=new Intl.Collator;function HT(t){const l=Ge(),s=h.useRef(null),i=he(l,Fl),c=io(()=>Tl(l)).current,d=he(l,Tl),g=we(),[p,m]=h.useState(""),x=kT(g),{sort:b,searchPredicate:C=OT,autoFocusSearchField:v=!0,disableShowHideToggle:M=!1,disableResetButton:j=!1,toggleAllMode:T="all",getTogglableColumns:I,searchInputProps:O}=t,D=h.useMemo(()=>zT(d,c),[d,c]),P=h.useMemo(()=>{switch(b){case"asc":return[...i].sort((L,S)=>tC.compare(L.headerName||L.field,S.headerName||S.field));case"desc":return[...i].sort((L,S)=>-tC.compare(L.headerName||L.field,S.headerName||S.field));default:return i}},[i,b]),B=L=>{const{name:S}=L.target;l.current.setColumnVisibility(S,d[S]===!1)},R=h.useMemo(()=>{const L=I?I(P):null,S=L?P.filter(({field:z})=>L.includes(z)):P;return p?S.filter(z=>C(z,p.toLowerCase())):S},[P,p,C,I]),W=h.useCallback(L=>{const S=Tl(l),z=w({},S),F=I?I(i):null;return(T==="filteredOnly"?R:i).forEach(q=>{q.hideable&&(F==null||F.includes(q.field))&&(L?delete z[q.field]:z[q.field]=!1)}),l.current.setColumnVisibilityModel(z)},[l,i,I,T,R]),V=h.useCallback(L=>{m(L.target.value)},[]),U=h.useMemo(()=>R.filter(L=>L.hideable),[R]),A=h.useMemo(()=>U.every(L=>d[L.field]==null||d[L.field]!==!1),[d,U]),E=h.useMemo(()=>U.every(L=>d[L.field]===!1),[d,U]),_=h.useRef(null);h.useEffect(()=>{v?s.current.focus():_.current&&typeof _.current.focus=="function"&&_.current.focus()},[v]);let G=!1;const k=L=>G===!1&&L.hideable!==!1?(G=!0,!0):!1,K=h.useCallback(()=>{m(""),s.current.focus()},[]);return r.jsxs(h.Fragment,{children:[r.jsx(RT,{className:x.header,ownerState:g,children:r.jsx(NT,w({as:g.slots.baseTextField,ownerState:g,placeholder:l.current.getLocaleText("columnsManagementSearchTitle"),inputRef:s,className:x.searchInput,value:p,onChange:V,variant:"outlined",size:"small",type:"search",InputProps:{startAdornment:r.jsx(g.slots.baseInputAdornment,{position:"start",children:r.jsx(g.slots.quickFilterIcon,{})}),endAdornment:r.jsx(g.slots.baseIconButton,w({"aria-label":l.current.getLocaleText("columnsManagementDeleteIconLabel"),size:"small",sx:[p?{visibility:"visible"}:{visibility:"hidden"}],tabIndex:-1,onClick:K},g.slotProps?.baseIconButton,{children:r.jsx(g.slots.quickFilterClearIcon,{fontSize:"small"})}))},inputProps:{"aria-label":l.current.getLocaleText("columnsManagementSearchTitle")},autoComplete:"off",fullWidth:!0},g.slotProps?.baseTextField,O))}),r.jsxs(PT,{className:x.root,ownerState:g,children:[R.map(L=>r.jsx(bi,{className:x.row,control:r.jsx(g.slots.baseCheckbox,w({disabled:L.hideable===!1,checked:d[L.field]!==!1,onClick:B,name:L.field,sx:{p:.5},inputRef:k(L)?_:void 0},g.slotProps?.baseCheckbox)),label:L.headerName||L.field},L.field)),R.length===0&&r.jsx(LT,{ownerState:g,children:l.current.getLocaleText("columnsManagementNoColumns")})]}),(!M||!j)&&R.length>0?r.jsxs(GT,{ownerState:g,className:x.footer,children:[M?r.jsx("span",{}):r.jsx(bi,{control:r.jsx(g.slots.baseCheckbox,w({disabled:U.length===0,checked:A,indeterminate:!A&&!E,onClick:()=>W(!A),name:l.current.getLocaleText("columnsManagementShowHideAllText"),sx:{p:.5}},g.slotProps?.baseCheckbox)),label:l.current.getLocaleText("columnsManagementShowHideAllText")}),j?null:r.jsx(g.slots.baseButton,w({onClick:()=>l.current.setColumnVisibilityModel(c),disabled:D},g.slotProps?.baseButton,{children:l.current.getLocaleText("columnsManagementReset")}))]}):null]})}const PT=Ut("div",{name:"MuiDataGrid",slot:"ColumnsManagement",overridesResolver:(t,l)=>l.columnsManagement})(({theme:t})=>({padding:t.spacing(0,3,1.5),display:"flex",flexDirection:"column",overflow:"auto",flex:"1 1",maxHeight:400,alignItems:"flex-start"})),RT=Ut("div",{name:"MuiDataGrid",slot:"ColumnsManagementHeader",overridesResolver:(t,l)=>l.columnsManagementHeader})(({theme:t})=>({padding:t.spacing(1.5,3)})),NT=Ut(Ne,{name:"MuiDataGrid",slot:"ColumnsManagementSearchInput",overridesResolver:(t,l)=>l.columnsManagementSearchInput})(({theme:t})=>({[`& .${Zs.root}`]:{padding:t.spacing(0,1.5,0,1.5)},[`& .${Zs.input}::-webkit-search-decoration,
  & .${Zs.input}::-webkit-search-cancel-button,
  & .${Zs.input}::-webkit-search-results-button,
  & .${Zs.input}::-webkit-search-results-decoration`]:{display:"none"}})),GT=Ut("div",{name:"MuiDataGrid",slot:"ColumnsManagementFooter",overridesResolver:(t,l)=>l.columnsManagementFooter})(({theme:t})=>({padding:t.spacing(.5,1,.5,3),display:"flex",justifyContent:"space-between",borderTop:`1px solid ${t.palette.divider}`})),LT=Ut("div")(({theme:t})=>({padding:t.spacing(.5,0),color:t.palette.grey[500]})),_T=Xe(function(l,s){const{slotProps:i={}}=l,c=i.button||{},d=i.tooltip||{},g=Ot(),p=Ot(),m=Ge(),x=we(),b=he(m,Yr),C=M=>{b.open&&b.openedPanelValue===Kl.columns?m.current.hidePreferences():m.current.showPreferences(Kl.columns,p,g),c.onClick?.(M)};if(x.disableColumnSelector)return null;const v=b.open&&b.panelId===p;return r.jsx(x.slots.baseTooltip,w({title:m.current.getLocaleText("toolbarColumnsLabel"),enterDelay:1e3},x.slotProps?.baseTooltip,d,{children:r.jsx(x.slots.baseButton,w({id:g,size:"small","aria-label":m.current.getLocaleText("toolbarColumnsLabel"),"aria-haspopup":"menu","aria-expanded":v,"aria-controls":v?p:void 0,startIcon:r.jsx(x.slots.columnSelectorIcon,{})},x.slotProps?.baseButton,c,{onPointerUp:M=>{b.open&&M.stopPropagation(),c.onPointerUp?.(M)},onClick:C,ref:s,children:m.current.getLocaleText("toolbarColumns")}))}))}),BT=Xe(function(l,s){const{slotProps:i={}}=l,c=i.button||{},d=i.tooltip||{},g=Ge(),p=we(),m=he(g,Ur),x=Ot(),b=Ot(),[C,v]=h.useState(!1),M=h.useRef(null),j=Po(s,M),T=[{icon:r.jsx(p.slots.densityCompactIcon,{}),label:g.current.getLocaleText("toolbarDensityCompact"),value:"compact"},{icon:r.jsx(p.slots.densityStandardIcon,{}),label:g.current.getLocaleText("toolbarDensityStandard"),value:"standard"},{icon:r.jsx(p.slots.densityComfortableIcon,{}),label:g.current.getLocaleText("toolbarDensityComfortable"),value:"comfortable"}],I=h.useMemo(()=>{switch(m){case"compact":return r.jsx(p.slots.densityCompactIcon,{});case"comfortable":return r.jsx(p.slots.densityComfortableIcon,{});default:return r.jsx(p.slots.densityStandardIcon,{})}},[m,p]),O=W=>{v(V=>!V),c.onClick?.(W)},D=()=>{v(!1)},P=W=>{g.current.setDensity(W),v(!1)},B=W=>{W.key==="Tab"&&W.preventDefault(),ig(W.key)&&v(!1)};if(p.disableDensitySelector)return null;const R=T.map((W,V)=>r.jsxs(Re,{onClick:()=>P(W.value),selected:W.value===m,children:[r.jsx(hr,{children:W.icon}),W.label]},V));return r.jsxs(h.Fragment,{children:[r.jsx(p.slots.baseTooltip,w({title:g.current.getLocaleText("toolbarDensityLabel"),enterDelay:1e3},p.slotProps?.baseTooltip,d,{children:r.jsx(p.slots.baseButton,w({size:"small",startIcon:I,"aria-label":g.current.getLocaleText("toolbarDensityLabel"),"aria-haspopup":"menu","aria-expanded":C,"aria-controls":C?b:void 0,id:x},p.slotProps?.baseButton,c,{onClick:O,ref:j,children:g.current.getLocaleText("toolbarDensity")}))})),r.jsx(Mu,{open:C,target:M.current,onClose:D,position:"bottom-start",children:r.jsx(wu,{id:b,className:N.menuList,"aria-labelledby":x,onKeyDown:B,autoFocusItem:C,children:R})})]})}),VT=t=>{const{classes:l}=t;return Ke({root:["toolbarFilterList"]},Qe,l)},UT=Ut("ul",{name:"MuiDataGrid",slot:"ToolbarFilterList",overridesResolver:(t,l)=>l.toolbarFilterList})(({theme:t})=>({margin:t.spacing(1,1,.5),padding:t.spacing(0,1)})),$T=Xe(function(l,s){const{slotProps:i={}}=l,c=i.button||{},d=i.tooltip||{},g=i.badge||{},p=Ge(),m=we(),x=he(p,Qh),b=he(p,fo),C=he(p,Yr),v=VT(m),M=Ot(),j=Ot(),T=h.useMemo(()=>{if(C.open)return p.current.getLocaleText("toolbarFiltersTooltipHide");if(x.length===0)return p.current.getLocaleText("toolbarFiltersTooltipShow");const D=B=>b[B.field].filterOperators.find(R=>R.value===B.operator).label||p.current.getLocaleText(`filterOperator${Qa(B.operator)}`).toString(),P=B=>{const{getValueAsString:R}=b[B.field].filterOperators.find(W=>W.value===B.operator);return R?R(B.value):B.value};return r.jsxs("div",{children:[p.current.getLocaleText("toolbarFiltersTooltipActive")(x.length),r.jsx(UT,{className:v.root,ownerState:m,children:x.map((B,R)=>w({},b[B.field]&&r.jsx("li",{children:`${b[B.field].headerName||B.field}
                  ${D(B)}
                  ${B.value!=null?P(B):""}`},R)))})]})},[p,m,C.open,x,b,v]),I=D=>{const{open:P,openedPanelValue:B}=C;P&&B===Kl.filters?p.current.hidePreferences():p.current.showPreferences(Kl.filters,j,M),c.onClick?.(D)};if(m.disableColumnFilter)return null;const O=C.open&&C.panelId===j;return r.jsx(m.slots.baseTooltip,w({title:T,enterDelay:1e3},m.slotProps?.baseTooltip,d,{children:r.jsx(m.slots.baseButton,w({id:M,size:"small","aria-label":p.current.getLocaleText("toolbarFiltersLabel"),"aria-controls":O?j:void 0,"aria-expanded":O,"aria-haspopup":!0,startIcon:r.jsx(m.slots.baseBadge,w({badgeContent:x.length,color:"primary"},m.slotProps?.baseBadge,g,{children:r.jsx(m.slots.openFilterButtonIcon,{})}))},m.slotProps?.baseButton,c,{onClick:I,onPointerUp:D=>{C.open&&D.stopPropagation(),c.onPointerUp?.(D)},ref:s,children:p.current.getLocaleText("toolbarFilters")}))}))}),WT=Xe(function(l,s){const{children:i,slotProps:c={}}=l,d=c.button||{},g=c.tooltip||{},p=Ge(),m=we(),x=Ot(),b=Ot(),[C,v]=h.useState(!1),M=h.useRef(null),j=Po(s,M),T=D=>{v(P=>!P),d.onClick?.(D)},I=()=>v(!1),O=D=>{D.key==="Tab"&&D.preventDefault(),ig(D.key)&&I()};return i==null?null:r.jsxs(h.Fragment,{children:[r.jsx(m.slots.baseTooltip,w({title:p.current.getLocaleText("toolbarExportLabel"),enterDelay:1e3},m.slotProps?.baseTooltip,g,{children:r.jsx(m.slots.baseButton,w({size:"small",startIcon:r.jsx(m.slots.exportIcon,{}),"aria-expanded":C,"aria-label":p.current.getLocaleText("toolbarExportLabel"),"aria-haspopup":"menu","aria-controls":C?b:void 0,id:x},m.slotProps?.baseButton,d,{onClick:T,ref:j,children:p.current.getLocaleText("toolbarExport")}))})),r.jsx(Mu,{open:C,target:M.current,onClose:I,position:"bottom-start",children:r.jsx(wu,{id:b,className:N.menuList,"aria-labelledby":x,onKeyDown:O,autoFocusItem:C,children:h.Children.map(i,D=>h.isValidElement(D)?h.cloneElement(D,{hideMenu:I}):D)})})]})}),qT=["hideMenu","options"],YT=["hideMenu","options"],KT=["csvOptions","printOptions","excelOptions"];function XT(t){const l=Ge(),{hideMenu:s,options:i}=t,c=Ee(t,qT);return r.jsx(Re,w({onClick:()=>{l.current.exportDataAsCsv(i),s?.()}},c,{children:l.current.getLocaleText("toolbarExportCSV")}))}function QT(t){const l=Ge(),{hideMenu:s,options:i}=t,c=Ee(t,YT);return r.jsx(Re,w({onClick:()=>{l.current.exportDataAsPrint(i),s?.()}},c,{children:l.current.getLocaleText("toolbarExportPrint")}))}const ZT=Xe(function(l,s){const i=l,{csvOptions:c={},printOptions:d={},excelOptions:g}=i,p=Ee(i,KT),x=Ge().current.unstable_applyPipeProcessors("exportMenu",[],{excelOptions:g,csvOptions:c,printOptions:d}).sort((b,C)=>b.componentName>C.componentName?1:-1);return x.length===0?null:r.jsx(WT,w({},p,{ref:s,children:x.map((b,C)=>h.cloneElement(b.component,{key:C}))}))}),JT=["quickFilterParser","quickFilterFormatter","debounceMs","className"],eI=t=>{const{classes:l}=t;return Ke({root:["toolbarQuickFilter"]},Qe,l)},tI=Ut(Ne,{name:"MuiDataGrid",slot:"ToolbarQuickFilter",overridesResolver:(t,l)=>l.toolbarQuickFilter})(({theme:t})=>({width:"auto",paddingBottom:t.spacing(.5),"& input":{marginLeft:t.spacing(.5)},"& .MuiInput-underline:before":{borderBottom:`1px solid ${(t.vars||t).palette.divider}`},'& input[type="search"]::-webkit-search-decoration,\n  & input[type="search"]::-webkit-search-cancel-button,\n  & input[type="search"]::-webkit-search-results-button,\n  & input[type="search"]::-webkit-search-results-decoration':{display:"none"}})),nI=t=>t.split(" ").filter(l=>l!==""),lI=t=>t.join(" ");function oI(t){const l=Ge(),s=we(),i=eI(s),c=he(l,x0),{quickFilterParser:d=nI,quickFilterFormatter:g=lI,debounceMs:p=s.filterDebounceMs,className:m}=t,x=Ee(t,JT),[b,C]=h.useState(()=>g(c??[])),v=h.useRef(c);h.useEffect(()=>{ro(v.current,c)||(v.current=c,C(O=>ro(d(O),c)?O:g(c??[])))},[c,g,d]);const M=h.useCallback(O=>{const D=d(O);v.current=D,l.current.setQuickFilterValues(D)},[l,d]),j=h.useMemo(()=>Kw(M,p),[M,p]);h.useEffect(()=>j.clear,[j]);const T=h.useCallback(O=>{const D=O.target.value;C(D),j(D)},[j]),I=h.useCallback(()=>{C(""),M("")},[M]);return r.jsx(tI,w({as:s.slots.baseTextField,ownerState:s,variant:"standard",value:b,onChange:T,className:lt(i.root,m),placeholder:l.current.getLocaleText("toolbarQuickFilterPlaceholder"),"aria-label":l.current.getLocaleText("toolbarQuickFilterLabel"),type:"search"},x,{InputProps:w({startAdornment:r.jsx(s.slots.quickFilterIcon,{fontSize:"small"}),endAdornment:r.jsx(s.slots.baseIconButton,w({"aria-label":l.current.getLocaleText("toolbarQuickFilterDeleteIconLabel"),size:"small",sx:[b?{visibility:"visible"}:{visibility:"hidden"}],onClick:I},s.slotProps?.baseIconButton,{children:r.jsx(s.slots.quickFilterClearIcon,{fontSize:"small"})}))},x.InputProps)},s.slotProps?.baseTextField))}const rI=["className","csvOptions","printOptions","excelOptions","showQuickFilter","quickFilterProps"],Zn=Xe(function(l,s){const i=l,{csvOptions:c,printOptions:d,excelOptions:g,showQuickFilter:p=!1,quickFilterProps:m={}}=i,x=Ee(i,rI),b=we();return b.disableColumnFilter&&b.disableColumnSelector&&b.disableDensitySelector&&!p?null:r.jsxs(OD,w({},x,{ref:s,children:[r.jsx(_T,{}),r.jsx($T,{}),r.jsx(BT,{}),r.jsx(ZT,{csvOptions:c,printOptions:d,excelOptions:g}),r.jsx("div",{style:{flex:1}}),p&&r.jsx(oI,w({},m))]}))}),aI=["className","selectedRowCount"],sI=t=>{const{classes:l}=t;return Ke({root:["selectedRowCount"]},Qe,l)},iI=Tt("div",{name:"MuiDataGrid",slot:"SelectedRowCount",overridesResolver:(t,l)=>l.selectedRowCount})(({theme:t})=>({alignItems:"center",display:"flex",margin:t.spacing(0,2),visibility:"hidden",width:0,height:0,[t.breakpoints.up("sm")]:{visibility:"visible",width:"auto",height:"auto"}})),cI=Xe(function(l,s){const{className:i,selectedRowCount:c}=l,d=Ee(l,aI),g=Ge(),p=we(),m=sI(p),x=g.current.getLocaleText("footerRowSelected")(c);return r.jsx(iI,w({className:lt(m.root,i),ownerState:p},d,{ref:s,children:x}))}),uI=Xe(function(l,s){const i=Ge(),c=we(),d=he(i,m1),g=he(i,yj),p=he(i,Xh),m=!c.hideFooterSelectedRowCount&&g>0?r.jsx(cI,{selectedRowCount:g}):r.jsx("div",{}),x=!c.hideFooterRowCount&&!c.pagination?r.jsx(c.slots.footerRowCount,w({},c.slotProps?.footerRowCount,{rowCount:d,visibleRowCount:p})):null,b=c.pagination&&!c.hideFooterPagination&&c.slots.pagination&&r.jsx(c.slots.pagination,w({},c.slotProps?.pagination));return r.jsxs(ED,w({},l,{ref:s,children:[m,x,b]}))}),pi=(t,l,s,i,c,d)=>{let g;switch(t){case et.LEFT:g=i[s];break;case et.RIGHT:g=c-i[s]-l+d;break;default:g=void 0;break}return g},xu=(t,l,s,i,c)=>{const d=l===s-1;return t===et.LEFT&&d?!0:i?t===et.LEFT?!0:t===et.RIGHT?!d:!d||c:!1},Cu=(t,l)=>t===et.RIGHT&&l===0,oi={root:N.scrollbarFiller,header:N["scrollbarFiller--header"],borderTop:N["scrollbarFiller--borderTop"],borderBottom:N["scrollbarFiller--borderBottom"],pinnedRight:N["scrollbarFiller--pinnedRight"]};function cg({header:t,borderTop:l=!0,borderBottom:s,pinnedRight:i}){return r.jsx("div",{role:"presentation",className:lt(oi.root,t&&oi.header,l&&oi.borderTop,s&&oi.borderBottom,i&&oi.pinnedRight)})}const dI=Tt("div",{name:"MuiDataGrid",slot:"SkeletonLoadingOverlay",overridesResolver:(t,l)=>l.skeletonLoadingOverlay})({minWidth:"100%",width:"max-content",height:"100%",overflow:"clip"}),fI=t=>{const{classes:l}=t;return Ke({root:["skeletonLoadingOverlay"]},Qe,l)},nC=t=>parseInt(t.getAttribute("data-colindex"),10),hI=Xe(function(l,s){const i=we(),{slots:c}=i,d=co(),g=fI({classes:i.classes}),p=h.useRef(null),m=Po(p,s),x=Ge(),b=he(x,mn),C=b?.viewportInnerSize.height??0,v=Math.ceil(C/b.rowHeight),M=he(x,ju),j=he(x,Cr),T=h.useMemo(()=>j.filter(W=>W<=M).length,[M,j]),I=he(x,qt),O=h.useMemo(()=>I.slice(0,T),[I,T]),D=he(x,ns),P=h.useCallback(W=>{if(D.left.findIndex(V=>V.field===W)!==-1)return et.LEFT;if(D.right.findIndex(V=>V.field===W)!==-1)return et.RIGHT},[D.left,D.right]),B=h.useMemo(()=>{const W=[];for(let V=0;V<v;V+=1){const U=[];for(let A=0;A<O.length;A+=1){const E=O[A],_=P(E.field),G=_===et.LEFT,k=_===et.RIGHT,K=X0(_,d),L=K?D[K].length:O.length-D.left.length-D.right.length,S=K?D[K].findIndex(Ae=>Ae.field===E.field):A-D.left.length,z=b.hasScrollY?b.scrollbarSize:0,F=Hu({},d,_,pi(_,E.computedWidth,A,j,b.columnsTotalWidth,z)),q=b.columnsTotalWidth<b.viewportOuterSize.width,Y=xu(_,S,L,i.showCellVerticalBorder,q),$=Cu(_,S),Q=A===O.length-1,oe=k&&S===0,ae=oe&&q,fe=Q&&!oe&&q,ce=b.viewportOuterSize.width-b.columnsTotalWidth,ve=Math.max(0,ce),Te=r.jsx(c.skeletonCell,{width:ve,empty:!0},`skeleton-filler-column-${V}`),je=Q&&z!==0;ae&&U.push(Te),U.push(r.jsx(c.skeletonCell,{field:E.field,type:E.type,align:E.align,width:"var(--width)",height:b.rowHeight,"data-colindex":A,className:lt(G&&N["cell--pinnedLeft"],k&&N["cell--pinnedRight"],Y&&N["cell--withRightBorder"],$&&N["cell--withLeftBorder"]),style:w({"--width":`${E.computedWidth}px`},F)},`skeleton-column-${V}-${E.field}`)),fe&&U.push(Te),je&&U.push(r.jsx(cg,{pinnedRight:D.right.length>0},`skeleton-scrollbar-filler-${V}`))}W.push(r.jsx("div",{className:lt(N.row,N.rowSkeleton,V===0&&N["row--firstVisible"]),children:U},`skeleton-row-${V}`))}return W},[c,O,D,v,i.showCellVerticalBorder,b,j,P,d]);return ye(x,"columnResize",W=>{const{colDef:V,width:U}=W,A=p.current?.querySelectorAll(`[data-field="${No(V.field)}"]`);if(!A)throw new Error("MUI X: Expected skeleton cells to be defined with `data-field` attribute.");const E=O.findIndex(S=>S.field===V.field),_=P(V.field),G=_===et.LEFT,k=_===et.RIGHT,K=getComputedStyle(A[0]).getPropertyValue("--width"),L=parseInt(K,10)-U;A&&A.forEach(S=>{S.style.setProperty("--width",`${U}px`)}),G&&p.current?.querySelectorAll(`.${N["cell--pinnedLeft"]}`)?.forEach(z=>{nC(z)>E&&(z.style.left=`${parseInt(getComputedStyle(z).left,10)-L}px`)}),k&&p.current?.querySelectorAll(`.${N["cell--pinnedRight"]}`)?.forEach(z=>{nC(z)<E&&(z.style.right=`${parseInt(getComputedStyle(z).right,10)+L}px`)})}),r.jsx(dI,w({className:g.root},l,{ref:m,children:B}))}),gI=["variant","noRowsVariant","style"],mI={"circular-progress":{component:_n,style:{}},"linear-progress":{component:Ph,style:{display:"block"}},skeleton:{component:hI,style:{display:"block"}}},pI=Xe(function(l,s){const{variant:i="circular-progress",noRowsVariant:c="circular-progress",style:d}=l,g=Ee(l,gI),p=Ge(),m=he(p,Ti),x=mI[m===0?c:i];return r.jsx(ag,w({style:w({},x.style,d)},g,{ref:s,children:r.jsx(x.component,{})}))}),bI=Xe(function(l,s){const c=Ge().current.getLocaleText("noRowsLabel");return r.jsx(ag,w({},l,{ref:s,children:c}))}),xI=Ut(Xw)(({theme:t})=>({maxHeight:"calc(100% + 1px)",flexGrow:1,[`& .${ax.selectLabel}`]:{display:"none",[t.breakpoints.up("sm")]:{display:"block"}},[`& .${ax.input}`]:{display:"none",[t.breakpoints.up("sm")]:{display:"inline-flex"}}})),CI=(t,l)=>({from:s,to:i,count:c,page:d})=>t({from:s,to:i,count:c,page:d,estimated:l}),yI=({from:t,to:l,count:s,estimated:i})=>i?`${t}${l} of ${s!==-1?s:`more than ${i>l?i:l}`}`:`${t}${l} of ${s!==-1?s:`more than ${l}`}`,vI=Xe(function(l,s){const i=Ge(),c=we(),d=he(i,zn),g=he(i,_a),p=he(i,F0),{paginationMode:m,loading:x,estimatedRowCount:b}=c,C=h.useMemo(()=>g===-1&&m==="server"&&x?{backIconButtonProps:{disabled:!0},nextIconButtonProps:{disabled:!0}}:{},[x,m,g]),v=h.useMemo(()=>Math.max(0,p-1),[p]),M=h.useMemo(()=>g===-1||d.page<=v?d.page:v,[v,d.page,g]),j=h.useCallback(B=>{const R=Number(B.target.value);i.current.setPageSize(R)},[i]),T=h.useCallback((B,R)=>{i.current.setPage(R)},[i]),O=(B=>{for(let R=0;R<c.pageSizeOptions.length;R+=1){const W=c.pageSizeOptions[R];if(typeof W=="number"){if(W===B)return!0}else if(W.value===B)return!0}return!1})(d.pageSize)?c.pageSizeOptions:[],D=i.current.getLocaleText("MuiTablePagination"),P=CI(D.labelDisplayedRows||yI,b);return r.jsx(xI,w({component:"div",count:g,page:M,rowsPerPageOptions:O,rowsPerPage:d.pageSize,onPageChange:T,onRowsPerPageChange:j},C,D,{labelDisplayedRows:P},l,{ref:s}))}),wI=["className","rowCount","visibleRowCount"],SI=t=>{const{classes:l}=t;return Ke({root:["rowCount"]},Qe,l)},jI=Tt("div",{name:"MuiDataGrid",slot:"RowCount",overridesResolver:(t,l)=>l.rowCount})(({theme:t})=>({alignItems:"center",display:"flex",margin:t.spacing(0,2)})),MI=Xe(function(l,s){const{className:i,rowCount:c,visibleRowCount:d}=l,g=Ee(l,wI),p=Ge(),m=we(),x=SI(m);if(c===0)return null;const b=d<c?p.current.getLocaleText("footerTotalVisibleRows")(d,c):c.toLocaleString();return r.jsxs(jI,w({className:lt(x.root,i),ownerState:m},g,{ref:s,children:[p.current.getLocaleText("footerTotalRows")," ",b]}))});function EI(t){for(const l in t)return!1;return!0}function DI(t,l){return Ke(l,Qe,t)}const TI=["selected","rowId","row","index","style","rowHeight","className","visibleColumns","pinnedColumns","offsetLeft","columnsTotalWidth","firstColumnIndex","lastColumnIndex","focusedColumnIndex","isFirstVisible","isLastVisible","isNotVisible","showBottomBorder","scrollbarWidth","gridHasFiller","onClick","onDoubleClick","onMouseEnter","onMouseLeave","onMouseOut","onMouseOver"],II=Di(gn,(t,l)=>l?!!EI(t):!1),FI=Xe(function(l,s){const{selected:i,rowId:c,row:d,index:g,style:p,rowHeight:m,className:x,visibleColumns:b,pinnedColumns:C,offsetLeft:v,columnsTotalWidth:M,firstColumnIndex:j,lastColumnIndex:T,focusedColumnIndex:I,isFirstVisible:O,isLastVisible:D,isNotVisible:P,showBottomBorder:B,scrollbarWidth:R,gridHasFiller:W,onClick:V,onDoubleClick:U,onMouseEnter:A,onMouseLeave:E,onMouseOut:_,onMouseOver:G}=l,k=Ee(l,TI),K=kl(),L=og(),S=h.useRef(null),z=we(),F=ng(K),q=he(K,Ul),Y=he(K,Qr),$=he(K,Cr),Q=z.rowReordering,oe=Ci(K,II,Q),ae=Po(S,s),fe=K.current.getRowNode(c),ce=Ci(K,Y0,{rowId:c,editMode:z.editMode}),ve=z.editMode===so.Row,Te=I!==void 0,je=Te&&I>=C.left.length&&I<j,Ae=Te&&I<b.length-C.right.length&&I>=T,Le=DI(z.classes,{root:["row",i&&"selected",ve&&"row--editable",ce&&"row--editing",O&&"row--firstVisible",D&&"row--lastVisible",B&&"row--borderBottom",m==="auto"&&"row--dynamicHeight"]}),be=L.hooks.useGridRowAriaAttributes();h.useLayoutEffect(()=>{if(F.range){const Fe=K.current.getRowIndexRelativeToVisibleRows(c);Fe!==void 0&&K.current.unstable_setLastMeasuredRowIndex(Fe)}if(S.current&&m==="auto")return K.current.observeRowHeight(S.current,c)},[K,F.range,m,c]);const Me=h.useCallback((Fe,Ze)=>Be=>{Hi(Be)||K.current.getRow(c)&&(K.current.publishEvent(Fe,K.current.getRowParams(c),Be),Ze&&Ze(Be))},[K,c]),ze=h.useCallback(Fe=>{const Be=pu(Fe.target,N.cell)?.getAttribute("data-field");Be&&(Be===rs.field||Be===Tu||Be==="__reorder__"||K.current.getCellMode(c,Be)===yt.Edit||K.current.getColumn(Be)?.type===Eu)||Me("rowClick",V)(Fe)},[K,V,Me,c]),{slots:Ce,slotProps:$e,disableColumnReorder:Ve}=z,_e=he(K,()=>w({},K.current.getRowHeightEntry(c)),Bh),It=h.useMemo(()=>{if(P)return{opacity:0,width:0,height:0};const Fe=w({},p,{maxHeight:m==="auto"?"none":m,minHeight:m,"--height":typeof m=="number"?`${m}px`:m});if(_e.spacingTop){const Ze=z.rowSpacingType==="border"?"borderTopWidth":"marginTop";Fe[Ze]=_e.spacingTop}if(_e.spacingBottom){const Ze=z.rowSpacingType==="border"?"borderBottomWidth":"marginBottom";let Be=Fe[Ze];typeof Be!="number"&&(Be=parseInt(Be||"0",10)),Be+=_e.spacingBottom,Fe[Ze]=Be}return Fe},[P,m,p,_e,z.rowSpacingType]),St=K.current.unstable_applyPipeProcessors("rowClassName",[],c),jt=be(fe,g);if(typeof z.getRowClassName=="function"){const Fe=g-(F.range?.firstRowIndex||0),Ze=w({},K.current.getRowParams(c),{isFirstVisible:Fe===0,isLastVisible:Fe===F.rows.length-1,indexRelativeToCurrentPage:Fe});St.push(z.getRowClassName(Ze))}const ut=(Fe,Ze,Be,We,bt=et.NONE)=>{const xt=K.current.unstable_getCellColSpanInfo(c,Be);if(xt?.spannedByColSpan)return null;const wt=xt?.cellProps.width??Fe.computedWidth,yn=xt?.cellProps.colSpan??1,nn=pi(bt,Fe.computedWidth,Be,$,M,R);if(fe.type==="skeletonRow")return r.jsx(Ce.skeletonCell,{type:Fe.type,width:wt,height:m,field:Fe.field,align:Fe.align},Fe.field);const Hl=Fe.field==="__reorder__",Vn=!(Ve||Fe.disableReorder),ho=oe&&!q.length&&Y<=1,Xl=!(Vn||Hl&&ho),Ql=bt===et.VIRTUAL,Pl=Cu(bt,Ze),kn=xu(bt,Ze,We,z.showCellVerticalBorder,W);return r.jsx(Ce.cell,w({column:Fe,width:wt,rowId:c,align:Fe.align||"left",colIndex:Be,colSpan:yn,disableDragEvents:Xl,isNotVisible:Ql,pinnedOffset:nn,pinnedPosition:bt,showLeftBorder:Pl,showRightBorder:kn,row:d,rowNode:fe},$e?.cell),Fe.field)},Mt=C.left.map((Fe,Ze)=>ut(Fe,Ze,Ze,C.left.length,et.LEFT)),nt=C.right.map((Fe,Ze)=>{const Be=b.length-C.right.length+Ze;return ut(Fe,Ze,Be,C.right.length,et.RIGHT)}),mt=b.length-C.left.length-C.right.length,pt=[];je&&pt.push(ut(b[I],I-C.left.length,I,mt,et.VIRTUAL));for(let Fe=j;Fe<T;Fe+=1){const Ze=b[Fe],Be=Fe-C.left.length;Ze&&pt.push(ut(Ze,Be,Fe,mt))}Ae&&pt.push(ut(b[I],I-C.left.length,I,mt,et.VIRTUAL));const Ht=d?{onClick:ze,onDoubleClick:Me("rowDoubleClick",U),onMouseEnter:Me("rowMouseEnter",A),onMouseLeave:Me("rowMouseLeave",E),onMouseOut:Me("rowMouseOut",_),onMouseOver:Me("rowMouseOver",G)}:null;return r.jsxs("div",w({"data-id":c,"data-rowindex":g,role:"row",className:lt(...St,Le.root,x),style:It},jt,Ht,k,{ref:ae,children:[Mt,r.jsx("div",{role:"presentation",className:N.cellOffsetLeft,style:{width:v}}),pt,r.jsx("div",{role:"presentation",className:lt(N.cell,N.cellEmpty)}),nt,R!==0&&r.jsx(cg,{pinnedRight:C.right.length>0,borderTop:!O})]}))}),AI=Ro(FI),zI=()=>{const t=kl(),l=we(),s=he(t,qt),i=he(t,Kh),c=he(t,Oi),d=he(t,XC);return{role:"grid","aria-colcount":s.length,"aria-rowcount":c+1+d+i,"aria-multiselectable":Zh(l)}},OI=()=>{const t=kl(),l=he(t,mr),s=he(t,Oi);return h.useCallback((i,c)=>{const d={},g=c+s+2;return d["aria-rowindex"]=g,t.current.isRowSelectable(i.id)&&(d["aria-selected"]=l[i.id]!==void 0),d},[t,l,s])};function kI({privateApiRef:t,configuration:l,props:s,children:i}){const c=h.useRef(t.current.getPublicApi());return r.jsx(W0.Provider,{value:l,children:r.jsx(BC.Provider,{value:s,children:r.jsx(L0.Provider,{value:t,children:r.jsx(_C.Provider,{value:c,children:i})})})})}const HI=t=>{const l=h.useRef(null),s=h.useRef(null),i=h.useRef(null),c=h.useRef(null),d=h.useRef(null),g=h.useRef(null);t.current.register("public",{rootElementRef:l}),t.current.register("private",{mainElementRef:s,virtualScrollerRef:i,virtualScrollbarVerticalRef:c,virtualScrollbarHorizontalRef:d,columnHeadersContainerRef:g})},PI=t=>{const l=co();t.current.state.isRtl===void 0&&(t.current.state.isRtl=l);const s=h.useRef(!0);h.useEffect(()=>{s.current?s.current=!1:t.current.setState(i=>w({},i,{isRtl:l}))},[t,l])},RI=T1()&&window.localStorage.getItem("DEBUG")!=null,hi=()=>{},NI={debug:hi,info:hi,warn:hi,error:hi},lC=["debug","info","warn","error"];function oC(t,l,s=console){const i=lC.indexOf(l);if(i===-1)throw new Error(`MUI X: Log level ${l} not recognized.`);return lC.reduce((d,g,p)=>(p>=i?d[g]=(...m)=>{const[x,...b]=m;s[g](`MUI X: ${t} - ${x}`,...b)}:d[g]=hi,d),{})}const GI=(t,l)=>{const s=h.useCallback(i=>RI?oC(i,"debug",l.logger):l.logLevel?oC(i,l.logLevel.toString(),l.logger):NI,[l.logLevel,l.logger]);Ue(t,{getLogger:s},"private")};class LI{constructor(){this.maxListeners=20,this.warnOnce=!1,this.events={}}on(l,s,i={}){let c=this.events[l];c||(c={highPriority:new Map,regular:new Map},this.events[l]=c),i.isFirst?c.highPriority.set(s,!0):c.regular.set(s,!0)}removeListener(l,s){this.events[l]&&(this.events[l].regular.delete(s),this.events[l].highPriority.delete(s))}removeAllListeners(){this.events={}}emit(l,...s){const i=this.events[l];if(!i)return;const c=Array.from(i.highPriority.keys()),d=Array.from(i.regular.keys());for(let g=c.length-1;g>=0;g-=1){const p=c[g];i.highPriority.has(p)&&p.apply(this,s)}for(let g=0;g<d.length;g+=1){const p=d[g];i.regular.has(p)&&p.apply(this,s)}}once(l,s){const i=this;this.on(l,function c(...d){i.removeListener(l,c),s.apply(i,d)})}}class ug{static create(l){return new ug(l)}constructor(l){this.value=void 0,this.listeners=void 0,this.subscribe=s=>(this.listeners.add(s),()=>{this.listeners.delete(s)}),this.getSnapshot=()=>this.value,this.update=s=>{this.value=s,this.listeners.forEach(i=>i(s))},this.value=l,this.listeners=new Set}}const ay=Symbol("mui.api_private"),_I=t=>t.isPropagationStopped!==void 0;let rC=0;function BI(t){const l=t.current?.[ay];if(l)return l;const s={},i={state:s,store:ug.create(s),instanceId:{id:rC}};return rC+=1,i.getPublicApi=()=>t.current,i.register=(c,d)=>{Object.keys(d).forEach(g=>{const p=d[g],m=i[g];if(m?.spying===!0?m.target=p:i[g]=p,c==="public"){const x=t.current,b=x[g];b?.spying===!0?b.target=p:x[g]=p}})},i.register("private",{caches:{},eventManager:new LI}),i}function VI(t){return{get state(){return t.current.state},get store(){return t.current.store},get instanceId(){return t.current.instanceId},[ay]:t.current}}function UI(t,l){const s=h.useRef(null),i=h.useRef(null);i.current||(i.current=BI(s)),s.current||(s.current=VI(i));const c=h.useCallback((...g)=>{const[p,m,x={}]=g;if(x.defaultMuiPrevented=!1,_I(x)&&x.isPropagationStopped())return;const b=l.signature===Il.DataGridPro||l.signature===Il.DataGridPremium?{api:i.current.getPublicApi()}:{};i.current.eventManager.emit(p,m,x,b)},[i,l.signature]),d=h.useCallback((g,p,m)=>{i.current.eventManager.on(g,p,m);const x=i.current;return()=>{x.eventManager.removeListener(g,p)}},[i]);return Ue(i,{subscribeEvent:d,publishEvent:c},"public"),t&&!t.current?.state&&(t.current=s.current),h.useImperativeHandle(t,()=>s.current,[s]),h.useEffect(()=>{const g=i.current;return()=>{g.publishEvent("unmount")}},[i]),i}const $I=(t,l)=>{const s=h.useCallback(i=>{if(l.localeText[i]==null)throw new Error(`Missing translation for key ${i}.`);return l.localeText[i]},[l.localeText]);t.current.register("public",{getLocaleText:s})};function wi(t){"@babel/helpers - typeof";return wi=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(l){return typeof l}:function(l){return l&&typeof Symbol=="function"&&l.constructor===Symbol&&l!==Symbol.prototype?"symbol":typeof l},wi(t)}function WI(t,l){if(wi(t)!="object"||!t)return t;var s=t[Symbol.toPrimitive];if(s!==void 0){var i=s.call(t,l);if(wi(i)!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}function Si(t){var l=WI(t,"string");return wi(l)=="symbol"?l:l+""}const qI=t=>{const l=h.useRef({}),s=h.useRef(!1),i=h.useCallback(b=>{s.current||!b||(s.current=!0,Object.values(b.appliers).forEach(C=>{C()}),s.current=!1)},[]),c=h.useCallback((b,C,v)=>{l.current[b]||(l.current[b]={processors:new Map,processorsAsArray:[],appliers:{}});const M=l.current[b];return M.processors.get(C)!==v&&(M.processors.set(C,v),M.processorsAsArray=Array.from(l.current[b].processors.values()).filter(T=>T!==null),i(M)),()=>{l.current[b].processors.set(C,null),l.current[b].processorsAsArray=Array.from(l.current[b].processors.values()).filter(T=>T!==null)}},[i]),d=h.useCallback((b,C,v)=>(l.current[b]||(l.current[b]={processors:new Map,processorsAsArray:[],appliers:{}}),l.current[b].appliers[C]=v,()=>{const M=l.current[b].appliers,j=Ee(M,[C].map(Si));l.current[b].appliers=j}),[]),g=h.useCallback(b=>{i(l.current[b])},[i]),p=h.useCallback((...b)=>{const[C,v,M]=b;if(!l.current[C])return v;const j=l.current[C].processorsAsArray;let T=v;for(let I=0;I<j.length;I+=1)T=j[I](T,M);return T},[]),m={registerPipeProcessor:c,registerPipeApplier:d,requestPipeProcessorsApplication:g},x={unstable_applyPipeProcessors:p};Ue(t,m,"private"),Ue(t,x,"public")},Vt=(t,l,s,i=!0)=>{const c=h.useRef(null),d=h.useRef(`mui-${Math.round(Math.random()*1e9)}`),g=h.useCallback(()=>{c.current=t.current.registerPipeProcessor(l,d.current,s)},[t,s,l]);Ii(()=>{i&&g()});const p=h.useRef(!0);h.useEffect(()=>(p.current?p.current=!1:i&&g(),()=>{c.current&&(c.current(),c.current=null)}),[g,i])},dg=(t,l,s)=>{const i=h.useRef(null),c=h.useRef(`mui-${Math.round(Math.random()*1e9)}`),d=h.useCallback(()=>{i.current=t.current.registerPipeApplier(l,c.current,s)},[t,s,l]);Ii(()=>{d()});const g=h.useRef(!0);h.useEffect(()=>(g.current?g.current=!1:d(),()=>{i.current&&(i.current(),i.current=null)}),[d])},yu=(t,l,s,i)=>{const c=h.useCallback(()=>{t.current.registerStrategyProcessor(l,s,i)},[t,i,s,l]);Ii(()=>{c()});const d=h.useRef(!0);h.useEffect(()=>{d.current?d.current=!1:c()},[c])},Kr="none",aC={rowTreeCreation:"rowTree",filtering:"rowTree",sorting:"rowTree",visibleRowsLookupCreation:"rowTree"},YI=t=>{const l=h.useRef(new Map),s=h.useRef({}),i=h.useCallback((m,x,b)=>{const C=()=>{const j=s.current[x],T=Ee(j,[m].map(Si));s.current[x]=T};s.current[x]||(s.current[x]={});const v=s.current[x],M=v[m];return v[m]=b,!M||M===b||m===t.current.getActiveStrategy(aC[x])&&t.current.publishEvent("activeStrategyProcessorChange",x),C},[t]),c=h.useCallback((m,x)=>{const b=t.current.getActiveStrategy(aC[m]);if(b==null)throw new Error("Can't apply a strategy processor before defining an active strategy");const C=s.current[m];if(!C||!C[b])throw new Error(`No processor found for processor "${m}" on strategy "${b}"`);const v=C[b];return v(x)},[t]),d=h.useCallback(m=>Array.from(l.current.entries()).find(([,C])=>C.group!==m?!1:C.isAvailable())?.[0]??Kr,[]),g=h.useCallback((m,x,b)=>{l.current.set(x,{group:m,isAvailable:b}),t.current.publishEvent("strategyAvailabilityChange")},[t]);Ue(t,{registerStrategyProcessor:i,applyStrategyProcessor:c,getActiveStrategy:d,setStrategyAvailability:g},"private")},KI=t=>{const l=h.useRef({}),s=h.useCallback(m=>{l.current[m.stateId]=m},[]),i=h.useCallback((m,x)=>{let b;if(D1(m)?b=m(t.current.state):b=m,t.current.state===b)return!1;let C=!1;const v=[];if(Object.keys(l.current).forEach(M=>{const j=l.current[M],T=j.stateSelector(t.current.state,t.current.instanceId),I=j.stateSelector(b,t.current.instanceId);I!==T&&(v.push({stateId:j.stateId,hasPropChanged:I!==j.propModel}),j.propModel!==void 0&&I!==j.propModel&&(C=!0))}),v.length>1)throw new Error(`You're not allowed to update several sub-state in one transaction. You already updated ${v[0].stateId}, therefore, you're not allowed to update ${v.map(M=>M.stateId).join(", ")} in the same transaction.`);if(C||(t.current.state=b,t.current.publishEvent("stateChange",b),t.current.store.update(b)),v.length===1){const{stateId:M,hasPropChanged:j}=v[0],T=l.current[M],I=T.stateSelector(b,t.current.instanceId);T.propOnChange&&j&&T.propOnChange(I,{reason:x,api:t.current}),C||t.current.publishEvent(T.changeEvent,I,{reason:x})}return!C},[t]),c=h.useCallback((m,x,b)=>t.current.setState(C=>w({},C,{[m]:x(C[m])}),b),[t]),d=h.useCallback(()=>{},[]),g={setState:i,forceUpdate:d},p={updateControlState:c,registerControlState:s};Ue(t,g,"public"),Ue(t,p,"private")},XI=(t,l)=>w({},t,{props:{getRowId:l.getRowId}}),QI=(t,l)=>{h.useEffect(()=>{t.current.setState(s=>w({},s,{props:{getRowId:l.getRowId}}))},[t,l.getRowId])},ZI=(t,l)=>{const s=UI(t,l);return HI(s),QI(s,l),PI(s),GI(s,l),KI(s),qI(s),YI(s),$I(s,l),s.current.register("private",{rootProps:l}),s},hn=(t,l,s)=>{const i=h.useRef(!1);i.current||(l.current.state=t(l.current.state,s,l),i.current=!0)};function Mh(t,l){if(t==null)return"";const s=typeof t=="string"?t:`${t}`;if(l.shouldAppendQuotes||l.escapeFormulas){const i=s.replace(/"/g,'""');return l.escapeFormulas&&["=","+","-","@","	","\r"].includes(i[0])?`"'${i}"`:[l.delimiter,`
`,"\r",'"'].some(c=>s.includes(c))?`"${i}"`:i}return s}const sy=(t,l)=>{const{csvOptions:s,ignoreValueFormatter:i}=l;let c;if(i){const d=t.colDef.type;d==="number"?c=String(t.value):d==="date"||d==="dateTime"?c=t.value?.toISOString():typeof t.value?.toString=="function"?c=t.value.toString():c=t.value}else c=t.formattedValue;return Mh(c,s)};class Eh{constructor(l){this.options=void 0,this.rowString="",this.isEmpty=!0,this.options=l}addValue(l){this.isEmpty||(this.rowString+=this.options.csvOptions.delimiter),typeof this.options.sanitizeCellValue=="function"?this.rowString+=this.options.sanitizeCellValue(l,this.options.csvOptions):this.rowString+=l,this.isEmpty=!1}getRowString(){return this.rowString}}const JI=({id:t,columns:l,getCellParams:s,csvOptions:i,ignoreValueFormatter:c})=>{const d=new Eh({csvOptions:i});return l.forEach(g=>{const p=s(t,g.field);d.addValue(sy(p,{ignoreValueFormatter:c,csvOptions:i}))}),d.getRowString()};function eF(t){const{columns:l,rowIds:s,csvOptions:i,ignoreValueFormatter:c,apiRef:d}=t,g=s.reduce((C,v)=>`${C}${JI({id:v,columns:l,getCellParams:d.current.getCellParams,ignoreValueFormatter:c,csvOptions:i})}\r
`,"").trim();if(!i.includeHeaders)return g;const p=l.filter(C=>C.field!==rs.field),m=[];if(i.includeColumnGroupsHeaders){const C=d.current.getAllGroupDetails();let v=0;const M=p.reduce((j,T)=>{const I=d.current.getColumnGroupPath(T.field);return j[T.field]=I,v=Math.max(v,I.length),j},{});for(let j=0;j<v;j+=1){const T=new Eh({csvOptions:i,sanitizeCellValue:Mh});m.push(T),p.forEach(I=>{const O=(M[I.field]||[])[j],D=C[O];T.addValue(D?D.headerName||D.groupId:"")})}}const x=new Eh({csvOptions:i,sanitizeCellValue:Mh});return p.forEach(C=>{x.addValue(C.headerName||C.field)}),m.push(x),`${`${m.map(C=>C.getRowString()).join(`\r
`)}\r
`}${g}`.trim()}function sC(t){const l=document.createElement("span");l.style.whiteSpace="pre",l.style.userSelect="all",l.style.opacity="0px",l.textContent=t,document.body.appendChild(l);const s=document.createRange();s.selectNode(l);const i=window.getSelection();i.removeAllRanges(),i.addRange(s);try{document.execCommand("copy")}finally{document.body.removeChild(l)}}function tF(t){navigator.clipboard?navigator.clipboard.writeText(t).catch(()=>{sC(t)}):sC(t)}function nF(t){return!!(window.getSelection()?.toString()||t&&(t.selectionEnd||0)-(t.selectionStart||0)>0)}const lF=(t,l)=>{const s=l.ignoreValueFormatterDuringExport,i=(typeof s=="object"?s?.clipboardExport:s)||!1,c=l.clipboardCopyCellDelimiter,d=h.useCallback(g=>{if(!L2(g)||nF(g.target))return;let p="";if(t.current.getSelectedRows().size>0)p=t.current.getDataAsCsv({includeHeaders:!1,delimiter:c,shouldAppendQuotes:!1,escapeFormulas:!1});else{const x=tl(t);if(x){const b=t.current.getCellParams(x.id,x.field);p=sy(b,{csvOptions:{delimiter:c,shouldAppendQuotes:!1,escapeFormulas:!1},ignoreValueFormatter:i})}}p=t.current.unstable_applyPipeProcessors("clipboardCopy",p),p&&(tF(p),t.current.publishEvent("clipboardCopy",p))},[t,i,c]);j0(t,()=>t.current.rootElementRef.current,"keydown",d),vt(t,"clipboardCopy",l.onClipboardCopy)},oF=t=>w({},t,{columnMenu:{open:!1}}),rF=t=>{const l=pn(t,"useGridColumnMenu"),s=h.useCallback(g=>{const p=su(t.current.state),m={open:!0,field:g};(m.open!==p.open||m.field!==p.field)&&(t.current.setState(b=>b.columnMenu.open&&b.columnMenu.field===g?b:(l.debug("Opening Column Menu"),w({},b,{columnMenu:{open:!0,field:g}}))),t.current.hidePreferences())},[t,l]),i=h.useCallback(()=>{const g=su(t.current.state);if(g.field){const x=fo(t),b=Tl(t),C=Ho(t);let v=g.field;if(x[v]||(v=C[0]),b[v]===!1){const M=C.filter(T=>T===v?!0:b[T]!==!1),j=M.indexOf(v);v=M[j+1]||M[j-1]}t.current.setColumnHeaderFocus(v)}const p={open:!1,field:void 0};(p.open!==g.open||p.field!==g.field)&&t.current.setState(x=>(l.debug("Hiding Column Menu"),w({},x,{columnMenu:p})))},[t,l]),c=h.useCallback(g=>{l.debug("Toggle Column Menu");const p=su(t.current.state);!p.open||p.field!==g?s(g):i()},[t,l,s,i]);Ue(t,{showColumnMenu:s,hideColumnMenu:i,toggleColumnMenu:c},"public"),ye(t,"columnResizeStart",i),ye(t,"virtualScrollerWheel",t.current.hideColumnMenu),ye(t,"virtualScrollerTouchMove",t.current.hideColumnMenu)},aF=(t,l,s)=>{const i=Ga({apiRef:s,columnsToUpsert:l.columns,initialState:l.initialState?.columns,columnVisibilityModel:l.columnVisibilityModel??l.initialState?.columns?.columnVisibilityModel??{},keepOnlyColumnsToUpsert:!0});return w({},t,{columns:i,pinnedColumns:t.pinnedColumns??du})};function sF(t,l){const s=pn(t,"useGridColumns"),i=h.useRef(l.columns);t.current.registerControlState({stateId:"visibleColumns",propModel:l.columnVisibilityModel,propOnChange:l.onColumnVisibilityModelChange,stateSelector:Tl,changeEvent:"columnVisibilityModelChange"});const c=h.useCallback(E=>{s.debug("Updating columns state."),t.current.setState(iC(E)),t.current.publishEvent("columnsChange",E.orderedFields)},[s,t]),d=h.useCallback(E=>fo(t)[E],[t]),g=h.useCallback(()=>Fl(t),[t]),p=h.useCallback(()=>qt(t),[t]),m=h.useCallback((E,_=!0)=>(_?qt(t):Fl(t)).findIndex(k=>k.field===E),[t]),x=h.useCallback(E=>{const _=m(E);return Cr(t)[_]},[t,m]),b=h.useCallback(E=>{Tl(t)!==E&&(t.current.setState(G=>w({},G,{columns:Ga({apiRef:t,columnsToUpsert:[],initialState:void 0,columnVisibilityModel:E,keepOnlyColumnsToUpsert:!1})})),t.current.updateRenderContext?.(),t.current.forceUpdate())},[t]),C=h.useCallback(E=>{const _=Ga({apiRef:t,columnsToUpsert:E,initialState:void 0,keepOnlyColumnsToUpsert:!1});c(_)},[t,c]),v=h.useCallback((E,_)=>{const G=Tl(t),k=G[E]??!0;if(_!==k){const K=w({},G,{[E]:_});t.current.setColumnVisibilityModel(K)}},[t]),M=h.useCallback(E=>Ho(t).findIndex(G=>G===E),[t]),j=h.useCallback((E,_)=>{const G=Ho(t),k=M(E);if(k===_)return;s.debug(`Moving column ${E} to index ${_}`);const K=[...G],L=K.splice(k,1)[0];K.splice(_,0,L),c(w({},ao(t.current.state),{orderedFields:K}));const S={column:t.current.getColumn(E),targetIndex:t.current.getColumnIndexRelativeToVisibleColumns(E),oldIndex:k};t.current.publishEvent("columnIndexChange",S)},[t,s,c,M]),T=h.useCallback((E,_)=>{s.debug(`Updating column ${E} width to ${_}`);const G=ao(t.current.state),k=G.lookup[E],K=w({},k,{width:_,hasBeenResized:!0});c(wh(w({},G,{lookup:w({},G.lookup,{[E]:K})}),t.current.getRootDimensions())),t.current.publishEvent("columnWidthChange",{element:t.current.getColumnHeaderElement(E),colDef:K,width:_})},[t,s,c]),I={getColumn:d,getAllColumns:g,getColumnIndex:m,getColumnPosition:x,getVisibleColumns:p,getColumnIndexRelativeToVisibleColumns:M,updateColumns:C,setColumnVisibilityModel:b,setColumnVisibility:v,setColumnWidth:T},O={setColumnIndex:j};Ue(t,I,"public"),Ue(t,O,l.signature===Il.DataGrid?"private":"public");const D=h.useCallback((E,_)=>{const G={},k=Tl(t);(!_.exportOnlyDirtyModels||l.columnVisibilityModel!=null||Object.keys(l.initialState?.columns?.columnVisibilityModel??{}).length>0||Object.keys(k).length>0)&&(G.columnVisibilityModel=k),G.orderedFields=Ho(t);const L=Fl(t),S={};return L.forEach(z=>{if(z.hasBeenResized){const F={};R0.forEach(q=>{let Y=z[q];Y===1/0&&(Y=-1),F[q]=Y}),S[z.field]=F}}),Object.keys(S).length>0&&(G.dimensions=S),w({},E,{columns:G})},[t,l.columnVisibilityModel,l.initialState?.columns]),P=h.useCallback((E,_)=>{const G=_.stateToRestore.columns?.columnVisibilityModel,k=_.stateToRestore.columns;if(G==null&&k==null)return E;const K=Ga({apiRef:t,columnsToUpsert:[],initialState:k,columnVisibilityModel:G,keepOnlyColumnsToUpsert:!1});return t.current.setState(iC(K)),k!=null&&t.current.publishEvent("columnsChange",K.orderedFields),E},[t]),B=h.useCallback((E,_)=>{if(_===Kl.columns){const G=l.slots.columnsPanel;return r.jsx(G,w({},l.slotProps?.columnsPanel))}return E},[l.slots.columnsPanel,l.slotProps?.columnsPanel]),R=h.useCallback(E=>l.disableColumnSelector?E:[...E,"columnMenuColumnsItem"],[l.disableColumnSelector]);Vt(t,"columnMenu",R),Vt(t,"exportState",D),Vt(t,"restoreState",P),Vt(t,"preferencePanel",B);const W=h.useRef(null);ye(t,"viewportInnerSizeChange",E=>{if(W.current!==E.width){if(W.current=E.width,!qt(t).some(G=>G.flex&&G.flex>0))return;c(wh(ao(t.current.state),t.current.getRootDimensions()))}});const U=h.useCallback(()=>{s.info("Columns pipe processing have changed, regenerating the columns");const E=Ga({apiRef:t,columnsToUpsert:[],initialState:void 0,keepOnlyColumnsToUpsert:!1});c(E)},[t,s,c]);dg(t,"hydrateColumns",U);const A=h.useRef(!0);h.useEffect(()=>{if(A.current){A.current=!1;return}if(s.info(`GridColumns have changed, new length ${l.columns.length}`),i.current===l.columns)return;const E=Ga({apiRef:t,initialState:void 0,columnsToUpsert:l.columns,keepOnlyColumnsToUpsert:!0});i.current=l.columns,c(E)},[s,t,c,l.columns]),h.useEffect(()=>{l.columnVisibilityModel!==void 0&&t.current.setColumnVisibilityModel(l.columnVisibilityModel)},[t,s,l.columnVisibilityModel])}function iC(t){return l=>w({},l,{columns:t})}const iF=(t,l)=>w({},t,{density:l.initialState?.density??l.density??"standard"}),cF=(t,l)=>{const s=pn(t,"useDensity");t.current.registerControlState({stateId:"density",propModel:l.density,propOnChange:l.onDensityChange,stateSelector:Ur,changeEvent:"densityChange"});const c={setDensity:Nt(p=>{Ur(t.current.state)!==p&&(s.debug(`Set grid density to ${p}`),t.current.setState(x=>w({},x,{density:p})))})};Ue(t,c,"public");const d=h.useCallback((p,m)=>{const x=Ur(t.current.state);return!m.exportOnlyDirtyModels||l.density!=null||l.initialState?.density!=null?w({},p,{density:x}):p},[t,l.density,l.initialState?.density]),g=h.useCallback((p,m)=>{const x=m.stateToRestore?.density?m.stateToRestore.density:Ur(t.current.state);return t.current.setState(b=>w({},b,{density:x})),p},[t]);Vt(t,"exportState",d),Vt(t,"restoreState",g),h.useEffect(()=>{l.density&&t.current.setDensity(l.density)},[t,l.density])};function uF(t,l="csv",s=document.title||"untitled"){const i=`${s}.${l}`;if("download"in HTMLAnchorElement.prototype){const c=URL.createObjectURL(t),d=document.createElement("a");d.href=c,d.download=i,d.click(),setTimeout(()=>{URL.revokeObjectURL(c)});return}throw new Error("MUI X: exportAs not supported.")}const iy=({apiRef:t,options:l})=>{const s=Fl(t);return l.fields?l.fields.reduce((c,d)=>{const g=s.find(p=>p.field===d);return g&&c.push(g),c},[]):(l.allColumns?s:qt(t)).filter(c=>!c.disableExport)},cy=({apiRef:t})=>{const l=y0(t),s=sn(t),i=t.current.getSelectedRows(),c=l.filter(m=>s[m].type!=="footer"),d=es(t),g=d?.top?.map(m=>m.id)||[],p=d?.bottom?.map(m=>m.id)||[];return c.unshift(...g),c.push(...p),i.size>0?c.filter(m=>i.has(m)):c},dF=(t,l)=>{const s=pn(t,"useGridCsvExport"),i=l.ignoreValueFormatterDuringExport,c=(typeof i=="object"?i?.csvExport:i)||!1,d=h.useCallback((x={})=>{s.debug("Get data as CSV");const b=iy({apiRef:t,options:x}),v=(x.getRowsToExport??cy)({apiRef:t});return eF({columns:b,rowIds:v,csvOptions:{delimiter:x.delimiter||",",shouldAppendQuotes:x.shouldAppendQuotes??!0,includeHeaders:x.includeHeaders??!0,includeColumnGroupsHeaders:x.includeColumnGroupsHeaders??!0,escapeFormulas:x.escapeFormulas??!0},ignoreValueFormatter:c,apiRef:t})},[s,t,c]),g=h.useCallback(x=>{s.debug("Export data as CSV");const b=d(x),C=new Blob([x?.utf8WithBom?new Uint8Array([239,187,191]):"",b],{type:"text/csv"});uF(C,"csv",x?.fileName)},[s,d]);Ue(t,{getDataAsCsv:d,exportDataAsCsv:g},"public");const m=h.useCallback((x,b)=>b.csvOptions?.disableToolbarButton?x:[...x,{component:r.jsx(XT,{options:b.csvOptions}),componentName:"csvExport"}],[]);Vt(t,"exportMenu",m)},iu=(t,l,s)=>{let i=t.paginationModel;const c=t.rowCount,d=s?.pageSize??i.pageSize,g=s?.page??i.page,p=M0(c,d,g);s&&(s?.page!==i.page||s?.pageSize!==i.pageSize)&&(i=s);const m=d===-1?0:Hj(i.page,p);return m!==i.page&&(i=w({},i,{page:m})),D0(i.pageSize,l),i},fF=(t,l)=>{const s=pn(t,"useGridPaginationModel"),i=he(t,Ja),c=h.useRef(xn(t)),d=Math.floor(l.rowHeight*i);t.current.registerControlState({stateId:"paginationModel",propModel:l.paginationModel,propOnChange:l.onPaginationModelChange,stateSelector:zn,changeEvent:"paginationModelChange"});const g=h.useCallback(D=>{const P=zn(t);D!==P.page&&(s.debug(`Setting page to ${D}`),t.current.setPaginationModel({page:D,pageSize:P.pageSize}))},[t,s]),p=h.useCallback(D=>{const P=zn(t);D!==P.pageSize&&(s.debug(`Setting page size to ${D}`),t.current.setPaginationModel({pageSize:D,page:P.page}))},[t,s]),m=h.useCallback(D=>{const P=zn(t);D!==P&&(s.debug("Setting 'paginationModel' to",D),t.current.setState(B=>w({},B,{pagination:w({},B.pagination,{paginationModel:iu(B.pagination,l.signature,D)})}),"setPaginationModel"))},[t,s,l.signature]);Ue(t,{setPage:g,setPageSize:p,setPaginationModel:m},"public");const b=h.useCallback((D,P)=>{const B=zn(t);return!P.exportOnlyDirtyModels||l.paginationModel!=null||l.initialState?.pagination?.paginationModel!=null||B.page!==0&&B.pageSize!==kj(l.autoPageSize)?w({},D,{pagination:w({},D.pagination,{paginationModel:B})}):D},[t,l.paginationModel,l.initialState?.pagination?.paginationModel,l.autoPageSize]),C=h.useCallback((D,P)=>{const B=P.stateToRestore.pagination?.paginationModel?w({},E0(l.autoPageSize),P.stateToRestore.pagination?.paginationModel):zn(t);return t.current.setState(R=>w({},R,{pagination:w({},R.pagination,{paginationModel:iu(R.pagination,l.signature,B)})}),"stateRestorePreProcessing"),D},[t,l.autoPageSize,l.signature]);Vt(t,"exportState",b),Vt(t,"restoreState",C);const v=()=>{const D=zn(t);t.current.virtualScrollerRef?.current&&t.current.scrollToIndexes({rowIndex:D.page*D.pageSize})},M=h.useCallback(()=>{if(!l.autoPageSize)return;const D=t.current.getRootDimensions(),P=Math.max(1,Math.floor(D.viewportInnerSize.height/d));t.current.setPageSize(P)},[t,l.autoPageSize,d]),j=h.useCallback(D=>{if(D==null)return;const P=zn(t);if(P.page===0)return;const B=F0(t);P.page>B-1&&t.current.setPage(Math.max(0,B-1))},[t]),T=h.useCallback(()=>{zn(t).page!==0&&t.current.setPage(0),t.current.getScrollPosition().top!==0&&t.current.scroll({top:0})},[t]),I=h.useCallback(D=>{const P=w({},D,{items:Qh(t)});ro(P,c.current)||(c.current=P,T())},[t,T]);ye(t,"viewportInnerSizeChange",M),ye(t,"paginationModelChange",v),ye(t,"rowCountChange",j),ye(t,"sortModelChange",Lr(l.resetPageOnSortFilter,T)),ye(t,"filterModelChange",Lr(l.resetPageOnSortFilter,I));const O=h.useRef(!0);h.useEffect(()=>{if(O.current){O.current=!1;return}l.pagination&&t.current.setState(D=>w({},D,{pagination:w({},D.pagination,{paginationModel:iu(D.pagination,l.signature,l.paginationModel)})}))},[t,l.paginationModel,l.signature,l.pagination]),h.useEffect(()=>{t.current.setState(D=>{const P=l.pagination===!0;return D.pagination.paginationMode===l.paginationMode||D.pagination.enabled===P?D:w({},D,{pagination:w({},D.pagination,{paginationMode:l.paginationMode,enabled:l.pagination===!0})})})},[t,l.paginationMode,l.pagination]),h.useEffect(M,[M])};function hF(){return new Promise(t=>{requestAnimationFrame(()=>{t()})})}function gF(t){const l=document.createElement("iframe");return l.style.position="absolute",l.style.width="0px",l.style.height="0px",l.title=t||document.title,l}const mF=(t,l)=>{const s=t.current.rootElementRef.current!==null,i=pn(t,"useGridPrintExport"),c=h.useRef(null),d=h.useRef(null),g=h.useRef({}),p=h.useRef([]),m=h.useRef(null);h.useEffect(()=>{c.current=$r(t.current.rootElementRef.current)},[t,s]);const x=h.useCallback((I,O,D)=>new Promise(P=>{const B=iy({apiRef:t,options:{fields:I,allColumns:O}}).map(V=>V.field),R=Fl(t),W={};R.forEach(V=>{W[V.field]=B.includes(V.field)}),D&&(W[rs.field]=!0),t.current.setColumnVisibilityModel(W),P()}),[t]),b=h.useCallback(I=>{const D=I({apiRef:t}).reduce((P,B)=>{const R=t.current.getRow(B);return R[qa]||P.push(R),P},[]);t.current.setRows(D)},[t]),C=h.useCallback((I,O)=>{const D=w({copyStyles:!0,hideToolbar:!1,hideFooter:!1,includeCheckboxes:!1},O),P=I.contentDocument;if(!P)return;const B=as(t.current.state),R=t.current.rootElementRef.current,W=R.cloneNode(!0),V=W.querySelector(`.${N.main}`);V.style.overflow="visible",W.style.contain="size";let U=R.querySelector(`.${N.toolbarContainer}`)?.offsetHeight||0,A=R.querySelector(`.${N.footerContainer}`)?.offsetHeight||0;const E=W.querySelector(`.${N.footerContainer}`);D.hideToolbar&&(W.querySelector(`.${N.toolbarContainer}`)?.remove(),U=0),D.hideFooter&&E&&(E.remove(),A=0);const _=B.currentPageTotalHeight+Ou(t,l)+U+A;W.style.height=`${_}px`,W.style.boxSizing="content-box",!D.hideFooter&&E&&(E.style.position="absolute",E.style.width="100%",E.style.top=`${_-A}px`);const G=document.createElement("div");G.appendChild(W),P.body.style.marginTop="0px",P.body.innerHTML=G.innerHTML;const k=typeof D.pageStyle=="function"?D.pageStyle():D.pageStyle;if(typeof k=="string"){const L=P.createElement("style");L.appendChild(P.createTextNode(k)),P.head.appendChild(L)}D.bodyClassName&&P.body.classList.add(...D.bodyClassName.split(" "));const K=[];if(D.copyStyles){const L=R.getRootNode(),z=(L.constructor.name==="ShadowRoot"?L:c.current).querySelectorAll("style, link[rel='stylesheet']");for(let F=0;F<z.length;F+=1){const q=z[F];if(q.tagName==="STYLE"){const Y=P.createElement(q.tagName),$=q.sheet;if($){let Q="";for(let oe=0;oe<$.cssRules.length;oe+=1)typeof $.cssRules[oe].cssText=="string"&&(Q+=`${$.cssRules[oe].cssText}\r
`);Y.appendChild(P.createTextNode(Q)),P.head.appendChild(Y)}}else if(q.getAttribute("href")){const Y=P.createElement(q.tagName);for(let $=0;$<q.attributes.length;$+=1){const Q=q.attributes[$];Q&&Y.setAttribute(Q.nodeName,Q.nodeValue||"")}K.push(new Promise($=>{Y.addEventListener("load",()=>$())})),P.head.appendChild(Y)}}}Promise.all(K).then(()=>{I.contentWindow.print()})},[t,c,l]),v=h.useCallback(I=>{c.current.body.removeChild(I),t.current.restoreState(d.current||{}),d.current?.columns?.columnVisibilityModel||t.current.setColumnVisibilityModel(g.current),t.current.setState(O=>w({},O,{virtualization:m.current})),t.current.setRows(p.current),d.current=null,g.current={},p.current=[]},[t]),j={exportDataAsPrint:h.useCallback(async I=>{if(i.debug("Export data as Print"),!t.current.rootElementRef.current)throw new Error("MUI X: No grid root element available.");if(d.current=t.current.exportState(),g.current=Tl(t),p.current=t.current.getSortedRows().filter(D=>!D[qa]),l.pagination){const P={page:0,pageSize:Kh(t)};t.current.setState(B=>w({},B,{pagination:w({},B.pagination,{paginationModel:iu(B.pagination,"DataGridPro",P)})}))}m.current=t.current.state.virtualization,t.current.unstable_setVirtualization(!1),await x(I?.fields,I?.allColumns,I?.includeCheckboxes),b(I?.getRowsToExport??cy),await hF();const O=gF(I?.fileName);O.onload=()=>{C(O,I),O.contentWindow.matchMedia("print").addEventListener("change",P=>{P.matches===!1&&v(O)})},c.current.body.appendChild(O)},[l,i,t,C,v,x,b])};Ue(t,j,"public");const T=h.useCallback((I,O)=>O.printOptions?.disableToolbarButton?I:[...I,{component:r.jsx(QT,{options:O.printOptions}),componentName:"printExport"}],[]);Vt(t,"exportMenu",T)},pF=(t,l,s)=>{const i=l.filterModel??l.initialState?.filter?.filterModel??yi();return w({},t,{filter:w({filterModel:Wh(i,l.disableMultipleColumnsFiltering,s)},l0),visibleRowsLookup:{}})},bF=t=>t.filteredRowsLookup;function cC(t,l){return t.current.applyStrategyProcessor("visibleRowsLookupCreation",{tree:l.rows.tree,filteredRowsLookup:l.filter.filteredRowsLookup})}function xF(){return GC(Object.values)}const CF=(t,l)=>{const s=pn(t,"useGridFilter");t.current.registerControlState({stateId:"filter",propModel:l.filterModel,propOnChange:l.onFilterModelChange,stateSelector:xn,changeEvent:"filterModelChange"});const i=h.useCallback(()=>{t.current.setState(A=>{const E=xn(A,t.current.instanceId),_=t.current.getFilterState(E),G=w({},A,{filter:w({},A.filter,_)}),k=cC(t,G);return w({},G,{visibleRowsLookup:k})}),t.current.publishEvent("filteredRowsSet")},[t]),c=h.useCallback((A,E)=>E==null||E.filterable===!1||l.disableColumnFilter?A:[...A,"columnMenuFilterItem"],[l.disableColumnFilter]),d=h.useCallback(()=>{i(),t.current.forceUpdate()},[t,i]),g=h.useCallback(A=>{const E=xn(t),_=[...E.items],G=_.findIndex(k=>k.id===A.id);G===-1?_.push(A):_[G]=A,t.current.setFilterModel(w({},E,{items:_}),"upsertFilterItem")},[t]),p=h.useCallback(A=>{const E=xn(t),_=[...E.items];A.forEach(G=>{const k=_.findIndex(K=>K.id===G.id);k===-1?_.push(G):_[k]=G}),t.current.setFilterModel(w({},E,{items:_}),"upsertFilterItems")},[t]),m=h.useCallback(A=>{const E=xn(t),_=E.items.filter(G=>G.id!==A.id);_.length!==E.items.length&&t.current.setFilterModel(w({},E,{items:_}),"deleteFilterItem")},[t]),x=h.useCallback((A,E,_)=>{if(s.debug("Displaying filter panel"),A){const G=xn(t),k=G.items.filter(z=>{if(z.value!==void 0)return!(Array.isArray(z.value)&&z.value.length===0);const q=t.current.getColumn(z.field).filterOperators?.find($=>$.value===z.operator);return!(typeof q?.requiresFilterValue>"u"?!0:q?.requiresFilterValue)});let K;const L=k.find(z=>z.field===A),S=t.current.getColumn(A);L?K=k:l.disableMultipleColumnsFiltering?K=[vh({field:A,operator:S.filterOperators[0].value},t)]:K=[...k,vh({field:A,operator:S.filterOperators[0].value},t)],t.current.setFilterModel(w({},G,{items:K}))}t.current.showPreferences(Kl.filters,E,_)},[t,s,l.disableMultipleColumnsFiltering]),b=h.useCallback(()=>{s.debug("Hiding filter panel"),t.current.hidePreferences()},[t,s]),C=h.useCallback(A=>{const E=xn(t);E.logicOperator!==A&&t.current.setFilterModel(w({},E,{logicOperator:A}),"changeLogicOperator")},[t]),v=h.useCallback(A=>{const E=xn(t);ro(E.quickFilterValues,A)||t.current.setFilterModel(w({},E,{quickFilterValues:[...A]}))},[t]),M=h.useCallback((A,E)=>{xn(t)!==A&&(s.debug("Setting filter model"),t.current.updateControlState("filter",yx(A,l.disableMultipleColumnsFiltering,t),E),t.current.unstable_applyFilters())},[t,s,l.disableMultipleColumnsFiltering]),j=h.useCallback(A=>{const E=Wh(A,l.disableMultipleColumnsFiltering,t),_=l.filterMode==="client"?N1(E,t,l.disableEval):null,G=t.current.applyStrategyProcessor("filtering",{isRowMatchingFilters:_,filterModel:E??yi()});return w({},G,{filterModel:E})},[l.disableMultipleColumnsFiltering,l.filterMode,l.disableEval,t]),T={setFilterLogicOperator:C,unstable_applyFilters:d,deleteFilterItem:m,upsertFilterItem:g,upsertFilterItems:p,setFilterModel:M,showFilterPanel:x,hideFilterPanel:b,setQuickFilterValues:v,ignoreDiacritics:l.ignoreDiacritics,getFilterState:j};Ue(t,T,"public");const I=h.useCallback((A,E)=>{const _=xn(t);return _.items.forEach(k=>{delete k.fromInput}),!E.exportOnlyDirtyModels||l.filterModel!=null||l.initialState?.filter?.filterModel!=null||!ro(_,yi())?w({},A,{filter:{filterModel:_}}):A},[t,l.filterModel,l.initialState?.filter?.filterModel]),O=h.useCallback((A,E)=>{const _=E.stateToRestore.filter?.filterModel;return _==null?A:(t.current.updateControlState("filter",yx(_,l.disableMultipleColumnsFiltering,t),"restoreState"),w({},A,{callbacks:[...A.callbacks,t.current.unstable_applyFilters]}))},[t,l.disableMultipleColumnsFiltering]),D=h.useCallback((A,E)=>{if(E===Kl.filters){const _=l.slots.filterPanel;return r.jsx(_,w({},l.slotProps?.filterPanel))}return A},[l.slots.filterPanel,l.slotProps?.filterPanel]),{getRowId:P}=l,B=io(xF),R=h.useCallback(A=>{if(l.filterMode!=="client"||!A.isRowMatchingFilters||!A.filterModel.items.length&&!A.filterModel.quickFilterValues?.length)return l0;const E=Dl(t),_={},{isRowMatchingFilters:G}=A,k={},K={passingFilterItems:null,passingQuickFilterValues:null},L=B.current(t.current.state.rows.dataRowIdToModelLookup);for(let F=0;F<L.length;F+=1){const q=L[F],Y=P?P(q):q.id;G(q,void 0,K);const $=L1([K.passingFilterItems],[K.passingQuickFilterValues],A.filterModel,t,k);_[Y]=$}const S="auto-generated-group-footer-root";return E[S]&&(_[S]=!0),{filteredRowsLookup:_,filteredChildrenCountLookup:{},filteredDescendantCountLookup:{}}},[t,l.filterMode,P,B]);Vt(t,"columnMenu",c),Vt(t,"exportState",I),Vt(t,"restoreState",O),Vt(t,"preferencePanel",D),yu(t,Kr,"filtering",R),yu(t,Kr,"visibleRowsLookupCreation",bF);const W=h.useCallback(()=>{s.debug("onColUpdated - GridColumns changed, applying filters");const A=xn(t),E=fo(t),_=A.items.filter(G=>G.field&&E[G.field]);_.length<A.items.length&&t.current.setFilterModel(w({},A,{items:_}))},[t,s]),V=h.useCallback(A=>{A==="filtering"&&t.current.unstable_applyFilters()},[t]),U=h.useCallback(()=>{t.current.setState(A=>w({},A,{visibleRowsLookup:cC(t,A)})),t.current.forceUpdate()},[t]);ye(t,"rowsSet",i),ye(t,"columnsChange",W),ye(t,"activeStrategyProcessorChange",V),ye(t,"rowExpansionChange",U),ye(t,"columnVisibilityModelChange",()=>{const A=xn(t);A.quickFilterValues&&u0(A)&&t.current.unstable_applyFilters()}),Ii(()=>{t.current.unstable_applyFilters()}),On(()=>{l.filterModel!==void 0&&t.current.setFilterModel(l.filterModel)},[t,s,l.filterModel])},yF=t=>w({},t,{focus:{cell:null,columnHeader:null,columnHeaderFilter:null,columnGroupHeader:null},tabIndex:{cell:null,columnHeader:null,columnHeaderFilter:null,columnGroupHeader:null}}),vF=(t,l)=>{const s=pn(t,"useGridFocus"),i=h.useRef(null),c=t.current.rootElementRef.current!==null,d=h.useCallback((U,A)=>{U&&t.current.getRow(U.id)&&t.current.publishEvent("cellFocusOut",t.current.getCellParams(U.id,U.field),A)},[t]),g=h.useCallback((U,A)=>{const E=tl(t);E?.id===U&&E?.field===A||(t.current.setState(_=>(s.debug(`Focusing on cell with id=${U} and field=${A}`),w({},_,{tabIndex:{cell:{id:U,field:A},columnHeader:null,columnHeaderFilter:null,columnGroupHeader:null},focus:{cell:{id:U,field:A},columnHeader:null,columnHeaderFilter:null,columnGroupHeader:null}}))),t.current.forceUpdate(),t.current.getRow(U)&&(E&&d(E,{}),t.current.publishEvent("cellFocusIn",t.current.getCellParams(U,A))))},[t,s,d]),p=h.useCallback((U,A={})=>{const E=tl(t);d(E,A),t.current.setState(_=>(s.debug(`Focusing on column header with colIndex=${U}`),w({},_,{tabIndex:{columnHeader:{field:U},columnHeaderFilter:null,cell:null,columnGroupHeader:null},focus:{columnHeader:{field:U},columnHeaderFilter:null,cell:null,columnGroupHeader:null}}))),t.current.forceUpdate()},[t,s,d]),m=h.useCallback((U,A={})=>{const E=tl(t);d(E,A),t.current.setState(_=>(s.debug(`Focusing on column header filter with colIndex=${U}`),w({},_,{tabIndex:{columnHeader:null,columnHeaderFilter:{field:U},cell:null,columnGroupHeader:null},focus:{columnHeader:null,columnHeaderFilter:{field:U},cell:null,columnGroupHeader:null}}))),t.current.forceUpdate()},[t,s,d]),x=h.useCallback((U,A,E={})=>{const _=tl(t);_&&t.current.publishEvent("cellFocusOut",t.current.getCellParams(_.id,_.field),E),t.current.setState(G=>w({},G,{tabIndex:{columnGroupHeader:{field:U,depth:A},columnHeader:null,columnHeaderFilter:null,cell:null},focus:{columnGroupHeader:{field:U,depth:A},columnHeader:null,columnHeaderFilter:null,cell:null}})),t.current.forceUpdate()},[t]),b=h.useCallback(()=>fu(t),[t]),C=h.useCallback((U,A,E)=>{let _=t.current.getColumnIndex(A);const G=qt(t),k=pr(t,{pagination:l.pagination,paginationMode:l.paginationMode}),K=es(t),L=[].concat(K.top||[],k.rows,K.bottom||[]);let S=L.findIndex(Y=>Y.id===U);E==="right"?_+=1:E==="left"?_-=1:S+=1,_>=G.length?(S+=1,S<L.length&&(_=0)):_<0&&(S-=1,S>=0&&(_=G.length-1)),S=dl(S,0,L.length-1);const z=L[S];if(!z)return;const F=t.current.unstable_getCellColSpanInfo(z.id,_);F&&F.spannedByColSpan&&(E==="left"||E==="below"?_=F.leftVisibleCellIndex:E==="right"&&(_=F.rightVisibleCellIndex)),_=dl(_,0,G.length-1);const q=G[_];t.current.setCellFocus(z.id,q.field)},[t,l.pagination,l.paginationMode]),v=h.useCallback(({id:U,field:A})=>{t.current.setCellFocus(U,A)},[t]),M=h.useCallback((U,A)=>{A.key==="Enter"||A.key==="Tab"||A.key==="Shift"||bu(A.key)||t.current.setCellFocus(U.id,U.field)},[t]),j=h.useCallback(({field:U},A)=>{A.target===A.currentTarget&&t.current.setColumnHeaderFocus(U,A)},[t]),T=h.useCallback(({fields:U,depth:A},E)=>{if(E.target!==E.currentTarget)return;const _=fu(t);_!==null&&_.depth===A&&U.includes(_.field)||t.current.setColumnGroupHeaderFocus(U[0],A,E)},[t]),I=h.useCallback((U,A)=>{A.relatedTarget?.getAttribute("class")?.includes(N.columnHeader)||(s.debug("Clearing focus"),t.current.setState(E=>w({},E,{focus:{cell:null,columnHeader:null,columnHeaderFilter:null,columnGroupHeader:null}})))},[s,t]),O=h.useCallback(U=>{i.current=U},[]),D=h.useCallback(U=>{const A=i.current;i.current=null;const E=tl(t);if(!t.current.unstable_applyPipeProcessors("canUpdateFocus",!0,{event:U,cell:A}))return;if(!E){A&&t.current.setCellFocus(A.id,A.field);return}A?.id===E.id&&A?.field===E.field||t.current.getCellElement(E.id,E.field)?.contains(U.target)||(A?t.current.setCellFocus(A.id,A.field):(t.current.setState(k=>w({},k,{focus:{cell:null,columnHeader:null,columnHeaderFilter:null,columnGroupHeader:null}})),t.current.forceUpdate(),d(E,U)))},[t,d]),P=h.useCallback(U=>{if(U.cellMode==="view")return;const A=tl(t);(A?.id!==U.id||A?.field!==U.field)&&t.current.setCellFocus(U.id,U.field)},[t]),B=h.useCallback(()=>{const U=tl(t);if(U&&!t.current.getRow(U.id)){const A=U.id;let E=null;if(typeof A<"u"){const _=t.current.getRowElement(A),G=_?.dataset.rowindex?Number(_?.dataset.rowindex):0,k=pr(t,{pagination:l.pagination,paginationMode:l.paginationMode});E=k.rows[dl(G,0,k.rows.length-1)]?.id??null}t.current.setState(_=>w({},_,{focus:{cell:E===null?null:{id:E,field:U.field},columnHeader:null,columnHeaderFilter:null,columnGroupHeader:null}}))}},[t,l.pagination,l.paginationMode]),R=Nt(()=>{const U=tl(t);if(!U)return;const A=pr(t,{pagination:l.pagination,paginationMode:l.paginationMode});if(A.rows.find(G=>G.id===U.id))return;const _=qt(t);t.current.setState(G=>w({},G,{tabIndex:{cell:{id:A.rows[0].id,field:_[0].field},columnGroupHeader:null,columnHeader:null,columnHeaderFilter:null}}))}),W={setCellFocus:g,setColumnHeaderFocus:p,setColumnHeaderFilterFocus:m},V={moveFocusToRelativeCell:C,setColumnGroupHeaderFocus:x,getColumnGroupHeaderFocus:b};Ue(t,W,"public"),Ue(t,V,"private"),h.useEffect(()=>{const U=$r(t.current.rootElementRef.current);return U.addEventListener("mouseup",D),()=>{U.removeEventListener("mouseup",D)}},[t,c,D]),ye(t,"columnHeaderBlur",I),ye(t,"cellDoubleClick",v),ye(t,"cellMouseDown",O),ye(t,"cellKeyDown",M),ye(t,"cellModeChange",P),ye(t,"columnHeaderFocus",j),ye(t,"columnGroupHeaderFocus",T),ye(t,"rowsSet",B),ye(t,"paginationModelChange",R)},sh=({currentColIndex:t,firstColIndex:l,lastColIndex:s,isRtl:i})=>{if(i){if(t<s)return t+1}else if(!i&&t>l)return t-1;return null},ih=({currentColIndex:t,firstColIndex:l,lastColIndex:s,isRtl:i})=>{if(i){if(t>l)return t-1}else if(!i&&t<s)return t+1;return null};function wF(t,l,s,i){const c=B0(t);if(!c[l]?.[s])return l;const d=y0(t);let g=d.indexOf(l)+(i==="down"?1:-1);for(;g>=0&&g<d.length;){const p=d[g];if(!c[p]?.[s])return p;g+=i==="down"?1:-1}return l}const SF=ft(Ai,es,(t,l)=>(l.top||[]).concat(t.rows,l.bottom||[])),jF=(t,l)=>{const s=pn(t,"useGridKeyboardNavigation"),i=co(),c=l.unstable_listView,d=h.useCallback(()=>SF(t),[t]),g=l.signature!=="DataGrid"&&l.headerFilters,p=h.useCallback((O,D,P="left",B="up")=>{const R=yr(t),W=t.current.unstable_getCellColSpanInfo(D,O);W&&W.spannedByColSpan&&(P==="left"?O=W.leftVisibleCellIndex:P==="right"&&(O=W.rightVisibleCellIndex));const V=c?Xa(t.current.state).field:ts(t)[O],U=wF(t,D,V,B),A=R.findIndex(E=>E.id===U);s.debug(`Navigating to cell row ${A}, col ${O}`),t.current.scrollToIndexes({colIndex:O,rowIndex:A}),t.current.setCellFocus(U,V)},[t,s,c]),m=h.useCallback((O,D)=>{s.debug(`Navigating to header col ${O}`),t.current.scrollToIndexes({colIndex:O});const P=t.current.getVisibleColumns()[O].field;t.current.setColumnHeaderFocus(P,D)},[t,s]),x=h.useCallback((O,D)=>{s.debug(`Navigating to header filter col ${O}`),t.current.scrollToIndexes({colIndex:O});const P=t.current.getVisibleColumns()[O].field;t.current.setColumnHeaderFilterFocus(P,D)},[t,s]),b=h.useCallback((O,D,P)=>{s.debug(`Navigating to header col ${O}`),t.current.scrollToIndexes({colIndex:O});const{field:B}=t.current.getVisibleColumns()[O];t.current.setColumnGroupHeaderFocus(B,D,P)},[t,s]),C=h.useCallback(O=>d()[O]?.id,[d]),v=h.useCallback((O,D)=>{const P=D.currentTarget.querySelector(`.${N.columnHeaderTitleContainerContent}`);if(!!P&&P.contains(D.target)&&O.field!==rs.field)return;const R=d(),W=t.current.getViewportPageSize(),V=O.field?t.current.getColumnIndex(O.field):0,U=R.length>0?0:null,A=R.length-1,E=0,_=qt(t).length-1,G=Oi(t);let k=!0;switch(D.key){case"ArrowDown":{g?x(V,D):U!==null&&p(V,C(U));break}case"ArrowRight":{const K=ih({currentColIndex:V,firstColIndex:E,lastColIndex:_,isRtl:i});K!==null&&m(K,D);break}case"ArrowLeft":{const K=sh({currentColIndex:V,firstColIndex:E,lastColIndex:_,isRtl:i});K!==null&&m(K,D);break}case"ArrowUp":{G>0&&b(V,G-1,D);break}case"PageDown":{U!==null&&A!==null&&p(V,C(Math.min(U+W,A)));break}case"Home":{m(E,D);break}case"End":{m(_,D);break}case"Enter":{(D.ctrlKey||D.metaKey)&&t.current.toggleColumnMenu(O.field);break}case" ":break;default:k=!1}k&&D.preventDefault()},[t,d,g,x,p,C,i,m,b]),M=h.useCallback((O,D)=>{const P=yM(t)===O.field,B=vM(t)===O.field;if(P||B||!bu(D.key))return;const R=d(),W=t.current.getViewportPageSize(),V=O.field?t.current.getColumnIndex(O.field):0,U=0,A=R.length-1,E=0,_=qt(t).length-1;let G=!0;switch(D.key){case"ArrowDown":{const k=C(U);k!=null&&p(V,k);break}case"ArrowRight":{const k=ih({currentColIndex:V,firstColIndex:E,lastColIndex:_,isRtl:i});k!==null&&x(k,D);break}case"ArrowLeft":{const k=sh({currentColIndex:V,firstColIndex:E,lastColIndex:_,isRtl:i});k!==null?x(k,D):t.current.setColumnHeaderFilterFocus(O.field,D);break}case"ArrowUp":{m(V,D);break}case"PageDown":{A!==null&&p(V,C(Math.min(U+W,A)));break}case"Home":{x(E,D);break}case"End":{x(_,D);break}case" ":break;default:G=!1}G&&D.preventDefault()},[t,d,x,i,m,p,C]),j=h.useCallback((O,D)=>{const P=fu(t);if(P===null)return;const{field:B,depth:R}=P,{fields:W,depth:V,maxDepth:U}=O,A=d(),E=t.current.getViewportPageSize(),_=t.current.getColumnIndex(B),G=B?t.current.getColumnIndex(B):0,k=0,K=A.length-1,L=0,S=qt(t).length-1;let z=!0;switch(D.key){case"ArrowDown":{V===U-1?m(_,D):b(_,R+1,D);break}case"ArrowUp":{V>0&&b(_,R-1,D);break}case"ArrowRight":{const F=W.length-W.indexOf(B)-1;_+F+1<=S&&b(_+F+1,R,D);break}case"ArrowLeft":{const F=W.indexOf(B);_-F-1>=L&&b(_-F-1,R,D);break}case"PageDown":{K!==null&&p(G,C(Math.min(k+E,K)));break}case"Home":{b(L,R,D);break}case"End":{b(S,R,D);break}case" ":break;default:z=!1}z&&D.preventDefault()},[t,d,m,b,p,C]),T=h.useCallback((O,D)=>{if(Hi(D))return;const P=t.current.getCellParams(O.id,O.field);if(P.cellMode===yt.Edit||!bu(D.key)||!t.current.unstable_applyPipeProcessors("canUpdateFocus",!0,{event:D,cell:P}))return;const R=d();if(R.length===0)return;const W=t.current.getViewportPageSize(),V=c?()=>0:t.current.getColumnIndex,U=O.field?V(O.field):0,A=R.findIndex(S=>S.id===O.id),E=0,_=R.length-1,G=0,K=(c?[Xa(t.current.state)]:qt(t)).length-1;let L=!0;switch(D.key){case"ArrowDown":{A<_&&p(U,C(A+1),i?"right":"left","down");break}case"ArrowUp":{A>E?p(U,C(A-1)):g?x(U,D):m(U,D);break}case"ArrowRight":{const S=ih({currentColIndex:U,firstColIndex:G,lastColIndex:K,isRtl:i});S!==null&&p(S,C(A),i?"left":"right");break}case"ArrowLeft":{const S=sh({currentColIndex:U,firstColIndex:G,lastColIndex:K,isRtl:i});S!==null&&p(S,C(A),i?"right":"left");break}case"Tab":{D.shiftKey&&U>G?p(U-1,C(A),"left"):!D.shiftKey&&U<K&&p(U+1,C(A),"right");break}case" ":{if(O.field===Tu)break;const z=O.colDef;if(z&&(z.field===ej||UE(z.field)))break;!D.shiftKey&&A<_&&p(U,C(Math.min(A+W,_)));break}case"PageDown":{A<_&&p(U,C(Math.min(A+W,_)));break}case"PageUp":{const S=Math.max(A-W,E);S!==A&&S>=E?p(U,C(S)):m(U,D);break}case"Home":{D.ctrlKey||D.metaKey||D.shiftKey?p(G,C(E)):p(G,C(A));break}case"End":{D.ctrlKey||D.metaKey||D.shiftKey?p(K,C(_)):p(K,C(A));break}default:L=!1}L&&D.preventDefault()},[t,d,i,p,C,g,x,m,c]),I=h.useCallback((O,{event:D})=>D.key===" "?!1:O,[]);Vt(t,"canStartEditing",I),ye(t,"columnHeaderKeyDown",v),ye(t,"headerFilterKeyDown",M),ye(t,"columnGroupHeaderKeyDown",j),ye(t,"cellKeyDown",T)},MF=(t,l)=>{const s=pn(t,"useGridRowCount"),i=he(t,Xh),c=he(t,_a),d=he(t,fi),g=he(t,zn),p=io(()=>zn(t).pageSize);t.current.registerControlState({stateId:"paginationRowCount",propModel:l.rowCount,propOnChange:l.onRowCountChange,stateSelector:_a,changeEvent:"rowCountChange"});const x={setRowCount:h.useCallback(j=>{c!==j&&(s.debug("Setting 'rowCount' to",j),t.current.setState(T=>w({},T,{pagination:w({},T.pagination,{rowCount:j})})))},[t,s,c])};Ue(t,x,"public");const b=h.useCallback((j,T)=>{const I=_a(t);return!T.exportOnlyDirtyModels||l.rowCount!=null||l.initialState?.pagination?.rowCount!=null?w({},j,{pagination:w({},j.pagination,{rowCount:I})}):j},[t,l.rowCount,l.initialState?.pagination?.rowCount]),C=h.useCallback((j,T)=>{const I=T.stateToRestore.pagination?.rowCount?T.stateToRestore.pagination.rowCount:_a(t);return t.current.setState(O=>w({},O,{pagination:w({},O.pagination,{rowCount:I})})),j},[t]);Vt(t,"exportState",b),Vt(t,"restoreState",C);const v=h.useCallback(j=>{l.paginationMode==="client"||!p.current||j.pageSize!==p.current&&(p.current=j.pageSize,c===-1&&t.current.setPage(0))},[l.paginationMode,p,c,t]);ye(t,"paginationModelChange",v),h.useEffect(()=>{l.paginationMode==="client"?t.current.setRowCount(i):l.rowCount!=null&&t.current.setRowCount(l.rowCount)},[t,l.paginationMode,i,l.rowCount]);const M=d.hasNextPage===!1;h.useEffect(()=>{M&&c===-1&&t.current.setRowCount(g.pageSize*g.page+i)},[t,i,M,c,g])},EF=(t,l)=>{const s=pn(t,"useGridPaginationMeta"),i=he(t,fi);t.current.registerControlState({stateId:"paginationMeta",propModel:l.paginationMeta,propOnChange:l.onPaginationMetaChange,stateSelector:fi,changeEvent:"paginationMetaChange"});const d={setPaginationMeta:h.useCallback(m=>{i!==m&&(s.debug("Setting 'paginationMeta' to",m),t.current.setState(x=>w({},x,{pagination:w({},x.pagination,{meta:m})})))},[t,s,i])};Ue(t,d,"public");const g=h.useCallback((m,x)=>{const b=fi(t);return!x.exportOnlyDirtyModels||l.paginationMeta!=null||l.initialState?.pagination?.meta!=null?w({},m,{pagination:w({},m.pagination,{meta:b})}):m},[t,l.paginationMeta,l.initialState?.pagination?.meta]),p=h.useCallback((m,x)=>{const b=x.stateToRestore.pagination?.meta?x.stateToRestore.pagination.meta:fi(t);return t.current.setState(C=>w({},C,{pagination:w({},C.pagination,{meta:b})})),m},[t]);Vt(t,"exportState",g),Vt(t,"restoreState",p),h.useEffect(()=>{l.paginationMeta&&t.current.setPaginationMeta(l.paginationMeta)},[t,l.paginationMeta])},DF=(t,l)=>{const s=w({},E0(l.autoPageSize),l.paginationModel??l.initialState?.pagination?.paginationModel);D0(s.pageSize,l.signature);const i=l.rowCount??l.initialState?.pagination?.rowCount??(l.paginationMode==="client"?t.rows?.totalRowCount:void 0),c=l.paginationMeta??l.initialState?.pagination?.meta??{};return w({},t,{pagination:w({},t.pagination,{paginationModel:s,rowCount:i,meta:c,enabled:l.pagination===!0,paginationMode:l.paginationMode})})},TF=(t,l)=>{EF(t,l),fF(t,l),MF(t,l)},IF=(t,l)=>w({},t,{preferencePanel:l.initialState?.preferencePanel??{open:!1}}),FF=(t,l)=>{const s=pn(t,"useGridPreferencesPanel"),i=h.useCallback(()=>{t.current.setState(p=>{if(!p.preferencePanel.open)return p;s.debug("Hiding Preferences Panel");const m=Yr(p);return t.current.publishEvent("preferencePanelClose",{openedPanelValue:m.openedPanelValue}),w({},p,{preferencePanel:{open:!1}})})},[t,s]),c=h.useCallback((p,m,x)=>{s.debug("Opening Preferences Panel"),t.current.setState(b=>w({},b,{preferencePanel:w({},b.preferencePanel,{open:!0,openedPanelValue:p,panelId:m,labelId:x})})),t.current.publishEvent("preferencePanelOpen",{openedPanelValue:p})},[s,t]);Ue(t,{showPreferences:c,hidePreferences:i},"public");const d=h.useCallback((p,m)=>{const x=Yr(t.current.state);return!m.exportOnlyDirtyModels||l.initialState?.preferencePanel!=null||x.open?w({},p,{preferencePanel:x}):p},[t,l.initialState?.preferencePanel]),g=h.useCallback((p,m)=>{const x=m.stateToRestore.preferencePanel;return x!=null&&t.current.setState(b=>w({},b,{preferencePanel:x})),p},[t]);Vt(t,"exportState",d),Vt(t,"restoreState",g)},Dh=t=>{switch(t.type){case"boolean":return!1;case"date":case"dateTime":case"number":return;case"singleSelect":return null;default:return""}},AF=["id","field"],zF=["id","field"],OF=(t,l)=>{const[s,i]=h.useState({}),c=h.useRef(s),d=h.useRef({}),{processRowUpdate:g,onProcessRowUpdateError:p,cellModesModel:m,onCellModesModelChange:x}=l,b=L=>(...S)=>{l.editMode===so.Cell&&L(...S)},C=h.useCallback((L,S)=>{const z=t.current.getCellParams(L,S);if(!t.current.isCellEditable(z))throw new Error(`MUI X: The cell with id=${L} and field=${S} is not editable.`)},[t]),v=h.useCallback((L,S,z)=>{if(t.current.getCellMode(L,S)!==z)throw new Error(`MUI X: The cell with id=${L} and field=${S} is not in ${z} mode.`)},[t]),M=h.useCallback((L,S)=>{if(!L.isEditable||L.cellMode===yt.Edit)return;const z=w({},L,{reason:ko.cellDoubleClick});t.current.publishEvent("cellEditStart",z,S)},[t]),j=h.useCallback((L,S)=>{if(L.cellMode===yt.View||t.current.getCellMode(L.id,L.field)===yt.View)return;const z=w({},L,{reason:Vl.cellFocusOut});t.current.publishEvent("cellEditStop",z,S)},[t]),T=h.useCallback((L,S)=>{if(L.cellMode===yt.Edit){if(S.which===229)return;let z;if(S.key==="Escape"?z=Vl.escapeKeyDown:S.key==="Enter"?z=Vl.enterKeyDown:S.key==="Tab"&&(z=S.shiftKey?Vl.shiftTabKeyDown:Vl.tabKeyDown,S.preventDefault()),z){const F=w({},L,{reason:z});t.current.publishEvent("cellEditStop",F,S)}}else if(L.isEditable){let z;if(!t.current.unstable_applyPipeProcessors("canStartEditing",!0,{event:S,cellParams:L,editMode:"cell"}))return;if(ly(S)?z=ko.printableKeyDown:oy(S)?z=ko.pasteKeyDown:S.key==="Enter"?z=ko.enterKeyDown:(S.key==="Backspace"||S.key==="Delete")&&(z=ko.deleteKeyDown),z){const q=w({},L,{reason:z,key:S.key});t.current.publishEvent("cellEditStart",q,S)}}},[t]),I=h.useCallback(L=>{const{id:S,field:z,reason:F}=L,q={id:S,field:z};(F===ko.printableKeyDown||F===ko.deleteKeyDown||F===ko.pasteKeyDown)&&(q.deleteValue=!0),t.current.startCellEditMode(q)},[t]),O=h.useCallback(L=>{const{id:S,field:z,reason:F}=L;t.current.runPendingEditCellValueMutation(S,z);let q;F===Vl.enterKeyDown?q="below":F===Vl.tabKeyDown?q="right":F===Vl.shiftTabKeyDown&&(q="left");const Y=F==="escapeKeyDown";t.current.stopCellEditMode({id:S,field:z,ignoreModifications:Y,cellToFocusAfter:q})},[t]),D=L=>async(...S)=>{if(L){const{id:z,field:F}=S[0];t.current.state.editRows[z][F]?.error||L(...S)}};ye(t,"cellDoubleClick",b(M)),ye(t,"cellFocusOut",b(j)),ye(t,"cellKeyDown",b(T)),ye(t,"cellEditStart",b(I)),ye(t,"cellEditStop",b(O)),vt(t,"cellEditStart",l.onCellEditStart),vt(t,"cellEditStop",D(l.onCellEditStop));const P=h.useCallback((L,S)=>{const z=gn(t.current.state);return z[L]&&z[L][S]?yt.Edit:yt.View},[t]),B=Nt(L=>{const S=L!==l.cellModesModel;x&&S&&x(L,{api:t.current}),!(l.cellModesModel&&S)&&(i(L),c.current=L,t.current.publishEvent("cellModesModelChange",L))}),R=h.useCallback((L,S,z)=>{const F=w({},c.current);if(z!==null)F[L]=w({},F[L],{[S]:w({},z)});else{const q=F[L],Y=Ee(q,[S].map(Si));F[L]=Y,Object.keys(F[L]).length===0&&delete F[L]}B(F)},[B]),W=h.useCallback((L,S,z)=>{t.current.setState(F=>{const q=w({},F.editRows);return z!==null?q[L]=w({},q[L],{[S]:w({},z)}):(delete q[L][S],Object.keys(q[L]).length===0&&delete q[L]),w({},F,{editRows:q})}),t.current.forceUpdate()},[t]),V=h.useCallback(L=>{const{id:S,field:z}=L,F=Ee(L,AF);C(S,z),v(S,z,yt.View),R(S,z,w({mode:yt.Edit},F))},[C,v,R]),U=Nt(async L=>{const{id:S,field:z,deleteValue:F,initialValue:q}=L,Y=t.current.getCellValue(S,z);let $=Y;F?$=Dh(t.current.getColumn(z)):q&&($=q);const Q=t.current.getColumn(z),oe=!!Q.preProcessEditCellProps&&F;let ae={value:$,error:!1,isProcessingProps:oe};if(W(S,z,ae),t.current.setCellFocus(S,z),oe&&(ae=await Promise.resolve(Q.preProcessEditCellProps({id:S,row:t.current.getRow(S),props:ae,hasChanged:$!==Y})),t.current.getCellMode(S,z)===yt.Edit)){const fe=gn(t.current.state);W(S,z,w({},ae,{value:fe[S][z].value,isProcessingProps:!1}))}}),A=h.useCallback(L=>{const{id:S,field:z}=L,F=Ee(L,zF);v(S,z,yt.Edit),R(S,z,w({mode:yt.View},F))},[v,R]),E=Nt(async L=>{const{id:S,field:z,ignoreModifications:F,cellToFocusAfter:q="none"}=L;v(S,z,yt.Edit),t.current.runPendingEditCellValueMutation(S,z);const Y=()=>{W(S,z,null),R(S,z,null),q!=="none"&&t.current.moveFocusToRelativeCell(S,z,q)};if(F){Y();return}const $=gn(t.current.state),{error:Q,isProcessingProps:oe}=$[S][z];if(Q||oe){d.current[S][z].mode=yt.Edit,R(S,z,{mode:yt.Edit});return}const ae=t.current.getRowWithUpdatedValuesFromCellEditing(S,z);if(g){const fe=ce=>{d.current[S][z].mode=yt.Edit,R(S,z,{mode:yt.Edit}),p&&p(ce)};try{const ce=t.current.getRow(S);Promise.resolve(g(ae,ce,{rowId:S})).then(ve=>{t.current.updateRows([ve]),Y()}).catch(fe)}catch(ce){fe(ce)}}else t.current.updateRows([ae]),Y()}),_=h.useCallback(async L=>{const{id:S,field:z,value:F,debounceMs:q,unstable_skipValueParser:Y}=L;C(S,z),v(S,z,yt.Edit);const $=t.current.getColumn(z),Q=t.current.getRow(S);let oe=F;$.valueParser&&!Y&&(oe=$.valueParser(F,Q,$,t));let ae=gn(t.current.state),fe=w({},ae[S][z],{value:oe,changeReason:q?"debouncedSetEditCellValue":"setEditCellValue"});if($.preProcessEditCellProps){const ce=F!==ae[S][z].value;fe=w({},fe,{isProcessingProps:!0}),W(S,z,fe),fe=await Promise.resolve($.preProcessEditCellProps({id:S,row:Q,props:fe,hasChanged:ce}))}return t.current.getCellMode(S,z)===yt.View?!1:(ae=gn(t.current.state),fe=w({},fe,{isProcessingProps:!1}),fe.value=$.preProcessEditCellProps?ae[S][z].value:oe,W(S,z,fe),ae=gn(t.current.state),!ae[S]?.[z]?.error)},[t,C,v,W]),G=h.useCallback((L,S)=>{const z=t.current.getColumn(S),F=gn(t.current.state),q=t.current.getRow(L);if(!F[L]||!F[L][S])return t.current.getRow(L);const{value:Y}=F[L][S];return z.valueSetter?z.valueSetter(Y,q,z,t):w({},q,{[S]:Y})},[t]),k={getCellMode:P,startCellEditMode:V,stopCellEditMode:A},K={setCellEditingEditCellValue:_,getRowWithUpdatedValuesFromCellEditing:G};Ue(t,k,"public"),Ue(t,K,"private"),h.useEffect(()=>{m&&B(m)},[m,B]),On(()=>{const L=Dl(t),S=d.current;d.current=e0(s),Object.entries(s).forEach(([z,F])=>{Object.entries(F).forEach(([q,Y])=>{const $=S[z]?.[q]?.mode||yt.View,Q=L[z]?t.current.getRowId(L[z]):z;Y.mode===yt.Edit&&$===yt.View?U(w({id:Q,field:q},Y)):Y.mode===yt.View&&$===yt.Edit&&E(w({id:Q,field:q},Y))})})},[t,s,U,E])},kF=["id"],HF=["id"],PF=(t,l)=>{const[s,i]=h.useState({}),c=h.useRef(s),d=h.useRef({}),g=h.useRef({}),p=h.useRef(void 0),m=h.useRef(null),{processRowUpdate:x,onProcessRowUpdateError:b,rowModesModel:C,onRowModesModelChange:v}=l,M=Y=>(...$)=>{l.editMode===so.Row&&Y(...$)},j=h.useCallback((Y,$)=>{const Q=t.current.getCellParams(Y,$);if(!t.current.isCellEditable(Q))throw new Error(`MUI X: The cell with id=${Y} and field=${$} is not editable.`)},[t]),T=h.useCallback((Y,$)=>{if(t.current.getRowMode(Y)!==$)throw new Error(`MUI X: The row with id=${Y} is not in ${$} mode.`)},[t]),I=h.useCallback(Y=>{const $=gn(t.current.state);return Object.values($[Y]).some(Q=>Q.error)},[t]),O=h.useCallback((Y,$)=>{if(!Y.isEditable||t.current.getRowMode(Y.id)===Rt.Edit)return;const Q=t.current.getRowParams(Y.id),oe=w({},Q,{field:Y.field,reason:cr.cellDoubleClick});t.current.publishEvent("rowEditStart",oe,$)},[t]),D=h.useCallback(Y=>{m.current=Y},[]),P=h.useCallback((Y,$)=>{Y.isEditable&&t.current.getRowMode(Y.id)!==Rt.View&&(m.current=null,p.current=setTimeout(()=>{if(m.current?.id!==Y.id){if(!t.current.getRow(Y.id)||t.current.getRowMode(Y.id)===Rt.View||I(Y.id))return;const Q=t.current.getRowParams(Y.id),oe=w({},Q,{field:Y.field,reason:lo.rowFocusOut});t.current.publishEvent("rowEditStop",oe,$)}}))},[t,I]);h.useEffect(()=>()=>{clearTimeout(p.current)},[]);const B=h.useCallback((Y,$)=>{if(Y.cellMode===Rt.Edit){if($.which===229)return;let Q;if($.key==="Escape")Q=lo.escapeKeyDown;else if($.key==="Enter")Q=lo.enterKeyDown;else if($.key==="Tab"){const oe=ts(t).filter(ae=>t.current.getColumn(ae).type===Eu?!0:t.current.isCellEditable(t.current.getCellParams(Y.id,ae)));if($.shiftKey?Y.field===oe[0]&&(Q=lo.shiftTabKeyDown):Y.field===oe[oe.length-1]&&(Q=lo.tabKeyDown),$.preventDefault(),!Q){const ae=oe.findIndex(ce=>ce===Y.field),fe=oe[$.shiftKey?ae-1:ae+1];t.current.setCellFocus(Y.id,fe)}}if(Q){if(Q!==lo.escapeKeyDown&&I(Y.id))return;const oe=w({},t.current.getRowParams(Y.id),{reason:Q,field:Y.field});t.current.publishEvent("rowEditStop",oe,$)}}else if(Y.isEditable){let Q;if(!t.current.unstable_applyPipeProcessors("canStartEditing",!0,{event:$,cellParams:Y,editMode:"row"}))return;if(ly($)||oy($)?Q=cr.printableKeyDown:$.key==="Enter"?Q=cr.enterKeyDown:($.key==="Backspace"||$.key==="Delete")&&(Q=cr.deleteKeyDown),Q){const ae=t.current.getRowParams(Y.id),fe=w({},ae,{field:Y.field,reason:Q});t.current.publishEvent("rowEditStart",fe,$)}}},[t,I]),R=h.useCallback(Y=>{const{id:$,field:Q,reason:oe}=Y,ae={id:$,fieldToFocus:Q};(oe===cr.printableKeyDown||oe===cr.deleteKeyDown)&&(ae.deleteValue=!!Q),t.current.startRowEditMode(ae)},[t]),W=h.useCallback(Y=>{const{id:$,reason:Q,field:oe}=Y;t.current.runPendingEditCellValueMutation($);let ae;Q===lo.enterKeyDown?ae="below":Q===lo.tabKeyDown?ae="right":Q===lo.shiftTabKeyDown&&(ae="left");const fe=Q==="escapeKeyDown";t.current.stopRowEditMode({id:$,ignoreModifications:fe,field:oe,cellToFocusAfter:ae})},[t]);ye(t,"cellDoubleClick",M(O)),ye(t,"cellFocusIn",M(D)),ye(t,"cellFocusOut",M(P)),ye(t,"cellKeyDown",M(B)),ye(t,"rowEditStart",M(R)),ye(t,"rowEditStop",M(W)),vt(t,"rowEditStart",l.onRowEditStart),vt(t,"rowEditStop",l.onRowEditStop);const V=h.useCallback(Y=>Y0(t,{rowId:Y,editMode:l.editMode})?Rt.Edit:Rt.View,[t,l.editMode]),U=Nt(Y=>{const $=Y!==l.rowModesModel;v&&$&&v(Y,{api:t.current}),!(l.rowModesModel&&$)&&(i(Y),c.current=Y,t.current.publishEvent("rowModesModelChange",Y))}),A=h.useCallback((Y,$)=>{const Q=w({},c.current);$!==null?Q[Y]=w({},$):delete Q[Y],U(Q)},[U]),E=h.useCallback((Y,$)=>{t.current.setState(Q=>{const oe=w({},Q.editRows);return $!==null?oe[Y]=$:delete oe[Y],w({},Q,{editRows:oe})}),t.current.forceUpdate()},[t]),_=h.useCallback((Y,$,Q)=>{t.current.setState(oe=>{const ae=w({},oe.editRows);return Q!==null?ae[Y]=w({},ae[Y],{[$]:w({},Q)}):(delete ae[Y][$],Object.keys(ae[Y]).length===0&&delete ae[Y]),w({},oe,{editRows:ae})}),t.current.forceUpdate()},[t]),G=h.useCallback(Y=>{const{id:$}=Y,Q=Ee(Y,kF);T($,Rt.View),A($,w({mode:Rt.Edit},Q))},[T,A]),k=Nt(Y=>{const{id:$,fieldToFocus:Q,deleteValue:oe,initialValue:ae}=Y,fe=t.current.getRow($),ce=Fl(t),ve=ce.reduce((Te,je)=>{const Ae=je.field;if(!t.current.getCellParams($,Ae).isEditable)return Te;const be=t.current.getColumn(Ae);let Me=t.current.getCellValue($,Ae);return Q===Ae&&(oe||ae)&&(oe?Me=Dh(be):ae&&(Me=ae)),Te[Ae]={value:Me,error:!1,isProcessingProps:be.editable&&!!be.preProcessEditCellProps&&oe},Te},{});g.current[$]=fe,E($,ve),Q&&t.current.setCellFocus($,Q),ce.filter(Te=>t.current.getCellParams($,Te.field).isEditable&&Te.editable&&!!Te.preProcessEditCellProps&&oe).forEach(Te=>{const je=Te.field,Ae=t.current.getCellValue($,je),Le=oe?Dh(Te):ae??Ae;Promise.resolve(Te.preProcessEditCellProps({id:$,row:fe,props:ve[je],hasChanged:Le!==Ae})).then(be=>{if(t.current.getRowMode($)===Rt.Edit){const Me=gn(t.current.state);_($,je,w({},be,{value:Me[$][je].value,isProcessingProps:!1}))}})})}),K=h.useCallback(Y=>{const{id:$}=Y,Q=Ee(Y,HF);T($,Rt.Edit),A($,w({mode:Rt.View},Q))},[T,A]),L=Nt(Y=>{const{id:$,ignoreModifications:Q,field:oe,cellToFocusAfter:ae="none"}=Y;t.current.runPendingEditCellValueMutation($);const fe=()=>{ae!=="none"&&oe&&t.current.moveFocusToRelativeCell($,oe,ae),E($,null),A($,null),delete g.current[$]};if(Q){fe();return}const ce=gn(t.current.state),ve=g.current[$];if(Object.values(ce[$]).some(Ae=>Ae.isProcessingProps)){d.current[$].mode=Rt.Edit;return}if(I($)){d.current[$].mode=Rt.Edit,A($,{mode:Rt.Edit});return}const je=t.current.getRowWithUpdatedValuesFromRowEditing($);if(x){const Ae=Le=>{d.current[$]&&(d.current[$].mode=Rt.Edit,A($,{mode:Rt.Edit})),b&&b(Le)};try{Promise.resolve(x(je,ve,{rowId:$})).then(Le=>{t.current.updateRows([Le]),fe()}).catch(Ae)}catch(Le){Ae(Le)}}else t.current.updateRows([je]),fe()}),S=h.useCallback(Y=>{const{id:$,field:Q,value:oe,debounceMs:ae,unstable_skipValueParser:fe}=Y;j($,Q);const ce=t.current.getColumn(Q),ve=t.current.getRow($);let Te=oe;ce.valueParser&&!fe&&(Te=ce.valueParser(oe,ve,ce,t));let je=gn(t.current.state),Ae=w({},je[$][Q],{value:Te,changeReason:ae?"debouncedSetEditCellValue":"setEditCellValue"});return ce.preProcessEditCellProps||_($,Q,Ae),new Promise(Le=>{const be=[];if(ce.preProcessEditCellProps){const Me=Ae.value!==je[$][Q].value;Ae=w({},Ae,{isProcessingProps:!0}),_($,Q,Ae);const ze=je[$],Ce=Ee(ze,[Q].map(Si)),$e=Promise.resolve(ce.preProcessEditCellProps({id:$,row:ve,props:Ae,hasChanged:Me,otherFieldsProps:Ce})).then(Ve=>{if(t.current.getRowMode($)===Rt.View){Le(!1);return}je=gn(t.current.state),Ve=w({},Ve,{isProcessingProps:!1}),Ve.value=ce.preProcessEditCellProps?je[$][Q].value:Te,_($,Q,Ve)});be.push($e)}Object.entries(je[$]).forEach(([Me,ze])=>{if(Me===Q)return;const Ce=t.current.getColumn(Me);if(!Ce.preProcessEditCellProps)return;ze=w({},ze,{isProcessingProps:!0}),_($,Me,ze),je=gn(t.current.state);const $e=je[$],Ve=Ee($e,[Me].map(Si)),_e=Promise.resolve(Ce.preProcessEditCellProps({id:$,row:ve,props:ze,hasChanged:!1,otherFieldsProps:Ve})).then(It=>{if(t.current.getRowMode($)===Rt.View){Le(!1);return}It=w({},It,{isProcessingProps:!1}),_($,Me,It)});be.push(_e)}),Promise.all(be).then(()=>{t.current.getRowMode($)===Rt.Edit?(je=gn(t.current.state),Le(!je[$][Q].error)):Le(!1)})})},[t,j,_]),z=h.useCallback(Y=>{const $=gn(t.current.state),Q=t.current.getRow(Y);if(!$[Y])return t.current.getRow(Y);let oe=w({},g.current[Y],Q);return Object.entries($[Y]).forEach(([ae,fe])=>{const ce=t.current.getColumn(ae);ce?.valueSetter?oe=ce.valueSetter(fe.value,oe,ce,t):oe[ae]=fe.value}),oe},[t]),F={getRowMode:V,startRowEditMode:G,stopRowEditMode:K},q={setRowEditingEditCellValue:S,getRowWithUpdatedValuesFromRowEditing:z};Ue(t,F,"public"),Ue(t,q,"private"),h.useEffect(()=>{C&&U(C)},[C,U]),On(()=>{const Y=Dl(t),$=d.current;d.current=e0(s);const Q=new Set([...Object.keys(s),...Object.keys($)]);Array.from(Q).forEach(oe=>{const ae=s[oe]??{mode:Rt.View},fe=$[oe]?.mode||Rt.View,ce=Y[oe]?t.current.getRowId(Y[oe]):oe;ae.mode===Rt.Edit&&fe===Rt.View?k(w({id:ce},ae)):ae.mode===Rt.View&&fe===Rt.Edit&&L(w({id:ce},ae))})},[t,s,k,L])},RF=t=>w({},t,{editRows:{}}),NF=(t,l)=>{OF(t,l),PF(t,l);const s=h.useRef({}),{isCellEditable:i}=l,c=h.useCallback(v=>Ya(v.rowNode)||!v.colDef.editable||!v.colDef.renderEditCell?!1:i?i(v):!0,[i]),d=(v,M,j,T)=>{if(!j){T();return}if(s.current[v]||(s.current[v]={}),s.current[v][M]){const[D]=s.current[v][M];clearTimeout(D)}const I=()=>{const[D]=s.current[v][M];clearTimeout(D),T(),delete s.current[v][M]},O=setTimeout(()=>{T(),delete s.current[v][M]},j);s.current[v][M]=[O,I]};h.useEffect(()=>{const v=s.current;return()=>{Object.entries(v).forEach(([M,j])=>{Object.keys(j).forEach(T=>{const[I]=v[M][T];clearTimeout(I),delete v[M][T]})})}},[]);const g=h.useCallback((v,M)=>{if(s.current[v]){if(!M)Object.keys(s.current[v]).forEach(j=>{const[,T]=s.current[v][j];T()});else if(s.current[v][M]){const[,j]=s.current[v][M];j()}}},[]),p=h.useCallback(v=>{const{id:M,field:j,debounceMs:T}=v;return new Promise(I=>{d(M,j,T,async()=>{const O=l.editMode===so.Row?t.current.setRowEditingEditCellValue:t.current.setCellEditingEditCellValue;if(t.current.getCellMode(M,j)===yt.Edit){const D=await O(v);I(D)}})})},[t,l.editMode]),m=h.useCallback((v,M)=>l.editMode===so.Cell?t.current.getRowWithUpdatedValuesFromCellEditing(v,M):t.current.getRowWithUpdatedValuesFromRowEditing(v),[t,l.editMode]),x=h.useCallback((v,M)=>gn(t.current.state)[v]?.[M]??null,[t]),b={isCellEditable:c,setEditCellValue:p,getRowWithUpdatedValues:m,unstable_getEditCellMeta:x},C={runPendingEditCellValueMutation:g};Ue(t,b,"public"),Ue(t,C,"private")},GF=(t,l,s)=>{const i=!!l.unstable_dataSource;return s.current.caches.rows=ru({rows:i?[]:l.rows,getRowId:l.getRowId,loading:l.loading,rowCount:l.rowCount}),w({},t,{rows:f0({apiRef:s,rowCountProp:l.rowCount,loadingProp:i?!0:l.loading,previousTree:null,previousTreeDepths:null})})},LF=(t,l)=>{const s=pn(t,"useGridRows"),i=h.useRef(Date.now()),c=h.useRef(l.rowCount),d=Xr(),g=h.useCallback(L=>{const S=Dl(t)[L];if(S)return S;const z=t.current.getRowNode(L);return z&&Ya(z)?{[qa]:L}:null},[t]),p=h.useCallback(L=>zi(t.current.state,L),[t]),m=h.useCallback(({cache:L,throttle:S})=>{const z=()=>{i.current=Date.now(),t.current.setState(q=>w({},q,{rows:f0({apiRef:t,rowCountProp:l.rowCount,loadingProp:l.loading,previousTree:sn(t),previousTreeDepths:px(t),previousGroupsToFetch:p1(t)})})),t.current.publishEvent("rowsSet"),t.current.forceUpdate()};if(d.clear(),t.current.caches.rows=L,!S){z();return}const F=l.throttleRowsMs-(Date.now()-i.current);if(F>0){d.start(F,z);return}z()},[l.throttleRowsMs,l.rowCount,l.loading,t,d]),x=h.useCallback(L=>{s.debug(`Updating all rows, new length ${L.length}`);const S=ru({rows:L,getRowId:l.getRowId,loading:l.loading,rowCount:l.rowCount}),z=t.current.caches.rows;S.rowsBeforePartialUpdates=z.rowsBeforePartialUpdates,m({cache:S,throttle:!0})},[s,l.getRowId,l.loading,l.rowCount,m,t]),b=h.useCallback(L=>{if(l.signature===Il.DataGrid&&L.length>1)throw new Error(["MUI X: You cannot update several rows at once in `apiRef.current.updateRows` on the DataGrid.","You need to upgrade to DataGridPro or DataGridPremium component to unlock this feature."].join(`
`));const S=Dx(t,L,l.getRowId),z=Ex({updates:S,getRowId:l.getRowId,previousCache:t.current.caches.rows});m({cache:z,throttle:!0})},[l.signature,l.getRowId,m,t]),C=h.useCallback((L,S)=>{const z=Dx(t,L,l.getRowId),F=Ex({updates:z,getRowId:l.getRowId,previousCache:t.current.caches.rows,groupKeys:S??[]});m({cache:F,throttle:!1})},[l.getRowId,m,t]),v=h.useCallback(L=>{L!==l.loading&&(s.debug(`Setting loading to ${L}`),t.current.setState(S=>w({},S,{rows:w({},S.rows,{loading:L})})),t.current.caches.rows.loadingPropBeforePartialUpdates=L)},[l.loading,t,s]),M=h.useCallback(()=>{const L=di(t),S=Dl(t);return new Map(L.map(z=>[z,S[z]??{}]))},[t]),j=h.useCallback(()=>Ti(t),[t]),T=h.useCallback(()=>di(t),[t]),I=h.useCallback(L=>{const S=t.current.getRow(L),{rowToIndexMap:z}=pr(t);return z.get(S)},[t]),O=h.useCallback((L,S)=>{const z=t.current.getRowNode(L);if(!z)throw new Error(`MUI X: No row with id #${L} found.`);if(z.type!=="group")throw new Error("MUI X: Only group nodes can be expanded or collapsed.");const F=w({},z,{childrenExpanded:S});t.current.setState(q=>w({},q,{rows:w({},q.rows,{tree:w({},q.rows.tree,{[L]:F})})})),t.current.forceUpdate(),t.current.publishEvent("rowExpansionChange",F)},[t]),D=h.useCallback(L=>sn(t)[L]??null,[t]),P=h.useCallback(({skipAutoGeneratedRows:L=!0,groupId:S,applySorting:z,applyFiltering:F})=>{const q=sn(t);let Y;if(z){const $=q[S];if(!$)return[];const Q=ls(t);Y=[];const oe=Q.findIndex(ae=>ae===S)+1;for(let ae=oe;ae<Q.length&&q[Q[ae]].depth>$.depth;ae+=1){const fe=Q[ae];(!L||!Ya(q[fe]))&&Y.push(fe)}}else Y=qh(q,S,L);if(F){const $=os(t);Y=Y.filter(Q=>$[Q]!==!1)}return Y},[t]),B=h.useCallback((L,S)=>{const z=t.current.getRowNode(L);if(!z)throw new Error(`MUI X: No row with id #${L} found.`);if(z.parent!==Mn)throw new Error("MUI X: The row reordering do not support reordering of grouped rows yet.");if(z.type!=="leaf")throw new Error("MUI X: The row reordering do not support reordering of footer or grouping rows.");t.current.setState(F=>{const q=sn(F,t.current.instanceId)[Mn],Y=q.children,$=Y.findIndex(oe=>oe===L);if($===-1||$===S)return F;s.debug(`Moving row ${L} to index ${S}`);const Q=[...Y];return Q.splice(S,0,Q.splice($,1)[0]),w({},F,{rows:w({},F.rows,{tree:w({},F.rows.tree,{[Mn]:w({},q,{children:Q})})})})}),t.current.publishEvent("rowsSet")},[t,s]),R=h.useCallback((L,S)=>{if(l.signature===Il.DataGrid&&S.length>1)throw new Error(["MUI X: You cannot replace rows using `apiRef.current.unstable_replaceRows` on the DataGrid.","You need to upgrade to DataGridPro or DataGridPremium component to unlock this feature."].join(`
`));if(S.length===0)return;if(Qr(t)>1)throw new Error("`apiRef.current.unstable_replaceRows` is not compatible with tree data and row grouping");const F=w({},sn(t)),q=w({},Dl(t)),Y=w({},mx(t)),$=F[Mn],Q=[...$.children],oe=new Set;for(let fe=0;fe<S.length;fe+=1){const ce=S[fe],ve=Du(ce,l.getRowId,"A row was provided without id when calling replaceRows()."),[Te]=Q.splice(L+fe,1,ve);oe.has(Te)||(delete q[Te],delete Y[Te],delete F[Te]);const je={id:ve,depth:0,parent:Mn,type:"leaf",groupingKey:null};q[ve]=ce,Y[ve]=ve,F[ve]=je,oe.add(ve)}F[Mn]=w({},$,{children:Q});const ae=Q.filter(fe=>F[fe]?.type==="leaf");t.current.caches.rows.dataRowIdToModelLookup=q,t.current.caches.rows.dataRowIdToIdLookup=Y,t.current.setState(fe=>w({},fe,{rows:w({},fe.rows,{dataRowIdToModelLookup:q,dataRowIdToIdLookup:Y,dataRowIds:ae,tree:F})})),t.current.publishEvent("rowsSet")},[t,l.signature,l.getRowId]),W={getRow:g,setLoading:v,getRowId:p,getRowModels:M,getRowsCount:j,getAllRowIds:T,setRows:x,updateRows:b,getRowNode:D,getRowIndexRelativeToVisibleRows:I,unstable_replaceRows:R},V={setRowIndex:B,setRowChildrenExpansion:O,getRowGroupChildren:P},U={updateServerRows:C},A=h.useCallback(()=>{s.info("Row grouping pre-processing have changed, regenerating the row tree");let L;t.current.caches.rows.rowsBeforePartialUpdates===l.rows?L=w({},t.current.caches.rows,{updates:{type:"full",rows:di(t)}}):L=ru({rows:l.rows,getRowId:l.getRowId,loading:l.loading,rowCount:l.rowCount}),m({cache:L,throttle:!1})},[s,t,l.rows,l.getRowId,l.loading,l.rowCount,m]),E=io(()=>l.unstable_dataSource),_=h.useCallback(L=>{if(l.unstable_dataSource&&l.unstable_dataSource!==E.current){E.current=l.unstable_dataSource;return}L==="rowTreeCreation"&&A()},[A,E,l.unstable_dataSource]),G=h.useCallback(()=>{t.current.getActiveStrategy("rowTree")!==b1(t)&&A()},[t,A]);ye(t,"activeStrategyProcessorChange",_),ye(t,"strategyAvailabilityChange",G);const k=h.useCallback(()=>{t.current.setState(L=>{const S=t.current.unstable_applyPipeProcessors("hydrateRows",{tree:sn(L,t.current.instanceId),treeDepths:px(L,t.current.instanceId),dataRowIds:di(L,t.current.instanceId),dataRowIdToModelLookup:Dl(L,t.current.instanceId),dataRowIdToIdLookup:mx(L,t.current.instanceId)});return w({},L,{rows:w({},L.rows,S,{totalTopLevelRowCount:d0({tree:S.tree,rowCountProp:l.rowCount})})})}),t.current.publishEvent("rowsSet"),t.current.forceUpdate()},[t,l.rowCount]);dg(t,"hydrateRows",k),Ue(t,W,"public"),Ue(t,V,l.signature===Il.DataGrid?"private":"public"),Ue(t,U,"private");const K=h.useRef(!0);h.useEffect(()=>{if(K.current){K.current=!1;return}let L=!1;l.rowCount!==c.current&&(L=!0,c.current=l.rowCount);const S=t.current.caches.rows.rowsBeforePartialUpdates===l.rows,z=t.current.caches.rows.loadingPropBeforePartialUpdates===l.loading,F=t.current.caches.rows.rowCountPropBeforePartialUpdates===l.rowCount;S&&(z||(t.current.setState(q=>w({},q,{rows:w({},q.rows,{loading:l.loading})})),t.current.caches.rows.loadingPropBeforePartialUpdates=l.loading,t.current.forceUpdate()),F||(t.current.setState(q=>w({},q,{rows:w({},q.rows,{totalRowCount:Math.max(l.rowCount||0,q.rows.totalRowCount),totalTopLevelRowCount:Math.max(l.rowCount||0,q.rows.totalTopLevelRowCount)})})),t.current.caches.rows.rowCountPropBeforePartialUpdates=l.rowCount,t.current.forceUpdate()),!L)||(s.debug(`Updating all rows, new length ${l.rows?.length}`),m({cache:ru({rows:l.rows,getRowId:l.getRowId,loading:l.loading,rowCount:l.rowCount}),throttle:!1}))},[l.rows,l.rowCount,l.getRowId,l.loading,s,m,t])},_F=t=>{const l={[Mn]:w({},Z1(),{children:t})};for(let s=0;s<t.length;s+=1){const i=t[s];l[i]={id:i,depth:0,parent:Mn,type:"leaf",groupingKey:null}}return{groupingName:Kr,tree:l,treeDepths:{0:t.length},dataRowIds:t}},BF=({previousTree:t,actions:l})=>{const s=w({},t),i={};for(let g=0;g<l.remove.length;g+=1){const p=l.remove[g];i[p]=!0,delete s[p]}for(let g=0;g<l.insert.length;g+=1){const p=l.insert[g];s[p]={id:p,depth:0,parent:Mn,type:"leaf",groupingKey:null}}const c=s[Mn];let d=[...c.children,...l.insert];return Object.values(i).length&&(d=d.filter(g=>!i[g])),s[Mn]=w({},c,{children:d}),{groupingName:Kr,tree:s,treeDepths:{0:d.length},dataRowIds:d}},VF=t=>t.updates.type==="full"?_F(t.updates.rows):BF({previousTree:t.previousTree,actions:t.updates.actions}),UF=t=>{yu(t,Kr,"rowTreeCreation",VF)};class ch extends Error{}function $F(t,l){const s=h.useCallback(j=>({field:j,colDef:t.current.getColumn(j)}),[t]),i=h.useCallback(j=>{const T=t.current.getRow(j);if(!T)throw new ch(`No row with id #${j} found`);return{id:j,columns:t.current.getAllColumns(),row:T}},[t]),c=h.useCallback((j,T,I,{cellMode:O,colDef:D,hasFocus:P,rowNode:B,tabIndex:R})=>{const W=I[T],V=D?.valueGetter?D.valueGetter(W,I,D,t):W,U={id:j,field:T,row:I,rowNode:B,colDef:D,cellMode:O,hasFocus:P,tabIndex:R,value:V,formattedValue:V,isEditable:!1,api:t.current};return D&&D.valueFormatter&&(U.formattedValue=D.valueFormatter(V,I,D,t)),U.isEditable=D&&t.current.isCellEditable(U),U},[t]),d=h.useCallback((j,T)=>{const I=t.current.getRow(j),O=t.current.getRowNode(j);if(!I||!O)throw new ch(`No row with id #${j} found`);const D=tl(t),P=Jh(t),B=t.current.getCellMode(j,T);return t.current.getCellParamsForRow(j,T,I,{colDef:l.unstable_listView&&l.unstable_listColumn?.field===T?Xa(t.current.state):t.current.getColumn(T),rowNode:O,hasFocus:D!==null&&D.field===T&&D.id===j,tabIndex:P&&P.field===T&&P.id===j?0:-1,cellMode:B})},[t,l.unstable_listView,l.unstable_listColumn?.field]),g=h.useCallback((j,T)=>{const I=t.current.getColumn(T),O=t.current.getRow(j);if(!O)throw new ch(`No row with id #${j} found`);return!I||!I.valueGetter?O[T]:I.valueGetter(O[I.field],O,I,t)},[t]),p=h.useCallback((j,T)=>{const I=T.field;if(!T||!T.valueGetter)return j[I];const O=j[T.field];return T.valueGetter(O,j,T,t)},[t]),m=h.useCallback((j,T)=>{const I=p(j,T);return!T||!T.valueFormatter?I:T.valueFormatter(I,j,T,t)},[t,p]),x=h.useCallback(j=>t.current.rootElementRef.current?ND(t.current.rootElementRef.current,j):null,[t]),b=h.useCallback(j=>t.current.rootElementRef.current?GD(t.current.rootElementRef.current,j):null,[t]),C=h.useCallback((j,T)=>t.current.rootElementRef.current?LD(t.current.rootElementRef.current,{id:j,field:T}):null,[t]),v={getCellValue:g,getCellParams:d,getCellElement:C,getRowValue:p,getRowFormattedValue:m,getRowParams:i,getRowElement:b,getColumnHeaderParams:s,getColumnHeaderElement:x},M={getCellParamsForRow:c};Ue(t,v,"public"),Ue(t,M,"private")}const uy=(t,l)=>t==null||Array.isArray(t)?t:l&&l[0]===t?l:[t],WF=(t,l)=>w({},t,{rowSelection:l.rowSelection?uy(l.rowSelectionModel)??[]:[]}),qF=(t,l)=>{const s=pn(t,"useGridSelection"),i=h.useCallback(F=>(...q)=>{l.rowSelection&&F(...q)},[l.rowSelection]),c=l.signature!==Il.DataGrid&&(l.rowSelectionPropagation?.parents||l.rowSelectionPropagation?.descendants),d=h.useMemo(()=>uy(l.rowSelectionModel,ul(t.current.state)),[t,l.rowSelectionModel]),g=h.useRef(null);t.current.registerControlState({stateId:"rowSelection",propModel:d,propOnChange:l.onRowSelectionModelChange,stateSelector:ul,changeEvent:"rowSelectionChange"});const{checkboxSelection:p,disableRowSelectionOnClick:m,isRowSelectable:x}=l,b=Zh(l),C=he(t,sn),v=he(t,Qr)>1,M=h.useCallback(F=>{let q=F;const Y=g.current??F,$=t.current.isRowSelected(F);if($){const Q=Ua(t),oe=Q.findIndex(fe=>fe===Y),ae=Q.findIndex(fe=>fe===q);if(oe===ae)return;oe>ae?q=Q[ae+1]:q=Q[ae-1]}g.current=F,t.current.selectRowRange({startId:Y,endId:q},!$)},[t]),j=h.useCallback(F=>{if(l.signature===Il.DataGrid&&!b&&Array.isArray(F)&&F.length>1)throw new Error(["MUI X: `rowSelectionModel` can only contain 1 item in DataGrid.","You need to upgrade to DataGridPro or DataGridPremium component to unlock multiple selection."].join(`
`));ul(t.current.state)!==F&&(s.debug("Setting selection model"),t.current.setState(Y=>w({},Y,{rowSelection:l.rowSelection?F:[]})),t.current.forceUpdate())},[t,s,l.rowSelection,l.signature,b]),T=h.useCallback(F=>ul(t.current.state).includes(F),[t]),I=h.useCallback(F=>{if(l.rowSelection===!1||x&&!x(t.current.getRowParams(F)))return!1;const q=sn(t)[F];return!(q?.type==="footer"||q?.type==="pinnedRow")},[t,l.rowSelection,x]),O=h.useCallback(()=>vj(t),[t]),D=h.useCallback((F,q=!0,Y=!1)=>{if(t.current.isRowSelectable(F))if(g.current=F,Y){s.debug(`Setting selection for row ${F}`);const $=[],Q=oe=>{$.push(oe)};q&&(Q(F),c&&ti(t,C,F,l.rowSelectionPropagation?.descendants??!1,l.rowSelectionPropagation?.parents??!1,Q)),t.current.setRowSelectionModel($)}else{s.debug(`Toggling selection for row ${F}`);const $=ul(t.current.state),Q=new Set($);Q.delete(F);const oe=ce=>{Q.add(ce)},ae=ce=>{Q.delete(ce)};q?(oe(F),c&&ti(t,C,F,l.rowSelectionPropagation?.descendants??!1,l.rowSelectionPropagation?.parents??!1,oe)):c&&Tx(t,C,F,l.rowSelectionPropagation?.descendants??!1,l.rowSelectionPropagation?.parents??!1,ae),(Q.size<2||b)&&t.current.setRowSelectionModel(Array.from(Q))}},[t,s,c,C,l.rowSelectionPropagation?.descendants,l.rowSelectionPropagation?.parents,b]),P=h.useCallback((F,q=!0,Y=!1)=>{s.debug("Setting selection for several rows");const $=F.filter(ae=>t.current.isRowSelectable(ae));let Q;if(Y){if(q){if(Q=new Set($),c){const fe=ce=>{Q.add(ce)};$.forEach(ce=>{ti(t,C,ce,l.rowSelectionPropagation?.descendants??!1,l.rowSelectionPropagation?.parents??!1,fe)})}}else Q=new Set;const ae=mr(t);if(Q.size===Object.keys(ae).length&&Array.from(Q).every(fe=>ae[fe]===fe))return}else{Q=new Set(Object.values(mr(t)));const ae=ce=>{Q.add(ce)},fe=ce=>{Q.delete(ce)};$.forEach(ce=>{q?(Q.add(ce),c&&ti(t,C,ce,l.rowSelectionPropagation?.descendants??!1,l.rowSelectionPropagation?.parents??!1,ae)):(fe(ce),c&&Tx(t,C,ce,l.rowSelectionPropagation?.descendants??!1,l.rowSelectionPropagation?.parents??!1,fe))})}(Q.size<2||b)&&t.current.setRowSelectionModel(Array.from(Q))},[s,c,b,t,C,l.rowSelectionPropagation?.descendants,l.rowSelectionPropagation?.parents]),B=h.useCallback(F=>{if(!v||!c||F.length===0)return F;const q=new Set(F),Y=$=>{q.add($)};for(const $ of F)ti(t,C,$,l.rowSelectionPropagation?.descendants??!1,l.rowSelectionPropagation?.parents??!1,Y,q);return Array.from(q)},[t,C,l.rowSelectionPropagation?.descendants,l.rowSelectionPropagation?.parents,v,c]),R=h.useCallback(({startId:F,endId:q},Y=!0,$=!1)=>{if(!t.current.getRow(F)||!t.current.getRow(q))return;s.debug(`Expanding selection from row ${F} to row ${q}`);const Q=Ua(t),oe=Q.indexOf(F),ae=Q.indexOf(q),[fe,ce]=oe>ae?[ae,oe]:[oe,ae],ve=Q.slice(fe,ce+1);t.current.selectRows(ve,Y,$)},[t,s]),W={selectRow:D,setRowSelectionModel:j,getSelectedRows:O,isRowSelected:T,isRowSelectable:I},V={selectRows:P,selectRowRange:R,getPropagatedRowSelectionModel:B};Ue(t,W,"public"),Ue(t,V,l.signature===Il.DataGrid?"private":"public");const U=h.useRef(!0),A=h.useCallback((F=!1)=>{if(U.current)return;const q=ul(t.current.state),Y=Dl(t),$=os(t),Q=w({},mr(t)),oe=ce=>l.filterMode==="server"?!Y[ce]:!Y[ce]||$[ce]===!1;let ae=!1;q.forEach(ce=>{if(oe(ce)){if(l.keepNonExistentRowsSelected)return;delete Q[ce],ae=!0;return}if(!l.rowSelectionPropagation?.parents)return;const ve=C[ce];if(ve.type==="group"){if(ve.isAutoGenerated){delete Q[ce],ae=!0;return}ve.children.every(je=>$[je]===!1)||(delete Q[ce],ae=!0)}});const fe=v&&l.rowSelectionPropagation?.parents&&Object.keys(Q).length>0;if(ae||fe&&!F){const ce=Object.values(Q);fe?t.current.selectRows(ce,!0,!0):t.current.setRowSelectionModel(ce)}},[t,v,l.rowSelectionPropagation?.parents,l.keepNonExistentRowsSelected,l.filterMode,C]),E=h.useCallback((F,q)=>{const Y=q.metaKey||q.ctrlKey,$=!p&&!Y&&!G2(q),Q=!b||$,oe=t.current.isRowSelected(F);Q?t.current.selectRow(F,$?!0:!oe,!0):t.current.selectRow(F,!oe,!1)},[t,b,p]),_=h.useCallback((F,q)=>{if(m)return;const Y=q.target.closest(`.${N.cell}`)?.getAttribute("data-field");Y===rs.field||Y===Tu||Y&&t.current.getColumn(Y)?.type===Eu||sn(t)[F.id].type==="pinnedRow"||(q.shiftKey&&b?M(F.id):E(F.id,q))},[m,b,t,M,E]),G=h.useCallback((F,q)=>{b&&q.shiftKey&&window.getSelection()?.removeAllRanges()},[b]),k=h.useCallback((F,q)=>{b&&q.nativeEvent.shiftKey?M(F.id):t.current.selectRow(F.id,F.value,!b)},[t,M,b]),K=h.useCallback(F=>{const q=l.pagination&&l.checkboxSelectionVisibleOnly&&l.paginationMode==="client"?A0(t):Ua(t);t.current.selectRows(q,F.value)},[t,l.checkboxSelectionVisibleOnly,l.pagination,l.paginationMode]),L=h.useCallback((F,q)=>{if(t.current.getCellMode(F.id,F.field)!==yt.Edit&&!Hi(q)){if(bu(q.key)&&q.shiftKey){const Y=tl(t);if(Y&&Y.id!==F.id){q.preventDefault();const $=t.current.isRowSelected(Y.id);if(!b){t.current.selectRow(Y.id,!$,!0);return}const Q=t.current.getRowIndexRelativeToVisibleRows(Y.id),oe=t.current.getRowIndexRelativeToVisibleRows(F.id);let ae,fe;Q>oe?$?(ae=oe,fe=Q-1):(ae=oe,fe=Q):$?(ae=Q+1,fe=oe):(ae=Q,fe=oe);const ve=pr(t).rows.slice(ae,fe+1).map(Te=>Te.id);t.current.selectRows(ve,!$);return}}if(q.key===" "&&q.shiftKey){q.preventDefault(),E(F.id,q);return}String.fromCharCode(q.keyCode)==="A"&&(q.ctrlKey||q.metaKey)&&(q.preventDefault(),P(t.current.getAllRowIds(),!0))}},[t,E,P,b]),S=Nt(()=>{if(!l.rowSelection){t.current.setRowSelectionModel([]);return}if(d===void 0)return;if(!c||!v||d.length===0){t.current.setRowSelectionModel(d);return}const F=t.current.getPropagatedRowSelectionModel(d);if(F.length!==d.length||!F.every(q=>d.includes(q))){t.current.setRowSelectionModel(F);return}t.current.setRowSelectionModel(d)});ye(t,"sortedRowsSet",i(()=>A(!0))),ye(t,"filteredRowsSet",i(()=>A())),ye(t,"rowClick",i(_)),ye(t,"rowSelectionCheckboxChange",i(k)),ye(t,"headerSelectionCheckboxChange",K),ye(t,"cellMouseDown",i(G)),ye(t,"cellKeyDown",i(L)),h.useEffect(()=>{S()},[t,d,l.rowSelection,S]);const z=d!=null;h.useEffect(()=>{if(z||!l.rowSelection)return;const F=ul(t.current.state);if(I){const q=F.filter(Y=>I(Y));q.length<F.length&&t.current.setRowSelectionModel(q)}},[t,I,z,l.rowSelection]),h.useEffect(()=>{if(!l.rowSelection||z)return;const F=ul(t.current.state);!b&&F.length>1&&t.current.setRowSelectionModel([])},[t,b,p,z,l.rowSelection]),h.useEffect(()=>{i(A)},[A,i]),h.useEffect(()=>{U.current&&(U.current=!1)},[])},YF=t=>{const{classes:l}=t;return h.useMemo(()=>Ke({cellCheckbox:["cellCheckbox"],columnHeaderCheckbox:["columnHeaderCheckbox"]},Qe,l),[l])},KF=(t,l)=>{const s={classes:l.classes},i=YF(s),c=h.useCallback(d=>{const g=w({},rs,{cellClassName:i.cellCheckbox,headerClassName:i.columnHeaderCheckbox,headerName:t.current.getLocaleText("checkboxSelectionHeaderName")}),p=l.checkboxSelection,m=d.lookup[jl]!=null;return p&&!m?(d.lookup[jl]=g,d.orderedFields=[jl,...d.orderedFields]):!p&&m?(delete d.lookup[jl],d.orderedFields=d.orderedFields.filter(x=>x!==jl)):p&&m&&(d.lookup[jl]=w({},g,d.lookup[jl]),l.columns.some(x=>x.field===jl)||(d.orderedFields=[jl,...d.orderedFields.filter(x=>x!==jl)])),d},[t,i,l.columns,l.checkboxSelection]);Vt(t,"hydrateColumns",c)},XF=(t,l)=>{const s=l.sortModel??l.initialState?.sorting?.sortModel??[];return w({},t,{sorting:{sortModel:QC(s,l.disableMultipleColumnsSorting),sortedRows:[]}})},QF=(t,l)=>{const s=pn(t,"useGridSorting");t.current.registerControlState({stateId:"sortModel",propModel:l.sortModel,propOnChange:l.onSortModelChange,stateSelector:Ul,changeEvent:"sortModelChange"});const i=h.useCallback((R,W)=>{const V=Ul(t),U=V.findIndex(E=>E.field===R);let A=[...V];return U>-1?W?.sort==null?A.splice(U,1):A.splice(U,1,W):A=[...V,W],A},[t]),c=h.useCallback((R,W)=>{const U=Ul(t).find(A=>A.field===R.field);if(U){const A=W===void 0?xx(R.sortingOrder??l.sortingOrder,U.sort):W;return A===void 0?void 0:w({},U,{sort:A})}return{field:R.field,sort:W===void 0?xx(R.sortingOrder??l.sortingOrder):W}},[t,l.sortingOrder]),d=h.useCallback((R,W)=>W==null||W.sortable===!1||l.disableColumnSorting?R:(W.sortingOrder||l.sortingOrder).some(U=>!!U)?[...R,"columnMenuSortItem"]:R,[l.sortingOrder,l.disableColumnSorting]),g=h.useCallback(()=>{t.current.setState(R=>{if(l.sortingMode==="server")return s.debug("Skipping sorting rows as sortingMode = server"),w({},R,{sorting:w({},R.sorting,{sortedRows:qh(sn(t),Mn,!1)})});const W=Ul(R,t.current.instanceId),V=w1(W,t),U=t.current.applyStrategyProcessor("sorting",{sortRowList:V});return w({},R,{sorting:w({},R.sorting,{sortedRows:U})})}),t.current.publishEvent("sortedRowsSet"),t.current.forceUpdate()},[t,s,l.sortingMode]),p=h.useCallback(R=>{Ul(t)!==R&&(s.debug("Setting sort model"),t.current.setState(bx(R,l.disableMultipleColumnsSorting)),t.current.forceUpdate(),t.current.applySorting())},[t,s,l.disableMultipleColumnsSorting]),m=h.useCallback((R,W,V)=>{const U=t.current.getColumn(R),A=c(U,W);let E;!V||l.disableMultipleColumnsSorting?E=A?.sort==null?[]:[A]:E=i(U.field,A),t.current.setSortModel(E)},[t,i,c,l.disableMultipleColumnsSorting]),x=h.useCallback(()=>Ul(t),[t]),b=h.useCallback(()=>Yh(t).map(W=>W.model),[t]),C=h.useCallback(()=>ls(t),[t]),v=h.useCallback(R=>t.current.getSortedRowIds()[R],[t]);Ue(t,{getSortModel:x,getSortedRows:b,getSortedRowIds:C,getRowIdFromRowIndex:v,setSortModel:p,sortColumn:m,applySorting:g},"public");const j=h.useCallback((R,W)=>{const V=Ul(t);return!W.exportOnlyDirtyModels||l.sortModel!=null||l.initialState?.sorting?.sortModel!=null||V.length>0?w({},R,{sorting:{sortModel:V}}):R},[t,l.sortModel,l.initialState?.sorting?.sortModel]),T=h.useCallback((R,W)=>{const V=W.stateToRestore.sorting?.sortModel;return V==null?R:(t.current.setState(bx(V,l.disableMultipleColumnsSorting)),w({},R,{callbacks:[...R.callbacks,t.current.applySorting]}))},[t,l.disableMultipleColumnsSorting]),I=h.useCallback(R=>{const W=sn(t),V=W[Mn],U=R.sortRowList?R.sortRowList(V.children.map(A=>W[A])):[...V.children];return V.footerId!=null&&U.push(V.footerId),U},[t]);Vt(t,"exportState",j),Vt(t,"restoreState",T),yu(t,Kr,"sorting",I);const O=h.useCallback(({field:R,colDef:W},V)=>{if(!W.sortable||l.disableColumnSorting)return;const U=V.shiftKey||V.metaKey||V.ctrlKey;m(R,void 0,U)},[m,l.disableColumnSorting]),D=h.useCallback(({field:R,colDef:W},V)=>{!W.sortable||l.disableColumnSorting||V.key==="Enter"&&!V.ctrlKey&&!V.metaKey&&m(R,void 0,V.shiftKey)},[m,l.disableColumnSorting]),P=h.useCallback(()=>{const R=Ul(t),W=fo(t);if(R.length>0){const V=R.filter(U=>W[U.field]);V.length<R.length&&t.current.setSortModel(V)}},[t]),B=h.useCallback(R=>{R==="sorting"&&t.current.applySorting()},[t]);Vt(t,"columnMenu",d),ye(t,"columnHeaderClick",O),ye(t,"columnHeaderKeyDown",D),ye(t,"rowsSet",t.current.applySorting),ye(t,"columnsChange",P),ye(t,"activeStrategyProcessorChange",B),Ii(()=>{t.current.applySorting()}),On(()=>{l.sortModel!==void 0&&t.current.setSortModel(l.sortModel)},[t,l.sortModel])};function uC(t){const{containerSize:l,scrollPosition:s,elementSize:i,elementOffset:c}=t,d=c+i;if(i>l)return c;if(d-l>s)return d-l;if(c<s)return c}const ZF=(t,l)=>{const s=co(),i=pn(t,"useGridScroll"),c=t.current.columnHeadersContainerRef,d=t.current.virtualScrollerRef,g=he(t,yr),p=h.useCallback(C=>{const v=mn(t.current.state),M=Ti(t),j=l.unstable_listView?[Xa(t.current.state)]:qt(t);if(!(C.rowIndex==null)&&M===0||j.length===0)return!1;i.debug(`Scrolling to cell at row ${C.rowIndex}, col: ${C.colIndex} `);let I={};if(C.colIndex!==void 0){const O=Cr(t);let D;if(typeof C.rowIndex<"u"){const P=g[C.rowIndex]?.id,B=t.current.unstable_getCellColSpanInfo(P,C.colIndex);B&&!B.spannedByColSpan&&(D=B.cellProps.width)}typeof D>"u"&&(D=j[C.colIndex].computedWidth),I.left=uC({containerSize:v.viewportOuterSize.width,scrollPosition:Math.abs(d.current.scrollLeft),elementSize:D,elementOffset:O[C.colIndex]})}if(C.rowIndex!==void 0){const O=as(t.current.state),D=Rj(t),P=I0(t),B=l.pagination?C.rowIndex-D*P:C.rowIndex,R=O.positions[B+1]?O.positions[B+1]-O.positions[B]:O.currentPageTotalHeight-O.positions[B];I.top=uC({containerSize:v.viewportInnerSize.height,scrollPosition:d.current.scrollTop,elementSize:R,elementOffset:O.positions[B]})}return I=t.current.unstable_applyPipeProcessors("scrollToIndexes",I,C),typeof I.left!==void 0||typeof I.top!==void 0?(t.current.scroll(I),!0):!1},[i,t,d,l.pagination,g,l.unstable_listView]),m=h.useCallback(C=>{if(d.current&&C.left!==void 0&&c.current){const v=s?-1:1;c.current.scrollLeft=C.left,d.current.scrollLeft=v*C.left,i.debug(`Scrolling left: ${C.left}`)}d.current&&C.top!==void 0&&(d.current.scrollTop=C.top,i.debug(`Scrolling top: ${C.top}`)),i.debug("Scrolling, updating container, and viewport")},[d,s,c,i]),x=h.useCallback(()=>d?.current?{top:d.current.scrollTop,left:d.current.scrollLeft}:{top:0,left:0},[d]);Ue(t,{scroll:m,scrollToIndexes:p,getScrollPosition:x},"public")};function JF(t,l){vt(t,"columnHeaderClick",l.onColumnHeaderClick),vt(t,"columnHeaderContextMenu",l.onColumnHeaderContextMenu),vt(t,"columnHeaderDoubleClick",l.onColumnHeaderDoubleClick),vt(t,"columnHeaderOver",l.onColumnHeaderOver),vt(t,"columnHeaderOut",l.onColumnHeaderOut),vt(t,"columnHeaderEnter",l.onColumnHeaderEnter),vt(t,"columnHeaderLeave",l.onColumnHeaderLeave),vt(t,"cellClick",l.onCellClick),vt(t,"cellDoubleClick",l.onCellDoubleClick),vt(t,"cellKeyDown",l.onCellKeyDown),vt(t,"preferencePanelClose",l.onPreferencePanelClose),vt(t,"preferencePanelOpen",l.onPreferencePanelOpen),vt(t,"menuOpen",l.onMenuOpen),vt(t,"menuClose",l.onMenuClose),vt(t,"rowDoubleClick",l.onRowDoubleClick),vt(t,"rowClick",l.onRowClick),vt(t,"stateChange",l.onStateChange)}function eA(t,l=166){let s,i;const c=()=>{s=void 0,t(...i)};function d(...g){i=g,s===void 0&&(s=setTimeout(c,l))}return d.clear=()=>{clearTimeout(s),s=void 0},d}const Th={autoHeight:!1,autoPageSize:!1,autosizeOnMount:!1,checkboxSelection:!1,checkboxSelectionVisibleOnly:!1,clipboardCopyCellDelimiter:"	",columnBufferPx:150,columnHeaderHeight:56,disableAutosize:!1,disableColumnFilter:!1,disableColumnMenu:!1,disableColumnReorder:!1,disableColumnResize:!1,disableColumnSelector:!1,disableColumnSorting:!1,disableDensitySelector:!1,disableEval:!1,disableMultipleColumnsFiltering:!1,disableMultipleColumnsSorting:!1,disableMultipleRowSelection:!1,disableRowSelectionOnClick:!1,disableVirtualization:!1,editMode:so.Cell,filterDebounceMs:150,filterMode:"client",hideFooter:!1,hideFooterPagination:!1,hideFooterRowCount:!1,hideFooterSelectedRowCount:!1,ignoreDiacritics:!1,ignoreValueFormatterDuringExport:!1,indeterminateCheckboxAction:"deselect",keepColumnPositionIfDraggedOutside:!1,keepNonExistentRowsSelected:!1,loading:!1,logger:console,logLevel:"error",pageSizeOptions:[25,50,100],pagination:!1,paginationMode:"client",resetPageOnSortFilter:!1,resizeThrottleMs:60,rowBufferPx:150,rowHeight:52,rowPositionsDebounceMs:166,rows:[],rowSelection:!0,rowSpacingType:"margin",showCellVerticalBorder:!1,showColumnVerticalBorder:!1,sortingMode:"client",sortingOrder:["asc","desc",null],throttleRowsMs:0,unstable_rowSpanning:!1,virtualizeColumnsWithAutoRowHeight:!1},La={width:0,height:0},tA={isReady:!1,root:La,viewportOuterSize:La,viewportInnerSize:La,contentSize:La,minimumSize:La,hasScrollX:!1,hasScrollY:!1,scrollbarSize:0,headerHeight:0,groupHeaderHeight:0,headerFilterHeight:0,rowWidth:0,rowHeight:0,columnsTotalWidth:0,leftPinnedWidth:0,rightPinnedWidth:0,headersTotalHeight:0,topContainerHeight:0,bottomContainerHeight:0},nA=(t,l,s)=>{const i=tA,c=Ja(s);return w({},t,{dimensions:w({},i,fy(l,s,c,ns(s)))})},dy=ke(qt,Cr,(t,l)=>{const s=t.length;return s===0?0:Ba(l[s-1]+t[s-1].computedWidth,1)});function lA(t,l){const s=pn(t,"useResizeContainer"),i=h.useRef(!1),c=h.useRef(La),d=he(t,ns),g=he(t,Ja),p=he(t,dy),m=h.useRef(!0),{rowHeight:x,headerHeight:b,groupHeaderHeight:C,headerFilterHeight:v,headersTotalHeight:M,leftPinnedWidth:j,rightPinnedWidth:T}=fy(l,t,g,d),I=h.useRef(void 0),O=h.useCallback(()=>mn(t.current.state),[t]),D=h.useCallback(G=>{t.current.setState(k=>w({},k,{dimensions:G})),t.current.rootElementRef.current&&dC(t.current.rootElementRef.current,mn(t.current.state))},[t]),P=h.useCallback(()=>{const G=t.current.mainElementRef.current;if(!G)return;const k=Qw(G).getComputedStyle(G),K={width:parseFloat(k.width)||0,height:parseFloat(k.height)||0};(!I.current||!hC(I.current,K))&&(t.current.publishEvent("resize",K),I.current=K)},[t]),B=h.useCallback(()=>{const G=mn(t.current.state);if(!G.isReady)return 0;const k=pr(t);if(l.getRowHeight){const L=ki(t),S=L.lastRowIndex-L.firstRowIndex;return Math.min(S-1,k.rows.length)}const K=Math.floor(G.viewportInnerSize.height/x);return Math.min(K,k.rows.length)},[t,l.getRowHeight,x]),R=h.useCallback(()=>{if(m.current)return;const G=oA(t.current.mainElementRef.current,l.scrollbarSize),k=as(t.current.state),K=M+k.pinnedTopRowsTotalHeight,L=k.pinnedBottomRowsTotalHeight,z={width:p-j-T,height:Ba(k.currentPageTotalHeight,1)};let F,q,Y=!1,$=!1;if(l.autoHeight)$=!1,Y=Math.round(p)>Math.round(c.current.width),F={width:c.current.width,height:K+L+z.height},q={width:Math.max(0,F.width-($?G:0)),height:Math.max(0,F.height-(Y?G:0))};else{F={width:c.current.width,height:c.current.height},q={width:Math.max(0,F.width-j-T),height:Math.max(0,F.height-K-L)};const ce=z,ve=q,Te=ce.width>ve.width,je=ce.height>ve.height;(Te||je)&&($=je,Y=ce.width+($?G:0)>ve.width,Y&&($=ce.height+G>ve.height)),$&&(q.width-=G),Y&&(q.height-=G)}const Q=Math.max(F.width,p+($?G:0)),oe={width:p,height:K+z.height+L},ae={isReady:!0,root:c.current,viewportOuterSize:F,viewportInnerSize:q,contentSize:z,minimumSize:oe,hasScrollX:Y,hasScrollY:$,scrollbarSize:G,headerHeight:b,groupHeaderHeight:C,headerFilterHeight:v,rowWidth:Q,rowHeight:x,columnsTotalWidth:p,leftPinnedWidth:j,rightPinnedWidth:T,headersTotalHeight:M,topContainerHeight:K,bottomContainerHeight:L},fe=t.current.state.dimensions;ro(fe,ae)||(D(ae),hC(ae.viewportInnerSize,fe.viewportInnerSize)||t.current.publishEvent("viewportInnerSizeChange",ae.viewportInnerSize),t.current.updateRenderContext?.())},[t,D,l.scrollbarSize,l.autoHeight,x,b,C,v,p,M,j,T]),W=Nt(R),V=h.useMemo(()=>l.resizeThrottleMs>0?eA(()=>{W(),t.current.publishEvent("debouncedResize",c.current)},l.resizeThrottleMs):void 0,[t,l.resizeThrottleMs,W]);h.useEffect(()=>V?.clear,[V]);const U={resize:P,getRootDimensions:O},A={updateDimensions:R,getViewportPageSize:B};On(R,[R]),Ue(t,U,"public"),Ue(t,A,"private");const E=h.useCallback(G=>{dC(G,mn(t.current.state))},[t]),_=h.useCallback(G=>{if(c.current=G,G.height===0&&!i.current&&!l.autoHeight&&!mu&&(s.error(["The parent DOM element of the Data Grid has an empty height.","Please make sure that this element has an intrinsic height.","The grid displays with a height of 0px.","","More details: https://mui.com/r/x-data-grid-no-dimensions."].join(`
`)),i.current=!0),G.width===0&&!i.current&&!mu&&(s.error(["The parent DOM element of the Data Grid has an empty width.","Please make sure that this element has an intrinsic width.","The grid displays with a width of 0px.","","More details: https://mui.com/r/x-data-grid-no-dimensions."].join(`
`)),i.current=!0),m.current||!V){m.current=!1,R();return}V()},[R,l.autoHeight,V,s]);vt(t,"rootMount",E),vt(t,"resize",_),vt(t,"debouncedResize",l.onResize)}function dC(t,l){const s=(i,c)=>t.style.setProperty(i,c);s("--DataGrid-hasScrollX",`${Number(l.hasScrollX)}`),s("--DataGrid-hasScrollY",`${Number(l.hasScrollY)}`),s("--DataGrid-scrollbarSize",`${l.scrollbarSize}px`),s("--DataGrid-rowWidth",`${l.rowWidth}px`),s("--DataGrid-columnsTotalWidth",`${l.columnsTotalWidth}px`),s("--DataGrid-leftPinnedWidth",`${l.leftPinnedWidth}px`),s("--DataGrid-rightPinnedWidth",`${l.rightPinnedWidth}px`),s("--DataGrid-headerHeight",`${l.headerHeight}px`),s("--DataGrid-headersTotalHeight",`${l.headersTotalHeight}px`),s("--DataGrid-topContainerHeight",`${l.topContainerHeight}px`),s("--DataGrid-bottomContainerHeight",`${l.bottomContainerHeight}px`),s("--height",`${l.rowHeight}px`)}function fy(t,l,s,i){const c=g0(t.rowHeight,Th.rowHeight);return{rowHeight:Math.floor(c*s),headerHeight:Math.floor(t.columnHeaderHeight*s),groupHeaderHeight:Math.floor((t.columnGroupHeaderHeight??t.columnHeaderHeight)*s),headerFilterHeight:Math.floor((t.headerFilterHeight??t.columnHeaderHeight)*s),columnsTotalWidth:dy(l),headersTotalHeight:Ou(l,t),leftPinnedWidth:i.left.reduce((d,g)=>d+g.computedWidth,0),rightPinnedWidth:i.right.reduce((d,g)=>d+g.computedWidth,0)}}const fC=new WeakMap;function oA(t,l){if(l!==void 0)return l;if(t===null)return 0;const s=fC.get(t);if(s!==void 0)return s;const c=$r(t).createElement("div");c.style.width="99px",c.style.height="99px",c.style.position="absolute",c.style.overflow="scroll",c.className="scrollDiv",t.appendChild(c);const d=c.offsetWidth-c.clientWidth;return t.removeChild(c),fC.set(t,d),d}function hC(t,l){return t.width===l.width&&t.height===l.height}const rA=typeof globalThis.ResizeObserver<"u"?globalThis.ResizeObserver:class{observe(){}unobserve(){}disconnect(){}},aA=(t,l,s)=>{s.current.caches.rowsMeta={heights:new Map};const i=Vh(s.current.state),c=Ti(s),d=Fi(s.current.state),g=Math.min(d.enabled?d.paginationModel.pageSize:c,c);return w({},t,{rowsMeta:{currentPageTotalHeight:g*i,positions:Array.from({length:g},(p,m)=>m*i),pinnedTopRowsTotalHeight:0,pinnedBottomRowsTotalHeight:0}})},sA=(t,l)=>{const{getRowHeight:s,getRowSpacing:i,getEstimatedRowHeight:c}=l,d=t.current.caches.rowsMeta.heights,g=h.useRef(-1),p=h.useRef(!1),m=h.useRef(!1),x=he(t,Ja),b=ng(t),C=he(t,es),v=he(t,Vh),M=E=>{let _=d.get(E);return _===void 0&&(_={content:v,spacingTop:0,spacingBottom:0,detail:0,autoHeight:!1,needsFirstMeasurement:!0},d.set(E,_)),_},j=h.useCallback(E=>{const _=mn(t.current.state).rowHeight,G=t.current.getRowHeightEntry(E.id);if(!s)G.content=_,G.needsFirstMeasurement=!1;else{const k=s(w({},E,{densityFactor:x}));if(k==="auto"){if(G.needsFirstMeasurement){const K=c?c(w({},E,{densityFactor:x})):_;G.content=K??_}p.current=!0,G.autoHeight=!0}else G.content=g0(k,_),G.needsFirstMeasurement=!1,G.autoHeight=!1}if(i){const k=t.current.getRowIndexRelativeToVisibleRows(E.id),K=i(w({},E,{isFirstVisible:k===0,isLastVisible:k===b.rows.length-1,indexRelativeToCurrentPage:k}));G.spacingTop=K.top??0,G.spacingBottom=K.bottom??0}else G.spacingTop=0,G.spacingBottom=0;return t.current.unstable_applyPipeProcessors("rowHeight",G,E),G},[t,b.rows,s,c,v,i,x]),T=h.useCallback(()=>{p.current=!1;const E=C.top.reduce((S,z)=>{const F=j(z);return S+F.content+F.spacingTop+F.spacingBottom+F.detail},0),_=C.bottom.reduce((S,z)=>{const F=j(z);return S+F.content+F.spacingTop+F.spacingBottom+F.detail},0),G=[],k=b.rows.reduce((S,z)=>{G.push(S);const F=j(z),q=F.content+F.spacingTop+F.spacingBottom+F.detail;return S+q},0);p.current||(g.current=1/0);const K=E!==t.current.state.rowsMeta.pinnedTopRowsTotalHeight||_!==t.current.state.rowsMeta.pinnedBottomRowsTotalHeight||k!==t.current.state.rowsMeta.currentPageTotalHeight,L={currentPageTotalHeight:k,positions:G,pinnedTopRowsTotalHeight:E,pinnedBottomRowsTotalHeight:_};t.current.setState(S=>w({},S,{rowsMeta:L})),K&&t.current.updateDimensions(),m.current=!0},[t,C,b.rows,j]),I=E=>d.get(E)?.content??v,O=(E,_)=>{const G=t.current.getRowHeightEntry(E),k=G.content!==_;G.needsFirstMeasurement=!1,G.content=_,m.current&&=!k},D=E=>d.get(E)?.autoHeight??!1,P=()=>g.current,B=E=>{p.current&&E>g.current&&(g.current=E)},R=()=>{d.clear(),T()},W=io(()=>new rA(E=>{for(let _=0;_<E.length;_+=1){const G=E[_],k=G.borderBoxSize&&G.borderBoxSize.length>0?G.borderBoxSize[0].blockSize:G.contentRect.height,K=G.target.__mui_id;if(V0(t)?.id===K&&k===0)return;t.current.unstable_storeRowHeightMeasurement(K,k)}m.current||requestAnimationFrame(()=>{t.current.requestPipeProcessorsApplication("rowHeight")})})).current,V=(E,_)=>(E.__mui_id=_,W.observe(E),()=>W.unobserve(E));dg(t,"rowHeight",T),On(()=>{T()},[T]);const U={unstable_getRowHeight:I,unstable_setLastMeasuredRowIndex:B,unstable_storeRowHeightMeasurement:O,resetRowHeights:R},A={hydrateRowsMeta:T,observeRowHeight:V,rowHasAutoHeight:D,getRowHeightEntry:M,getLastMeasuredRowIndex:P};Ue(t,U,"public"),Ue(t,A,"private")},iA=t=>{const l=h.useCallback((c={})=>t.current.unstable_applyPipeProcessors("exportState",{},c),[t]),s=h.useCallback(c=>{t.current.unstable_applyPipeProcessors("restoreState",{callbacks:[]},{stateToRestore:c}).callbacks.forEach(g=>{g()}),t.current.forceUpdate()},[t]);Ue(t,{exportState:l,restoreState:s},"public")},cA=t=>{const l=h.useRef({}),s=(p,m)=>l.current[p]?.[m],i=()=>{l.current={}},c=h.useCallback(({rowId:p,minFirstColumn:m,maxLastColumn:x,columns:b})=>{for(let C=m;C<x;C+=1){const v=uA({apiRef:t,lookup:l.current,columnIndex:C,rowId:p,minFirstColumnIndex:m,maxLastColumnIndex:x,columns:b});v.colSpan>1&&(C+=v.colSpan-1)}},[t]),d={unstable_getCellColSpanInfo:s},g={resetColSpan:i,calculateColSpan:c};Ue(t,d,"public"),Ue(t,g,"private"),ye(t,"columnOrderChange",i)};function uA(t){const{apiRef:l,lookup:s,columnIndex:i,rowId:c,minFirstColumnIndex:d,maxLastColumnIndex:g,columns:p}=t,m=p.length,x=p[i],b=l.current.getRow(c),C=l.current.getRowValue(b,x),v=typeof x.colSpan=="function"?x.colSpan(C,b,x,l):x.colSpan;if(!v||v===1)return uh(s,c,i,{spannedByColSpan:!1,cellProps:{colSpan:1,width:x.computedWidth}}),{colSpan:1};let M=x.computedWidth;for(let j=1;j<v;j+=1){const T=i+j;if(T>=d&&T<g){const I=p[T];M+=I.computedWidth,uh(s,c,i+j,{spannedByColSpan:!0,rightVisibleCellIndex:Math.min(i+v,m-1),leftVisibleCellIndex:i})}uh(s,c,i,{spannedByColSpan:!1,cellProps:{colSpan:v,width:M}})}return{colSpan:v}}function uh(t,l,s,i){t[l]||(t[l]={}),t[l][s]=i}const hy=(t,l,s)=>{if(n0(t)){if(s[t.field]!==void 0)throw new Error(["MUI X: columnGroupingModel contains duplicated field",`column field ${t.field} occurs two times in the grouping model:`,`- ${s[t.field].join(" > ")}`,`- ${l.join(" > ")}`].join(`
`));s[t.field]=l;return}const{groupId:i,children:c}=t;c.forEach(d=>{hy(d,[...l,i],s)})},Ih=t=>{if(!t)return{};const l={};return t.forEach(s=>{hy(s,[],l)}),l},Fh=(t,l,s)=>{const i=m=>l[m]??[],c=[],d=Math.max(...t.map(m=>i(m).length)),g=(m,x,b)=>ro(i(m).slice(0,b+1),i(x).slice(0,b+1)),p=(m,x)=>!!(s?.left&&s.left.includes(m)&&!s.left.includes(x)||s?.right&&!s.right.includes(m)&&s.right.includes(x));for(let m=0;m<d;m+=1){const x=t.reduce((b,C)=>{const v=i(C)[m]??null;if(b.length===0)return[{columnFields:[C],groupId:v}];const M=b[b.length-1],j=M.columnFields[M.columnFields.length-1];return M.groupId!==v||!g(j,C,m)||p(j,C)?[...b,{columnFields:[C],groupId:v}]:[...b.slice(0,b.length-1),{columnFields:[...M.columnFields,C],groupId:v}]},[]);c.push(x)}return c},dA=["groupId","children"],fg=t=>{let l={};return t.forEach(s=>{if(n0(s))return;const{groupId:i,children:c}=s,d=Ee(s,dA);if(!i)throw new Error("MUI X: An element of the columnGroupingModel does not have either `field` or `groupId`.");const g=w({},d,{groupId:i}),p=fg(c);if(p[i]!==void 0||l[i]!==void 0)throw new Error(`MUI X: The groupId ${i} is used multiple times in the columnGroupingModel.`);l=w({},l,p,{[i]:g})}),w({},l)},fA=(t,l,s)=>{if(!l.columnGroupingModel)return t;const i=Ho(s),c=ts(s),d=fg(l.columnGroupingModel??[]),g=Ih(l.columnGroupingModel??[]),p=Fh(i,g,s.current.state.pinnedColumns??{}),m=c.length===0?0:Math.max(...c.map(x=>g[x]?.length??0));return w({},t,{columnGrouping:{lookup:d,unwrappedGroupingModel:g,headerStructure:p,maxDepth:m}})},hA=(t,l)=>{const s=h.useCallback(p=>H0(t)[p]??[],[t]),i=h.useCallback(()=>P0(t),[t]);Ue(t,{getColumnGroupPath:s,getAllGroupDetails:i},"public");const d=h.useCallback(()=>{const p=Ih(l.columnGroupingModel??[]);t.current.setState(m=>{const x=m.columns?.orderedFields??[],b=m.pinnedColumns??{},C=Fh(x,p,b);return w({},m,{columnGrouping:w({},m.columnGrouping,{headerStructure:C})})})},[t,l.columnGroupingModel]),g=h.useCallback(p=>{const m=t.current.getPinnedColumns?.()??{},x=Ho(t),b=ts(t),C=fg(p??[]),v=Ih(p??[]),M=Fh(x,v,m),j=b.length===0?0:Math.max(...b.map(T=>v[T]?.length??0));t.current.setState(T=>w({},T,{columnGrouping:{lookup:C,unwrappedGroupingModel:v,headerStructure:M,maxDepth:j}}))},[t]);ye(t,"columnIndexChange",d),ye(t,"columnsChange",()=>{g(l.columnGroupingModel)}),ye(t,"columnVisibilityModelChange",()=>{g(l.columnGroupingModel)}),h.useEffect(()=>{g(l.columnGroupingModel)},[g,l.columnGroupingModel])};function gA(){let t,l;const s=new Promise((i,c)=>{t=i,l=c});return s.resolve=t,s.reject=l,s}function gC(t,l){if(l!==void 0&&t.changedTouches){for(let s=0;s<t.changedTouches.length;s+=1){const i=t.changedTouches[s];if(i.identifier===l)return{x:i.clientX,y:i.clientY}}return!1}return{x:t.clientX,y:t.clientY}}function mC(t,l,s,i){let c=t;return i==="Right"?c+=l-s.left:c+=s.right-l,c}function mA(t,l,s){return s==="Left"?t-l.left:l.right-t}function pA(t){return t==="Right"?"Left":"Right"}function bA(t,l){const s=t.classList.contains(N["columnSeparator--sideRight"])?"Right":"Left";return l?pA(s):s}function pC(t){t.preventDefault(),t.stopImmediatePropagation()}function xA(t){const l=h.useRef(void 0),s=()=>_0(t),i=he(t,s);return h.useEffect(()=>{l.current&&i===!1&&(l.current.resolve(),l.current=void 0)}),()=>{if(!l.current){if(s()===!1)return Promise.resolve();l.current=gA()}return l.current}}function CA(t,l){if(t.length<4)return t;const s=t.slice();s.sort((p,m)=>p-m);const i=s[Math.floor(s.length*.25)],c=s[Math.floor(s.length*.75)-1],d=c-i,g=d<5?5:d*l;return s.filter(p=>p>i-g&&p<c+g)}function yA(t,l,s){const i={},c=t.current.rootElementRef.current;return c.classList.add(N.autosizing),s.forEach(d=>{const p=QD(t.current,d.field).map(j=>j.getBoundingClientRect().width??0),m=l.includeOutliers?p:CA(p,l.outliersFactor);if(l.includeHeaders){const j=XD(t.current,d.field);if(j){const T=j.querySelector(`.${N.columnHeaderTitle}`),I=j.querySelector(`.${N.columnHeaderTitleContainerContent}`),O=j.querySelector(`.${N.iconButtonContainer}`),D=j.querySelector(`.${N.menuIcon}`),P=T??I,B=window.getComputedStyle(j,null),R=parseInt(B.paddingLeft,10)+parseInt(B.paddingRight,10),V=P.scrollWidth+1+R+(O?.clientWidth??0)+(D?.clientWidth??0);m.push(V)}}const x=d.minWidth!==-1/0&&d.minWidth!==void 0,b=d.maxWidth!==1/0&&d.maxWidth!==void 0,C=x?d.minWidth:0,v=b?d.maxWidth:1/0,M=m.length===0?0:Math.max(...m);i[d.field]=dl(M,C,v)}),c.classList.remove(N.autosizing),i}const vA=t=>w({},t,{columnResize:{resizingColumnField:""}});function wA(){return{colDef:void 0,initialColWidth:0,initialTotalWidth:0,previousMouseClickEvent:void 0,columnHeaderElement:void 0,headerFilterElement:void 0,groupHeaderElements:[],cellElements:[],leftPinnedCellsAfter:[],rightPinnedCellsBefore:[],fillerLeft:void 0,fillerRight:void 0,leftPinnedHeadersAfter:[],rightPinnedHeadersBefore:[]}}const SA=(t,l)=>{const s=co(),i=pn(t,"useGridColumnResize"),c=io(wA).current,d=h.useRef(null),g=h.useRef(null),p=Xr(),m=h.useRef(void 0),x=A=>{i.debug(`Updating width to ${A} for col ${c.colDef.field}`);const E=c.columnHeaderElement.offsetWidth,_=A-E,G=A-c.initialColWidth;if(G>0){const L=c.initialTotalWidth+G;t.current.rootElementRef?.current?.style.setProperty("--DataGrid-rowWidth",`${L}px`)}c.colDef.computedWidth=A,c.colDef.width=A,c.colDef.flex=0,c.columnHeaderElement.style.width=`${A}px`;const k=c.headerFilterElement;k&&(k.style.width=`${A}px`),c.groupHeaderElements.forEach(L=>{const S=L;let z;S.getAttribute("aria-colspan")==="1"?z=`${A}px`:z=`${S.offsetWidth+_}px`,S.style.width=z}),c.cellElements.forEach(L=>{const S=L;let z;S.getAttribute("aria-colspan")==="1"?z=`${A}px`:z=`${S.offsetWidth+_}px`,S.style.setProperty("--width",z)});const K=t.current.unstable_applyPipeProcessors("isColumnPinned",!1,c.colDef.field);K===ur.LEFT&&(Na(c.fillerLeft,"width",_),c.leftPinnedCellsAfter.forEach(L=>{Na(L,"left",_)}),c.leftPinnedHeadersAfter.forEach(L=>{Na(L,"left",_)})),K===ur.RIGHT&&(Na(c.fillerRight,"width",_),c.rightPinnedCellsBefore.forEach(L=>{Na(L,"right",_)}),c.rightPinnedHeadersBefore.forEach(L=>{Na(L,"right",_)}))},b=A=>{if(O(),c.previousMouseClickEvent){const E=c.previousMouseClickEvent,_=E.timeStamp,G=E.clientX,k=E.clientY;if(A.timeStamp-_<300&&A.clientX===G&&A.clientY===k){c.previousMouseClickEvent=void 0,t.current.publishEvent("columnResizeStop",null,A);return}}if(c.colDef){t.current.setColumnWidth(c.colDef.field,c.colDef.width),i.debug(`Updating col ${c.colDef.field} with new width: ${c.colDef.width}`);const E=ao(t.current.state);c.groupHeaderElements.forEach(_=>{const G=VD(_),k=_,L=`${G.reduce((S,z)=>E.columnVisibilityModel[z]!==!1?S+E.lookup[z].computedWidth:S,0)}px`;k.style.width=L})}p.start(0,()=>{t.current.publishEvent("columnResizeStop",null,A)})},C=(A,E,_)=>{const G=t.current.rootElementRef.current;c.initialColWidth=A.computedWidth,c.initialTotalWidth=t.current.getRootDimensions().rowWidth,c.colDef=A,c.columnHeaderElement=BD(t.current.columnHeadersContainerRef.current,A.field);const k=G.querySelector(`.${N.headerFilterRow} [data-field="${No(A.field)}"]`);k&&(c.headerFilterElement=k),c.groupHeaderElements=UD(t.current.columnHeadersContainerRef?.current,A.field),c.cellElements=$D(c.columnHeaderElement,t.current),c.fillerLeft=Ux(t.current,s?"filler--pinnedRight":"filler--pinnedLeft"),c.fillerRight=Ux(t.current,s?"filler--pinnedLeft":"filler--pinnedRight");const K=t.current.unstable_applyPipeProcessors("isColumnPinned",!1,c.colDef.field);c.leftPinnedCellsAfter=K!==ur.LEFT?[]:WD(t.current,c.columnHeaderElement,s),c.rightPinnedCellsBefore=K!==ur.RIGHT?[]:qD(t.current,c.columnHeaderElement,s),c.leftPinnedHeadersAfter=K!==ur.LEFT?[]:YD(t.current,c.columnHeaderElement,s),c.rightPinnedHeadersBefore=K!==ur.RIGHT?[]:KD(t.current,c.columnHeaderElement,s),g.current=bA(E,s),d.current=mA(_,c.columnHeaderElement.getBoundingClientRect(),g.current)},v=Nt(b),M=Nt(A=>{if(A.buttons===0){v(A);return}let E=mC(d.current,A.clientX,c.columnHeaderElement.getBoundingClientRect(),g.current);E=dl(E,c.colDef.minWidth,c.colDef.maxWidth),x(E);const _={element:c.columnHeaderElement,colDef:c.colDef,width:E};t.current.publishEvent("columnResize",_,A)}),j=Nt(A=>{gC(A,m.current)&&b(A)}),T=Nt(A=>{const E=gC(A,m.current);if(!E)return;if(A.type==="mousemove"&&A.buttons===0){j(A);return}let _=mC(d.current,E.x,c.columnHeaderElement.getBoundingClientRect(),g.current);_=dl(_,c.colDef.minWidth,c.colDef.maxWidth),x(_);const G={element:c.columnHeaderElement,colDef:c.colDef,width:_};t.current.publishEvent("columnResize",G,A)}),I=Nt(A=>{const E=pu(A.target,N["columnSeparator--resizable"]);if(!E)return;const _=A.changedTouches[0];_!=null&&(m.current=_.identifier);const G=pu(A.target,N.columnHeader),k=_D(G),K=t.current.getColumn(k);i.debug(`Start Resize on col ${K.field}`),t.current.publishEvent("columnResizeStart",{field:k},A),C(K,E,_.clientX);const L=$r(A.currentTarget);L.addEventListener("touchmove",T),L.addEventListener("touchend",j)}),O=h.useCallback(()=>{const A=$r(t.current.rootElementRef.current);A.body.style.removeProperty("cursor"),A.removeEventListener("mousemove",M),A.removeEventListener("mouseup",v),A.removeEventListener("touchmove",T),A.removeEventListener("touchend",j),setTimeout(()=>{A.removeEventListener("click",pC,!0)},100),c.columnHeaderElement&&(c.columnHeaderElement.style.pointerEvents="unset")},[t,c,M,v,T,j]),D=h.useCallback(({field:A})=>{t.current.setState(E=>w({},E,{columnResize:w({},E.columnResize,{resizingColumnField:A})})),t.current.forceUpdate()},[t]),P=h.useCallback(()=>{t.current.setState(A=>w({},A,{columnResize:w({},A.columnResize,{resizingColumnField:""})})),t.current.forceUpdate()},[t]),B=Nt(({colDef:A},E)=>{if(E.button!==0||!E.currentTarget.classList.contains(N["columnSeparator--resizable"]))return;E.preventDefault(),i.debug(`Start Resize on col ${A.field}`),t.current.publishEvent("columnResizeStart",{field:A.field},E),C(A,E.currentTarget,E.clientX);const _=$r(t.current.rootElementRef.current);_.body.style.cursor="col-resize",c.previousMouseClickEvent=E.nativeEvent,_.addEventListener("mousemove",M),_.addEventListener("mouseup",v),_.addEventListener("click",pC,!0)}),R=Nt((A,E)=>{if(l.disableAutosize||E.button!==0)return;const _=t.current.state.columns.lookup[A.field];_.resizable!==!1&&t.current.autosizeColumns(w({},l.autosizeOptions,{disableColumnVirtualization:!1,columns:[_.field]}))}),W=xA(t),V=h.useRef(!1),U=h.useCallback(async A=>{if(!t.current.rootElementRef?.current||V.current)return;V.current=!0;const _=ao(t.current.state),G=w({},IE,A,{columns:A?.columns??_.orderedFields});G.columns=G.columns.filter(K=>_.columnVisibilityModel[K]!==!1);const k=G.columns.map(K=>t.current.state.columns.lookup[K]);try{!l.disableVirtualization&&G.disableColumnVirtualization&&(t.current.unstable_setColumnVirtualization(!1),await W());const K=yA(t,G,k),L=k.map(S=>w({},S,{width:K[S.field],computedWidth:K[S.field],flex:0}));if(G.expand){const z=_.orderedFields.map($=>_.lookup[$]).filter($=>_.columnVisibilityModel[$.field]!==!1).reduce(($,Q)=>$+(K[Q.field]??Q.computedWidth??Q.width),0),Y=t.current.getRootDimensions().viewportInnerSize.width-z;if(Y>0){const $=Y/(L.length||1);L.forEach(Q=>{Q.width+=$,Q.computedWidth+=$})}}t.current.updateColumns(L),L.forEach((S,z)=>{if(S.width!==k[z].width){const F=S.width;t.current.publishEvent("columnWidthChange",{element:t.current.getColumnHeaderElement(S.field),colDef:S,width:F})}})}finally{l.disableVirtualization||t.current.unstable_setColumnVirtualization(!0),V.current=!1}},[t,W,l.disableVirtualization]);h.useEffect(()=>O,[O]),IC(()=>{l.autosizeOnMount&&Promise.resolve().then(()=>{t.current.autosizeColumns(l.autosizeOptions)})}),j0(t,()=>t.current.columnHeadersContainerRef?.current,"touchstart",I,{passive:!0}),Ue(t,{autosizeColumns:U},"public"),ye(t,"columnResizeStop",P),ye(t,"columnResizeStart",D),ye(t,"columnSeparatorMouseDown",B),ye(t,"columnSeparatorDoubleClick",R),vt(t,"columnResize",l.onColumnResize),vt(t,"columnWidthChange",l.onColumnWidthChange)};function Na(t,l,s){t&&(t.style[l]=`${parseInt(t.style[l],10)+s}px`)}function jA(t,l){return t.firstRowIndex>=l.firstRowIndex&&t.lastRowIndex<=l.lastRowIndex?null:t.firstRowIndex>=l.firstRowIndex&&t.lastRowIndex>l.lastRowIndex?{firstRowIndex:l.lastRowIndex,lastRowIndex:t.lastRowIndex}:t.firstRowIndex<l.firstRowIndex&&t.lastRowIndex<=l.lastRowIndex?{firstRowIndex:t.firstRowIndex,lastRowIndex:l.firstRowIndex-1}:t}function bC(t){return t.firstRowIndex!==0||t.lastRowIndex!==0}const dh=(t,l,s)=>{if(!t)return null;let i=t[l.field];const c=l.rowSpanValueGetter??l.valueGetter;return c&&(i=c(i,t,l,s)),i},Va={spannedCells:{},hiddenCells:{},hiddenCellOriginMap:{}},vu={firstRowIndex:0,lastRowIndex:0},MA=new Set([jl,"__reorder__",Tu]),xC=20,gy=(t,l,s,i,c,d,g)=>{const p=d?{}:w({},t.current.state.rowSpanning.spannedCells),m=d?{}:w({},t.current.state.rowSpanning.hiddenCells),x=d?{}:w({},t.current.state.rowSpanning.hiddenCellOriginMap);return d&&(g=vu),l.forEach(b=>{if(!MA.has(b.field)){for(let C=c.firstRowIndex;C<c.lastRowIndex;C+=1){const v=s[C];if(m[v.id]?.[b.field])continue;const M=dh(v.model,b,t);if(M==null)continue;let j=v.id,T=C,I=0;const O=[];if(C===c.firstRowIndex){let P=C-1,B=s[P];for(;P>=i.firstRowIndex&&B&&dh(B.model,b,t)===M;){const R=s[P+1];m[R.id]?m[R.id][b.field]=!0:m[R.id]={[b.field]:!0},O.push(C),I+=1,j=B.id,T=P,P-=1,B=s[P]}}O.forEach(P=>{x[P]?x[P][b.field]=T:x[P]={[b.field]:T}});let D=C+1;for(;D<=i.lastRowIndex&&s[D]&&dh(s[D].model,b,t)===M;){const P=s[D];m[P.id]?m[P.id][b.field]=!0:m[P.id]={[b.field]:!0},x[D]?x[D][b.field]=T:x[D]={[b.field]:T},D+=1,I+=1}I>0&&(p[j]?p[j][b.field]=I+1:p[j]={[b.field]:I+1})}g={firstRowIndex:Math.min(g.firstRowIndex,c.firstRowIndex),lastRowIndex:Math.max(g.lastRowIndex,c.lastRowIndex)}}}),{spannedCells:p,hiddenCells:m,hiddenCellOriginMap:x,processedRange:g}},my=(t,l)=>{const s=di(l).length;if(t.pagination){const i=I0(l);let c=xC;return i>0&&(c=i-1),{firstRowIndex:0,lastRowIndex:Math.min(c,s)}}return{firstRowIndex:0,lastRowIndex:Math.min(xC,s)}},EA=(t,l,s)=>{if(!l.unstable_rowSpanning)return w({},t,{rowSpanning:Va});const i=t.rows.dataRowIds||[],c=t.columns.orderedFields||[],d=t.rows.dataRowIdToModelLookup,g=t.columns.lookup,p=!!t.filter.filterModel.items.length||!!t.filter.filterModel.quickFilterValues?.length;if(!i.length||!c.length||!d||!g||p)return w({},t,{rowSpanning:Va});const m=my(l,s),x=i.map(j=>({id:j,model:d[j]})),b=c.map(j=>g[j]),{spannedCells:C,hiddenCells:v,hiddenCellOriginMap:M}=gy(s,b,x,m,m,!0,vu);return w({},t,{rowSpanning:{spannedCells:C,hiddenCells:v,hiddenCellOriginMap:M}})},DA=(t,l)=>{const s=io(()=>t.current.state.rowSpanning!==Va?my(l,t):vu),i=h.useCallback((d,g=!1)=>{const{range:p,rows:m}=pr(t,{pagination:l.pagination,paginationMode:l.paginationMode});if(p===null||!bC(d))return;g&&(s.current=vu);const x=jA({firstRowIndex:d.firstRowIndex,lastRowIndex:Math.min(d.lastRowIndex,p.lastRowIndex+1)},s.current);if(x===null)return;const b=qt(t),{spannedCells:C,hiddenCells:v,hiddenCellOriginMap:M,processedRange:j}=gy(t,b,m,p,x,g,s.current);s.current=j;const T=Object.keys(C).length,I=Object.keys(v).length,O=Object.keys(t.current.state.rowSpanning.spannedCells).length,D=Object.keys(t.current.state.rowSpanning.hiddenCells).length;!(g||T!==O||I!==D)||T===0&&O===0||t.current.setState(R=>w({},R,{rowSpanning:{spannedCells:C,hiddenCells:v,hiddenCellOriginMap:M}}))},[t,s,l.pagination,l.paginationMode]),c=h.useCallback(()=>{const d=ki(t);bC(d)&&i(d,!0)},[t,i]);ye(t,"renderedRowsIntervalChange",Lr(l.unstable_rowSpanning,i)),ye(t,"sortedRowsSet",Lr(l.unstable_rowSpanning,c)),ye(t,"paginationModelChange",Lr(l.unstable_rowSpanning,c)),ye(t,"filteredRowsSet",Lr(l.unstable_rowSpanning,c)),ye(t,"columnsChange",Lr(l.unstable_rowSpanning,c)),h.useEffect(()=>{l.unstable_rowSpanning?t.current.state.rowSpanning===Va&&c():t.current.state.rowSpanning!==Va&&t.current.setState(d=>w({},d,{rowSpanning:Va}))},[t,c,l.unstable_rowSpanning])},TA=(t,l,s)=>w({},t,{listViewColumn:l.unstable_listColumn?w({},l.unstable_listColumn,{computedWidth:Ah(s)}):void 0});function IA(t,l){const s=()=>{t.current.setState(d=>d.listViewColumn?w({},d,{listViewColumn:w({},d.listViewColumn,{computedWidth:Ah(t)})}):d)},i=h.useRef(null);ye(t,"viewportInnerSizeChange",d=>{i.current!==d.width&&(i.current=d.width,s())}),ye(t,"columnVisibilityModelChange",s),On(()=>{const d=l.unstable_listColumn;d&&t.current.setState(g=>w({},g,{listViewColumn:w({},d,{computedWidth:Ah(t)})}))},[t,l.unstable_listColumn]),h.useEffect(()=>{l.unstable_listView&&l.unstable_listColumn},[l.unstable_listView,l.unstable_listColumn])}function Ah(t){return mn(t.current.state).viewportInnerSize.width}const FA=(t,l)=>{const s=ZI(t,l);return KF(s,l),UF(s),hn(XI,s,l),hn(WF,s,l),hn(aF,s,l),hn(GF,s,l),hn(DF,s,l),hn(RF,s,l),hn(yF,s,l),hn(XF,s,l),hn(IF,s,l),hn(pF,s,l),hn(EA,s,l),hn(iF,s,l),hn(vA,s,l),hn(oF,s,l),hn(fA,s,l),hn(_M,s,l),hn(nA,s,l),hn(aA,s,l),hn(TA,s,l),jF(s,l),qF(s,l),sF(s,l),LF(s,l),DA(s,l),$F(s,l),cA(s),hA(s,l),NF(s,l),vF(s,l),FF(s,l),CF(s,l),QF(s,l),cF(s,l),SA(s,l),TF(s,l),sA(s,l),ZF(s,l),rF(s),dF(s,l),mF(s,l),lF(s,l),lA(s,l),JF(s,l),iA(s),BM(s,l),IA(s,l),s},AA=t=>{const{classes:l,headerAlign:s,isDragging:i,isLastColumn:c,showLeftBorder:d,showRightBorder:g,groupId:p,pinnedPosition:m}=t,x={root:["columnHeader",s==="left"&&"columnHeader--alignLeft",s==="center"&&"columnHeader--alignCenter",s==="right"&&"columnHeader--alignRight",i&&"columnHeader--moving",g&&"columnHeader--withRightBorder",d&&"columnHeader--withLeftBorder","withBorderColor",p===null?"columnHeader--emptyGroup":"columnHeader--filledGroup",m===et.LEFT&&"columnHeader--pinnedLeft",m===et.RIGHT&&"columnHeader--pinnedRight",c&&"columnHeader--last"],draggableContainer:["columnHeaderDraggableContainer"],titleContainer:["columnHeaderTitleContainer","withBorderColor"],titleContainerContent:["columnHeaderTitleContainerContent"]};return Ke(x,Qe,l)};function zA(t){const{groupId:l,width:s,depth:i,maxDepth:c,fields:d,height:g,colIndex:p,hasFocus:m,tabIndex:x,isLastColumn:b,pinnedPosition:C,pinnedOffset:v}=t,M=we(),j=co(),T=h.useRef(null),I=Ge(),O=he(I,P0),D=l?O[l]:{},{headerName:P=l??"",description:B="",headerAlign:R=void 0}=D;let W;const V=l&&O[l]?.renderHeaderGroup,U=h.useMemo(()=>({groupId:l,headerName:P,description:B,depth:i,maxDepth:c,fields:d,colIndex:p,isLastColumn:b}),[l,P,B,i,c,d,p,b]);l&&V&&(W=V(U));const A=w({},t,{classes:M.classes,headerAlign:R,depth:i,isDragging:!1}),E=P??l,_=Ot(),G=l===null?`empty-group-cell-${_}`:l,k=AA(A);h.useLayoutEffect(()=>{if(m){const q=T.current.querySelector('[tabindex="0"]')||T.current;if(!q)return;if(rg())q.focus({preventScroll:!0});else{const Y=I.current.getScrollPosition();q.focus(),I.current.scroll(Y)}}},[I,m]);const K=h.useCallback(F=>q=>{Hi(q)||I.current.publishEvent(F,U,q)},[I,U]),L=h.useMemo(()=>({onKeyDown:K("columnGroupHeaderKeyDown"),onFocus:K("columnGroupHeaderFocus"),onBlur:K("columnGroupHeaderBlur")}),[K]),S=typeof D.headerClassName=="function"?D.headerClassName(U):D.headerClassName,z=h.useMemo(()=>Hu(w({},t.style),j,C,v),[C,v,t.style,j]);return r.jsx(ty,w({ref:T,classes:k,columnMenuOpen:!1,colIndex:p,height:g,isResizing:!1,sortDirection:null,hasFocus:!1,tabIndex:x,isDraggable:!1,headerComponent:W,headerClassName:S,description:B,elementId:G,width:s,columnMenuIconButton:null,columnTitleIconButtons:null,resizable:!1,label:E,"aria-colspan":d.length,"data-fields":`|-${d.join("-|-")}-|`,style:z},L))}const CC=Ut("div",{name:"MuiDataGrid",slot:"ColumnHeaderRow",overridesResolver:(t,l)=>l.columnHeaderRow})({display:"flex"}),OA=t=>{const{visibleColumns:l,sortColumnLookup:s,filterColumnLookup:i,columnHeaderTabIndexState:c,columnGroupHeaderTabIndexState:d,columnHeaderFocus:g,columnGroupHeaderFocus:p,headerGroupingMaxDepth:m,columnMenuState:x,columnVisibility:b,columnGroupsHeaderStructure:C,hasOtherElementInTabSequence:v}=t,[M,j]=h.useState(""),[T,I]=h.useState(""),O=kl(),D=we(),P=he(O,H0),B=he(O,Cr),R=he(O,LM),W=he(O,ns),V=he(O,fo),U=U0(B,R,W.left.length),A=he(O,ju),E=he(O,YC),_=he(O,XS),G=he(O,QS),k=he(O,KC),K=h.useCallback(ce=>I(ce.field),[]),L=h.useCallback(()=>I(""),[]),S=h.useCallback(ce=>j(ce.field),[]),z=h.useCallback(()=>j(""),[]),F=h.useMemo(()=>W.left.length?{firstColumnIndex:0,lastColumnIndex:W.left.length}:null,[W.left.length]),q=h.useMemo(()=>W.right.length?{firstColumnIndex:l.length-W.right.length,lastColumnIndex:l.length}:null,[W.right.length,l.length]);ye(O,"columnResizeStart",K),ye(O,"columnResizeStop",L),ye(O,"columnHeaderDragStart",S),ye(O,"columnHeaderDragEnd",z);const Y=ce=>{const{renderContext:ve=R}=ce||{},Te=ve.firstColumnIndex,je=ve.lastColumnIndex;return{renderedColumns:l.slice(Te,je),firstColumnToRender:Te,lastColumnToRender:je}},$=(ce,ve,Te,je=!1)=>{const Ae=ce?.position===et.RIGHT,Le=ce?.position===void 0,be=W.right.length>0&&Ae||W.right.length===0&&Le,Me=U-Te;return r.jsxs(h.Fragment,{children:[Le&&r.jsx("div",{role:"presentation",style:{width:Me}}),ve,Le&&r.jsx("div",{role:"presentation",className:lt(N.filler,je&&N["filler--borderBottom"])}),be&&r.jsx(cg,{header:!0,pinnedRight:Ae,borderBottom:je,borderTop:!1})]})},Q=(ce,ve={})=>{const{renderedColumns:Te,firstColumnToRender:je}=Y(ce),Ae=[];for(let Le=0;Le<Te.length;Le+=1){const be=Te[Le],Me=je+Le,ze=Me===0,Ce=c!==null&&c.field===be.field||ze&&!v?0:-1,$e=g!==null&&g.field===be.field,Ve=x.open&&x.field===be.field,_e=ce?.position,It=pi(_e,be.computedWidth,Me,B,A,k),St=_e===et.RIGHT?Te[Le-1]:Te[Le+1],jt=St?g!==null&&g.field===St.field:!1,ut=Me+1===B.length-W.right.length,Mt=Le,nt=Te.length,mt=Cu(_e,Mt),pt=xu(_e,Mt,nt,D.showColumnVerticalBorder,E);Ae.push(r.jsx(u2,w({},s[be.field],{columnMenuOpen:Ve,filterItemsCounter:i[be.field]&&i[be.field].length,headerHeight:_,isDragging:be.field===M,colDef:be,colIndex:Me,isResizing:T===be.field,isLast:Me===B.length-1,hasFocus:$e,tabIndex:Ce,pinnedPosition:_e,pinnedOffset:It,isLastUnpinned:ut,isSiblingFocused:jt,showLeftBorder:mt,showRightBorder:pt},ve),be.field))}return $(ce,Ae,0)},oe=()=>r.jsxs(CC,{role:"row","aria-rowindex":m+1,ownerState:D,className:N["row--borderBottom"],children:[F&&Q({position:et.LEFT,renderContext:F},{disableReorder:!0}),Q({renderContext:R}),q&&Q({position:et.RIGHT,renderContext:q},{disableReorder:!0,separatorSide:sg.Left})]}),ae=({depth:ce,params:ve})=>{const Te=Y(ve);if(Te.renderedColumns.length===0)return null;const{firstColumnToRender:je,lastColumnToRender:Ae}=Te,Le=C[ce],be=l[je].field,Me=P[be]?.[ce]??null,ze=Le.findIndex(({groupId:nt,columnFields:mt})=>nt===Me&&mt.includes(be)),Ce=l[Ae-1].field,$e=P[Ce]?.[ce]??null,Ve=Le.findIndex(({groupId:nt,columnFields:mt})=>nt===$e&&mt.includes(Ce)),_e=Le.slice(ze,Ve+1).map(nt=>w({},nt,{columnFields:nt.columnFields.filter(mt=>b[mt]!==!1)})).filter(nt=>nt.columnFields.length>0),It=_e[0].columnFields.indexOf(be),jt=_e[0].columnFields.slice(0,It).reduce((nt,mt)=>{const pt=V[mt];return nt+(pt.computedWidth??0)},0);let ut=je;const Mt=_e.map(({groupId:nt,columnFields:mt},pt)=>{const Ht=p!==null&&p.depth===ce&&mt.includes(p.field),Fe=d!==null&&d.depth===ce&&mt.includes(d.field)?0:-1,Ze={width:mt.reduce((xt,wt)=>xt+V[wt].computedWidth,0),fields:mt,colIndex:ut},Be=ve.position,We=pi(Be,Ze.width,ut,B,A,k);ut+=mt.length;let bt=pt;return Be===et.LEFT&&(bt=ut-1),r.jsx(zA,{groupId:nt,width:Ze.width,fields:Ze.fields,colIndex:Ze.colIndex,depth:ce,isLastColumn:pt===_e.length-1,maxDepth:m,height:G,hasFocus:Ht,tabIndex:Fe,pinnedPosition:Be,pinnedOffset:We,showLeftBorder:Cu(Be,bt),showRightBorder:xu(Be,bt,_e.length,D.showColumnVerticalBorder,E)},pt)});return $(ve,Mt,jt)};return{renderContext:R,leftRenderContext:F,rightRenderContext:q,pinnedColumns:W,visibleColumns:l,columnPositions:B,getFillers:$,getColumnHeadersRow:oe,getColumnsToRender:Y,getColumnGroupHeadersRows:()=>{if(m===0)return null;const ce=[];for(let ve=0;ve<m;ve+=1)ce.push(r.jsxs(CC,{role:"row","aria-rowindex":ve+1,ownerState:D,children:[F&&ae({depth:ve,params:{position:et.LEFT,renderContext:F,maxLastColumn:F.lastColumnIndex}}),ae({depth:ve,params:{renderContext:R}}),q&&ae({depth:ve,params:{position:et.RIGHT,renderContext:q,maxLastColumn:q.lastColumnIndex}})]},ve));return ce},getPinnedCellOffset:pi,isDragging:!!M,getInnerProps:()=>({role:"rowgroup"})}},kA=["className"],HA=t=>{const{classes:l}=t;return Ke({root:["columnHeaders"]},Qe,l)},PA=Tt("div",{name:"MuiDataGrid",slot:"ColumnHeaders",overridesResolver:(t,l)=>l.columnHeaders})({display:"flex",flexDirection:"column",borderTopLeftRadius:"var(--unstable_DataGrid-radius)",borderTopRightRadius:"var(--unstable_DataGrid-radius)"}),RA=Xe(function(l,s){const{className:i}=l,c=Ee(l,kA),d=we(),g=HA(d);return r.jsx(PA,w({className:lt(g.root,i),ownerState:d},c,{role:"presentation",ref:s}))}),NA=["className","visibleColumns","sortColumnLookup","filterColumnLookup","columnHeaderTabIndexState","columnGroupHeaderTabIndexState","columnHeaderFocus","columnGroupHeaderFocus","headerGroupingMaxDepth","columnMenuState","columnVisibility","columnGroupsHeaderStructure","hasOtherElementInTabSequence"],GA=Xe(function(l,s){const{visibleColumns:i,sortColumnLookup:c,filterColumnLookup:d,columnHeaderTabIndexState:g,columnGroupHeaderTabIndexState:p,columnHeaderFocus:m,columnGroupHeaderFocus:x,headerGroupingMaxDepth:b,columnMenuState:C,columnVisibility:v,columnGroupsHeaderStructure:M,hasOtherElementInTabSequence:j}=l,T=Ee(l,NA),{getInnerProps:I,getColumnHeadersRow:O,getColumnGroupHeadersRows:D}=OA({visibleColumns:i,sortColumnLookup:c,filterColumnLookup:d,columnHeaderTabIndexState:g,columnGroupHeaderTabIndexState:p,columnHeaderFocus:m,columnGroupHeaderFocus:x,headerGroupingMaxDepth:b,columnMenuState:C,columnVisibility:v,columnGroupsHeaderStructure:M,hasOtherElementInTabSequence:j});return r.jsxs(RA,w({},T,I(),{ref:s,children:[D(),O()]}))}),LA=Ro(GA);function _A(t){return null}function BA(t){return null}const VA=Xe(function(l,s){const c=Ge().current.getLocaleText("noResultsOverlayLabel");return r.jsx(ag,w({},l,{ref:s,children:c}))}),UA=["sortingOrder"],$A=h.memo(function(l){const{sortingOrder:s}=l,i=Ee(l,UA),c=we(),[d]=s,g=d==="asc"?c.slots.columnSortedAscendingIcon:c.slots.columnSortedDescendingIcon;return g?r.jsx(g,w({},i)):null}),WA=["native"];function qA(t){let{native:l}=t,s=Ee(t,WA);return l?r.jsx("option",w({},s)):r.jsx(Re,w({},s))}const YA={booleanCellTrueIcon:O2,booleanCellFalseIcon:ah,columnMenuIcon:I2,openFilterButtonIcon:w2,filterPanelDeleteIcon:ah,columnFilteredIcon:Kx,columnSelectorIcon:j2,columnUnsortedIcon:$A,columnSortedAscendingIcon:$x,columnSortedDescendingIcon:Wx,columnResizeIcon:M2,densityCompactIcon:E2,densityStandardIcon:D2,densityComfortableIcon:T2,exportIcon:z2,moreActionsIcon:k2,treeDataCollapseIcon:Yx,treeDataExpandIcon:qx,groupingCriteriaCollapseIcon:Yx,groupingCriteriaExpandIcon:qx,detailPanelExpandIcon:Xx,detailPanelCollapseIcon:F2,rowReorderIcon:Qx,quickFilterIcon:S2,quickFilterClearIcon:ah,columnMenuHideIcon:H2,columnMenuSortAscendingIcon:$x,columnMenuSortDescendingIcon:Wx,columnMenuFilterIcon:Kx,columnMenuManageColumnsIcon:P2,columnMenuClearIcon:R2,loadIcon:A2,filterPanelAddIcon:Xx,filterPanelRemoveAllIcon:N2,columnReorderIcon:Qx},KA=w({},YA,{baseBadge:Zw,baseCheckbox:Rh,baseDivider:zh,baseTextField:Ne,baseFormControl:Wa,baseSelect:$a,baseButton:xe,baseIconButton:ql,baseInputAdornment:FC,baseTooltip:fr,basePopper:Hh,baseInputLabel:xi,baseSelectOption:qA,baseChip:Gt}),XA=w({},KA,{cell:KE,skeletonCell:oD,columnHeaderFilterIconButton:y2,columnHeaderSortIcon:x2,columnMenu:tT,columnHeaders:LA,detailPanels:_A,footer:uI,footerRowCount:MI,toolbar:null,pinnedRows:BA,loadingOverlay:pI,noResultsOverlay:VA,noRowsOverlay:bI,pagination:vI,filterPanel:AT,columnsPanel:aT,columnsManagement:HT,panel:dT,row:AI}),QA={disableMultipleColumnsFiltering:!0,disableMultipleColumnsSorting:!0,throttleRowsMs:void 0,hideFooterRowCount:!1,pagination:!0,checkboxSelectionVisibleOnly:!1,disableColumnReorder:!0,keepColumnPositionIfDraggedOutside:!1,signature:"DataGrid",unstable_listView:!1},ZA=XA,JA=t=>{const l=jC(),s=BE(h.useMemo(()=>Jw({props:t,theme:l,name:"MuiDataGrid"}),[l,t])),i=h.useMemo(()=>w({},JS,s.localeText),[s.localeText]),c=h.useMemo(()=>LE({defaultSlots:ZA,slots:s.slots}),[s.slots]),d=h.useMemo(()=>Object.keys(Th).reduce((g,p)=>(g[p]=s[p]??Th[p],g),{}),[s]);return h.useMemo(()=>w({},s,d,{localeText:i,slots:c},QA),[s,i,c,d])},ez={hooks:{useGridAriaAttributes:zI,useGridRowAriaAttributes:OI,useCellAggregationResult:()=>null}},py=Xe(function(l,s){const i=JA(l),c=FA(i.apiRef,i);return r.jsx(kI,{privateApiRef:c,configuration:ez,props:i,children:r.jsx(wD,w({className:i.className,style:i.style,sx:i.sx},i.forwardedProps,i.slotProps?.root,{ref:s}))})}),Jn=h.memo(py);py.propTypes={apiRef:ee.shape({current:ee.object.isRequired}),"aria-label":ee.string,"aria-labelledby":ee.string,autoHeight:ee.bool,autoPageSize:ee.bool,autosizeOnMount:ee.bool,autosizeOptions:ee.shape({columns:ee.arrayOf(ee.string),disableColumnVirtualization:ee.bool,expand:ee.bool,includeHeaders:ee.bool,includeOutliers:ee.bool,outliersFactor:ee.number}),cellModesModel:ee.object,checkboxSelection:ee.bool,classes:ee.object,clipboardCopyCellDelimiter:ee.string,columnBufferPx:ee.number,columnGroupHeaderHeight:ee.number,columnGroupingModel:ee.arrayOf(ee.object),columnHeaderHeight:ee.number,columns:ee.arrayOf(ee.object).isRequired,columnVisibilityModel:ee.object,density:ee.oneOf(["comfortable","compact","standard"]),disableAutosize:ee.bool,disableColumnFilter:ee.bool,disableColumnMenu:ee.bool,disableColumnResize:ee.bool,disableColumnSelector:ee.bool,disableColumnSorting:ee.bool,disableDensitySelector:ee.bool,disableEval:ee.bool,disableMultipleRowSelection:ee.bool,disableRowSelectionOnClick:ee.bool,disableVirtualization:ee.bool,editMode:ee.oneOf(["cell","row"]),estimatedRowCount:ee.number,experimentalFeatures:ee.shape({warnIfFocusStateIsNotSynced:ee.bool}),filterDebounceMs:ee.number,filterMode:ee.oneOf(["client","server"]),filterModel:ee.shape({items:ee.arrayOf(ee.shape({field:ee.string.isRequired,id:ee.oneOfType([ee.number,ee.string]),operator:ee.string.isRequired,value:ee.any})).isRequired,logicOperator:ee.oneOf(["and","or"]),quickFilterExcludeHiddenColumns:ee.bool,quickFilterLogicOperator:ee.oneOf(["and","or"]),quickFilterValues:ee.array}),forwardedProps:ee.object,getCellClassName:ee.func,getDetailPanelContent:ee.func,getEstimatedRowHeight:ee.func,getRowClassName:ee.func,getRowHeight:ee.func,getRowId:ee.func,getRowSpacing:ee.func,hideFooter:ee.bool,hideFooterPagination:ee.bool,hideFooterSelectedRowCount:ee.bool,ignoreDiacritics:ee.bool,ignoreValueFormatterDuringExport:ee.oneOfType([ee.shape({clipboardExport:ee.bool,csvExport:ee.bool}),ee.bool]),indeterminateCheckboxAction:ee.oneOf(["deselect","select"]),initialState:ee.object,isCellEditable:ee.func,isRowSelectable:ee.func,keepNonExistentRowsSelected:ee.bool,loading:ee.bool,localeText:ee.object,logger:ee.shape({debug:ee.func.isRequired,error:ee.func.isRequired,info:ee.func.isRequired,warn:ee.func.isRequired}),logLevel:ee.oneOf(["debug","error","info","warn",!1]),nonce:ee.string,onCellClick:ee.func,onCellDoubleClick:ee.func,onCellEditStart:ee.func,onCellEditStop:ee.func,onCellKeyDown:ee.func,onCellModesModelChange:ee.func,onClipboardCopy:ee.func,onColumnHeaderClick:ee.func,onColumnHeaderContextMenu:ee.func,onColumnHeaderDoubleClick:ee.func,onColumnHeaderEnter:ee.func,onColumnHeaderLeave:ee.func,onColumnHeaderOut:ee.func,onColumnHeaderOver:ee.func,onColumnOrderChange:ee.func,onColumnResize:ee.func,onColumnVisibilityModelChange:ee.func,onColumnWidthChange:ee.func,onDensityChange:ee.func,onFilterModelChange:ee.func,onMenuClose:ee.func,onMenuOpen:ee.func,onPaginationMetaChange:ee.func,onPaginationModelChange:ee.func,onPreferencePanelClose:ee.func,onPreferencePanelOpen:ee.func,onProcessRowUpdateError:ee.func,onResize:ee.func,onRowClick:ee.func,onRowCountChange:ee.func,onRowDoubleClick:ee.func,onRowEditStart:ee.func,onRowEditStop:ee.func,onRowModesModelChange:ee.func,onRowSelectionModelChange:ee.func,onSortModelChange:ee.func,onStateChange:ee.func,pageSizeOptions:ee.arrayOf(ee.oneOfType([ee.number,ee.shape({label:ee.string.isRequired,value:ee.number.isRequired})]).isRequired),pagination:ee.oneOf([!0]),paginationMeta:ee.shape({hasNextPage:ee.bool}),paginationMode:ee.oneOf(["client","server"]),paginationModel:ee.shape({page:ee.number.isRequired,pageSize:ee.number.isRequired}),processRowUpdate:ee.func,resetPageOnSortFilter:ee.bool,resizeThrottleMs:ee.number,rowBufferPx:ee.number,rowCount:ee.number,rowHeight:ee.number,rowModesModel:ee.object,rowPositionsDebounceMs:ee.number,rows:ee.arrayOf(ee.object),rowSelection:ee.bool,rowSelectionModel:ee.oneOfType([ee.arrayOf(ee.oneOfType([ee.number,ee.string]).isRequired),ee.number,ee.string]),rowSpacingType:ee.oneOf(["border","margin"]),scrollbarSize:ee.number,showCellVerticalBorder:ee.bool,showColumnVerticalBorder:ee.bool,slotProps:ee.object,slots:ee.object,sortingMode:ee.oneOf(["client","server"]),sortingOrder:ee.arrayOf(ee.oneOf(["asc","desc"])),sortModel:ee.arrayOf(ee.shape({field:ee.string.isRequired,sort:ee.oneOf(["asc","desc"])})),sx:ee.oneOfType([ee.arrayOf(ee.oneOfType([ee.func,ee.object,ee.bool])),ee.func,ee.object]),unstable_rowSpanning:ee.bool,virtualizeColumnsWithAutoRowHeight:ee.bool};const tz=[{value:"uid",label:"UID (Unique ID)"},{value:"parentUid",label:"Parent UID"},{value:"description",label:"Service Description"},{value:"tower",label:"Tower"},{value:"budgetHead",label:"Budget Head"},{value:"vendor",label:"Vendor Name"},{value:"startDate",label:"Start Date"},{value:"endDate",label:"End Date"},{value:"renewalDate",label:"Renewal Date"},{value:"contractId",label:"Contract/PO ID"},{value:"poEntity",label:"PO Entity"},{value:"allocationBasis",label:"Allocation Basis"},{value:"allocationType",label:"Allocation Type"},{value:"serviceType",label:"Service Type"},{value:"initiativeType",label:"Initiative Type"},{value:"priority",label:"Priority"},{value:"total",label:"Total Budget"},{value:"month_Apr",label:"April"},{value:"month_May",label:"May"},{value:"month_Jun",label:"June"},{value:"month_Jul",label:"July"},{value:"month_Aug",label:"August"},{value:"month_Sep",label:"September"},{value:"month_Oct",label:"October"},{value:"month_Nov",label:"November"},{value:"month_Dec",label:"December"},{value:"month_Jan",label:"January"},{value:"month_Feb",label:"February"},{value:"month_Mar",label:"March"}],nz=({open:t,onClose:l,onSuccess:s})=>{const[i,c]=h.useState(null),[d,g]=h.useState(!1),[p,m]=h.useState(null),[x,b]=h.useState(null),[C,v]=h.useState(0),[M,j]=h.useState({}),T=V=>{const U=V.target.files[0];U&&(c(U),m(null),b(null))},I=V=>{V.preventDefault()},O=V=>{V.preventDefault();const U=V.dataTransfer.files[0];U&&(c(U),m(null),b(null))},D=async(V=M)=>{if(i){g(!0),b(null);try{const U=new FormData;U.append("file",i),U.append("dryRun","true"),U.append("customMapping",JSON.stringify(V));const A=localStorage.getItem("token"),E=await Wr.post("/api/budgets/import",U,{headers:{Authorization:`Bearer ${A}`,"Content-Type":"multipart/form-data"}});m(E.data),(C===0||C===1)&&(Object.keys(V).length===0&&E.data.headerMapping?.fieldMap&&j(E.data.headerMapping.fieldMap),v(_=>_+1))}catch(U){b(U.response?.data?.message||"Error processing file")}finally{g(!1)}}},P=async()=>{if(i){g(!0),b(null);try{const V=new FormData;V.append("file",i),V.append("dryRun","false"),V.append("customMapping",JSON.stringify(M));const U=localStorage.getItem("token"),A=await Wr.post("/api/budgets/import",V,{headers:{Authorization:`Bearer ${U}`,"Content-Type":"multipart/form-data"}});s(A.data),R()}catch(V){b(V.response?.data?.message||"Error importing data")}finally{g(!1)}}},B=()=>{if(!p?.report?.rejected)return;const V=[["Row","UID","Errors"].join(","),...p.report.rejected.map(_=>[_.rowIndex,_.uid||"N/A",_.errors.join("; ")].join(","))].join(`
`),U=new Blob([V],{type:"text/csv"}),A=window.URL.createObjectURL(U),E=document.createElement("a");E.href=A,E.download="rejected_rows.csv",E.click(),window.URL.revokeObjectURL(A)},R=()=>{c(null),m(null),b(null),v(0),j({}),l()},W=(V,U)=>{j(A=>({...A,[V]:U}))};return r.jsxs(Tn,{open:t,onClose:R,maxWidth:"lg",fullWidth:!0,children:[r.jsx(In,{children:r.jsxs(se,{display:"flex",justifyContent:"space-between",alignItems:"center",children:[r.jsx(pe,{variant:"h6",children:"Import Budget Data"}),r.jsx(ql,{onClick:R,size:"small",children:r.jsx(eS,{})})]})}),r.jsxs(Fn,{dividers:!0,children:[d&&r.jsx(Ph,{sx:{mb:2}}),r.jsxs(tS,{activeStep:C,sx:{mb:4},children:[r.jsx(qf,{children:r.jsx(Yf,{children:"Upload"})}),r.jsx(qf,{children:r.jsx(Yf,{children:"Field Mapping"})}),r.jsx(qf,{children:r.jsx(Yf,{children:"Preview"})})]}),x&&r.jsx(cn,{severity:"error",sx:{mb:2},children:x}),C===0&&r.jsxs(se,{onDragOver:I,onDrop:O,sx:{border:"2px dashed",borderColor:i?"primary.main":"grey.300",borderRadius:2,p:6,textAlign:"center",backgroundColor:i?"primary.50":"grey.50",cursor:"pointer",transition:"all 0.3s ease","&:hover":{borderColor:"primary.main",backgroundColor:"primary.50"}},children:[r.jsx("input",{type:"file",accept:".xlsx,.xls",onChange:T,style:{display:"none"},id:"file-upload"}),r.jsxs("label",{htmlFor:"file-upload",style:{cursor:"pointer"},children:[r.jsx(bh,{sx:{fontSize:64,color:"primary.main",mb:2}}),r.jsx(pe,{variant:"h6",gutterBottom:!0,children:i?i.name:"Drop Excel file here or click to browse"}),r.jsx(pe,{variant:"body2",color:"text.secondary",children:"Please upload the budget Excel file with header row."}),i&&r.jsxs(pe,{variant:"caption",color:"primary",sx:{display:"block",mt:1},children:["File selected: ",(i.size/1024).toFixed(1)," KB"]})]})]}),C===1&&p&&r.jsxs(se,{children:[r.jsx(pe,{variant:"subtitle1",gutterBottom:!0,fontWeight:"bold",children:"Map Excel Headers to Application Fields"}),r.jsx(pe,{variant:"body2",color:"text.secondary",sx:{mb:3},children:"We detected the following headers in your Excel file. Please verify or adjust the mapping."}),r.jsx(Rn,{component:tt,variant:"outlined",sx:{maxHeight:400},children:r.jsxs(Nn,{size:"small",stickyHeader:!0,children:[r.jsx(Gn,{children:r.jsxs(it,{children:[r.jsx(ue,{sx:{fontWeight:"bold",width:"40%"},children:"Excel Header"}),r.jsx(ue,{sx:{fontWeight:"bold",width:"50%"},children:"Application Field"}),r.jsx(ue,{sx:{fontWeight:"bold",width:"10%"},children:"Status"})]})}),r.jsx(Ln,{children:p.headerMapping.rawHeaders.map((V,U)=>r.jsxs(it,{hover:!0,children:[r.jsx(ue,{children:r.jsx(pe,{variant:"body2",children:V})}),r.jsx(ue,{children:r.jsx(Wa,{fullWidth:!0,size:"small",children:r.jsxs($a,{value:M[V]||"",onChange:A=>W(V,A.target.value),displayEmpty:!0,children:[r.jsx(Re,{value:"",children:r.jsx("em",{children:"Skip this column"})}),r.jsx(zh,{}),tz.map(A=>r.jsx(Re,{value:A.value,children:A.label},A.value))]})})}),r.jsx(ue,{children:M[V]?r.jsx(gi,{color:"success",fontSize:"small"}):r.jsx(fr,{title:"This column will be ignored",children:r.jsx(Nh,{color:"action",fontSize:"small"})})})]},U))})]})})]}),C===2&&p&&r.jsxs(se,{children:[r.jsxs(dt,{container:!0,spacing:2,sx:{mb:3},children:[r.jsx(dt,{item:!0,xs:12,sm:4,children:r.jsxs(tt,{variant:"outlined",sx:{p:2,textAlign:"center",bgcolor:"grey.50"},children:[r.jsx(pe,{variant:"caption",color:"text.secondary",children:"Total Rows"}),r.jsx(pe,{variant:"h5",children:p.report.totalRows})]})}),r.jsx(dt,{item:!0,xs:12,sm:4,children:r.jsxs(tt,{variant:"outlined",sx:{p:2,textAlign:"center",bgcolor:"success.50"},children:[r.jsx(pe,{variant:"caption",color:"success.main",children:"Accepted"}),r.jsx(pe,{variant:"h5",color:"success.main",children:p.report.accepted.length})]})}),r.jsx(dt,{item:!0,xs:12,sm:4,children:r.jsxs(tt,{variant:"outlined",sx:{p:2,textAlign:"center",bgcolor:"error.50"},children:[r.jsx(pe,{variant:"caption",color:"error.main",children:"Rejected"}),r.jsx(pe,{variant:"h5",color:"error.main",children:p.report.rejected.length})]})})]}),p.report.rejected.length>0&&r.jsxs(se,{sx:{mb:4},children:[r.jsxs(se,{display:"flex",justifyContent:"space-between",alignItems:"center",mb:1,children:[r.jsx(pe,{variant:"subtitle2",color:"error",fontWeight:"bold",children:"Rejected Rows (Review requested)"}),r.jsx(xe,{size:"small",startIcon:r.jsx(AC,{}),onClick:B,color:"error",children:"Download All Errors"})]}),r.jsx(Rn,{component:tt,variant:"outlined",sx:{maxHeight:250},children:r.jsxs(Nn,{size:"small",stickyHeader:!0,children:[r.jsx(Gn,{children:r.jsxs(it,{children:[r.jsx(ue,{children:"Row"}),r.jsx(ue,{children:"UID"}),r.jsx(ue,{children:"Errors"})]})}),r.jsx(Ln,{children:p.report.rejected.slice(0,10).map((V,U)=>r.jsxs(it,{children:[r.jsx(ue,{children:V.rowIndex}),r.jsx(ue,{children:V.uid||"N/A"}),r.jsx(ue,{children:V.errors.map((A,E)=>r.jsx(Gt,{label:A,size:"small",color:"error",variant:"outlined",sx:{mr:.5,mb:.5}},E))})]},U))})]})})]}),p.report.accepted.length>0&&r.jsxs(se,{children:[r.jsx(pe,{variant:"subtitle2",color:"success.main",fontWeight:"bold",gutterBottom:!0,children:"Summary of Accepted Rows"}),r.jsx(Rn,{component:tt,variant:"outlined",sx:{maxHeight:250},children:r.jsxs(Nn,{size:"small",stickyHeader:!0,children:[r.jsx(Gn,{children:r.jsxs(it,{children:[r.jsx(ue,{children:"UID"}),r.jsx(ue,{children:"Description"}),r.jsx(ue,{align:"right",children:"Amount"}),r.jsx(ue,{children:"Vendor"}),r.jsx(ue,{children:"Status"})]})}),r.jsx(Ln,{children:p.report.accepted.slice(0,5).map((V,U)=>r.jsxs(it,{children:[r.jsx(ue,{children:V.uid}),r.jsx(ue,{sx:{maxWidth:200,overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},children:V.description}),r.jsx(ue,{align:"right",children:V.totalBudget?.toLocaleString()}),r.jsx(ue,{children:V.vendor||"-"}),r.jsx(ue,{children:r.jsx(Gt,{label:"OK",size:"small",color:"success",variant:"outlined"})})]},U))})]})})]})]})]}),r.jsxs(An,{sx:{px:3,py:2,bgcolor:"grey.50"},children:[r.jsx(xe,{onClick:R,disabled:d,children:"Cancel"}),C>0&&r.jsx(xe,{disabled:d,onClick:()=>v(V=>V-1),variant:"outlined",children:"Back"}),C===0&&r.jsx(xe,{variant:"contained",onClick:()=>D({}),disabled:!i||d,startIcon:r.jsx(gi,{}),children:"Initialize Mapping"}),C===1&&r.jsx(xe,{variant:"contained",onClick:()=>D(M),disabled:d,startIcon:r.jsx(gi,{}),children:"Update Preview"}),C===2&&r.jsxs(xe,{variant:"contained",onClick:P,disabled:d||p.report.accepted.length===0,startIcon:r.jsx(bh,{}),color:"success",children:["Commit Import (",p.report.accepted.length," rows)"]})]})]})},Zr=({open:t,onClose:l,onExport:s})=>{const[i,c]=Lh.useState("xlsx"),d=()=>{s(i),l()};return r.jsxs(Tn,{open:t,onClose:l,maxWidth:"xs",fullWidth:!0,children:[r.jsx(In,{children:"Export Data"}),r.jsx(Fn,{children:r.jsxs(se,{sx:{pt:1},children:[r.jsx(pe,{width:"100%",gutterBottom:!0,children:"Please select the export format:"}),r.jsxs(nS,{value:i,onChange:g=>c(g.target.value),children:[r.jsx(bi,{value:"xlsx",control:r.jsx(sx,{}),label:"Excel Workbook (.xlsx)"}),r.jsx(bi,{value:"csv",control:r.jsx(sx,{}),label:"CSV (.csv)"})]})]})}),r.jsxs(An,{children:[r.jsx(xe,{onClick:l,children:"Cancel"}),r.jsx(xe,{onClick:d,variant:"contained",startIcon:r.jsx(xr,{}),color:"primary",children:"Export"})]})]})},ri=t=>t?new Date(t).toLocaleDateString("en-GB",{day:"2-digit",month:"short",year:"numeric"}).replace(/ /g,"-"):"-",fh=t=>t==null?"-":new Intl.NumberFormat("en-IN",{style:"currency",currency:"INR",maximumFractionDigits:0}).format(t),lz=()=>{const[t,l]=h.useState([]),[s,i]=h.useState(0),[c,d]=h.useState({page:0,pageSize:25}),[g,p]=h.useState(!0),[m,x]=h.useState(!1),[b,C]=h.useState(!1),[v,M]=h.useState(!1),[j,T]=h.useState({open:!1,message:"",severity:"success"}),[I,O]=h.useState([]),[D,P]=h.useState({vendors:[],towers:[],budgetHeads:[],poEntities:[],serviceTypes:[]}),[B,R]=h.useState({uid:"",vendor_id:"",tower_id:"",budget_head_id:"",po_entity_id:"",service_type_id:"",service_description:""}),[W,V]=h.useState(()=>{const F=localStorage.getItem("budgetListColumnVisibility");return F?JSON.parse(F):{}});h.useEffect(()=>{fetchBudgets(),U()},[c]);const U=async()=>{try{const[F,q,Y,$,Q]=await Promise.all([Se.get("/master/vendors"),Se.get("/master/towers"),Se.get("/master/budget-heads"),Se.get("/master/po-entities"),Se.get("/master/service-types")]);P({vendors:F,towers:q,budgetHeads:Y,poEntities:$,serviceTypes:Q}),O(F)}catch(F){console.error("Error fetching master data:",F)}},A=F=>{const{name:q,value:Y}=F.target;R($=>({...$,[q]:Y}))},E=async()=>{try{await Se.post("/budgets",B),_("Line item added successfully","success"),x(!1),R({uid:"",vendor_id:""}),fetchBudgets()}catch(F){console.error("Error adding line item:",F),_("Error adding line item","error")}},_=(F,q)=>{T({open:!0,message:F,severity:q})},G=async F=>{try{if(F==="xlsx"){const q=await Se.get("/budgets/export?template=upload",{responseType:"blob"}),Y=window.URL.createObjectURL(new Blob([q])),$=document.createElement("a");$.href=Y,$.setAttribute("download","budget_export.xlsx"),document.body.appendChild($),$.click(),$.remove()}else{const q=t.map(fe=>({FY:fe.fiscal_year_name||"FY25",UID:fe.uid,Vendor:fe.vendor_name,"Service Description":fe.service_description,Contract:fe.contract_id,"Start Date":ri(fe.service_start_date),"End Date":ri(fe.service_end_date),"Budget Head":fe.budget_head_name,Tower:fe.tower_name,Budget:fe.fy25_budget})),Y=un.json_to_sheet(q),$=un.sheet_to_csv(Y),Q=new Blob([$],{type:"text/csv;charset=utf-8;"}),oe=URL.createObjectURL(Q),ae=document.createElement("a");ae.setAttribute("href",oe),ae.setAttribute("download","budget_export_page.csv"),ae.style.visibility="hidden",document.body.appendChild(ae),ae.click(),document.body.removeChild(ae),_("Exported current page to CSV","success")}}catch(q){console.error("Export error:",q),_("Error exporting data","error")}},k=h.useCallback(F=>{V(F),localStorage.setItem("budgetListColumnVisibility",JSON.stringify(F))},[]),K=async(F,q)=>{try{const Y={...F};return await Se.put(`/budgets/line-items/${F.id}`,Y),_("Row updated successfully","success"),F}catch(Y){return console.error("Update error:",Y),_("Error updating row: "+(Y.message||"Unknown error"),"error"),q}},L=F=>{_("Error processing row update","error"),console.error("Process row update error:",F)},S=h.useMemo(()=>{const F=new Set;return t.forEach(q=>{q.customFields&&Object.keys(q.customFields).forEach(Y=>F.add(Y))}),Array.from(F).map(q=>({field:`custom_${q}`,headerName:q,width:150,editable:!0,valueGetter:(Y,$)=>$.customFields?.[q]}))},[t]),z=h.useMemo(()=>[{field:"fiscal_year_name",headerName:"FY",width:90,valueGetter:(F,q)=>q?.fiscal_year_name||"FY25"},{field:"uid",headerName:"UID",width:150,editable:!0},{field:"parent_uid",headerName:"Parent UID",width:150,editable:!0},{field:"vendor_name",headerName:"Vendor",width:180},{field:"service_description",headerName:"Service Description",width:250,editable:!0},{field:"contract_id",headerName:"Contract",width:120,editable:!0},{field:"service_start_date",headerName:"Service Start Date",width:130,valueFormatter:F=>ri(F),type:"date",valueGetter:F=>F?new Date(F):null,editable:!0},{field:"service_end_date",headerName:"Service End Date",width:130,valueFormatter:F=>ri(F),type:"date",valueGetter:F=>F?new Date(F):null,editable:!0},{field:"renewal_date",headerName:"Renewal Date",width:130,valueFormatter:F=>ri(F),type:"date",valueGetter:F=>F?new Date(F):null,editable:!0},{field:"budget_head_name",headerName:"Budget Head",width:150},{field:"tower_name",headerName:"Tower",width:120},{field:"po_entity_name",headerName:"PO Entity",width:120},{field:"allocation_type",headerName:"Allocation Type",width:150,editable:!0},{field:"allocation_basis_name",headerName:"Allocation Basis",width:150},{field:"initiative_type",headerName:"Initiative Type",width:150,editable:!0},{field:"service_type_name",headerName:"Service Type",width:150},{field:"priority",headerName:"Priority",width:120,editable:!0},{field:"cost_optimization_lever",headerName:"Cost Opt. Lever",width:180,editable:!0},...S,{field:"fy25_budget",headerName:"FY25 Budget",width:140,type:"number",valueFormatter:F=>F==null?"-":fh(F)},{field:"total_actual",headerName:"Actual",width:140,type:"number",valueFormatter:F=>F==null?"-":fh(F)},{field:"variance",headerName:"Variance",width:140,type:"number",valueGetter:(F,q)=>{const Y=q?.fy25_budget||0,$=q?.total_actual||0;return Y-$},valueFormatter:F=>F==null?"-":fh(F),cellClassName:F=>F.value<0?"variance-negative":"variance-positive"},{field:"remarks",headerName:"Remarks",width:200,editable:!0}],[S]);return g&&t.length===0?r.jsx(se,{sx:{display:"flex",justifyContent:"center",alignItems:"center",height:"80vh"},children:r.jsx(_n,{})}):r.jsxs(se,{sx:Bn,children:[r.jsxs(se,{sx:Al,children:[r.jsx(pe,{sx:zl,children:"Budget"}),r.jsxs(se,{sx:{display:"flex",gap:1},children:[r.jsx(xe,{variant:"outlined",color:"success",startIcon:r.jsx(xr,{}),onClick:()=>M(!0),children:"Export"}),r.jsx(xe,{variant:"outlined",startIcon:r.jsx(zC,{}),onClick:()=>C(!0),children:"Upload Budget"}),r.jsx(xe,{variant:"contained",startIcon:r.jsx(Qn,{}),onClick:()=>x(!0),children:"Add Line Item"})]})]}),r.jsx(tt,{elevation:0,sx:{width:"100%",height:600,border:"1px solid #d0d7de",borderRadius:"6px"},children:r.jsx(Jn,{rows:t,columns:z,getRowId:F=>F.id||F.tempId||Math.random(),columnVisibilityModel:W,onColumnVisibilityModelChange:k,processRowUpdate:K,onProcessRowUpdateError:L,rowCount:s,loading:g,pageSizeOptions:[25,50,100],paginationModel:c,paginationMode:"server",onPaginationModelChange:d,checkboxSelection:!0,disableRowSelectionOnClick:!0,density:"compact",slots:{toolbar:Zn},sx:{fontSize:"9px","& .MuiDataGrid-columnHeaders":{backgroundColor:"#f6f8fa",color:"#24292f",fontWeight:"bold",fontSize:"9px"},"& .MuiDataGrid-cell":{borderRight:"1px solid #e0e0e0",fontSize:"9px"},"& .MuiDataGrid-row:hover":{backgroundColor:"#f5f5f5"},"& .variance-positive":{color:"#2e7d32",fontWeight:"bold"},"& .variance-negative":{color:"#d32f2f",fontWeight:"bold"}}})}),r.jsxs(Tn,{open:m,onClose:()=>x(!1),maxWidth:"md",fullWidth:!0,children:[r.jsx(In,{children:"Add New Line Item"}),r.jsx(Fn,{dividers:!0,children:r.jsxs(dt,{container:!0,spacing:2,children:[r.jsx(dt,{item:!0,xs:12,sm:4,children:r.jsx(Ne,{fullWidth:!0,size:"small",label:"UID",name:"uid",value:B.uid,onChange:A,required:!0})}),r.jsx(dt,{item:!0,xs:12,sm:8,children:r.jsx(Ne,{fullWidth:!0,size:"small",label:"Service Description",name:"service_description",value:B.service_description,onChange:A})}),r.jsx(dt,{item:!0,xs:12,sm:4,children:r.jsx(Ne,{fullWidth:!0,size:"small",select:!0,label:"Vendor",name:"vendor_id",value:B.vendor_id,onChange:A,children:D.vendors.map(F=>r.jsx(Re,{value:F.id,children:F.name},F.id))})}),r.jsx(dt,{item:!0,xs:12,sm:4,children:r.jsx(Ne,{fullWidth:!0,size:"small",select:!0,label:"Tower",name:"tower_id",value:B.tower_id,onChange:A,children:D.towers.map(F=>r.jsx(Re,{value:F.id,children:F.name},F.id))})}),r.jsx(dt,{item:!0,xs:12,sm:4,children:r.jsx(Ne,{fullWidth:!0,size:"small",select:!0,label:"Budget Head",name:"budget_head_id",value:B.budget_head_id,onChange:A,children:D.budgetHeads.map(F=>r.jsx(Re,{value:F.id,children:F.name},F.id))})}),r.jsx(dt,{item:!0,xs:12,sm:6,children:r.jsx(Ne,{fullWidth:!0,size:"small",select:!0,label:"PO Entity",name:"po_entity_id",value:B.po_entity_id,onChange:A,children:D.poEntities.map(F=>r.jsx(Re,{value:F.id,children:F.name},F.id))})}),r.jsx(dt,{item:!0,xs:12,sm:6,children:r.jsx(Ne,{fullWidth:!0,size:"small",select:!0,label:"Service Type",name:"service_type_id",value:B.service_type_id,onChange:A,children:D.serviceTypes.map(F=>r.jsx(Re,{value:F.id,children:F.name},F.id))})})]})}),r.jsxs(An,{children:[r.jsx(xe,{onClick:()=>x(!1),children:"Cancel"}),r.jsx(xe,{onClick:E,variant:"contained",children:"Add"})]})]}),r.jsx(nz,{open:b,onClose:()=>C(!1),onSuccess:()=>{fetchBudgets(),_("Budget imported successfully","success")}}),r.jsx(Zr,{open:v,onClose:()=>M(!1),onExport:G}),r.jsx(Mi,{open:j.open,autoHideDuration:6e3,onClose:()=>T(F=>({...F,open:!1})),children:r.jsx(cn,{severity:j.severity,children:j.message})})]})},ai=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],oz=({lineItems:t,onUpdate:l})=>{const[s,i]=h.useState(null),[c,d]=h.useState({}),[g,p]=h.useState(!1),m=I=>{i(I.id);const O={};ai.forEach(D=>{const P=I.months?.find(B=>B.month===D);O[D]=P?parseFloat(P.amount):0}),d({...I,monthData:O})},x=()=>{i(null),d({})},b=(I,O)=>{const D=parseFloat(O)||0;d(P=>({...P,monthData:{...P.monthData,[I]:D}}))},C=I=>Object.values(I).reduce((O,D)=>O+(parseFloat(D)||0),0),v=async()=>{p(!0);try{const I=localStorage.getItem("token");await Wr.put(`/api/line-items/${s}/months`,{monthlyData:c.monthData},{headers:{Authorization:`Bearer ${I}`}}),l(),i(null),d({})}catch(I){console.error("Error saving:",I),alert("Error saving changes")}finally{p(!1)}},M=I=>{const O={};ai.forEach(P=>{const B=I.months?.find(R=>R.month===P);O[P]=B?parseFloat(B.amount):0});const D=[I.uid,I.description,...ai.map(P=>O[P]),C(O)].join("	");navigator.clipboard.writeText(D)},j=(I,O)=>{if(s===I.id)return c.monthData?.[O]||0;const D=I.months?.find(P=>P.month===O);return D?parseFloat(D.amount):0},T=I=>s===I.id?C(c.monthData||{}):parseFloat(I.totalBudget)||0;return r.jsx(Rn,{component:tt,sx:{maxHeight:600,overflow:"auto"},children:r.jsxs(Nn,{stickyHeader:!0,size:"small",children:[r.jsx(Gn,{children:r.jsxs(it,{children:[r.jsx(ue,{sx:{fontWeight:600,backgroundColor:"primary.main",color:"white",position:"sticky",left:0,zIndex:3},children:"Actions"}),r.jsx(ue,{sx:{fontWeight:600,backgroundColor:"primary.main",color:"white",position:"sticky",left:80,zIndex:3,minWidth:150},children:"UID"}),r.jsx(ue,{sx:{fontWeight:600,backgroundColor:"primary.main",color:"white",position:"sticky",left:230,zIndex:3,minWidth:200},children:"Description"}),r.jsx(ue,{sx:{fontWeight:600,backgroundColor:"primary.main",color:"white",minWidth:120},children:"Tower"}),r.jsx(ue,{sx:{fontWeight:600,backgroundColor:"primary.main",color:"white",minWidth:120},children:"Budget Head"}),ai.map(I=>r.jsx(ue,{sx:{fontWeight:600,backgroundColor:"primary.main",color:"white",minWidth:100,textAlign:"right"},children:I},I)),r.jsx(ue,{sx:{fontWeight:600,backgroundColor:"success.main",color:"white",minWidth:120,textAlign:"right"},children:"Total"})]})}),r.jsx(Ln,{children:t.map(I=>{const O=s===I.id,D=T(I);return r.jsxs(it,{sx:{backgroundColor:O?"action.selected":"inherit","&:hover":{backgroundColor:"action.hover"}},children:[r.jsx(ue,{sx:{position:"sticky",left:0,backgroundColor:"inherit",zIndex:2},children:O?r.jsxs(se,{sx:{display:"flex",gap:.5},children:[r.jsx(fr,{title:"Save",children:r.jsx(ql,{size:"small",color:"success",onClick:v,disabled:g,children:g?r.jsx(_n,{size:20}):r.jsx(Su,{fontSize:"small"})})}),r.jsx(fr,{title:"Cancel",children:r.jsx(ql,{size:"small",color:"error",onClick:x,children:r.jsx(Gh,{fontSize:"small"})})})]}):r.jsxs(se,{sx:{display:"flex",gap:.5},children:[r.jsx(fr,{title:"Edit",children:r.jsx(ql,{size:"small",onClick:()=>m(I),children:r.jsx(el,{fontSize:"small"})})}),r.jsx(fr,{title:"Copy Row",children:r.jsx(ql,{size:"small",onClick:()=>M(I),children:r.jsx(lS,{fontSize:"small"})})})]})}),r.jsx(ue,{sx:{position:"sticky",left:80,backgroundColor:"inherit",zIndex:2,fontWeight:500},children:I.uid}),r.jsx(ue,{sx:{position:"sticky",left:230,backgroundColor:"inherit",zIndex:2},children:I.description}),r.jsx(ue,{children:I.tower?.name||"-"}),r.jsx(ue,{children:I.budgetHead?.name||"-"}),ai.map(P=>{const B=j(I,P);return r.jsx(ue,{sx:{textAlign:"right"},children:O?r.jsx(Ne,{type:"number",value:B,onChange:R=>b(P,R.target.value),size:"small",sx:{width:90,"& input":{textAlign:"right"}},inputProps:{step:.01}}):r.jsx(pe,{variant:"body2",children:B>0?B.toLocaleString("en-IN",{minimumFractionDigits:2}):"-"})},P)}),r.jsx(ue,{sx:{textAlign:"right",fontWeight:600,backgroundColor:"success.50"},children:r.jsx(Gt,{label:D.toLocaleString("en-IN",{minimumFractionDigits:2}),color:"success",size:"small",variant:O?"filled":"outlined"})})]},I.id)})})]})})},rz=()=>{const[t,l]=h.useState([]),[s,i]=h.useState(!0),[c,d]=h.useState(null),[g,p]=h.useState({tower:"",budgetHead:"",fiscalYear:""}),[m,x]=h.useState([]),[b,C]=h.useState([]);h.useEffect(()=>{v(),M()},[]);const v=async()=>{try{const[T,I]=await Promise.all([Se.get("/master/towers"),Se.get("/master/budget-heads")]);x(T),C(I)}catch(T){console.error("Error fetching master data:",T)}},M=async()=>{i(!0),d(null);try{const T=await Se.get("/line-items",{params:{include_months:!0,...g}});l(T)}catch(T){console.error("Error fetching line items:",T),d("Failed to load budget data")}finally{i(!1)}},j=async()=>{try{const T=await Se.get("/budgets/export?template=upload",{responseType:"blob"}),I=window.URL.createObjectURL(new Blob([T])),O=document.createElement("a");O.href=I,O.setAttribute("download",`budget_monthly_${new Date().toISOString().split("T")[0]}.xlsx`),document.body.appendChild(O),O.click(),O.remove()}catch(T){console.error("Error exporting:",T),alert("Failed to export data")}};return s?r.jsx(se,{sx:{...Bn,display:"flex",justifyContent:"center",alignItems:"center"},children:r.jsx(_n,{})}):r.jsxs(se,{sx:{...Bn,...uo},children:[r.jsxs(se,{sx:Al,children:[r.jsxs(se,{children:[r.jsx(pe,{sx:zl,children:"Monthly Budget Editor"}),r.jsx(pe,{variant:"body2",color:"text.secondary",children:"Edit monthly budget allocations with Excel-like interface"})]}),r.jsxs(se,{sx:{display:"flex",gap:1},children:[r.jsx(xe,{variant:"outlined",startIcon:r.jsx(SC,{}),onClick:M,children:"Refresh"}),r.jsx(xe,{variant:"outlined",startIcon:r.jsx(AC,{}),onClick:j,color:"success",children:"Export"})]})]}),r.jsxs(se,{sx:{mb:3,display:"flex",gap:2,flexWrap:"wrap"},children:[r.jsxs(Wa,{size:"small",sx:{minWidth:200},children:[r.jsx(xi,{children:"Tower"}),r.jsxs($a,{value:g.tower,onChange:T=>p({...g,tower:T.target.value}),label:"Tower",children:[r.jsx(Re,{value:"",children:"All"}),m.map(T=>r.jsx(Re,{value:T.id,children:T.name},T.id))]})]}),r.jsxs(Wa,{size:"small",sx:{minWidth:200},children:[r.jsx(xi,{children:"Budget Head"}),r.jsxs($a,{value:g.budgetHead,onChange:T=>p({...g,budgetHead:T.target.value}),label:"Budget Head",children:[r.jsx(Re,{value:"",children:"All"}),b.map(T=>r.jsx(Re,{value:T.id,children:T.name},T.id))]})]}),r.jsx(xe,{variant:"contained",onClick:M,size:"small",children:"Apply Filters"})]}),c&&r.jsx(cn,{severity:"error",sx:{mb:2},children:c}),r.jsxs(se,{sx:{mb:2,display:"flex",gap:2},children:[r.jsx(Gt,{label:`Total Line Items: ${t.length}`,color:"primary",variant:"outlined"}),r.jsx(Gt,{label:`Total Budget: ${t.reduce((T,I)=>T+parseFloat(I.totalBudget||0),0).toLocaleString("en-IN")}`,color:"success",variant:"outlined"})]}),t.length>0?r.jsx(oz,{lineItems:t,onUpdate:M}):r.jsx(cn,{severity:"info",children:"No line items found. Try adjusting your filters or import budget data."})]})},az=()=>r.jsxs(se,{sx:Bn,children:[r.jsx(se,{sx:Al,children:r.jsx(pe,{sx:zl,children:"Net Budget"})}),r.jsx(tt,{elevation:0,sx:{p:3,border:"1px solid #d0d7de",borderRadius:"6px"},children:r.jsx(pe,{variant:"body1",color:"textSecondary",children:"Net Budget view coming soon."})})]}),sz=({value:t,data:l,onRefresh:s})=>{const{lineItem:i,monthlyActuals:c,variance:d,auditHistory:g}=l,{token:p}=fl(),[m,x]=h.useState(!1),[b,C]=h.useState(""),[v,M]=h.useState(null),j=async()=>{try{await Wr.post(`/api/api/budget-detail/${i.uid}/notes`,{note:b,actualId:v},{headers:{Authorization:`Bearer ${p}`}}),x(!1),C(""),M(null),s()}catch(I){console.error("Error adding note:",I),alert("Failed to add note")}},T=(I=null)=>{M(I),x(!0)};if(t===0){const I=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];return r.jsx(Rn,{children:r.jsxs(Nn,{size:"small",children:[r.jsx(Gn,{children:r.jsxs(it,{sx:{bgcolor:"#f5f5f5"},children:[r.jsx(ue,{children:"Month"}),r.jsx(ue,{align:"right",children:"Budget"}),r.jsx(ue,{align:"right",children:"Actuals"}),r.jsx(ue,{align:"right",children:"Variance"}),r.jsx(ue,{align:"center",children:"%"}),r.jsx(ue,{align:"center",children:"Status"})]})}),r.jsxs(Ln,{children:[I.map(O=>{const D=d.monthly[O]||{budget:0,actual:0,variance:0,variancePercentage:0};return r.jsxs(it,{hover:!0,children:[r.jsx(ue,{component:"th",scope:"row",sx:{fontWeight:500},children:O}),r.jsx(ue,{align:"right",children:new Intl.NumberFormat("en-IN").format(D.budget)}),r.jsx(ue,{align:"right",children:new Intl.NumberFormat("en-IN").format(D.actual)}),r.jsx(ue,{align:"right",sx:{color:D.variance<0?"error.main":"success.main",fontWeight:500},children:new Intl.NumberFormat("en-IN").format(D.variance)}),r.jsx(ue,{align:"center",children:D.budget>0?`${D.variancePercentage.toFixed(1)}%`:"-"}),r.jsx(ue,{align:"center",children:D.actual>D.budget&&D.budget>0?r.jsx(Gt,{label:"Over Budget",color:"error",size:"small",variant:"outlined"}):D.actual>0?r.jsx(Gt,{label:"On Track",color:"success",size:"small",variant:"outlined"}):r.jsx(Gt,{label:"Pending",size:"small",variant:"outlined"})})]},O)}),r.jsxs(it,{sx:{bgcolor:"#e3f2fd"},children:[r.jsx(ue,{sx:{fontWeight:700},children:"Total"}),r.jsx(ue,{align:"right",sx:{fontWeight:700},children:new Intl.NumberFormat("en-IN").format(d.cumulative.budget)}),r.jsx(ue,{align:"right",sx:{fontWeight:700},children:new Intl.NumberFormat("en-IN").format(d.cumulative.actual)}),r.jsx(ue,{align:"right",sx:{fontWeight:700,color:d.cumulative.variance<0?"error.main":"success.main"},children:new Intl.NumberFormat("en-IN").format(d.cumulative.variance)}),r.jsxs(ue,{align:"center",sx:{fontWeight:700},children:[d.cumulative.variancePercentage.toFixed(1),"%"]}),r.jsx(ue,{})]})]})]})})}return t===1?r.jsx(se,{children:i.pos&&i.pos.length>0?r.jsx(Rn,{children:r.jsxs(Nn,{children:[r.jsx(Gn,{children:r.jsxs(it,{sx:{bgcolor:"#f5f5f5"},children:[r.jsx(ue,{children:"PO Number"}),r.jsx(ue,{children:"Date"}),r.jsx(ue,{children:"Vendor"}),r.jsx(ue,{align:"right",children:"Value"}),r.jsx(ue,{children:"Status"})]})}),r.jsx(Ln,{children:i.pos.map(I=>r.jsxs(it,{hover:!0,children:[r.jsx(ue,{sx:{fontWeight:500},children:I.poNumber}),r.jsx(ue,{children:new Date(I.poDate).toLocaleDateString()}),r.jsx(ue,{children:I.vendor?.name||"N/A"}),r.jsx(ue,{align:"right",children:new Intl.NumberFormat("en-IN",{style:"currency",currency:I.currency}).format(I.poValue)}),r.jsx(ue,{children:r.jsx(Gt,{label:I.status||"Draft",color:I.status==="Approved"?"success":"default",size:"small"})})]},I.id))})]})}):r.jsxs(se,{sx:{textAlign:"center",py:4},children:[r.jsx(pe,{color:"text.secondary",children:"No Purchase Orders linked to this line item."}),r.jsx(xe,{variant:"outlined",startIcon:r.jsx(Qn,{}),sx:{mt:2},children:"Create PO"})]})}):t===2?r.jsxs(se,{children:[r.jsx(se,{sx:{display:"flex",justifyContent:"flex-end",mb:2},children:r.jsx(xe,{startIcon:r.jsx(Qn,{}),variant:"contained",size:"small",children:"Add Actual"})}),i.actuals&&i.actuals.length>0?r.jsx(Rn,{children:r.jsxs(Nn,{children:[r.jsx(Gn,{children:r.jsxs(it,{sx:{bgcolor:"#f5f5f5"},children:[r.jsx(ue,{children:"Invoice Date"}),r.jsx(ue,{children:"Invoice No"}),r.jsx(ue,{children:"Vendor"}),r.jsx(ue,{children:"Month"}),r.jsx(ue,{align:"right",children:"Amount"}),r.jsx(ue,{align:"center",children:"Actions"})]})}),r.jsx(Ln,{children:i.actuals.map(I=>r.jsxs(it,{hover:!0,children:[r.jsx(ue,{children:new Date(I.invoiceDate).toLocaleDateString()}),r.jsx(ue,{children:I.invoiceNo||"-"}),r.jsx(ue,{children:I.vendor?.name||"-"}),r.jsx(ue,{children:I.month||"-"}),r.jsx(ue,{align:"right",children:new Intl.NumberFormat("en-IN",{style:"currency",currency:I.currency}).format(I.amount)}),r.jsx(ue,{align:"center",children:r.jsx(ql,{size:"small",onClick:()=>T(I.id),title:"Add Reconciliation Note",children:r.jsx(oS,{fontSize:"small"})})})]},I.id))})]})}):r.jsx(se,{sx:{textAlign:"center",py:4},children:r.jsx(pe,{color:"text.secondary",children:"No actuals recorded for this line item."})}),i.reconciliationNotes&&i.reconciliationNotes.length>0&&r.jsxs(se,{sx:{mt:4},children:[r.jsx(pe,{variant:"h6",sx:{mb:2},children:"Reconciliation Notes"}),i.reconciliationNotes.map(I=>r.jsxs(tt,{sx:{p:2,mb:2,bgcolor:"#fffde7"},children:[r.jsx(pe,{variant:"body2",children:I.note}),r.jsxs(se,{sx:{display:"flex",justifyContent:"space-between",mt:1},children:[r.jsxs(pe,{variant:"caption",color:"text.secondary",children:["By: ",I.user?.name||"Unknown"]}),r.jsx(pe,{variant:"caption",color:"text.secondary",children:new Date(I.createdAt).toLocaleString()})]})]},I.id))]}),r.jsxs(Tn,{open:m,onClose:()=>x(!1),children:[r.jsx(In,{children:"Add Reconciliation Note"}),r.jsx(Fn,{children:r.jsx(Ne,{autoFocus:!0,margin:"dense",label:"Note",fullWidth:!0,multiline:!0,rows:4,value:b,onChange:I=>C(I.target.value)})}),r.jsxs(An,{children:[r.jsx(xe,{onClick:()=>x(!1),children:"Cancel"}),r.jsx(xe,{onClick:j,variant:"contained",children:"Save"})]})]})]}):t===3?r.jsx(Rn,{children:r.jsxs(Nn,{children:[r.jsx(Gn,{children:r.jsxs(it,{sx:{bgcolor:"#f5f5f5"},children:[r.jsx(ue,{children:"Date"}),r.jsx(ue,{children:"User"}),r.jsx(ue,{children:"Action"}),r.jsx(ue,{children:"Details"})]})}),r.jsx(Ln,{children:g&&g.length>0?g.map(I=>r.jsxs(it,{hover:!0,children:[r.jsx(ue,{children:new Date(I.createdAt).toLocaleString()}),r.jsx(ue,{children:I.user?.name||"System"}),r.jsx(ue,{children:r.jsx(Gt,{label:I.action,size:"small"})}),r.jsx(ue,{sx:{maxWidth:300,overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},children:I.diff?JSON.stringify(I.diff):"-"})]},I.id)):r.jsx(it,{children:r.jsx(ue,{colSpan:4,align:"center",children:"No audit history found"})})})]})}):null},iz=({data:t})=>{const l=Object.keys(t).map(i=>({month:i,Budget:t[i].budget,Actual:t[i].actual,Variance:t[i].variance})),s=({active:i,payload:c,label:d})=>i&&c&&c.length?r.jsxs("div",{style:{backgroundColor:"#fff",padding:"10px",border:"1px solid #ccc",borderRadius:"4px"},children:[r.jsx("p",{style:{fontWeight:"bold",margin:"0 0 5px 0"},children:d}),c.map((g,p)=>r.jsxs("p",{style:{color:g.color,margin:"3px 0"},children:[g.name,": ",new Intl.NumberFormat("en-IN").format(g.value)]},p))]}):null;return r.jsx(ii,{width:"100%",height:"100%",children:r.jsxs(yh,{data:l,margin:{top:20,right:30,left:20,bottom:5},children:[r.jsx(tu,{strokeDasharray:"3 3",vertical:!1}),r.jsx(nu,{dataKey:"month"}),r.jsx(lu,{}),r.jsx(ci,{content:r.jsx(s,{})}),r.jsx(ou,{}),r.jsx(jS,{y:0,stroke:"#000"}),r.jsx(mi,{dataKey:"Budget",fill:"#1976d2",name:"Budget"}),r.jsx(mi,{dataKey:"Actual",fill:"#ed6c02",name:"Actuals"})]})})},cz=()=>{const{uid:t}=NC(),l=Ei(),{token:s}=fl(),[i,c]=h.useState(!0),[d,g]=h.useState(null),[p,m]=h.useState(null),[x,b]=h.useState(0),C=async()=>{try{c(!0);const T=await Se.get(`/budget-detail/${t}`);m(T),g(null)}catch(T){console.error("Error fetching budget detail:",T),g(T.message||"Failed to fetch budget detail")}finally{c(!1)}};h.useEffect(()=>{t&&s&&C()},[t,s]);const v=(T,I)=>{b(I)};if(i)return r.jsx(se,{sx:{display:"flex",justifyContent:"center",alignItems:"center",height:"100vh"},children:r.jsx(_n,{})});if(d)return r.jsxs(se,{sx:Bn,children:[r.jsx(cn,{severity:"error",sx:{mb:2},children:d}),r.jsx(xe,{startIcon:r.jsx(xh,{}),onClick:()=>l("/budgets"),children:"Back to Budgets"})]});if(!p)return null;const{lineItem:M,variance:j}=p;return r.jsxs(se,{sx:{...Bn,...uo},children:[r.jsxs(se,{sx:{mb:3},children:[r.jsx(xe,{startIcon:r.jsx(xh,{}),onClick:()=>l("/budgets"),sx:{mb:2},children:"Back to Budgets"}),r.jsxs(se,{sx:{display:"flex",justifyContent:"space-between",alignItems:"flex-start"},children:[r.jsxs(se,{children:[r.jsx(pe,{variant:"h4",sx:{fontWeight:700,color:"#1a237e",mb:1},children:M.uid}),r.jsx(pe,{variant:"h6",color:"text.secondary",sx:{mb:1},children:M.description}),r.jsxs(se,{sx:{display:"flex",gap:1,flexWrap:"wrap"},children:[r.jsx(Gt,{label:M.tower?.name||"No Tower",color:"primary",variant:"outlined",size:"small"}),r.jsx(Gt,{label:M.budgetHead?.name||"No Budget Head",color:"secondary",variant:"outlined",size:"small"}),r.jsx(Gt,{label:M.fiscalYear?.name||"FY25",color:"default",variant:"outlined",size:"small"})]})]}),r.jsxs(se,{sx:{textAlign:"right"},children:[r.jsx(pe,{variant:"subtitle2",color:"text.secondary",children:"Total Budget"}),r.jsx(pe,{variant:"h5",sx:{fontWeight:600,color:"#2e7d32"},children:new Intl.NumberFormat("en-IN",{style:"currency",currency:M.currency}).format(M.totalBudget)}),r.jsx(se,{sx:{mt:1},children:r.jsx(Gt,{label:`${j.cumulative.variancePercentage.toFixed(1)}% Variance`,color:j.cumulative.variance>=0?"success":"error",size:"small"})})]})]})]}),r.jsxs(dt,{container:!0,spacing:3,sx:{mb:4},children:[r.jsx(dt,{item:!0,xs:12,md:4,children:r.jsxs(tt,{sx:{p:2,height:"100%",borderLeft:"4px solid #1976d2"},children:[r.jsxs(se,{sx:{display:"flex",alignItems:"center",mb:1},children:[r.jsx(rS,{color:"primary",sx:{mr:1}}),r.jsx(pe,{variant:"subtitle1",color:"text.secondary",children:"YTD Budget"})]}),r.jsx(pe,{variant:"h4",children:new Intl.NumberFormat("en-IN",{style:"currency",currency:M.currency,maximumFractionDigits:0}).format(j.cumulative.budget)})]})}),r.jsx(dt,{item:!0,xs:12,md:4,children:r.jsxs(tt,{sx:{p:2,height:"100%",borderLeft:"4px solid #ed6c02"},children:[r.jsxs(se,{sx:{display:"flex",alignItems:"center",mb:1},children:[r.jsx(ph,{color:"warning",sx:{mr:1}}),r.jsx(pe,{variant:"subtitle1",color:"text.secondary",children:"YTD Actuals"})]}),r.jsx(pe,{variant:"h4",children:new Intl.NumberFormat("en-IN",{style:"currency",currency:M.currency,maximumFractionDigits:0}).format(j.cumulative.actual)})]})}),r.jsx(dt,{item:!0,xs:12,md:4,children:r.jsxs(tt,{sx:{p:2,height:"100%",borderLeft:`4px solid ${j.cumulative.variance>=0?"#2e7d32":"#d32f2f"}`},children:[r.jsxs(se,{sx:{display:"flex",alignItems:"center",mb:1},children:[r.jsx(aS,{color:j.cumulative.variance>=0?"success":"error",sx:{mr:1}}),r.jsx(pe,{variant:"subtitle1",color:"text.secondary",children:"Remaining"})]}),r.jsx(pe,{variant:"h4",color:j.cumulative.variance>=0?"success.main":"error.main",children:new Intl.NumberFormat("en-IN",{style:"currency",currency:M.currency,maximumFractionDigits:0}).format(j.cumulative.variance)})]})})]}),r.jsxs(tt,{sx:{p:3,mb:4},children:[r.jsx(pe,{variant:"h6",sx:{mb:2},children:"Monthly Variance Analysis"}),r.jsx(se,{sx:{height:300},children:r.jsx(iz,{data:j.monthly})})]}),r.jsxs(tt,{sx:{width:"100%",mb:2},children:[r.jsxs(ji,{value:x,onChange:v,indicatorColor:"primary",textColor:"primary",variant:"fullWidth",children:[r.jsx(Cn,{label:"Monthly Breakdown"}),r.jsx(Cn,{label:"Linked POs"}),r.jsx(Cn,{label:"Actuals History"}),r.jsx(Cn,{label:"Audit Log"})]}),r.jsx(se,{sx:{p:3},children:r.jsx(sz,{value:x,data:p,onRefresh:C})})]})]})},uz=()=>{const{user:t}=fl();return!t||!t.roles?!1:t.roles.some(l=>l==="Admin"||l.name==="Admin")},dz=()=>{const[t,l]=h.useState([]),[s,i]=h.useState(!0),[c,d]=h.useState({open:!1,message:"",severity:"success"}),g=Ei(),p=uz(),[m,x]=h.useState(["FY25","FY26"]),[b,C]=h.useState(["FY25","FY26"]),[v,M]=h.useState(!1);h.useEffect(()=>{j(),T()},[]);const j=async()=>{try{const E=await Se.get("/pos?limit=1000"),_=E.data||E;l(_)}catch(E){console.error("Error fetching POs:",E),I("Error fetching purchase orders","error")}finally{i(!1)}},T=async()=>{try{const E=await Se.get("/fiscal-years");if(E&&E.length>0){const _=E.filter(G=>G.is_active).map(G=>G.label);_.length>0&&C(_)}}catch(E){console.error("Error fetching fiscal years:",E)}},I=h.useCallback((E,_="success")=>{d({open:!0,message:E,severity:_})},[]),O=h.useCallback(()=>{d(E=>({...E,open:!1}))},[]),D=h.useCallback((E,_="INR")=>E==null||isNaN(E)?"-":new Intl.NumberFormat("en-IN",{style:"currency",currency:_,maximumFractionDigits:0}).format(E),[]),P=h.useCallback(E=>E?new Date(E).toLocaleDateString("en-GB",{day:"2-digit",month:"short",year:"numeric"}).replace(/ /g,"-"):"-",[]),B=h.useCallback(E=>{const{target:{value:_}}=E,G=typeof _=="string"?_.split(","):_;G.length>0&&x(G)},[]),R=h.useCallback(E=>{try{const _=t.map(z=>({FY:`FY${new Date(z.poDate).getFullYear()%100}`,UID:z.lineItems&&z.lineItems.length>0?z.lineItems[0].uid:"-","Service Description":z.lineItems&&z.lineItems.length>0?z.lineItems[0].description:"-","Budget Head":z.budgetHead?.name||"-",Entity:z.poEntity?.name||"-","PR Number":z.prNumber||"-","PR Date":P(z.prDate),"PR Amount":z.prAmount||0,Currency:z.currency,"PO Number":z.poNumber,"PO Date":P(z.poDate),Vendor:z.vendor?.name||"-","PO Value":z.poValue,"Common Currency Value (INR)":z.commonCurrencyValue||z.poValue,Status:z.status})),G=un.json_to_sheet(_),k=un.book_new();un.book_append_sheet(k,G,"PO Tracker");const S=`PO_Tracker_${new Date().toISOString().split("T")[0]}.${E==="csv"?"csv":"xlsx"}`;Za(k,S,{bookType:E==="csv"?"csv":"xlsx"}),I(`PO data exported as ${E.toUpperCase()} successfully!`,"success")}catch(_){console.error("Error exporting data:",_),d({open:!0,message:"Error exporting data",severity:"error"})}},[t,P,I]),W=async(E,_)=>{try{const G={...E};return G.poDate&&(G.poDate=new Date(G.poDate).toISOString()),G.prDate&&(G.prDate=new Date(G.prDate).toISOString()),await Se.put(`/pos/${E.id}`,G),d({open:!0,message:"PO updated successfully",severity:"success"}),E}catch(G){return console.error("Update error:",G),d({open:!0,message:"Error updating PO: "+(G.message||"Unknown error"),severity:"error"}),_}},V=E=>{d({open:!0,message:"Error processing update",severity:"error"}),console.error("Process row update error:",E)},U=E=>({Draft:"default",Submitted:"info",Approved:"success",Rejected:"error",Closed:"secondary"})[E]||"default",A=h.useMemo(()=>[{field:"actions",type:"actions",headerName:"Actions",width:100,getActions:E=>[r.jsx(Qt,{icon:r.jsx(Ch,{}),label:"View",onClick:()=>g(`/pos/${E.id}`)}),...p?[r.jsx(Qt,{icon:r.jsx(el,{}),label:"Edit",onClick:()=>g(`/pos/${E.id}/edit`),showInMenu:!1})]:[]]},{field:"fy",headerName:"FY",width:70,valueGetter:(E,_)=>_?.poDate?`FY${new Date(_.poDate).getFullYear()%100}`:"-"},{field:"uid",headerName:"UID",width:150,valueGetter:(E,_)=>_?.lineItems?.[0]?.uid||"-"},{field:"service_description",headerName:"Service",width:200,valueGetter:(E,_)=>_?.lineItems?.[0]?.description||"-"},{field:"budgetHeadName",headerName:"Budget Head",width:150,valueGetter:(E,_)=>_?.budgetHead?.name||"-"},{field:"poEntityName",headerName:"PO Entity",width:120,valueGetter:(E,_)=>_?.poEntity?.name||"-"},{field:"prNumber",headerName:"PR Number",width:130,editable:!0},{field:"prDate",headerName:"PR Date",width:110,valueFormatter:E=>P(E),type:"date",valueGetter:E=>E?new Date(E):null,editable:!0},{field:"prAmount",headerName:"PR Amount",width:120,type:"number",valueFormatter:E=>D(E),editable:!0},{field:"currency",headerName:"Currency",width:80,editable:!0},{field:"poNumber",headerName:"PO Number",width:130,editable:!0},{field:"poDate",headerName:"PO Date",width:110,valueFormatter:E=>P(E),type:"date",valueGetter:E=>E?new Date(E):null,editable:!0},{field:"vendorName",headerName:"Vendor",width:150,valueGetter:(E,_)=>_?.vendor?.name||"-"},{field:"poValue",headerName:"PO Value",width:120,type:"number",valueFormatter:(E,_)=>D(E,_?.currency),editable:!0},{field:"commonCurrencyValue",headerName:"Common Currency Value (INR)",width:180,type:"number",valueGetter:(E,_)=>_?.commonCurrencyValue||_?.poValue,valueFormatter:E=>D(E)},{field:"valueInLac",headerName:"Value in Lac",width:120,valueFormatter:E=>E?`${E.toFixed(2)}L`:"-"},{field:"status",headerName:"Status",width:120,renderCell:E=>r.jsx(Gt,{label:E.value,color:U(E.value),size:"small",sx:{borderRadius:"4px"}})},{field:"actions",type:"actions",headerName:"Actions",width:100,getActions:E=>[r.jsx(Qt,{icon:r.jsx(Ch,{}),label:"View",onClick:()=>g(`/pos/${E.id}`)}),...p?[r.jsx(Qt,{icon:r.jsx(el,{}),label:"Edit",onClick:()=>g(`/pos/${E.id}/edit`),showInMenu:!1})]:[]]}],[p,g,P,D]);return s?r.jsx(se,{sx:{display:"flex",justifyContent:"center",alignItems:"center",height:"80vh"},children:r.jsx(_n,{})}):r.jsxs(se,{sx:{...Bn,...uo},children:[r.jsxs(se,{sx:Al,children:[r.jsx(pe,{sx:zl,children:"PO"}),r.jsxs(se,{sx:{display:"flex",gap:1},children:[r.jsx(xe,{size:"small",variant:"outlined",startIcon:r.jsx(xr,{}),onClick:()=>M(!0),color:"success",children:"Export"}),r.jsx(xe,{size:"small",variant:"contained",startIcon:r.jsx(Qn,{}),onClick:()=>g("/pos/new"),children:"Create PO"})]})]}),r.jsxs(se,{sx:{mb:3,display:"flex",alignItems:"center",gap:2},children:[r.jsxs(Wa,{sx:{m:1,width:300},size:"small",children:[r.jsx(xi,{id:"fiscal-year-select-label",children:"View Fiscal Years"}),r.jsx($a,{labelId:"fiscal-year-select-label",id:"fiscal-year-select",multiple:!0,value:m,onChange:B,input:r.jsx(OC,{label:"View Fiscal Years"}),renderValue:E=>E.join(", "),children:b.map(E=>r.jsxs(Re,{value:E,children:[r.jsx(Rh,{checked:m.indexOf(E)>-1}),r.jsx(gr,{primary:E})]},E))})]}),r.jsx(pe,{variant:"caption",sx:{color:"text.secondary",fontStyle:"italic"},children:"Select one or more fiscal years to display"})]}),r.jsx(tt,{elevation:0,sx:{width:"100%",height:600,border:"1px solid #d0d7de",borderRadius:"6px"},children:r.jsx(Jn,{rows:t,columns:A,getRowId:E=>E.id,processRowUpdate:W,onProcessRowUpdateError:V,initialState:{pagination:{paginationModel:{pageSize:25}}},pageSizeOptions:[25,50,100],checkboxSelection:!0,disableRowSelectionOnClick:!0,density:"compact",slots:{toolbar:Zn},sx:{fontSize:"9px","& .MuiDataGrid-columnHeaders":{backgroundColor:"#f6f8fa",color:"#24292f",fontWeight:"bold",fontSize:"9px"},"& .MuiDataGrid-cell":{borderRight:"1px solid #e0e0e0",fontSize:"9px"},"& .MuiDataGrid-row:hover":{backgroundColor:"#f5f5f5"}}})}),r.jsx(Zr,{open:v,onClose:()=>M(!1),onExport:R}),r.jsx(Mi,{open:c.open,autoHideDuration:6e3,onClose:O,anchorOrigin:{vertical:"bottom",horizontal:"right"},children:r.jsx(cn,{onClose:O,severity:c.severity,sx:{width:"100%"},children:c.message})})]})},fz=({selectedItems:t,onChange:l})=>{const{token:s}=fl(),[i,c]=h.useState([]),[d,g]=h.useState(!1),[p,m]=h.useState("");h.useEffect(()=>{const M=setTimeout(async()=>{if(!(p.length<2)){g(!0);try{const j=await Wr.get(`/api/api/line-items?uid=${p}&limit=20`,{headers:{Authorization:`Bearer ${s}`}});c(j.data.data)}catch(j){console.error("Error searching line items:",j)}finally{g(!1)}}},500);return()=>clearTimeout(M)},[p,s]);const x=(v,M)=>{M&&!t.find(j=>j.id===M.id)&&l([...t,{...M,allocatedAmount:0}]),m("")},b=v=>{l(t.filter(M=>M.id!==v))},C=(v,M)=>{l(t.map(j=>j.id===v?{...j,allocatedAmount:M}:j))};return r.jsxs(se,{children:[r.jsx(pe,{variant:"subtitle1",sx:{mb:1},children:"Link Line Items"}),r.jsx(kh,{options:i,getOptionLabel:v=>`${v.uid} - ${v.service_description}`,loading:d,onInputChange:(v,M)=>m(M),onChange:x,renderInput:v=>r.jsx(Ne,{...v,label:"Search by UID",variant:"outlined",size:"small",fullWidth:!0,InputProps:{...v.InputProps,endAdornment:r.jsxs(r.Fragment,{children:[d?r.jsx(pe,{variant:"caption",children:"Loading..."}):null,v.InputProps.endAdornment]})}}),sx:{mb:2}}),t.length>0&&r.jsx(Rn,{component:tt,variant:"outlined",children:r.jsxs(Nn,{size:"small",children:[r.jsx(Gn,{children:r.jsxs(it,{sx:{bgcolor:"#f5f5f5"},children:[r.jsx(ue,{children:"UID"}),r.jsx(ue,{children:"Description"}),r.jsx(ue,{align:"right",children:"Allocated Amount"}),r.jsx(ue,{align:"center",children:"Action"})]})}),r.jsx(Ln,{children:t.map(v=>r.jsxs(it,{children:[r.jsx(ue,{children:v.uid}),r.jsx(ue,{children:v.service_description}),r.jsx(ue,{align:"right",sx:{width:200},children:r.jsx(Ne,{type:"number",size:"small",value:v.allocatedAmount,onChange:M=>C(v.id,M.target.value),InputProps:{startAdornment:r.jsx(FC,{position:"start",children:""})}})}),r.jsx(ue,{align:"center",children:r.jsx(ql,{size:"small",color:"error",onClick:()=>b(v.id),children:r.jsx(oo,{fontSize:"small"})})})]},v.id))})]})})]})},yC=()=>{const{id:t}=NC(),l=Ei(),{token:s}=fl(),i=!!t,[c,d]=h.useState({poNumber:"",poDate:new Date().toISOString().split("T")[0],vendorId:"",currency:"INR",poValue:"",exchangeRate:"1.0",prNumber:"",prDate:"",towerId:"",budgetHeadId:"",status:"Draft"}),[g,p]=h.useState([]),[m,x]=h.useState(!1),[b,C]=h.useState(i),[v,M]=h.useState(null),[j,T]=h.useState({vendors:[],towers:[],budgetHeads:[],currencyRates:[]}),I=h.useMemo(()=>{const B=parseFloat(c.poValue)||0,R=parseFloat(c.exchangeRate)||1,W=B*R,V=g.reduce((A,E)=>A+(parseFloat(E.allocatedAmount)||0),0),U=W-V;return{poValue:B,exchangeRate:R,commonCurrencyValue:W,totalAllocated:V,unallocated:U,allocationPercentage:W>0?V/W*100:0,lineItemCount:g.length}},[c,g]);h.useEffect(()=>{s&&(async()=>{try{const[R,W,V,U]=await Promise.all([Se.get("/master/vendors"),Se.get("/master/towers"),Se.get("/master/budget-heads"),Se.get("/currency-rates")]);if(T({vendors:R,towers:W,budgetHeads:V,currencyRates:U}),i){const A=await Se.get(`/pos/${t}`);d({poNumber:A.poNumber,poDate:A.poDate.split("T")[0],vendorId:A.vendorId||"",currency:A.currency,poValue:A.poValue,exchangeRate:A.exchangeRate||"1.0",prNumber:A.prNumber||"",prDate:A.prDate?A.prDate.split("T")[0]:"",towerId:A.towerId||"",budgetHeadId:A.budgetHeadId||"",status:A.status}),A.poLineItems&&p(A.poLineItems.map(E=>({...E.lineItem,allocatedAmount:E.allocated_amount})))}}catch(R){console.error("Error fetching data:",R),M("Failed to load data")}finally{C(!1)}})()},[s,t,i]),h.useEffect(()=>{if(c.currency==="INR")d(B=>({...B,exchangeRate:"1.0"}));else{const B=j.currencyRates.find(R=>R.from_currency===c.currency&&R.to_currency==="INR");if(B)d(R=>({...R,exchangeRate:B.rate.toString()}));else{const R=j.currencyRates.find(W=>W.from_currency==="INR"&&W.to_currency===c.currency);R&&R.rate>0&&d(W=>({...W,exchangeRate:(1/R.rate).toFixed(4)}))}}},[c.currency,j.currencyRates]);const O=B=>{const{name:R,value:W}=B.target;d(V=>({...V,[R]:W}))},D=async B=>{B.preventDefault(),x(!0),M(null);try{const R={...c,linkedLineItems:g.map(W=>({id:W.id,allocatedAmount:W.allocatedAmount}))};i?await Se.put(`/pos/${t}`,R):await Se.post("/pos",R),l("/pos")}catch(R){console.error("Error saving PO:",R),M(R.response?.data?.message||"Failed to save PO")}finally{x(!1)}},P=B=>({Draft:"default","Pending Approval":"info",Approved:"success",Rejected:"error",Closed:"warning"})[B]||"default";return b?r.jsx(se,{sx:{display:"flex",justifyContent:"center",alignItems:"center",height:"100vh"},children:r.jsx(_n,{})}):r.jsxs(se,{sx:{...Bn,...uo,p:2,minHeight:"auto"},children:[r.jsxs(se,{sx:{...Al,mb:2},children:[r.jsx(pe,{sx:{...zl,fontSize:{xs:"1.5rem",sm:"1.75rem"}},children:i?"Edit Purchase Order":"Create Purchase Order"}),r.jsxs(se,{sx:{display:"flex",gap:1},children:[r.jsx(xe,{startIcon:r.jsx(xh,{}),onClick:()=>l("/pos"),size:"small",sx:{px:2},children:"Back"}),r.jsx(xe,{variant:"contained",type:"submit",form:"po-form",disabled:m,startIcon:m?r.jsx(_n,{size:18,sx:{color:"#FFFFFF"}}):r.jsx(Su,{}),size:"medium",sx:{px:4,py:1,fontWeight:700,fontSize:"0.95rem",background:"#78BE20",color:"#FFFFFF",boxShadow:"0 4px 12px rgba(120, 190, 32, 0.4)","&:hover":{background:"#A3E635",boxShadow:"0 6px 16px rgba(120, 190, 32, 0.6)",transform:"translateY(-2px)"},"&:disabled":{background:"rgba(120, 190, 32, 0.3)",color:"rgba(255, 255, 255, 0.5)"},transition:"all 0.3s ease"},children:i?" UPDATE PO":" CREATE PO"})]})]}),v&&r.jsx(cn,{severity:"error",sx:{mb:2},children:v}),r.jsx("form",{id:"po-form",onSubmit:D,children:r.jsxs(dt,{container:!0,spacing:2,children:[r.jsx(dt,{item:!0,xs:12,lg:3.5,children:r.jsxs(tt,{sx:{p:2,height:"100%"},children:[r.jsx(pe,{variant:"subtitle2",sx:{fontWeight:700,color:"#003399",mb:1.5,fontSize:"0.75rem"},children:"SUMMARY"}),r.jsxs(Zc,{spacing:1.5,sx:{fontSize:"0.7rem"},children:[r.jsxs(se,{children:[r.jsx(pe,{variant:"caption",sx:{color:"#B8C5D0",fontSize:"0.7rem"},children:"PO Number"}),r.jsx(pe,{variant:"body2",sx:{fontWeight:600,fontSize:"0.75rem"},children:c.poNumber||""})]}),r.jsxs(se,{children:[r.jsx(pe,{variant:"caption",sx:{color:"#B8C5D0",fontSize:"0.7rem"},children:"Status"}),r.jsx(se,{children:r.jsx(Gt,{label:c.status,color:P(c.status),size:"small",sx:{height:20,fontSize:"0.7rem",fontWeight:600}})})]}),r.jsxs(se,{sx:{borderTop:"1px solid rgba(0, 51, 153, 0.2)",pt:1.5},children:[r.jsx(pe,{variant:"caption",sx:{color:"#B8C5D0",fontSize:"0.7rem",mb:.5,display:"block"},children:"Financial"}),r.jsxs(Zc,{spacing:.5,children:[r.jsxs(se,{sx:{display:"flex",justifyContent:"space-between"},children:[r.jsxs(pe,{variant:"caption",sx:{fontSize:"0.7rem"},children:["Value (",c.currency,")"]}),r.jsx(pe,{variant:"caption",sx:{fontWeight:600,fontSize:"0.7rem"},children:new Intl.NumberFormat("en-IN").format(I.poValue)})]}),r.jsxs(se,{sx:{display:"flex",justifyContent:"space-between"},children:[r.jsx(pe,{variant:"caption",sx:{fontSize:"0.7rem",color:"#78BE20"},children:"INR Value"}),r.jsxs(pe,{variant:"caption",sx:{fontWeight:700,fontSize:"0.7rem",color:"#78BE20"},children:["",new Intl.NumberFormat("en-IN").format(I.commonCurrencyValue.toFixed(0))]})]})]})]}),r.jsxs(se,{sx:{borderTop:"1px solid rgba(0, 51, 153, 0.2)",pt:1.5},children:[r.jsx(pe,{variant:"caption",sx:{color:"#B8C5D0",fontSize:"0.7rem",mb:.5,display:"block"},children:"Allocation"}),r.jsxs(Zc,{spacing:.5,children:[r.jsxs(se,{sx:{display:"flex",justifyContent:"space-between"},children:[r.jsx(pe,{variant:"caption",sx:{fontSize:"0.7rem"},children:"Items"}),r.jsx(pe,{variant:"caption",sx:{fontWeight:600,fontSize:"0.7rem"},children:I.lineItemCount})]}),r.jsxs(se,{sx:{display:"flex",justifyContent:"space-between"},children:[r.jsx(pe,{variant:"caption",sx:{fontSize:"0.7rem"},children:"Allocated"}),r.jsxs(pe,{variant:"caption",sx:{fontWeight:600,fontSize:"0.7rem",color:"#00FF88"},children:["",new Intl.NumberFormat("en-IN").format(I.totalAllocated.toFixed(0))]})]}),r.jsxs(se,{sx:{display:"flex",justifyContent:"space-between"},children:[r.jsx(pe,{variant:"caption",sx:{fontSize:"0.7rem"},children:"Remaining"}),r.jsxs(pe,{variant:"caption",sx:{fontWeight:600,fontSize:"0.7rem",color:I.unallocated>0?"#FFA726":"#00FF88"},children:["",new Intl.NumberFormat("en-IN").format(I.unallocated.toFixed(0))]})]}),r.jsxs(se,{sx:{mt:.5},children:[r.jsxs(se,{sx:{display:"flex",justifyContent:"space-between",mb:.3},children:[r.jsx(pe,{variant:"caption",sx:{fontSize:"0.65rem",color:"#B8C5D0"},children:"Progress"}),r.jsxs(pe,{variant:"caption",sx:{fontSize:"0.65rem",color:"#003399",fontWeight:600},children:[I.allocationPercentage.toFixed(0),"%"]})]}),r.jsx(se,{sx:{height:6,borderRadius:1,background:"rgba(0, 51, 153, 0.1)",overflow:"hidden"},children:r.jsx(se,{sx:{height:"100%",width:`${Math.min(I.allocationPercentage,100)}%`,background:"linear-gradient(90deg, #003399 0%, #78BE20 100%)",transition:"width 0.3s ease"}})})]})]})]})]})]})}),r.jsx(dt,{item:!0,xs:12,lg:8.5,children:r.jsxs(Zc,{spacing:2,children:[r.jsx(tt,{sx:{p:2},children:r.jsx(fz,{selectedItems:g,onChange:p})}),r.jsx(Rn,{component:tt,children:r.jsxs(Nn,{size:"small",children:[r.jsx(Gn,{children:r.jsx(it,{children:r.jsx(ue,{colSpan:4,sx:{background:"#003399",color:"#FFFFFF",fontWeight:700,fontSize:"0.75rem",textTransform:"uppercase",letterSpacing:"0.5px",borderBottom:"2px solid #78BE20",py:1},children:"Classification & PR Details"})})}),r.jsxs(Ln,{children:[r.jsxs(it,{children:[r.jsx(ue,{sx:{fontWeight:600,width:"15%",bgcolor:"rgba(0, 51, 153, 0.05)",fontSize:"0.7rem"},children:"Tower"}),r.jsx(ue,{sx:{width:"35%"},children:r.jsxs(Ne,{select:!0,name:"towerId",value:c.towerId,onChange:O,fullWidth:!0,size:"small",variant:"standard",sx:{"& .MuiInputBase-input":{fontSize:"0.75rem"}},children:[r.jsx(Re,{value:"",children:"Select Tower"}),j.towers.map(B=>r.jsx(Re,{value:B.id,children:B.name},B.id))]})}),r.jsx(ue,{sx:{fontWeight:600,width:"15%",bgcolor:"rgba(0, 51, 153, 0.05)",fontSize:"0.7rem"},children:"Budget Head"}),r.jsx(ue,{sx:{width:"35%"},children:r.jsxs(Ne,{select:!0,name:"budgetHeadId",value:c.budgetHeadId,onChange:O,fullWidth:!0,size:"small",variant:"standard",sx:{"& .MuiInputBase-input":{fontSize:"0.75rem"}},children:[r.jsx(Re,{value:"",children:"Select Budget Head"}),j.budgetHeads.map(B=>r.jsx(Re,{value:B.id,children:B.name},B.id))]})})]}),r.jsxs(it,{children:[r.jsx(ue,{sx:{fontWeight:600,bgcolor:"rgba(0, 51, 153, 0.05)",fontSize:"0.7rem"},children:"PR Number"}),r.jsx(ue,{children:r.jsx(Ne,{name:"prNumber",value:c.prNumber,onChange:O,fullWidth:!0,size:"small",variant:"standard",placeholder:"Optional",sx:{"& .MuiInputBase-input":{fontSize:"0.75rem"}}})}),r.jsx(ue,{sx:{fontWeight:600,bgcolor:"rgba(0, 51, 153, 0.05)",fontSize:"0.7rem"},children:"PR Date"}),r.jsx(ue,{children:r.jsx(Ne,{name:"prDate",type:"date",value:c.prDate,onChange:O,fullWidth:!0,size:"small",variant:"standard",sx:{"& .MuiInputBase-input":{fontSize:"0.75rem"}}})})]})]})]})}),r.jsx(Rn,{component:tt,children:r.jsxs(Nn,{size:"small",children:[r.jsx(Gn,{children:r.jsx(it,{children:r.jsx(ue,{colSpan:4,sx:{background:"#003399",color:"#FFFFFF",fontWeight:700,fontSize:"0.75rem",textTransform:"uppercase",letterSpacing:"0.5px",borderBottom:"2px solid #78BE20",py:1},children:"Financial Details"})})}),r.jsxs(Ln,{children:[r.jsxs(it,{children:[r.jsx(ue,{sx:{fontWeight:600,width:"15%",bgcolor:"rgba(0, 51, 153, 0.05)",fontSize:"0.7rem"},children:"Currency"}),r.jsx(ue,{sx:{width:"35%"},children:r.jsxs(Ne,{select:!0,name:"currency",value:c.currency,onChange:O,fullWidth:!0,size:"small",variant:"standard",sx:{"& .MuiInputBase-input":{fontSize:"0.75rem"}},children:[r.jsx(Re,{value:"INR",children:"INR"}),r.jsx(Re,{value:"USD",children:"USD"}),r.jsx(Re,{value:"EUR",children:"EUR"}),r.jsx(Re,{value:"GBP",children:"GBP"}),r.jsx(Re,{value:"CAD",children:"CAD"})]})}),r.jsx(ue,{sx:{fontWeight:600,width:"15%",bgcolor:"rgba(0, 51, 153, 0.05)",fontSize:"0.7rem"},children:"PO Value *"}),r.jsx(ue,{sx:{width:"35%"},children:r.jsx(Ne,{name:"poValue",type:"number",value:c.poValue,onChange:O,fullWidth:!0,required:!0,size:"small",variant:"standard",inputProps:{step:"0.01",min:"0"},sx:{"& .MuiInputBase-input":{fontSize:"0.75rem"}}})})]}),r.jsxs(it,{children:[r.jsx(ue,{sx:{fontWeight:600,bgcolor:"rgba(0, 51, 153, 0.05)",fontSize:"0.7rem"},children:"Exchange Rate (Auto)"}),r.jsx(ue,{colSpan:3,children:r.jsx(Ne,{name:"exchangeRate",type:"number",value:c.exchangeRate,onChange:O,fullWidth:!0,size:"small",variant:"standard",disabled:!0,inputProps:{step:"0.0001",min:"0"},sx:{"& .MuiInputBase-input":{fontSize:"0.75rem"},"& .Mui-disabled":{WebkitTextFillColor:"#78BE20 !important",fontWeight:600}},helperText:c.currency!=="INR"?"Auto-fetched from master data":""})})]})]})]})}),r.jsx(Rn,{component:tt,children:r.jsxs(Nn,{size:"small",children:[r.jsx(Gn,{children:r.jsx(it,{children:r.jsx(ue,{colSpan:4,sx:{background:"#003399",color:"#FFFFFF",fontWeight:700,fontSize:"0.75rem",textTransform:"uppercase",letterSpacing:"0.5px",borderBottom:"2px solid #78BE20",py:1},children:"PO Details"})})}),r.jsxs(Ln,{children:[r.jsxs(it,{children:[r.jsx(ue,{sx:{fontWeight:600,width:"15%",bgcolor:"rgba(0, 51, 153, 0.05)",fontSize:"0.7rem"},children:"PO Number *"}),r.jsx(ue,{sx:{width:"35%"},children:r.jsx(Ne,{name:"poNumber",value:c.poNumber,onChange:O,fullWidth:!0,required:!0,disabled:i,size:"small",variant:"standard",sx:{"& .MuiInputBase-input":{fontSize:"0.75rem"}}})}),r.jsx(ue,{sx:{fontWeight:600,width:"15%",bgcolor:"rgba(0, 51, 153, 0.05)",fontSize:"0.7rem"},children:"PO Date *"}),r.jsx(ue,{sx:{width:"35%"},children:r.jsx(Ne,{name:"poDate",type:"date",value:c.poDate,onChange:O,fullWidth:!0,required:!0,size:"small",variant:"standard",sx:{"& .MuiInputBase-input":{fontSize:"0.75rem"}}})})]}),r.jsxs(it,{children:[r.jsx(ue,{sx:{fontWeight:600,bgcolor:"rgba(0, 51, 153, 0.05)",fontSize:"0.7rem"},children:"Vendor *"}),r.jsx(ue,{children:r.jsxs(Ne,{select:!0,name:"vendorId",value:c.vendorId,onChange:O,fullWidth:!0,required:!0,size:"small",variant:"standard",sx:{"& .MuiInputBase-input":{fontSize:"0.75rem"}},children:[r.jsx(Re,{value:"",children:"Select Vendor"}),j.vendors.map(B=>r.jsx(Re,{value:B.id,children:B.name},B.id))]})}),r.jsx(ue,{sx:{fontWeight:600,bgcolor:"rgba(0, 51, 153, 0.05)",fontSize:"0.7rem"},children:"Status"}),r.jsx(ue,{children:r.jsxs(Ne,{select:!0,name:"status",value:c.status,onChange:O,fullWidth:!0,size:"small",variant:"standard",sx:{"& .MuiInputBase-input":{fontSize:"0.75rem"}},children:[r.jsx(Re,{value:"Draft",children:"Draft"}),r.jsx(Re,{value:"Pending Approval",children:"Pending Approval"}),r.jsx(Re,{value:"Approved",children:"Approved"}),r.jsx(Re,{value:"Rejected",children:"Rejected"}),r.jsx(Re,{value:"Closed",children:"Closed"})]})})]})]})]})})]})})]})})]})},hz=({open:t,onClose:l,onSuccess:s})=>{const{token:i}=fl(),[c,d]=h.useState(null),[g,p]=h.useState(!1),[m,x]=h.useState(null),[b,C]=h.useState(null),v=T=>{const I=T.target.files[0];I&&(d(I),C(null),x(null))},M=async(T=!0)=>{if(!c)return;const I=new FormData;I.append("file",c),p(!0),x(null);try{const O=await Wr.post(`/api/api/actuals/import?dryRun=${T}`,I,{headers:{Authorization:`Bearer ${i}`,"Content-Type":"multipart/form-data"}});T?C(O.data):(s(O.data),j())}catch(O){console.error("Import error:",O),x(O.response?.data?.message||"Import failed")}finally{p(!1)}},j=()=>{d(null),C(null),x(null),l()};return r.jsxs(Tn,{open:t,onClose:j,maxWidth:"md",fullWidth:!0,children:[r.jsx(In,{children:"Import Actuals"}),r.jsxs(Fn,{children:[r.jsxs(se,{sx:{mb:3,mt:1},children:[r.jsx("input",{accept:".xlsx, .xls",style:{display:"none"},id:"actuals-file-upload",type:"file",onChange:v}),r.jsx("label",{htmlFor:"actuals-file-upload",children:r.jsx(xe,{variant:"outlined",component:"span",startIcon:r.jsx(bh,{}),fullWidth:!0,sx:{height:100,borderStyle:"dashed"},children:c?c.name:"Click to upload Excel file"})})]}),g&&r.jsx(Ph,{sx:{mb:2}}),m&&r.jsx(cn,{severity:"error",sx:{mb:2},children:m}),b&&r.jsxs(se,{children:[r.jsxs(se,{sx:{display:"flex",gap:2,mb:2},children:[r.jsx(Gt,{icon:r.jsx(gi,{}),label:`${b.report.accepted.length} Accepted`,color:"success",variant:"outlined"}),r.jsx(Gt,{icon:r.jsx(Nh,{}),label:`${b.report.rejected.length} Rejected`,color:"error",variant:"outlined"})]}),b.report.rejected.length>0&&r.jsx(cn,{severity:"warning",sx:{mb:2},children:"Some rows have errors and will be skipped."}),r.jsx(Rn,{component:tt,sx:{maxHeight:300},children:r.jsxs(Nn,{size:"small",stickyHeader:!0,children:[r.jsx(Gn,{children:r.jsxs(it,{children:[r.jsx(ue,{children:"Row"}),r.jsx(ue,{children:"Invoice No"}),r.jsx(ue,{children:"Date"}),r.jsx(ue,{children:"Amount"}),r.jsx(ue,{children:"Status"})]})}),r.jsxs(Ln,{children:[b.report.rejected.map((T,I)=>r.jsxs(it,{children:[r.jsx(ue,{children:T.rowIndex}),r.jsx(ue,{children:T.invoiceNo}),r.jsx(ue,{children:T.invoiceDate}),r.jsx(ue,{children:T.amount}),r.jsx(ue,{children:r.jsx(pe,{variant:"caption",color:"error",children:T.errors.join(", ")})})]},`rej-${I}`)),b.report.accepted.slice(0,5).map((T,I)=>r.jsxs(it,{children:[r.jsx(ue,{children:T.rowIndex}),r.jsx(ue,{children:T.invoiceNo}),r.jsx(ue,{children:new Date(T.invoiceDate).toLocaleDateString()}),r.jsx(ue,{children:T.amount}),r.jsx(ue,{children:r.jsx(pe,{variant:"caption",color:"success",children:"OK"})})]},`acc-${I}`))]})]})})]})]}),r.jsxs(An,{children:[r.jsx(xe,{onClick:j,children:"Cancel"}),b?r.jsx(xe,{onClick:()=>M(!1),variant:"contained",color:"success",disabled:g||b.report.accepted.length===0,children:"Commit Import"}):r.jsx(xe,{onClick:()=>M(!0),variant:"contained",disabled:!c||g,children:"Preview"})]})]})},si=t=>t?new Date(t).toLocaleDateString("en-GB",{day:"2-digit",month:"short",year:"numeric"}).replace(/ /g,"-"):"-",vC=t=>t==null?"-":new Intl.NumberFormat("en-IN",{style:"currency",currency:"INR",maximumFractionDigits:0}).format(t),gz=()=>{const[t,l]=h.useState([]),[s,i]=h.useState(!0),[c,d]=h.useState({open:!1,message:"",severity:"success"}),[g,p]=h.useState(!1),[m,x]=h.useState(!1),[b,C]=h.useState(()=>{const P=localStorage.getItem("actualsListColumnVisibility");return P?JSON.parse(P):{}}),v=async()=>{try{const P=await Se.get("/budgets/tracker");l(P)}catch(P){console.error("Error fetching actuals:",P),d({open:!0,message:"Error fetching actuals data",severity:"error"})}finally{i(!1)}};h.useEffect(()=>{v()},[]);const M=async P=>{try{const B=t.map(E=>({FY:E.fiscal_year_name||"FY25",UID:E.uid,Vendor:E.vendor_name,Description:E.service_description,Contract:E.contract_id,"Start Date":si(E.service_start_date),"End Date":si(E.service_end_date),"Budget Head":E.budget_head_name,Tower:E.tower_name,Actuals:E.fy25_actuals})),R=un.json_to_sheet(B),W=un.book_new();un.book_append_sheet(W,R,"Actuals");const A=`Actuals_Report_${new Date().toISOString().split("T")[0]}.${P==="csv"?"csv":"xlsx"}`;Za(W,A,{bookType:P==="csv"?"csv":"xlsx"}),d({open:!0,message:`Data exported as ${P.toUpperCase()} successfully!`,severity:"success"})}catch(B){console.error("Export error:",B),d({open:!0,message:"Error exporting data",severity:"error"})}},j=h.useCallback(P=>{C(P),localStorage.setItem("actualsListColumnVisibility",JSON.stringify(P))},[]),T=async(P,B)=>{try{const R={...P};return await Se.put(`/budgets/line-items/${P.id}`,R),d({open:!0,message:"Row updated successfully",severity:"success"}),P}catch(R){return console.error("Update error:",R),d({open:!0,message:"Error updating row: "+(R.message||"Unknown error"),severity:"error"}),B}},I=P=>{d({open:!0,message:"Error processing row update",severity:"error"}),console.error("Process row update error:",P)},O=h.useMemo(()=>{const P=new Set;return t.forEach(B=>{B.customFields&&Object.keys(B.customFields).forEach(R=>P.add(R))}),Array.from(P).map(B=>({field:`custom_${B}`,headerName:B,width:150,editable:!0,valueGetter:(R,W)=>W.customFields?.[B]}))},[t]),D=h.useMemo(()=>[{field:"fiscal_year_name",headerName:"FY",width:90,valueGetter:(P,B)=>B?.fiscal_year_name||"FY25"},{field:"uid",headerName:"UID",width:150,editable:!0},{field:"parent_uid",headerName:"Parent UID",width:150,editable:!0},{field:"vendor_name",headerName:"Vendor",width:180},{field:"service_description",headerName:"Service Description",width:250,editable:!0},{field:"contract_id",headerName:"Contract",width:120,editable:!0},{field:"service_start_date",headerName:"Service Start Date",width:130,valueFormatter:P=>si(P),type:"date",valueGetter:P=>P?new Date(P):null,editable:!0},{field:"service_end_date",headerName:"Service End Date",width:130,valueFormatter:P=>si(P),type:"date",valueGetter:P=>P?new Date(P):null,editable:!0},{field:"renewal_date",headerName:"Renewal Date",width:130,valueFormatter:P=>si(P),type:"date",valueGetter:P=>P?new Date(P):null,editable:!0},{field:"budget_head_name",headerName:"Budget Head",width:150},{field:"tower_name",headerName:"Tower",width:120},{field:"po_entity_name",headerName:"PO Entity",width:120},{field:"allocation_type",headerName:"Allocation Type",width:150,editable:!0},{field:"allocation_basis_name",headerName:"Allocation Basis",width:150},{field:"initiative_type",headerName:"Initiative Type",width:150,editable:!0},{field:"service_type_name",headerName:"Service Type",width:150},{field:"priority",headerName:"Priority",width:120,editable:!0},{field:"cost_optimization_lever",headerName:"Cost Opt. Lever",width:180,editable:!0},...O,{field:"fy25_budget",headerName:"FY25 Budget",width:140,type:"number",valueFormatter:P=>P==null?"-":vC(P)},{field:"fy25_actuals",headerName:"FY 25 Actuals",width:140,type:"number",valueFormatter:P=>P==null?"-":new Intl.NumberFormat("en-IN",{style:"currency",currency:"INR",maximumFractionDigits:0}).format(P)},{field:"variance",headerName:"Variance",width:140,type:"number",valueGetter:(P,B)=>{const R=B?.fy25_budget||0,W=B?.fy25_actuals||0;return R-W},valueFormatter:P=>P==null?"-":vC(P),cellClassName:P=>P.value<0?"variance-negative":"variance-positive"},{field:"remarks",headerName:"Remarks",width:200,editable:!0}],[]);return s?r.jsx(se,{sx:{p:4},children:r.jsx(_n,{})}):r.jsxs(se,{sx:Bn,children:[r.jsxs(se,{sx:Al,children:[r.jsx(pe,{sx:zl,children:"Net Actual"}),r.jsxs(se,{sx:{display:"flex",gap:1},children:[r.jsx(xe,{variant:"outlined",color:"success",startIcon:r.jsx(xr,{}),onClick:()=>x(!0),children:"Export"}),r.jsx(xe,{variant:"outlined",startIcon:r.jsx(zC,{}),onClick:()=>p(!0),children:"Upload Actuals"})]})]}),r.jsx(tt,{elevation:0,sx:{width:"100%",height:600,border:"1px solid #d0d7de",borderRadius:"6px"},children:r.jsx(Jn,{rows:t,columns:D,getRowId:P=>P.id||Math.random(),columnVisibilityModel:b,onColumnVisibilityModelChange:j,processRowUpdate:T,onProcessRowUpdateError:I,initialState:{pagination:{paginationModel:{pageSize:25}}},pageSizeOptions:[25,50,100],checkboxSelection:!0,disableRowSelectionOnClick:!0,density:"compact",slots:{toolbar:Zn},sx:{fontSize:"9px","& .MuiDataGrid-columnHeaders":{backgroundColor:"#f6f8fa",color:"#24292f",fontWeight:"bold",fontSize:"9px"},"& .MuiDataGrid-cell":{fontSize:"9px"},"& .variance-positive":{color:"#2e7d32",fontWeight:"bold"},"& .variance-negative":{color:"#d32f2f",fontWeight:"bold"}}})}),r.jsx(hz,{open:g,onClose:()=>p(!1),onSuccess:()=>{v(),d({open:!0,message:"Actuals imported successfully",severity:"success"})}}),r.jsx(Zr,{open:m,onClose:()=>x(!1),onExport:M}),r.jsx(Mi,{open:c.open,autoHideDuration:6e3,onClose:()=>d(P=>({...P,open:!1})),children:r.jsx(cn,{severity:c.severity,children:c.message})})]})},mz=()=>{const{token:t}=fl(),[l,s]=h.useState([]),[i,c]=h.useState(!0),[d,g]=h.useState(null);h.useEffect(()=>{p()},[]);const p=async()=>{try{const x=await Se.get("/imports");s(x),c(!1)}catch(x){console.error("Error fetching import history:",x),g("Failed to load import history"),c(!1)}},m=h.useMemo(()=>[{field:"createdAt",headerName:"Date",width:180,valueFormatter:x=>new Date(x.value).toLocaleString()},{field:"importType",headerName:"Type",width:120,renderCell:x=>r.jsx(Gt,{label:x.value==="budgets"?"Budget":"Actuals",color:x.value==="budgets"?"primary":"secondary",size:"small",variant:"outlined"})},{field:"filename",headerName:"Filename",width:250},{field:"user",headerName:"User",width:150,valueGetter:x=>x.row.user?.name||"Unknown"},{field:"rowsTotal",headerName:"Rows",width:100,type:"number",align:"center",headerAlign:"center"},{field:"rowsAccepted",headerName:"Accepted",width:100,type:"number",align:"center",headerAlign:"center",cellClassName:"success-cell"},{field:"rowsRejected",headerName:"Rejected",width:100,type:"number",align:"center",headerAlign:"center",cellClassName:x=>x.value>0?"error-cell":""},{field:"status",headerName:"Status",width:140,align:"center",headerAlign:"center",renderCell:x=>x.value==="Completed"?r.jsx(Gt,{icon:r.jsx(gi,{}),label:"Completed",color:"success",size:"small"}):x.value==="Failed"?r.jsx(Gt,{icon:r.jsx(Nh,{}),label:"Failed",color:"error",size:"small"}):r.jsx(Gt,{icon:r.jsx(sS,{}),label:x.value,color:"default",size:"small"})}],[]);return i?r.jsx(se,{sx:{display:"flex",justifyContent:"center",alignItems:"center",height:"80vh"},children:r.jsx(_n,{})}):r.jsxs(se,{sx:{...Bn,...uo},children:[r.jsx(se,{sx:Al,children:r.jsx(pe,{sx:zl,children:"Import History"})}),d&&r.jsx(cn,{severity:"error",sx:{mb:2},children:d}),r.jsx(tt,{elevation:0,sx:{width:"100%",height:600,border:"1px solid #d0d7de",borderRadius:"6px"},children:r.jsx(Jn,{rows:l,columns:m,getRowId:x=>x.id,initialState:{pagination:{paginationModel:{pageSize:25}},sorting:{sortModel:[{field:"createdAt",sort:"desc"}]}},pageSizeOptions:[25,50,100],disableRowSelectionOnClick:!0,density:"compact",slots:{toolbar:Zn},sx:{"& .MuiDataGrid-columnHeaders":{backgroundColor:"#f6f8fa",color:"#24292f",fontWeight:"bold"},"& .success-cell":{color:"success.main",fontWeight:500},"& .error-cell":{color:"error.main",fontWeight:700}}})})]})},pz=()=>{const{user:t}=fl(),l=t?.roles?.includes("Admin"),[s,i]=h.useState(0),[c,d]=h.useState([]),[g,p]=h.useState([]),[m,x]=h.useState([]),[b,C]=h.useState([]),[v,M]=h.useState([]),[j,T]=h.useState([]),[I,O]=h.useState([]),[D,P]=h.useState([]),[B,R]=h.useState(!1),[W,V]=h.useState({open:!1,message:"",severity:"success"}),[U,A]=h.useState(!1),[E,_]=h.useState({id:null,name:""}),G=async()=>{try{const Z="/master/towers"+(E.id?`/${E.id}`:"");E.id?await Se.put(Z,E):await Se.post(Z,E),V({open:!0,message:"Tower saved",severity:"success"}),A(!1),Zt()}catch(Z){V({open:!0,message:Z.message||"Error saving tower",severity:"error"})}},k=async Z=>{if(window.confirm("Delete Tower?"))try{await Se.delete(`/master/towers/${Z}`),V({open:!0,message:"Deleted",severity:"success"}),Zt()}catch{V({open:!0,message:"Error deleting",severity:"error"})}},K=()=>{_({id:null,name:""}),A(!0)},L=Z=>{_(Z),A(!0)},[S,z]=h.useState(!1),[F,q]=h.useState({id:null,name:"",tower_id:""}),Y=async()=>{try{const Z="/master/budget-heads"+(F.id?`/${F.id}`:"");F.id?await Se.put(Z,F):await Se.post(Z,F),V({open:!0,message:"Budget Head saved",severity:"success"}),z(!1),Zt()}catch(Z){V({open:!0,message:Z.message||"Error saving budget head",severity:"error"})}},$=async Z=>{if(window.confirm("Delete Budget Head?"))try{await Se.delete(`/master/budget-heads/${Z}`),V({open:!0,message:"Deleted",severity:"success"}),Zt()}catch{V({open:!0,message:"Error deleting",severity:"error"})}},Q=()=>{q({id:null,name:"",tower_id:""}),z(!0)},oe=Z=>{q({id:Z.id,name:Z.name,tower_id:Z.tower_id}),z(!0)},[ae,fe]=h.useState(!1),[ce,ve]=h.useState({id:null,name:"",gst_number:"",contact_person:""}),Te=async()=>{try{const Z="/master/vendors"+(ce.id?`/${ce.id}`:"");ce.id?await Se.put(Z,ce):await Se.post(Z,ce),V({open:!0,message:"Vendor saved",severity:"success"}),fe(!1),Zt()}catch(Z){V({open:!0,message:Z.message||"Error saving vendor",severity:"error"})}},je=async Z=>{if(window.confirm("Delete Vendor?"))try{await Se.delete(`/master/vendors/${Z}`),V({open:!0,message:"Deleted",severity:"success"}),Zt()}catch{V({open:!0,message:"Error deleting",severity:"error"})}},Ae=()=>{ve({id:null,name:"",gst_number:"",contact_person:""}),fe(!0)},Le=Z=>{ve(Z),fe(!0)},[be,Me]=h.useState(!1),[ze,Ce]=h.useState({id:null,code:"",description:""}),$e=async()=>{try{const Z="/master/cost-centres"+(ze.id?`/${ze.id}`:"");ze.id?await Se.put(Z,ze):await Se.post(Z,ze),V({open:!0,message:"Cost Centre saved",severity:"success"}),Me(!1),Zt()}catch(Z){V({open:!0,message:Z.message||"Error saving cost centre",severity:"error"})}},Ve=async Z=>{if(window.confirm("Delete Cost Centre?"))try{await Se.delete(`/master/cost-centres/${Z}`),V({open:!0,message:"Deleted",severity:"success"}),Zt()}catch{V({open:!0,message:"Error deleting",severity:"error"})}},_e=()=>{Ce({id:null,code:"",description:""}),Me(!0)},It=Z=>{Ce(Z),Me(!0)},[St,jt]=h.useState(!1),[ut,Mt]=h.useState({id:null,name:""}),nt=async()=>{try{const Z="/master/po-entities"+(ut.id?`/${ut.id}`:"");ut.id?await Se.put(Z,ut):await Se.post(Z,ut),V({open:!0,message:"PO Entity saved",severity:"success"}),jt(!1),Zt()}catch(Z){V({open:!0,message:Z.message||"Error saving PO entity",severity:"error"})}},mt=async Z=>{if(window.confirm("Delete PO Entity?"))try{await Se.delete(`/master/po-entities/${Z}`),V({open:!0,message:"Deleted",severity:"success"}),Zt()}catch{V({open:!0,message:"Error deleting",severity:"error"})}},pt=()=>{Mt({id:null,name:""}),jt(!0)},Ht=Z=>{Mt(Z),jt(!0)},[Fe,Ze]=h.useState(!1),[Be,We]=h.useState({id:null,name:""}),bt=async()=>{try{const Z="/master/service-types"+(Be.id?`/${Be.id}`:"");Be.id?await Se.put(Z,Be):await Se.post(Z,Be),V({open:!0,message:"Service Type saved",severity:"success"}),Ze(!1),Zt()}catch(Z){V({open:!0,message:Z.message||"Error saving service type",severity:"error"})}},xt=async Z=>{if(window.confirm("Delete Service Type?"))try{await Se.delete(`/master/service-types/${Z}`),V({open:!0,message:"Deleted",severity:"success"}),Zt()}catch{V({open:!0,message:"Error deleting",severity:"error"})}},wt=()=>{We({id:null,name:""}),Ze(!0)},yn=Z=>{We(Z),Ze(!0)},[nn,Hl]=h.useState(!1),[Vn,ho]=h.useState({id:null,name:""}),Xl=async()=>{try{const Z="/master/allocation-bases"+(Vn.id?`/${Vn.id}`:"");Vn.id?await Se.put(Z,Vn):await Se.post(Z,Vn),V({open:!0,message:"Allocation Basis saved",severity:"success"}),Hl(!1),Zt()}catch(Z){V({open:!0,message:Z.message||"Error saving allocation basis",severity:"error"})}},Ql=async Z=>{if(window.confirm("Delete Allocation Basis?"))try{await Se.delete(`/master/allocation-bases/${Z}`),V({open:!0,message:"Deleted",severity:"success"}),Zt()}catch{V({open:!0,message:"Error deleting",severity:"error"})}},Pl=()=>{ho({id:null,name:""}),Hl(!0)},kn=Z=>{ho(Z),Hl(!0)},[go,Rl]=h.useState(!1),[mo,vr]=h.useState({id:null,from_currency:"USD",to_currency:"INR",rate:""}),is=async()=>{try{await Se.post("/currency-rates",mo),V({open:!0,message:"Currency Rate saved",severity:"success"}),Rl(!1),Zt()}catch(Z){V({open:!0,message:Z.message||"Error saving rate",severity:"error"})}},wr=async Z=>{if(window.confirm("Delete Rate?"))try{await Se.delete(`/currency-rates/${Z}`),V({open:!0,message:"Deleted",severity:"success"}),Zt()}catch{V({open:!0,message:"Error deleting",severity:"error"})}},Pu=()=>{vr({id:null,from_currency:"USD",to_currency:"INR",rate:""}),Rl(!0)},Pi=Z=>{vr(Z),Rl(!0)},[Ri,Sr]=h.useState(!1),[nl,Go]=h.useState({id:null,label:"",start_date:"",end_date:"",is_active:!0}),[cs,Ni]=h.useState([]),Zl=async()=>{try{nl.id?showSnackbar("Editing details not fully supported, primarily for Status Toggle","info"):(await Se.post("/fiscal-years",nl),V({open:!0,message:"Fiscal Year created",severity:"success"})),Sr(!1),Zt()}catch(Z){V({open:!0,message:Z.message||"Error saving FY",severity:"error"})}},dn=async(Z,Oe)=>{try{await Se.patch(`/fiscal-years/${Z}/status`,{is_active:!Oe}),Zt(),V({open:!0,message:"Status updated",severity:"success"})}catch{V({open:!0,message:"Error updating status",severity:"error"})}},En=()=>{Go({id:null,label:"",start_date:"",end_date:"",is_active:!0}),Sr(!0)},Un=async(Z,Oe,Lt,Wt)=>{try{return await Se.put(`${Lt}/${Z.id}`,Z),V({open:!0,message:`${Wt} updated successfully`,severity:"success"}),Z}catch(Nl){return console.error(`Error updating ${Wt}:`,Nl),V({open:!0,message:`Error updating ${Wt}`,severity:"error"}),Oe}},hl=Z=>{V({open:!0,message:"Error processing update",severity:"error"})},Ru=async(Z,Oe)=>{try{return await Se.post("/currency-rates",Z),V({open:!0,message:"Rate updated successfully",severity:"success"}),Z}catch(Lt){return console.error("Error updating rate:",Lt),V({open:!0,message:"Error updating rate",severity:"error"}),Oe}};h.useEffect(()=>{Zt()},[]);const Zt=async()=>{try{const[Z,Oe,Lt,Wt,Nl,Gl,Yt,us,Jr]=await Promise.all([Se.get("/master/towers"),Se.get("/master/budget-heads"),Se.get("/master/vendors"),Se.get("/master/cost-centres"),Se.get("/master/po-entities"),Se.get("/master/service-types"),Se.get("/master/allocation-bases"),Se.get("/currency-rates"),Se.get("/fiscal-years")]);d(Z),p(Oe),x(Lt),C(Wt),M(Nl),T(Gl),O(Yt),P(us),Ni(Jr)}catch(Z){console.error("Error fetching data:",Z)}},Gi=Z=>{try{let Oe=[],Lt="",Wt="";switch(s){case 0:Oe=cs.map(qe=>({Name:qe.label,"Start Date":qe.startDate,"End Date":qe.endDate,Status:qe.isActive?"Active":"Inactive"})),Lt="Fiscal_Years",Wt="FY";break;case 1:Oe=c.map(qe=>({ID:qe.id,Name:qe.name})),Lt="Towers",Wt="Towers";break;case 2:Oe=g.map(qe=>({ID:qe.id,Name:qe.name,Tower:qe.tower?.name})),Lt="Budget_Heads",Wt="BH";break;case 3:Oe=m.map(qe=>({ID:qe.id,Name:qe.name,"GST Number":qe.gst_number,"Contact Person":qe.contact_person})),Lt="Vendors",Wt="Vendors";break;case 4:Oe=b.map(qe=>({ID:qe.id,Code:qe.code,Description:qe.description})),Lt="Cost_Centres",Wt="CC";break;case 5:Oe=v.map(qe=>({ID:qe.id,Name:qe.name})),Lt="PO_Entities",Wt="Entities";break;case 6:Oe=j.map(qe=>({ID:qe.id,Name:qe.name})),Lt="Service_Types",Wt="Types";break;case 7:Oe=I.map(qe=>({ID:qe.id,Name:qe.name})),Lt="Allocation_Bases",Wt="Bases";break;case 8:Oe=D.map(qe=>({From:qe.from_currency,To:qe.to_currency,Rate:qe.rate,"Last Updated":qe.updated_at})),Lt="Currency_Rates",Wt="Rates";break;default:return}const Nl=un.json_to_sheet(Oe),Gl=un.book_new();un.book_append_sheet(Gl,Nl,Wt);const Yt=new Date().toISOString().split("T")[0],Jr=`${Lt}_${Yt}.${Z==="csv"?"csv":"xlsx"}`;Za(Gl,Jr,{bookType:Z==="csv"?"csv":"xlsx"}),V({open:!0,message:`${Lt} exported as ${Z.toUpperCase()} successfully!`,severity:"success"})}catch(Oe){console.error("Export error:",Oe),V({open:!0,message:"Error exporting data",severity:"error"})}};return r.jsxs(se,{sx:{...Bn,...uo},children:[r.jsxs(se,{sx:Al,children:[r.jsx(pe,{sx:zl,children:"Master Data Management"}),r.jsx(xe,{variant:"outlined",color:"success",startIcon:r.jsx(xr,{}),onClick:()=>R(!0),size:"small",children:"Export Current Tab"})]}),r.jsxs(tt,{elevation:2,children:[r.jsxs(ji,{value:s,onChange:(Z,Oe)=>i(Oe),sx:{borderBottom:1,borderColor:"divider"},variant:"scrollable",scrollButtons:"auto",children:[r.jsx(Cn,{label:"Fiscal Years"}),r.jsx(Cn,{label:"Towers"}),r.jsx(Cn,{label:"Budget Heads"}),r.jsx(Cn,{label:"Vendors"}),r.jsx(Cn,{label:"Cost Centres"}),r.jsx(Cn,{label:"PO Entities"}),r.jsx(Cn,{label:"Service Types"}),r.jsx(Cn,{label:"Allocation Bases"}),r.jsx(Cn,{label:"Currency Rates"})]}),s===0&&r.jsxs(se,{sx:{height:500,width:"100%",p:2},children:[l&&r.jsx(se,{sx:{mb:2,display:"flex",justifyContent:"flex-end"},children:r.jsx(xe,{variant:"contained",startIcon:r.jsx(Qn,{}),onClick:En,children:"Add Fiscal Year"})}),r.jsx(Jn,{rows:cs,columns:[{field:"label",headerName:"Name",flex:1,valueGetter:(Z,Oe)=>Oe?.label||Oe?.name},{field:"startDate",headerName:"Start Date",width:150,valueFormatter:(Z,Oe)=>new Date(Z||Oe?.start_date).toLocaleDateString()},{field:"endDate",headerName:"End Date",width:150,valueFormatter:(Z,Oe)=>new Date(Z||Oe?.end_date).toLocaleDateString()},{field:"is_active",headerName:"Status",width:120,renderCell:Z=>r.jsx(xe,{variant:Z.value||Z.row.isActive?"contained":"outlined",color:Z.value||Z.row.isActive?"success":"error",size:"small",onClick:()=>dn(Z.row.id,Z.value||Z.row.isActive),children:Z.value||Z.row.isActive?"Active":"Inactive"})}],getRowId:Z=>Z.id,slots:{toolbar:Zn},density:"compact",sx:{border:"none","& .MuiDataGrid-columnHeaders":{backgroundColor:"#f6f8fa",fontWeight:"bold"}}})]}),s===1&&r.jsxs(se,{sx:{height:500,width:"100%",p:2},children:[l&&r.jsx(se,{sx:{mb:2,display:"flex",justifyContent:"flex-end"},children:r.jsx(xe,{variant:"contained",startIcon:r.jsx(Qn,{}),onClick:K,children:"Add Tower"})}),r.jsx(Jn,{rows:c,columns:[{field:"id",headerName:"ID",width:90},{field:"name",headerName:"Name",flex:1,editable:!0},{field:"actions",type:"actions",headerName:"Actions",width:100,getActions:Z=>[r.jsx(Qt,{icon:r.jsx(el,{}),label:"Edit",onClick:()=>L(Z.row)}),r.jsx(Qt,{icon:r.jsx(oo,{}),label:"Delete",color:"error",onClick:()=>k(Z.id)})]}],getRowId:Z=>Z.id,processRowUpdate:(Z,Oe)=>Un(Z,Oe,"/master/towers","Tower"),onProcessRowUpdateError:hl,slots:{toolbar:Zn},density:"compact",sx:{border:"none","& .MuiDataGrid-columnHeaders":{backgroundColor:"#f6f8fa",fontWeight:"bold"}}})]}),s===2&&r.jsxs(se,{sx:{height:500,width:"100%",p:2},children:[l&&r.jsx(se,{sx:{mb:2,display:"flex",justifyContent:"flex-end"},children:r.jsx(xe,{variant:"contained",startIcon:r.jsx(Qn,{}),onClick:Q,children:"Add Budget Head"})}),r.jsx(Jn,{rows:g,columns:[{field:"id",headerName:"ID",width:90},{field:"name",headerName:"Name",flex:1,editable:!0},{field:"tower_name",headerName:"Tower",flex:1,valueGetter:(Z,Oe)=>Oe?.tower?.name||"N/A"},{field:"actions",type:"actions",headerName:"Actions",width:100,getActions:Z=>[r.jsx(Qt,{icon:r.jsx(el,{}),label:"Edit",onClick:()=>oe(Z.row)}),r.jsx(Qt,{icon:r.jsx(oo,{}),label:"Delete",color:"error",onClick:()=>$(Z.id)})]}],getRowId:Z=>Z.id,processRowUpdate:(Z,Oe)=>Un(Z,Oe,"/master/budget-heads","Budget Head"),onProcessRowUpdateError:hl,slots:{toolbar:Zn},density:"compact",sx:{border:"none","& .MuiDataGrid-columnHeaders":{backgroundColor:"#f6f8fa",fontWeight:"bold"}}})]}),s===3&&r.jsxs(se,{sx:{height:500,width:"100%",p:2},children:[l&&r.jsx(se,{sx:{mb:2,display:"flex",justifyContent:"flex-end"},children:r.jsx(xe,{variant:"contained",startIcon:r.jsx(Qn,{}),onClick:Ae,children:"Add Vendor"})}),r.jsx(Jn,{rows:m,columns:[{field:"id",headerName:"ID",width:90},{field:"name",headerName:"Name",flex:1,editable:!0},{field:"gst_number",headerName:"GST Number",flex:1,editable:!0},{field:"contact_person",headerName:"Contact Person",flex:1,editable:!0},{field:"actions",type:"actions",headerName:"Actions",width:100,getActions:Z=>[r.jsx(Qt,{icon:r.jsx(el,{}),label:"Edit",onClick:()=>Le(Z.row)}),r.jsx(Qt,{icon:r.jsx(oo,{}),label:"Delete",color:"error",onClick:()=>je(Z.id)})]}],getRowId:Z=>Z.id,processRowUpdate:(Z,Oe)=>Un(Z,Oe,"/master/vendors","Vendor"),onProcessRowUpdateError:hl,slots:{toolbar:Zn},density:"compact",sx:{border:"none","& .MuiDataGrid-columnHeaders":{backgroundColor:"#f6f8fa",fontWeight:"bold"}}})]}),s===4&&r.jsxs(se,{sx:{height:500,width:"100%",p:2},children:[l&&r.jsx(se,{sx:{mb:2,display:"flex",justifyContent:"flex-end"},children:r.jsx(xe,{variant:"contained",startIcon:r.jsx(Qn,{}),onClick:_e,children:"Add Cost Centre"})}),r.jsx(Jn,{rows:b,columns:[{field:"id",headerName:"ID",width:90},{field:"code",headerName:"Code",flex:1,editable:!0},{field:"description",headerName:"Description",flex:1,editable:!0},{field:"actions",type:"actions",headerName:"Actions",width:100,getActions:Z=>[r.jsx(Qt,{icon:r.jsx(el,{}),label:"Edit",onClick:()=>It(Z.row)}),r.jsx(Qt,{icon:r.jsx(oo,{}),label:"Delete",color:"error",onClick:()=>Ve(Z.id)})]}],getRowId:Z=>Z.id,processRowUpdate:(Z,Oe)=>Un(Z,Oe,"/master/cost-centres","Cost Centre"),onProcessRowUpdateError:hl,slots:{toolbar:Zn},density:"compact",sx:{border:"none","& .MuiDataGrid-columnHeaders":{backgroundColor:"#f6f8fa",fontWeight:"bold"}}})]}),s===5&&r.jsxs(se,{sx:{height:500,width:"100%",p:2},children:[l&&r.jsx(se,{sx:{mb:2,display:"flex",justifyContent:"flex-end"},children:r.jsx(xe,{variant:"contained",startIcon:r.jsx(Qn,{}),onClick:pt,children:"Add PO Entity"})}),r.jsx(Jn,{rows:v,columns:[{field:"id",headerName:"ID",width:90},{field:"name",headerName:"Name",flex:1,editable:!0},{field:"actions",type:"actions",headerName:"Actions",width:100,getActions:Z=>[r.jsx(Qt,{icon:r.jsx(el,{}),label:"Edit",onClick:()=>Ht(Z.row)}),r.jsx(Qt,{icon:r.jsx(oo,{}),label:"Delete",color:"error",onClick:()=>mt(Z.id)})]}],getRowId:Z=>Z.id,processRowUpdate:(Z,Oe)=>Un(Z,Oe,"/master/po-entities","PO Entity"),onProcessRowUpdateError:hl,slots:{toolbar:Zn},density:"compact",sx:{border:"none","& .MuiDataGrid-columnHeaders":{backgroundColor:"#f6f8fa",fontWeight:"bold"}}})]}),s===6&&r.jsxs(se,{sx:{height:500,width:"100%",p:2},children:[l&&r.jsx(se,{sx:{mb:2,display:"flex",justifyContent:"flex-end"},children:r.jsx(xe,{variant:"contained",startIcon:r.jsx(Qn,{}),onClick:wt,children:"Add Service Type"})}),r.jsx(Jn,{rows:j,columns:[{field:"id",headerName:"ID",width:90},{field:"name",headerName:"Name",flex:1,editable:!0},{field:"actions",type:"actions",headerName:"Actions",width:100,getActions:Z=>[r.jsx(Qt,{icon:r.jsx(el,{}),label:"Edit",onClick:()=>yn(Z.row)}),r.jsx(Qt,{icon:r.jsx(oo,{}),label:"Delete",color:"error",onClick:()=>xt(Z.id)})]}],getRowId:Z=>Z.id,processRowUpdate:(Z,Oe)=>Un(Z,Oe,"/master/service-types","Service Type"),onProcessRowUpdateError:hl,slots:{toolbar:Zn},density:"compact",sx:{border:"none","& .MuiDataGrid-columnHeaders":{backgroundColor:"#f6f8fa",fontWeight:"bold"}}})]}),s===7&&r.jsxs(se,{sx:{height:500,width:"100%",p:2},children:[l&&r.jsx(se,{sx:{mb:2,display:"flex",justifyContent:"flex-end"},children:r.jsx(xe,{variant:"contained",startIcon:r.jsx(Qn,{}),onClick:Pl,children:"Add Allocation Basis"})}),r.jsx(Jn,{rows:I,columns:[{field:"id",headerName:"ID",width:90},{field:"name",headerName:"Name",flex:1,editable:!0},{field:"actions",type:"actions",headerName:"Actions",width:100,getActions:Z=>[r.jsx(Qt,{icon:r.jsx(el,{}),label:"Edit",onClick:()=>kn(Z.row)}),r.jsx(Qt,{icon:r.jsx(oo,{}),label:"Delete",color:"error",onClick:()=>Ql(Z.id)})]}],getRowId:Z=>Z.id,processRowUpdate:(Z,Oe)=>Un(Z,Oe,"/master/allocation-bases","Allocation Basis"),onProcessRowUpdateError:hl,slots:{toolbar:Zn},density:"compact",sx:{border:"none","& .MuiDataGrid-columnHeaders":{backgroundColor:"#f6f8fa",fontWeight:"bold"}}})]}),s===8&&r.jsxs(se,{sx:{height:500,width:"100%",p:2},children:[l&&r.jsx(se,{sx:{mb:2,display:"flex",justifyContent:"flex-end"},children:r.jsx(xe,{variant:"contained",startIcon:r.jsx(Qn,{}),onClick:Pu,children:"Add Rate"})}),r.jsx(Jn,{rows:D,columns:[{field:"from_currency",headerName:"From",width:100},{field:"to_currency",headerName:"To",width:100},{field:"rate",headerName:"Rate",width:120,editable:!0,valueFormatter:Z=>Z?Z.toFixed(4):"-"},{field:"updated_at",headerName:"Last Updated",flex:1,valueFormatter:Z=>Z?new Date(Z).toLocaleDateString():"-"},{field:"actions",type:"actions",headerName:"Actions",width:100,getActions:Z=>[r.jsx(Qt,{icon:r.jsx(el,{}),label:"Edit",onClick:()=>Pi(Z.row)}),r.jsx(Qt,{icon:r.jsx(oo,{}),label:"Delete",color:"error",onClick:()=>wr(Z.id)})]}],getRowId:Z=>Z.id,processRowUpdate:Ru,onProcessRowUpdateError:hl,slots:{toolbar:Zn},density:"compact",sx:{border:"none","& .MuiDataGrid-columnHeaders":{backgroundColor:"#f6f8fa",fontWeight:"bold"}}})]})]}),r.jsxs(Tn,{open:Ri,onClose:()=>Sr(!1),children:[r.jsx(In,{children:nl.id?"Edit Fiscal Year":"Add Fiscal Year"}),r.jsxs(Fn,{children:[r.jsx(Ne,{autoFocus:!0,margin:"dense",label:"Name (e.g., FY26)",fullWidth:!0,value:nl.label,onChange:Z=>Go({...nl,label:Z.target.value}),sx:{mb:2}}),r.jsx(Ne,{margin:"dense",type:"date",label:"Start Date",fullWidth:!0,value:nl.start_date,onChange:Z=>Go({...nl,start_date:Z.target.value}),InputLabelProps:{shrink:!0},sx:{mb:2}}),r.jsx(Ne,{margin:"dense",type:"date",label:"End Date",fullWidth:!0,value:nl.end_date,onChange:Z=>Go({...nl,end_date:Z.target.value}),InputLabelProps:{shrink:!0},sx:{mb:2}})]}),r.jsxs(An,{children:[r.jsx(xe,{onClick:()=>Sr(!1),children:"Cancel"}),r.jsx(xe,{onClick:Zl,variant:"contained",children:"Save"})]})]}),r.jsxs(Tn,{open:U,onClose:()=>A(!1),children:[r.jsx(In,{children:E.id?"Edit Tower":"Add Tower"}),r.jsx(Fn,{children:r.jsx(Ne,{autoFocus:!0,margin:"dense",label:"Name",fullWidth:!0,value:E.name,onChange:Z=>_({...E,name:Z.target.value})})}),r.jsxs(An,{children:[r.jsx(xe,{onClick:()=>A(!1),children:"Cancel"}),r.jsx(xe,{onClick:G,variant:"contained",children:"Save"})]})]}),r.jsxs(Tn,{open:S,onClose:()=>z(!1),children:[r.jsx(In,{children:F.id?"Edit Budget Head":"Add Budget Head"}),r.jsxs(Fn,{children:[r.jsx(Ne,{autoFocus:!0,margin:"dense",label:"Name",fullWidth:!0,value:F.name,onChange:Z=>q({...F,name:Z.target.value}),sx:{mb:2}}),r.jsx(Ne,{select:!0,margin:"dense",label:"Tower",fullWidth:!0,value:F.tower_id,onChange:Z=>q({...F,tower_id:Z.target.value}),children:c.map(Z=>r.jsx(Re,{value:Z.id,children:Z.name},Z.id))})]}),r.jsxs(An,{children:[r.jsx(xe,{onClick:()=>z(!1),children:"Cancel"}),r.jsx(xe,{onClick:Y,variant:"contained",children:"Save"})]})]}),r.jsxs(Tn,{open:ae,onClose:()=>fe(!1),children:[r.jsx(In,{children:ce.id?"Edit Vendor":"Add Vendor"}),r.jsxs(Fn,{children:[r.jsx(Ne,{autoFocus:!0,margin:"dense",label:"Name",fullWidth:!0,value:ce.name,onChange:Z=>ve({...ce,name:Z.target.value}),sx:{mb:2}}),r.jsx(Ne,{margin:"dense",label:"GST Number",fullWidth:!0,value:ce.gst_number,onChange:Z=>ve({...ce,gst_number:Z.target.value}),sx:{mb:2}}),r.jsx(Ne,{margin:"dense",label:"Contact Person",fullWidth:!0,value:ce.contact_person,onChange:Z=>ve({...ce,contact_person:Z.target.value})})]}),r.jsxs(An,{children:[r.jsx(xe,{onClick:()=>fe(!1),children:"Cancel"}),r.jsx(xe,{onClick:Te,variant:"contained",children:"Save"})]})]}),r.jsxs(Tn,{open:be,onClose:()=>Me(!1),children:[r.jsx(In,{children:ze.id?"Edit Cost Centre":"Add Cost Centre"}),r.jsxs(Fn,{children:[r.jsx(Ne,{autoFocus:!0,margin:"dense",label:"Code",fullWidth:!0,value:ze.code,onChange:Z=>Ce({...ze,code:Z.target.value}),sx:{mb:2}}),r.jsx(Ne,{margin:"dense",label:"Description",fullWidth:!0,value:ze.description,onChange:Z=>Ce({...ze,description:Z.target.value})})]}),r.jsxs(An,{children:[r.jsx(xe,{onClick:()=>Me(!1),children:"Cancel"}),r.jsx(xe,{onClick:$e,variant:"contained",children:"Save"})]})]}),r.jsxs(Tn,{open:St,onClose:()=>jt(!1),children:[r.jsx(In,{children:ut.id?"Edit PO Entity":"Add PO Entity"}),r.jsx(Fn,{children:r.jsx(Ne,{autoFocus:!0,margin:"dense",label:"Name",fullWidth:!0,value:ut.name,onChange:Z=>Mt({...ut,name:Z.target.value})})}),r.jsxs(An,{children:[r.jsx(xe,{onClick:()=>jt(!1),children:"Cancel"}),r.jsx(xe,{onClick:nt,variant:"contained",children:"Save"})]})]}),r.jsxs(Tn,{open:Fe,onClose:()=>Ze(!1),children:[r.jsx(In,{children:Be.id?"Edit Service Type":"Add Service Type"}),r.jsx(Fn,{children:r.jsx(Ne,{autoFocus:!0,margin:"dense",label:"Name",fullWidth:!0,value:Be.name,onChange:Z=>We({...Be,name:Z.target.value})})}),r.jsxs(An,{children:[r.jsx(xe,{onClick:()=>Ze(!1),children:"Cancel"}),r.jsx(xe,{onClick:bt,variant:"contained",children:"Save"})]})]}),r.jsxs(Tn,{open:nn,onClose:()=>Hl(!1),children:[r.jsx(In,{children:Vn.id?"Edit Allocation Basis":"Add Allocation Basis"}),r.jsx(Fn,{children:r.jsx(Ne,{autoFocus:!0,margin:"dense",label:"Name",fullWidth:!0,value:Vn.name,onChange:Z=>ho({...Vn,name:Z.target.value})})}),r.jsxs(An,{children:[r.jsx(xe,{onClick:()=>Hl(!1),children:"Cancel"}),r.jsx(xe,{onClick:Xl,variant:"contained",children:"Save"})]})]}),r.jsxs(Tn,{open:go,onClose:()=>Rl(!1),children:[r.jsx(In,{children:mo.id?"Edit Rate":"Add Rate"}),r.jsxs(Fn,{children:[r.jsxs(Ne,{select:!0,margin:"dense",label:"From Currency",fullWidth:!0,value:mo.from_currency,onChange:Z=>vr({...mo,from_currency:Z.target.value}),sx:{mb:2},children:[r.jsx(Re,{value:"USD",children:"USD"}),r.jsx(Re,{value:"CAD",children:"CAD"}),r.jsx(Re,{value:"INR",children:"INR"})]}),r.jsx(Ne,{select:!0,margin:"dense",label:"To Currency",fullWidth:!0,value:mo.to_currency,disabled:!0,children:r.jsx(Re,{value:"INR",children:"INR"})}),r.jsx(Ne,{margin:"dense",label:"Rate",type:"number",fullWidth:!0,value:mo.rate,onChange:Z=>vr({...mo,rate:Z.target.value})})]}),r.jsxs(An,{children:[r.jsx(xe,{onClick:()=>Rl(!1),children:"Cancel"}),r.jsx(xe,{onClick:is,variant:"contained",children:"Save"})]})]}),r.jsx(Zr,{open:B,onClose:()=>R(!1),onExport:Gi}),r.jsx(Mi,{open:W.open,autoHideDuration:6e3,onClose:()=>V({...W,open:!1}),anchorOrigin:{vertical:"bottom",horizontal:"right"},children:r.jsx(cn,{severity:W.severity,onClose:()=>V({...W,open:!1}),children:W.message})})]})},wC={Admin:"error",Approver:"warning",Editor:"info",Viewer:"default"},bz={"View dashboards":{Viewer:!0,Editor:!0,Approver:!0,Admin:!0},"Create / edit line items":{Viewer:!1,Editor:!0,Approver:!0,Admin:!0},"Create / edit POs":{Viewer:!1,Editor:!0,Approver:!0,Admin:!0},"Submit PO for approval":{Viewer:!1,Editor:!0,Approver:!0,Admin:!0},"Approve / reject PO":{Viewer:!1,Editor:!1,Approver:!0,Admin:!0},"Edit budget BOA":{Viewer:!1,Editor:!0,Approver:!0,Admin:!0},"Approve budget changes":{Viewer:!1,Editor:!1,Approver:!0,Admin:!0},"Upload actuals":{Viewer:!1,Editor:!0,Approver:!0,Admin:!0},"Manage users & roles":{Viewer:!1,Editor:!1,Approver:!1,Admin:!0}},xz=()=>{const[t,l]=h.useState([]),[s,i]=h.useState(["Viewer","Editor","Approver","Admin"]),[c,d]=h.useState(!1),[g,p]=h.useState(!1),[m,x]=h.useState(null),[b,C]=h.useState({name:"",email:"",password:"",roles:["Viewer"],is_active:!0}),[v,M]=h.useState({open:!1,message:"",severity:"success"}),[j,T]=h.useState(!1),[I,O]=h.useState(!1);h.useEffect(()=>{D()},[]);const D=async()=>{try{const G=await Se.get("/users");l(G)}catch(G){console.error("Error fetching users:",G),V("Error fetching users","error")}},P=(G=null)=>{G?(x(G),C({name:G.name,email:G.email,password:"",roles:G.roles||["Viewer"],is_active:G.is_active})):(x(null),C({name:"",email:"",password:"",roles:["Viewer"],is_active:!0})),d(!0)},B=()=>{d(!1),x(null)},R=async()=>{try{O(!0);const G=localStorage.getItem("token");m?(await Se.put(`/users/${m.id}`,b),V("User updated successfully","success")):(await Se.post("/users",b),V("User created successfully","success")),B(),D()}catch(G){console.error("Error saving user:",G),V(G.response?.data?.message||"Error saving user","error")}finally{O(!1)}},W=async G=>{if(window.confirm("Are you sure you want to delete this user?"))try{await Se.delete(`/users/${G}`),V("User deleted successfully","success"),D()}catch(k){console.error("Error deleting user:",k),V(k.response?.data?.message||"Error deleting user","error")}},V=(G,k)=>{M({open:!0,message:G,severity:k})},U=G=>{try{const k=t.map(q=>({Name:q.name,Email:q.email,Roles:q.roles?.join(", "),Status:q.is_active?"Active":"Inactive"})),K=un.json_to_sheet(k),L=un.book_new();un.book_append_sheet(L,K,"Users");const F=`User_Management_${new Date().toISOString().split("T")[0]}.${G==="csv"?"csv":"xlsx"}`;Za(L,F,{bookType:G==="csv"?"csv":"xlsx"}),V(`User data exported as ${G.toUpperCase()} successfully!`,"success")}catch(k){console.error("Export error:",k),V("Error exporting data","error")}},A=()=>{M({...v,open:!1})},E=async(G,k)=>{try{return await Se.put(`/users/${G.id}`,G),V("User updated successfully","success"),G}catch(K){return console.error("Update error:",K),V("Error updating user: "+(K.message||"Unknown error"),"error"),k}},_=G=>{V("Error processing update","error"),console.error("Process row update error:",G)};return r.jsxs(se,{sx:{...Bn,...uo},children:[r.jsxs(se,{sx:Al,children:[r.jsxs(se,{sx:{display:"flex",alignItems:"center",gap:2},children:[r.jsx(gh,{sx:{fontSize:40,color:"primary.main"}}),r.jsxs(se,{children:[r.jsx(pe,{sx:zl,children:"User Management"}),r.jsx(pe,{variant:"body2",color:"text.secondary",children:"Manage users and their role-based permissions"})]})]}),r.jsxs(se,{sx:{display:"flex",gap:2},children:[r.jsx(xe,{variant:"outlined",color:"success",startIcon:r.jsx(xr,{}),onClick:()=>T(!0),children:"Export"}),r.jsx(xe,{variant:"outlined",startIcon:r.jsx(Ch,{}),onClick:()=>p(!0),children:"View Permissions Matrix"}),r.jsx(xe,{variant:"contained",startIcon:r.jsx(Qn,{}),onClick:()=>P(),children:"Add User"})]})]}),r.jsxs(dt,{container:!0,spacing:3,sx:{mb:3},children:[r.jsx(dt,{item:!0,xs:12,sm:6,md:3,children:r.jsx(Br,{children:r.jsxs(Vr,{children:[r.jsx(pe,{color:"text.secondary",gutterBottom:!0,children:"Total Users"}),r.jsx(pe,{variant:"h4",fontWeight:"bold",children:t.length})]})})}),r.jsx(dt,{item:!0,xs:12,sm:6,md:3,children:r.jsx(Br,{children:r.jsxs(Vr,{children:[r.jsx(pe,{color:"text.secondary",gutterBottom:!0,children:"Active Users"}),r.jsx(pe,{variant:"h4",fontWeight:"bold",children:t.filter(G=>G.is_active).length})]})})}),r.jsx(dt,{item:!0,xs:12,sm:6,md:3,children:r.jsx(Br,{children:r.jsxs(Vr,{children:[r.jsx(pe,{color:"text.secondary",gutterBottom:!0,children:"Admins"}),r.jsx(pe,{variant:"h4",fontWeight:"bold",children:t.filter(G=>G.roles?.includes("Admin")).length})]})})}),r.jsx(dt,{item:!0,xs:12,sm:6,md:3,children:r.jsx(Br,{children:r.jsxs(Vr,{children:[r.jsx(pe,{color:"text.secondary",gutterBottom:!0,children:"Approvers"}),r.jsx(pe,{variant:"h4",fontWeight:"bold",children:t.filter(G=>G.roles?.includes("Approver")).length})]})})})]}),r.jsx(tt,{elevation:0,sx:{width:"100%",height:500,border:"1px solid #d0d7de",borderRadius:"6px"},children:r.jsx(Jn,{rows:t,columns:[{field:"name",headerName:"Name",width:200,editable:!0,renderCell:G=>r.jsxs(se,{sx:{display:"flex",alignItems:"center",gap:1},children:[r.jsx(mh,{color:"action"}),r.jsx(pe,{fontWeight:"medium",children:G.value})]})},{field:"email",headerName:"Email",width:250,editable:!0},{field:"roles",headerName:"Roles",width:300,renderCell:G=>r.jsx(se,{sx:{display:"flex",gap:.5,flexWrap:"wrap"},children:G.value?.map(k=>r.jsx(Gt,{label:k,size:"small",color:wC[k]||"default"},k))})},{field:"is_active",headerName:"Status",width:120,renderCell:G=>r.jsx(Gt,{label:G.value?"Active":"Inactive",size:"small",color:G.value?"success":"default"})},{field:"actions",headerName:"Actions",width:120,type:"actions",getActions:G=>[r.jsx(Qt,{icon:r.jsx(fr,{title:"Edit",children:r.jsx(el,{})}),label:"Edit",onClick:()=>P(G.row)}),r.jsx(Qt,{icon:r.jsx(fr,{title:"Delete",children:r.jsx(oo,{})}),label:"Delete",onClick:()=>W(G.row.id),showInMenu:!1})]}],getRowId:G=>G.id,processRowUpdate:E,onProcessRowUpdateError:_,density:"compact",slots:{toolbar:Zn},initialState:{pagination:{paginationModel:{pageSize:10}}},pageSizeOptions:[10,25,50],disableRowSelectionOnClick:!0,sx:{"& .MuiDataGrid-columnHeaders":{backgroundColor:"#1976d2",color:"white",fontWeight:"bold"},"& .MuiDataGrid-columnHeaderTitle":{fontWeight:"bold"}}})}),r.jsxs(Tn,{open:c,onClose:B,maxWidth:"sm",fullWidth:!0,children:[r.jsx(In,{children:m?"Edit User":"Add New User"}),r.jsx(Fn,{children:r.jsxs(se,{sx:{display:"flex",flexDirection:"column",gap:2,mt:2},children:[r.jsx(Ne,{label:"Name",fullWidth:!0,value:b.name,onChange:G=>C({...b,name:G.target.value}),required:!0}),r.jsx(Ne,{label:"Email",type:"email",fullWidth:!0,value:b.email,onChange:G=>C({...b,email:G.target.value}),required:!0}),r.jsx(Ne,{label:m?"Password (leave blank to keep current)":"Password",type:"password",fullWidth:!0,value:b.password,onChange:G=>C({...b,password:G.target.value}),required:!m}),r.jsxs(Wa,{fullWidth:!0,children:[r.jsx(xi,{children:"Roles"}),r.jsx($a,{multiple:!0,value:b.roles,onChange:G=>C({...b,roles:G.target.value}),input:r.jsx(OC,{label:"Roles"}),renderValue:G=>r.jsx(se,{sx:{display:"flex",flexWrap:"wrap",gap:.5},children:G.map(k=>r.jsx(Gt,{label:k,size:"small",color:wC[k]},k))}),children:s.map(G=>r.jsxs(Re,{value:G,children:[r.jsx(Rh,{checked:b.roles.indexOf(G)>-1}),r.jsx(gr,{primary:G})]},G))})]}),r.jsx(bi,{control:r.jsx(iS,{checked:b.is_active,onChange:G=>C({...b,is_active:G.target.checked})}),label:"Active"})]})}),r.jsxs(An,{children:[r.jsx(xe,{onClick:B,children:"Cancel"}),r.jsx(xe,{onClick:R,variant:"contained",disabled:I,children:m?"Update":"Create"})]})]}),r.jsxs(Tn,{open:g,onClose:()=>p(!1),maxWidth:"md",fullWidth:!0,children:[r.jsx(In,{children:r.jsxs(se,{sx:{display:"flex",alignItems:"center",gap:1},children:[r.jsx(gh,{}),r.jsx(pe,{variant:"h6",children:"Role & Permission Matrix"})]})}),r.jsx(Fn,{children:r.jsx(TableContainer,{children:r.jsxs(Table,{size:"small",children:[r.jsx(TableHead,{children:r.jsxs(TableRow,{children:[r.jsx(TableCell,{sx:{fontWeight:"bold",bgcolor:"grey.100"},children:"Module / Action"}),r.jsx(TableCell,{align:"center",sx:{fontWeight:"bold",bgcolor:"grey.100"},children:"Viewer"}),r.jsx(TableCell,{align:"center",sx:{fontWeight:"bold",bgcolor:"grey.100"},children:"Editor"}),r.jsx(TableCell,{align:"center",sx:{fontWeight:"bold",bgcolor:"grey.100"},children:"Approver"}),r.jsx(TableCell,{align:"center",sx:{fontWeight:"bold",bgcolor:"grey.100"},children:"Admin"})]})}),r.jsx(TableBody,{children:Object.entries(bz).map(([G,k])=>r.jsxs(TableRow,{hover:!0,children:[r.jsx(TableCell,{children:G}),r.jsx(TableCell,{align:"center",children:k.Viewer?"":""}),r.jsx(TableCell,{align:"center",children:k.Editor?"":""}),r.jsx(TableCell,{align:"center",children:k.Approver?"":""}),r.jsx(TableCell,{align:"center",children:k.Admin?"":""})]},G))})]})})}),r.jsx(An,{children:r.jsx(xe,{onClick:()=>p(!1),children:"Close"})})]}),r.jsx(Zr,{open:j,onClose:()=>T(!1),onExport:U}),r.jsx(Mi,{open:v.open,autoHideDuration:6e3,onClose:A,anchorOrigin:{vertical:"bottom",horizontal:"right"},children:r.jsx(cn,{onClose:A,severity:v.severity,sx:{width:"100%"},children:v.message})})]})},Cz=()=>{const[t,l]=h.useState([]),[s,i]=h.useState(!0),[c,d]=h.useState(null),[g,p]=h.useState(null),[m,x]=h.useState(!1),[b,C]=h.useState(!1),[v,M]=h.useState([]),[j,T]=h.useState(0),{token:I}=fl();h.useRef({});const O=[{id:"vendor_service",label:"Vendor / Service",width:"200px",editable:!1,sticky:!0},{id:"basis_of_allocation",label:"Basis of Allocation",width:"150px",editable:!0},{id:"total_count",label:"Total Count",width:"100px",editable:!0},{id:"jpm_corporate",label:"JPM Corporate",width:"120px",editable:!0},{id:"jphi_corporate",label:"JPHI Corporate",width:"120px",editable:!0},{id:"biosys_bengaluru",label:"Biosys - Bengaluru",width:"140px",editable:!0},{id:"biosys_noida",label:"Biosys - Noida",width:"130px",editable:!0},{id:"biosys_greater_noida",label:"Biosys - Greater Noida",width:"160px",editable:!0},{id:"pharmova_api",label:"Pharmova - API",width:"130px",editable:!0},{id:"jgl_dosage",label:"JGL - Dosage",width:"120px",editable:!0},{id:"jgl_ibp",label:"JGL - IBP",width:"100px",editable:!0},{id:"cadista_dosage",label:"Cadista - Dosage",width:"140px",editable:!0},{id:"jdi_radio_pharmaceuticals",label:"JDI  Radio Pharmaceuticals",width:"180px",editable:!0},{id:"jdi_radiopharmacies",label:"JDI - Radiopharmacies",width:"160px",editable:!0},{id:"jhs_gp_cmo",label:"JHS GP CMO",width:"120px",editable:!0},{id:"jhs_llc_cmo",label:"JHS LLC - CMO",width:"130px",editable:!0},{id:"jhs_llc_allergy",label:"JHS LLC - Allergy",width:"140px",editable:!0},{id:"ingrevia",label:"Ingrevia",width:"100px",editable:!0},{id:"jil_jacpl",label:"JIL - JACPL",width:"110px",editable:!0},{id:"jfl",label:"JFL",width:"80px",editable:!0},{id:"consumer",label:"Consumer",width:"100px",editable:!0},{id:"jti",label:"JTI",width:"80px",editable:!0},{id:"jogpl",label:"JOGPL",width:"90px",editable:!0},{id:"enpro",label:"Enpro",width:"90px",editable:!0}],D={headerCell:{backgroundColor:"#0d47a1",color:"white",fontWeight:600,fontSize:"11px",borderRight:"1px solid #d0d0d0",borderBottom:"2px solid #0d47a1",padding:"4px 8px",height:"30px",position:"sticky",top:0,zIndex:10,whiteSpace:"nowrap"},stickyHeaderCell:{backgroundColor:"#0d47a1",color:"white",fontWeight:600,fontSize:"11px",borderRight:"2px solid #0d47a1",borderBottom:"2px solid #0d47a1",padding:"4px 8px",height:"30px",position:"sticky",left:0,top:0,zIndex:11,whiteSpace:"nowrap"},cell:{borderRight:"1px solid #e0e0e0",borderBottom:"1px solid #e0e0e0",padding:"2px 8px",fontSize:"11px",height:"28px",minWidth:"60px"},stickyCell:{position:"sticky",left:0,backgroundColor:"#fff",borderRight:"2px solid #0d47a1",borderBottom:"1px solid #e0e0e0",padding:"2px 8px",fontSize:"11px",fontWeight:500,height:"28px",zIndex:1},input:{width:"100%",fontSize:"11px",padding:"2px 4px",border:"1px solid #ccc",borderRadius:"2px","&:focus":{outline:"2px solid #1976d2",borderColor:"#1976d2"}}};h.useEffect(()=>{P()},[]);const P=async()=>{i(!0),d(null);try{if(!I)throw new Error("No authentication token found. Please login again.");const k=await fetch("/api/actual-boa",{headers:{Authorization:`Bearer ${I}`,"Content-Type":"application/json"}});if(!k.ok){const L=await k.json().catch(()=>({}));throw new Error(L.error||`Failed to fetch data: ${k.status} ${k.statusText}`)}const K=await k.json();l(K),M(JSON.parse(JSON.stringify(K)))}catch(k){console.error("Error fetching Actual BOA data:",k),d(k.message||"Failed to fetch data. Please try again.")}finally{i(!1)}},B=()=>{x(!0),M(JSON.parse(JSON.stringify(t)))},R=()=>{x(!1),M(JSON.parse(JSON.stringify(t))),d(null)},W=async()=>{try{d(null);const k=v.map(K=>({id:K.id,...K}));for(const K of k)if(!(await fetch(`/api/actual-boa/${K.id}`,{method:"PUT",headers:{Authorization:`Bearer ${I}`,"Content-Type":"application/json"},body:JSON.stringify(K)})).ok)throw new Error(`Failed to update row ${K.id}`);p("Data saved successfully!"),l(v),x(!1),setTimeout(()=>p(null),3e3)}catch(k){d(k.message||"Failed to save data")}},V=(k,K,L)=>{const S=[...v];S[k][K]=L,M(S)},U=(k,K,L)=>{k.preventDefault();const z=k.clipboardData.getData("text").split(`
`).filter(Y=>Y.trim()),F=[...v],q=O.findIndex(Y=>Y.id===L);z.forEach((Y,$)=>{const Q=Y.split("	"),oe=K+$;oe<F.length&&Q.forEach((ae,fe)=>{const ce=q+fe;if(ce<O.length&&O[ce].editable){const ve=O[ce].id;F[oe][ve]=ae.trim()}})}),M(F)},A=async()=>{try{if(!(await fetch("/api/actual-boa/seed",{method:"POST",headers:{Authorization:`Bearer ${I}`}})).ok)throw new Error("Failed to seed data");P()}catch(k){d(k.message)}},E=(k,K)=>!K||K===0?0:(k/K*100).toFixed(2),_=k=>{try{const K=t.map(Y=>{const $={};return O.forEach(Q=>{j===1&&Q.editable?$[Q.label]=`${E(Y[Q.id],Y.total_count)}%`:$[Q.label]=Y[Q.id]}),$}),L=un.json_to_sheet(K),S=un.book_new();un.book_append_sheet(S,L,"Actual BOA");const z=new Date().toISOString().split("T")[0],q=`Actual_BOA_${j===0?"Values":"Percentage"}_${z}.${k==="csv"?"csv":"xlsx"}`;Za(S,q,{bookType:k==="csv"?"csv":"xlsx"}),p(`Data exported as ${k.toUpperCase()} successfully!`),setTimeout(()=>p(null),3e3)}catch{d("Error exporting data")}};if(s)return r.jsx(se,{display:"flex",justifyContent:"center",m:4,children:r.jsx(_n,{})});const G=m?v:t;return r.jsxs(se,{sx:{...Bn,...uo},children:[r.jsxs(se,{sx:Al,children:[r.jsx(pe,{sx:zl,children:"Actual BOA"}),r.jsxs(se,{display:"flex",gap:2,children:[r.jsx(xe,{variant:"outlined",color:"success",startIcon:r.jsx(xr,{}),onClick:()=>C(!0),children:"Export"}),t.length===0&&r.jsx(xe,{variant:"contained",color:"primary",onClick:A,children:"Seed Default Data"}),m?r.jsxs(r.Fragment,{children:[r.jsx(xe,{variant:"outlined",startIcon:r.jsx(Gh,{}),onClick:R,children:"Cancel"}),r.jsx(xe,{variant:"contained",color:"success",startIcon:r.jsx(Su,{}),onClick:W,children:"Save Changes"})]}):r.jsx(xe,{variant:"contained",startIcon:r.jsx(el,{}),onClick:B,children:"Edit Mode"})]})]}),c&&r.jsx(cn,{severity:"error",onClose:()=>d(null),sx:{mb:2},children:c}),g&&r.jsx(cn,{severity:"success",onClose:()=>p(null),sx:{mb:2},children:g}),r.jsx(tt,{elevation:2,sx:{mb:2},children:r.jsxs(ji,{value:j,onChange:(k,K)=>T(K),sx:{borderBottom:1,borderColor:"divider"},children:[r.jsx(Cn,{label:"Values"}),r.jsx(Cn,{label:"Percentage Allocation"})]})}),r.jsx(Rn,{component:tt,sx:{maxHeight:600,border:"1px solid #d0d0d0"},children:r.jsxs(Nn,{stickyHeader:!0,size:"small",sx:{minWidth:2e3},children:[r.jsx(Gn,{children:r.jsx(it,{children:O.map(k=>r.jsx(ue,{sx:k.sticky?D.stickyHeaderCell:D.headerCell,style:{width:k.width,minWidth:k.width},children:k.label},k.id))})}),r.jsx(Ln,{children:G.map((k,K)=>r.jsx(it,{hover:!0,children:O.map(L=>r.jsx(ue,{sx:L.sticky?D.stickyCell:D.cell,style:{width:L.width,minWidth:L.width},children:m&&L.editable?r.jsx(Ne,{size:"small",value:k[L.id]||"",onChange:S=>V(K,L.id,S.target.value),onPaste:S=>U(S,K,L.id),sx:D.input,variant:"outlined"}):j===1&&L.editable?`${E(k[L.id],k.total_count)}%`:k[L.id]||"-"},`${k.id}-${L.id}`))},k.id))})]})}),m&&r.jsxs(cn,{severity:"info",sx:{mt:2},children:[r.jsx("strong",{children:"Excel Paste Supported:"})," You can copy data from Excel and paste it directly into the cells. Use Tab or Ctrl+V to paste multiple cells at once."]}),r.jsx(Zr,{open:b,onClose:()=>C(!1),onExport:_})]})},yz=()=>{const[t,l]=h.useState([]),[s,i]=h.useState(!0),[c,d]=h.useState(null),[g,p]=h.useState(null),[m,x]=h.useState(!1),[b,C]=h.useState(!1),[v,M]=h.useState([]),[j,T]=h.useState(0),{token:I}=fl();h.useRef({});const O=[{id:"vendor_service",label:"Vendor / Service",width:"200px",editable:!1,sticky:!0},{id:"basis_of_allocation",label:"Basis of Allocation",width:"150px",editable:!0},{id:"total_count",label:"Total Count",width:"100px",editable:!0},{id:"jpm_corporate",label:"JPM Corporate",width:"120px",editable:!0},{id:"jphi_corporate",label:"JPHI Corporate",width:"120px",editable:!0},{id:"biosys_bengaluru",label:"Biosys - Bengaluru",width:"140px",editable:!0},{id:"biosys_noida",label:"Biosys - Noida",width:"130px",editable:!0},{id:"biosys_greater_noida",label:"Biosys - Greater Noida",width:"160px",editable:!0},{id:"pharmova_api",label:"Pharmova - API",width:"130px",editable:!0},{id:"jgl_dosage",label:"JGL - Dosage",width:"120px",editable:!0},{id:"jgl_ibp",label:"JGL - IBP",width:"100px",editable:!0},{id:"cadista_dosage",label:"Cadista - Dosage",width:"140px",editable:!0},{id:"jdi_radio_pharmaceuticals",label:"JDI  Radio Pharmaceuticals",width:"180px",editable:!0},{id:"jdi_radiopharmacies",label:"JDI - Radiopharmacies",width:"160px",editable:!0},{id:"jhs_gp_cmo",label:"JHS GP CMO",width:"120px",editable:!0},{id:"jhs_llc_cmo",label:"JHS LLC - CMO",width:"130px",editable:!0},{id:"jhs_llc_allergy",label:"JHS LLC - Allergy",width:"140px",editable:!0},{id:"ingrevia",label:"Ingrevia",width:"100px",editable:!0},{id:"jil_jacpl",label:"JIL - JACPL",width:"110px",editable:!0},{id:"jfl",label:"JFL",width:"80px",editable:!0},{id:"consumer",label:"Consumer",width:"100px",editable:!0},{id:"jti",label:"JTI",width:"80px",editable:!0},{id:"jogpl",label:"JOGPL",width:"90px",editable:!0},{id:"enpro",label:"Enpro",width:"90px",editable:!0}],D={headerCell:{backgroundColor:"#1565c0",color:"white",fontWeight:600,fontSize:"11px",borderRight:"1px solid #d0d0d0",borderBottom:"2px solid #1565c0",padding:"4px 8px",height:"30px",position:"sticky",top:0,zIndex:10,whiteSpace:"nowrap"},stickyHeaderCell:{backgroundColor:"#1565c0",color:"white",fontWeight:600,fontSize:"11px",borderRight:"2px solid #1565c0",borderBottom:"2px solid #1565c0",padding:"4px 8px",height:"30px",position:"sticky",left:0,top:0,zIndex:11,whiteSpace:"nowrap"},cell:{borderRight:"1px solid #e0e0e0",borderBottom:"1px solid #e0e0e0",padding:"2px 8px",fontSize:"11px",height:"28px",minWidth:"60px"},stickyCell:{position:"sticky",left:0,backgroundColor:"#fff",borderRight:"2px solid #1565c0",borderBottom:"1px solid #e0e0e0",padding:"2px 8px",fontSize:"11px",fontWeight:500,height:"28px",zIndex:1},input:{width:"100%",fontSize:"11px",padding:"2px 4px",border:"1px solid #ccc",borderRadius:"2px","&:focus":{outline:"2px solid #1976d2",borderColor:"#1976d2"}}};h.useEffect(()=>{P()},[]);const P=async()=>{i(!0),d(null);try{if(!I)throw new Error("No authentication token found. Please login again.");const k=await fetch("/api/budget-boa",{headers:{Authorization:`Bearer ${I}`,"Content-Type":"application/json"}});if(!k.ok){const L=await k.json().catch(()=>({}));throw new Error(L.error||`Failed to fetch data: ${k.status} ${k.statusText}`)}const K=await k.json();l(K),M(JSON.parse(JSON.stringify(K)))}catch(k){console.error("Error fetching Budget BOA data:",k),d(k.message||"Failed to fetch data. Please try again.")}finally{i(!1)}},B=()=>{x(!0),M(JSON.parse(JSON.stringify(t)))},R=()=>{x(!1),M(JSON.parse(JSON.stringify(t))),d(null)},W=async()=>{try{d(null);const k=v.map(K=>({id:K.id,...K}));for(const K of k)if(!(await fetch(`/api/budget-boa/${K.id}`,{method:"PUT",headers:{Authorization:`Bearer ${I}`,"Content-Type":"application/json"},body:JSON.stringify(K)})).ok)throw new Error(`Failed to update row ${K.id}`);p("Data saved successfully!"),l(v),x(!1),setTimeout(()=>p(null),3e3)}catch(k){d(k.message||"Failed to save data")}},V=(k,K,L)=>{const S=[...v];S[k][K]=L,M(S)},U=(k,K,L)=>{k.preventDefault();const z=k.clipboardData.getData("text").split(`
`).filter(Y=>Y.trim()),F=[...v],q=O.findIndex(Y=>Y.id===L);z.forEach((Y,$)=>{const Q=Y.split("	"),oe=K+$;oe<F.length&&Q.forEach((ae,fe)=>{const ce=q+fe;if(ce<O.length&&O[ce].editable){const ve=O[ce].id;F[oe][ve]=ae.trim()}})}),M(F)},A=async()=>{try{if(!(await fetch("/api/budget-boa/seed",{method:"POST",headers:{Authorization:`Bearer ${I}`}})).ok)throw new Error("Failed to seed data");P()}catch(k){d(k.message)}},E=(k,K)=>!K||K===0?0:(k/K*100).toFixed(2),_=k=>{try{const K=t.map(Y=>{const $={};return O.forEach(Q=>{j===1&&Q.editable?$[Q.label]=`${E(Y[Q.id],Y.total_count)}%`:$[Q.label]=Y[Q.id]}),$}),L=un.json_to_sheet(K),S=un.book_new();un.book_append_sheet(S,L,"Budget BOA");const z=new Date().toISOString().split("T")[0],q=`Budget_BOA_${j===0?"Values":"Percentage"}_${z}.${k==="csv"?"csv":"xlsx"}`;Za(S,q,{bookType:k==="csv"?"csv":"xlsx"}),p(`Data exported as ${k.toUpperCase()} successfully!`),setTimeout(()=>p(null),3e3)}catch{d("Error exporting data")}};if(s)return r.jsx(se,{display:"flex",justifyContent:"center",m:4,children:r.jsx(_n,{})});const G=m?v:t;return r.jsxs(se,{sx:{...Bn,...uo},children:[r.jsxs(se,{sx:Al,children:[r.jsx(pe,{sx:zl,children:"Budget BOA"}),r.jsxs(se,{display:"flex",gap:2,children:[r.jsx(xe,{variant:"outlined",color:"success",startIcon:r.jsx(xr,{}),onClick:()=>C(!0),children:"Export"}),t.length===0&&r.jsx(xe,{variant:"contained",color:"primary",onClick:A,children:"Seed Default Data"}),m?r.jsxs(r.Fragment,{children:[r.jsx(xe,{variant:"outlined",startIcon:r.jsx(Gh,{}),onClick:R,children:"Cancel"}),r.jsx(xe,{variant:"contained",color:"success",startIcon:r.jsx(Su,{}),onClick:W,children:"Save Changes"})]}):r.jsx(xe,{variant:"contained",startIcon:r.jsx(el,{}),onClick:B,children:"Edit Mode"})]})]}),c&&r.jsx(cn,{severity:"error",onClose:()=>d(null),sx:{mb:2},children:c}),g&&r.jsx(cn,{severity:"success",onClose:()=>p(null),sx:{mb:2},children:g}),r.jsx(tt,{elevation:2,sx:{mb:2},children:r.jsxs(ji,{value:j,onChange:(k,K)=>T(K),sx:{borderBottom:1,borderColor:"divider"},children:[r.jsx(Cn,{label:"Values"}),r.jsx(Cn,{label:"Percentage Allocation"})]})}),r.jsx(Rn,{component:tt,sx:{maxHeight:600,border:"1px solid #d0d0d0"},children:r.jsxs(Nn,{stickyHeader:!0,size:"small",sx:{minWidth:2e3},children:[r.jsx(Gn,{children:r.jsx(it,{children:O.map(k=>r.jsx(ue,{sx:k.sticky?D.stickyHeaderCell:D.headerCell,style:{width:k.width,minWidth:k.width},children:k.label},k.id))})}),r.jsx(Ln,{children:G.map((k,K)=>r.jsx(it,{hover:!0,children:O.map(L=>r.jsx(ue,{sx:L.sticky?D.stickyCell:D.cell,style:{width:L.width,minWidth:L.width},children:m&&L.editable?r.jsx(Ne,{size:"small",value:k[L.id]||"",onChange:S=>V(K,L.id,S.target.value),onPaste:S=>U(S,K,L.id),sx:D.input,variant:"outlined"}):j===1&&L.editable?`${E(k[L.id],k.total_count)}%`:k[L.id]||"-"},`${k.id}-${L.id}`))},k.id))})]})}),m&&r.jsxs(cn,{severity:"info",sx:{mt:2},children:[r.jsx("strong",{children:"Excel Paste Supported:"})," You can copy data from Excel and paste it directly into the cells. Use Tab or Ctrl+V to paste multiple cells at once."]}),r.jsx(Zr,{open:b,onClose:()=>C(!1),onExport:_})]})},vz=({children:t})=>{const{token:l,isLoading:s}=fl();return s?r.jsx(GS,{fullScreen:!0}):l?t:r.jsx(mS,{to:"/login"})};function wz(){return r.jsx(PS,{children:r.jsx(AS,{children:r.jsxs(kC,{theme:ui,children:[r.jsx(HC,{}),r.jsx(hS,{children:r.jsxs(gS,{children:[r.jsx(Dn,{path:"/login",element:r.jsx(LS,{})}),r.jsxs(Dn,{path:"/",element:r.jsx(vz,{children:r.jsx(NS,{})}),children:[r.jsx(Dn,{index:!0,element:r.jsx(_S,{})}),r.jsx(Dn,{path:"budgets",element:r.jsx(lz,{})}),r.jsx(Dn,{path:"net-budget",element:r.jsx(az,{})}),r.jsx(Dn,{path:"budgets/monthly",element:r.jsx(rz,{})}),r.jsx(Dn,{path:"budgets/:uid",element:r.jsx(cz,{})}),r.jsx(Dn,{path:"pos",element:r.jsx(dz,{})}),r.jsx(Dn,{path:"pos/new",element:r.jsx(yC,{})}),r.jsx(Dn,{path:"pos/:id/edit",element:r.jsx(yC,{})}),r.jsx(Dn,{path:"actuals",element:r.jsx(gz,{})}),r.jsx(Dn,{path:"imports",element:r.jsx(mz,{})}),r.jsx(Dn,{path:"master-data",element:r.jsx(pz,{})}),r.jsx(Dn,{path:"users",element:r.jsx(xz,{})}),r.jsx(Dn,{path:"actual-boa",element:r.jsx(Cz,{})}),r.jsx(Dn,{path:"budget-boa",element:r.jsx(yz,{})})]})]})})]})})})}const Sz=Oh({palette:{mode:"light",primary:{main:"#1976d2"},secondary:{main:"#dc004e"},background:{default:"#f4f7fc",paper:"#ffffff"}},components:{MuiDataGrid:{styleOverrides:{root:{border:"1px solid #e0e0e0",borderRadius:"8px",backgroundColor:"#ffffff","& .MuiDataGrid-columnHeaders":{backgroundColor:"#f8f9fa",color:"#1a237e",fontWeight:"bold",borderBottom:"2px solid #1976d2"},"& .MuiDataGrid-cell":{borderColor:"#f0f0f0"},"& .MuiDataGrid-toolbarContainer":{padding:"12px",borderBottom:"1px solid #e0e0e0",backgroundColor:"#ffffff","& .MuiButton-root":{fontWeight:700,textTransform:"uppercase",fontSize:"0.75rem",color:"#1976d2",marginRight:"8px","& .MuiSvgIcon-root":{fontSize:"1.2rem"}}},"& .MuiDataGrid-footerContainer":{borderTop:"1px solid #e0e0e0"}}}},MuiPaper:{styleOverrides:{root:{borderRadius:"8px",boxShadow:"0 2px 10px rgba(0,0,0,0.05)"}}}}});FS.createRoot(document.getElementById("root")).render(r.jsx(Lh.StrictMode,{children:r.jsxs(kC,{theme:Sz,children:[r.jsx(HC,{}),r.jsx(wz,{})]})}));
